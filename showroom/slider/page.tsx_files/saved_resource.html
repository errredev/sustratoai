<!DOCTYPE html>
<!-- saved from url=(0071)https://kzmni7eqwjfyj5ji3x49.lite.vusercontent.net/login?redirectTo=%2F -->
<html lang="es" class="v_f_UGxheWZhaXIgRGlzcGxheQ v_f_TW9udHNlcnJhdA v_f_SW50ZXI v_f_T3BlbiBTYW5z v_f_Um9ib3RvIE1vbm8 v_f_UXVpY2tzYW5k v_f_SmV0QnJhaW5zIE1vbm8 v_f_VWJ1bnR1 v_f_U3BhY2UgR3JvdGVzaw v_f_V29yayBTYW5z v_f_TWFyaGV5" style="--font-family-headings: var(--font-ubuntu); --font-family-base: var(--font-work-sans); --font-weight-headings: 700; --font-weight-base: 400; --letter-spacing-headings: -0.01em; --letter-spacing-body: normal; --line-height: 1.4;"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="./5e5c87ba0fcdd97e.css" data-precedence="next"><link rel="stylesheet" href="./8c27ffaabc6186da.css" data-precedence="next"><link rel="stylesheet" href="./56e3b90c5978c1c5.css" data-precedence="next"><link rel="stylesheet" href="./4fd679be2c679586.css" data-precedence="next"><link rel="preload" as="script" fetchpriority="low" href="./webpack-99e3010750654fc1.js"><script src="./949698fa-b2c149c258c48e67.js" async=""></script><script src="./735-a30c2f0b946b287c.js" async=""></script><script src="./main-app-bfab857dba664760.js" async=""></script><script src="./tailwind.js" async="" fetchpriority="high"></script><meta name="next-size-adjust" content=""><title>v0</title><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="./polyfills-42372ed130431b0a.js" nomodule=""></script><style>@tailwind base;@tailwind components;@tailwind utilities;*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.15 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}html,body,body>div:first-child,div#__next,div#__next>div{height:100%;margin:0;padding:0}:root{--color-blue-primary-pure:#3d7df6;--color-blue-primary-pure-dark:#2e5eb9;--color-blue-primary-text:#1f4487;--color-blue-primary-text-dark:#132951;--color-blue-primary-bg:#dde5fa;--color-blue-primary-bg-dark:#a6acbc;--color-accent-pure:#8a4ef6;--color-accent-pure-dark:#683bb9;--color-accent-text:#432578;--color-accent-text-dark:#281648;--color-accent-bg:#e8d9f9;--color-accent-bg-dark:#aea3bb;--color-success-pure:#3dff94;--color-success-pure-dark:#2dbf6f;--color-success-text:#45574d;--color-success-text-dark:#33413a;--color-success-bg:#cffae3;--color-success-bg-dark:#9bbdaa;--color-warning-pure:#ffee3d;--color-warning-pure-dark:#bfb32f;--color-warning-text:#6e671a;--color-warning-text-dark:#524d13;--color-warning-bg:#faf7df;--color-warning-bg-dark:#bbb9a7;--color-danger-pure:#ed3a45;--color-danger-pure-dark:#b22b34;--color-danger-text:#6b1a1f;--color-danger-text-dark:#501317;--color-danger-bg:#f7dddf;--color-danger-bg-dark:#b9a6a7;--color-neutral-50:#f9fafb;--color-neutral-100:#f3f4f6;--color-neutral-200:#e5e7eb;--color-neutral-300:#d1d5db;--color-neutral-400:#9ca3af;--color-neutral-500:#6b7280;--color-neutral-600:#4b5563;--color-neutral-700:#374151;--color-neutral-800:#1f2937;--color-neutral-900:#111827;--ui-background:var(--color-neutral-50);--ui-foreground:var(--color-neutral-900);--ui-card-bg:white;--ui-card-fg:var(--color-neutral-900);--ui-border-color:var(--color-neutral-200);--ui-primary:var(--theme-primary-pure);--ui-primary-hover:var(--theme-primary-pure-dark);--ui-primary-fg:white;--ui-secondary:var(--theme-secondary-pure);--ui-secondary-hover:var(--theme-secondary-pure-dark);--ui-secondary-fg:white;--ui-accent:var(--color-accent-pure);--ui-accent-hover:var(--color-accent-pure-dark);--ui-accent-bg:var(--color-accent-bg);--ui-success:var(--color-success-pure);--ui-success-hover:var(--color-success-pure-dark);--ui-success-bg:var(--color-success-bg);--ui-warning:var(--color-warning-pure);--ui-warning-hover:var(--color-warning-pure-dark);--ui-warning-bg:var(--color-warning-bg);--ui-danger:var(--color-danger-pure);--ui-danger-hover:var(--color-danger-pure-dark);--ui-danger-bg:var(--color-danger-bg);--background:0 0% 100%;--foreground:222.2 84% 4.9%;--card:0 0% 100%;--card-foreground:222.2 84% 4.9%;--popover:0 0% 100%;--popover-foreground:222.2 84% 4.9%;--primary:221.2 83.2% 53.3%;--primary-foreground:210 40% 98%;--secondary:210 40% 96.1%;--secondary-foreground:222.2 47.4% 11.2%;--muted:210 40% 96.1%;--muted-foreground:215.4 16.3% 46.9%;--accent:262.1 83.3% 57.8%;--accent-foreground:210 40% 98%;--destructive:0 84.2% 60.2%;--destructive-foreground:210 40% 98%;--border:214.3 31.8% 91.4%;--input:214.3 31.8% 91.4%;--ring:222.2 84% 4.9%;--radius:.5rem;--success:142 76% 36%;--success-foreground:210 40% 98%;--warning:38 92% 50%;--warning-foreground:210 40% 98%;--info:200 98% 39%;--info-foreground:210 40% 98%;--ui-icon-primary:221.2 83.2% 53.3%;--ui-icon-secondary:199 89% 48%;--ui-icon-accent:262.1 83.3% 57.8%;--ui-text-primary:222.2 84% 4.9%;--ui-text-secondary:215.4 16.3% 46.9%;--ui-surface-primary:0 0% 100%;--ui-surface-secondary:210 40% 96.1%}.pointer-events-none{pointer-events:none}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{inset:0px}.left-0{left:0px}.top-0{top:0px}.-left-\[200px\]{left:-200px}.right-0{right:0px}.top-\[15\%\]{top:15%}.z-50{z-index:50}.z-\[100\]{z-index:100}.-z-10{z-index:-10}.z-10{z-index:10}.mt-3{margin-top:0.75rem}.mb-2{margin-bottom:0.5rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mr-2{margin-right:0.5rem}.mt-2{margin-top:0.5rem}.mt-6{margin-top:1.5rem}.mt-8{margin-top:2rem}.inline-block{display:inline-block}.flex{display:flex}.inline-flex{display:inline-flex}.grid{display:grid}.hidden{display:none}.h-full{height:100%}.h-screen{height:100vh}.h-1\.5{height:0.375rem}.h-10{height:2.5rem}.h-\[300px\]{height:300px}.h-\[600px\]{height:600px}.max-h-screen{max-height:100vh}.min-h-screen{min-height:100vh}.w-screen{width:100vw}.w-full{width:100%}.w-\[400px\]{width:400px}.max-w-4xl{max-width:56rem}.grid-cols-1{grid-template-columns:repeat(1, minmax(0, 1fr))}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.space-y-2 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.5rem * var(--tw-space-y-reverse))}.space-y-4 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.overflow-hidden{overflow:hidden}.whitespace-nowrap{white-space:nowrap}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:var(--radius)}.rounded-md{border-radius:calc(var(--radius) - 2px)}.rounded-l-lg{border-top-left-radius:var(--radius);border-bottom-left-radius:var(--radius)}.rounded-t-lg{border-top-left-radius:var(--radius);border-top-right-radius:var(--radius)}.border{border-width:1px}.border-input{border-color:hsl(var(--input))}.bg-background{background-color:hsl(var(--background))}.bg-background\/80{background-color:hsl(var(--background) / 0.8)}.bg-white\/30{background-color:rgb(255 255 255 / 0.3)}.bg-gradient-to-b{background-image:linear-gradient(to bottom, var(--tw-gradient-stops))}.bg-gradient-to-br{background-image:linear-gradient(to bottom right, var(--tw-gradient-stops))}.from-primary\/5{--tw-gradient-from:hsl(var(--primary) / 0.05) var(--tw-gradient-from-position);--tw-gradient-to:hsl(var(--primary) / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.to-secondary\/5{--tw-gradient-to:hsl(var(--secondary) / 0.05) var(--tw-gradient-to-position)}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.p-4{padding:1rem}.p-0{padding:0px}.p-8{padding:2rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.pt-2{padding-top:0.5rem}.text-center{text-align:center}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-medium{font-weight:500}.font-bold{font-weight:700}.font-normal{font-weight:400}.italic{font-style:italic}.leading-none{line-height:1}.tracking-tight{letter-spacing:-0.025em}.text-foreground{color:hsl(var(--foreground))}.text-neutral-500{--tw-text-opacity:1;color:rgb(115 115 115 / var(--tw-text-opacity, 1))}.text-primary{color:hsl(var(--primary))}.text-transparent{color:transparent}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.opacity-20{opacity:0.2}.opacity-30{opacity:0.3}.shadow-md{--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.ring-offset-background{--tw-ring-offset-color:hsl(var(--background))}.backdrop-blur-sm{--tw-backdrop-blur:blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.duration-300{transition-duration:300ms}.ease-in-out{transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}@keyframes enter{from{opacity:var(--tw-enter-opacity, 1);transform:translate3d(var(--tw-enter-translate-x, 0), var(--tw-enter-translate-y, 0), 0) scale3d(var(--tw-enter-scale, 1), var(--tw-enter-scale, 1), var(--tw-enter-scale, 1)) rotate(var(--tw-enter-rotate, 0))}}@keyframes exit{to{opacity:var(--tw-exit-opacity, 1);transform:translate3d(var(--tw-exit-translate-x, 0), var(--tw-exit-translate-y, 0), 0) scale3d(var(--tw-exit-scale, 1), var(--tw-exit-scale, 1), var(--tw-exit-scale, 1)) rotate(var(--tw-exit-rotate, 0))}}.duration-300{animation-duration:300ms}.ease-in-out{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.file\:border-0::file-selector-button{border-width:0px}.file\:bg-transparent::file-selector-button{background-color:transparent}.file\:text-sm::file-selector-button{font-size:0.875rem;line-height:1.25rem}.file\:font-medium::file-selector-button{font-weight:500}.file\:text-foreground::file-selector-button{color:hsl(var(--foreground))}.placeholder\:text-muted-foreground::placeholder{color:hsl(var(--muted-foreground))}.hover\:underline:hover{-webkit-text-decoration-line:underline;text-decoration-line:underline}.hover\:shadow-lg:hover{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.focus-visible\:outline-none:focus-visible{outline:2px solid transparent;outline-offset:2px}.focus-visible\:ring-2:focus-visible{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus-visible\:ring-ring:focus-visible{--tw-ring-color:hsl(var(--ring))}.focus-visible\:ring-offset-2:focus-visible{--tw-ring-offset-width:2px}.disabled\:pointer-events-none:disabled{pointer-events:none}.disabled\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\:opacity-50:disabled{opacity:0.5}.peer:disabled ~ .peer-disabled\:cursor-not-allowed{cursor:not-allowed}.peer:disabled ~ .peer-disabled\:opacity-70{opacity:0.7}.dark\:bg-gray-800\/30:is(.dark *){background-color:rgb(31 41 55 / 0.3)}.dark\:text-neutral-400:is(.dark *){--tw-text-opacity:1;color:rgb(163 163 163 / var(--tw-text-opacity, 1))}@media (min-width: 640px){.sm\:bottom-0{bottom:0px}.sm\:right-0{right:0px}.sm\:top-auto{top:auto}.sm\:flex-col{flex-direction:column}}@media (min-width: 768px){.md\:flex{display:flex}.md\:hidden{display:none}.md\:max-w-\[420px\]{max-width:420px}.md\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.md\:flex-col{flex-direction:column}.md\:justify-center{justify-content:center}}</style><link rel="preload" href="https://kzmni7eqwjfyj5ji3x49.lite.vusercontent.net/_next/static/media/66f30814ff6d7cdf.p.woff2" as="font" crossorigin="" type="font/woff2"><link rel="preload" href="https://kzmni7eqwjfyj5ji3x49.lite.vusercontent.net/_next/static/media/6d93bde91c0c2823-s.p.woff2" as="font" crossorigin="" type="font/woff2"><link rel="preload" href="https://kzmni7eqwjfyj5ji3x49.lite.vusercontent.net/_next/static/media/e11418ac562b8ac1-s.p.woff2" as="font" crossorigin="" type="font/woff2"><link href="./css2" rel="stylesheet"><style>.f_UGxheWZhaXIgRGlzcGxheQ{
            font-family: 'Playfair Display';
          }.v_f_UGxheWZhaXIgRGlzcGxheQ{--font-playfair:'Playfair Display';}</style><link href="./css2(1)" rel="stylesheet"><style>.f_TW9udHNlcnJhdA{
            font-family: 'Montserrat';
          }.v_f_TW9udHNlcnJhdA{--font-montserrat:'Montserrat';}</style><link href="./css2(2)" rel="stylesheet"><style>.f_SW50ZXI{
            font-family: 'Inter';
          }.v_f_SW50ZXI{--font-inter:'Inter';}</style><link href="./css2(3)" rel="stylesheet"><style>.f_T3BlbiBTYW5z{
            font-family: 'Open Sans';
          }.v_f_T3BlbiBTYW5z{--font-open-sans:'Open Sans';}</style><link href="./css2(4)" rel="stylesheet"><style>.f_Um9ib3RvIE1vbm8{
            font-family: 'Roboto Mono';
          }.v_f_Um9ib3RvIE1vbm8{--font-roboto-mono:'Roboto Mono';}</style><link href="./css2(5)" rel="stylesheet"><style>.f_UXVpY2tzYW5k{
            font-family: 'Quicksand';
          }.v_f_UXVpY2tzYW5k{--font-quicksand:'Quicksand';}</style><link href="./css2(6)" rel="stylesheet"><style>.f_SmV0QnJhaW5zIE1vbm8{
            font-family: 'JetBrains Mono';
          }.v_f_SmV0QnJhaW5zIE1vbm8{--font-jetbrains-mono:'JetBrains Mono';}</style><link href="./css2(7)" rel="stylesheet"><style>.f_VWJ1bnR1{
            font-family: 'Ubuntu';
          }.v_f_VWJ1bnR1{--font-ubuntu:'Ubuntu';}</style><link href="./css2(8)" rel="stylesheet"><style>.f_U3BhY2UgR3JvdGVzaw{
            font-family: 'Space Grotesk';
          }.v_f_U3BhY2UgR3JvdGVzaw{--font-space-grotesk:'Space Grotesk';}</style><link href="./css2(9)" rel="stylesheet"><style>.f_V29yayBTYW5z{
            font-family: 'Work Sans';
          }.v_f_V29yayBTYW5z{--font-work-sans:'Work Sans';}</style><link href="./css2(10)" rel="stylesheet"><style>.f_TWFyaGV5{
            font-family: 'Marhey';
          }.v_f_TWFyaGV5{--font-marhey:'Marhey';}</style><style type="text/tailwindcss">@tailwind base;@tailwind components;@tailwind utilities;@layer base{html,body,body>div:first-child,div#__next,div#__next>div{height:100%;margin:0;padding:0}:root{--color-blue-primary-pure:#3d7df6;--color-blue-primary-pure-dark:#2e5eb9;--color-blue-primary-text:#1f4487;--color-blue-primary-text-dark:#132951;--color-blue-primary-bg:#dde5fa;--color-blue-primary-bg-dark:#a6acbc;--color-accent-pure:#8a4ef6;--color-accent-pure-dark:#683bb9;--color-accent-text:#432578;--color-accent-text-dark:#281648;--color-accent-bg:#e8d9f9;--color-accent-bg-dark:#aea3bb;--color-success-pure:#3dff94;--color-success-pure-dark:#2dbf6f;--color-success-text:#45574d;--color-success-text-dark:#33413a;--color-success-bg:#cffae3;--color-success-bg-dark:#9bbdaa;--color-warning-pure:#ffee3d;--color-warning-pure-dark:#bfb32f;--color-warning-text:#6e671a;--color-warning-text-dark:#524d13;--color-warning-bg:#faf7df;--color-warning-bg-dark:#bbb9a7;--color-danger-pure:#ed3a45;--color-danger-pure-dark:#b22b34;--color-danger-text:#6b1a1f;--color-danger-text-dark:#501317;--color-danger-bg:#f7dddf;--color-danger-bg-dark:#b9a6a7;--color-neutral-50:#f9fafb;--color-neutral-100:#f3f4f6;--color-neutral-200:#e5e7eb;--color-neutral-300:#d1d5db;--color-neutral-400:#9ca3af;--color-neutral-500:#6b7280;--color-neutral-600:#4b5563;--color-neutral-700:#374151;--color-neutral-800:#1f2937;--color-neutral-900:#111827;--ui-background:var(--color-neutral-50);--ui-foreground:var(--color-neutral-900);--ui-card-bg:white;--ui-card-fg:var(--color-neutral-900);--ui-border-color:var(--color-neutral-200);--ui-primary:var(--theme-primary-pure);--ui-primary-hover:var(--theme-primary-pure-dark);--ui-primary-fg:white;--ui-secondary:var(--theme-secondary-pure);--ui-secondary-hover:var(--theme-secondary-pure-dark);--ui-secondary-fg:white;--ui-accent:var(--color-accent-pure);--ui-accent-hover:var(--color-accent-pure-dark);--ui-accent-bg:var(--color-accent-bg);--ui-success:var(--color-success-pure);--ui-success-hover:var(--color-success-pure-dark);--ui-success-bg:var(--color-success-bg);--ui-warning:var(--color-warning-pure);--ui-warning-hover:var(--color-warning-pure-dark);--ui-warning-bg:var(--color-warning-bg);--ui-danger:var(--color-danger-pure);--ui-danger-hover:var(--color-danger-pure-dark);--ui-danger-bg:var(--color-danger-bg)}.dark{--ui-background:var(--color-neutral-900);--ui-foreground:var(--color-neutral-50);--ui-card-bg:var(--color-neutral-800);--ui-card-fg:var(--color-neutral-50);--ui-border-color:var(--color-neutral-700)}:root{--background:0 0% 100%;--foreground:222.2 84% 4.9%;--card:0 0% 100%;--card-foreground:222.2 84% 4.9%;--popover:0 0% 100%;--popover-foreground:222.2 84% 4.9%;--primary:221.2 83.2% 53.3%;--primary-foreground:210 40% 98%;--secondary:210 40% 96.1%;--secondary-foreground:222.2 47.4% 11.2%;--muted:210 40% 96.1%;--muted-foreground:215.4 16.3% 46.9%;--accent:262.1 83.3% 57.8%;--accent-foreground:210 40% 98%;--destructive:0 84.2% 60.2%;--destructive-foreground:210 40% 98%;--border:214.3 31.8% 91.4%;--input:214.3 31.8% 91.4%;--ring:222.2 84% 4.9%;--radius:.5rem;--success:142 76% 36%;--success-foreground:210 40% 98%;--warning:38 92% 50%;--warning-foreground:210 40% 98%;--info:200 98% 39%;--info-foreground:210 40% 98%;--ui-icon-primary:221.2 83.2% 53.3%;--ui-icon-secondary:199 89% 48%;--ui-icon-accent:262.1 83.3% 57.8%;--ui-text-primary:222.2 84% 4.9%;--ui-text-secondary:215.4 16.3% 46.9%;--ui-surface-primary:0 0% 100%;--ui-surface-secondary:210 40% 96.1%}.dark{--background:222.2 84% 4.9%;--foreground:210 40% 98%;--card:222.2 84% 4.9%;--card-foreground:210 40% 98%;--popover:222.2 84% 4.9%;--popover-foreground:210 40% 98%;--primary:217.2 91.2% 59.8%;--primary-foreground:222.2 47.4% 11.2%;--secondary:217.2 32.6% 17.5%;--secondary-foreground:210 40% 98%;--accent:262.1 83.3% 57.8%;--accent-foreground:0 0% 98%;--muted:217.2 32.6% 17.5%;--muted-foreground:215 20.2% 65.1%;--destructive:0 62.8% 30.6%;--destructive-foreground:210 40% 98%;--border:217.2 32.6% 17.5%;--input:217.2 32.6% 17.5%;--ring:224.3 76.3% 48%;--success:142 70% 29%;--success-foreground:210 40% 98%;--warning:38 92% 40%;--warning-foreground:210 40% 98%;--info:200 90% 30%;--info-foreground:210 40% 98%;--ui-icon-primary:217.2 91.2% 59.8%;--ui-icon-secondary:199 89% 48%;--ui-icon-accent:262.1 83.3% 57.8%;--ui-text-primary:210 40% 98%;--ui-text-secondary:215 20.2% 65.1%;--ui-surface-primary:222.2 84% 4.9%;--ui-surface-secondary:217.2 32.6% 17.5%;--heading-color:217.2 91.2% 70%;--primary-rgb:96,165,250}.theme-green{--background:0 0% 100%;--foreground:240 10% 3.9%;--card:0 0% 100%;--card-foreground:240 10% 3.9%;--popover:0 0% 100%;--popover-foreground:240 10% 3.9%;--primary:142.1 76.2% 36.3%;--primary-foreground:355.7 100% 97.3%;--secondary:240 4.8% 95.9%;--secondary-foreground:240 5.9% 10%;--accent:262.1 83.3% 57.8%;--accent-foreground:0 0% 98%;--muted:240 4.8% 95.9%;--muted-foreground:240 3.8% 46.1%;--destructive:0 84.2% 60.2%;--destructive-foreground:0 0% 98%;--border:240 5.9% 90%;--input:240 5.9% 90%;--ring:142.1 76.2% 36.3%;--radius:.5rem;--ui-icon-primary:142.1 76.2% 36.3%;--ui-icon-secondary:168 76% 42%;--ui-icon-accent:262.1 83.3% 57.8%;--ui-text-primary:240 10% 3.9%;--ui-text-secondary:240 3.8% 46.1%;--ui-surface-primary:0 0% 100%;--ui-surface-secondary:240 4.8% 95.9%;--heading-color:142.1 76.2% 25%;--primary-rgb:34,197,94}.theme-orange{--background:0 0% 100%;--foreground:20 14.3% 4.1%;--card:0 0% 100%;--card-foreground:20 14.3% 4.1%;--popover:0 0% 100%;--popover-foreground:20 14.3% 4.1%;--primary:24.6 95% 53.1%;--primary-foreground:60 9.1% 97.8%;--secondary:60 4.8% 95.9%;--secondary-foreground:24 9.8% 10%;--accent:262.1 83.3% 57.8%;--accent-foreground:0 0% 98%;--muted:60 4.8% 95.9%;--muted-foreground:25 5.3% 44.7%;--destructive:0 84.2% 60.2%;--destructive-foreground:60 9.1% 97.8%;--border:20 5.9% 90%;--input:20 5.9% 90%;--ring:24.6 95% 53.1%;--radius:.5rem;--ui-icon-primary:24.6 95% 53.1%;--ui-icon-secondary:32 95% 44%;--ui-icon-accent:262.1 83.3% 57.8%;--ui-text-primary:20 14.3% 4.1%;--ui-text-secondary:25 5.3% 44.7%;--ui-surface-primary:0 0% 100%;--ui-surface-secondary:60 4.8% 95.9%;--heading-color:24.6 95% 35%;--primary-rgb:249,115,22}.dark .theme-green{--background:20 14.3% 4.1%;--foreground:0 0% 95%;--card:24 9.8% 10%;--card-foreground:0 0% 95%;--popover:0 0% 9%;--popover-foreground:0 0% 95%;--primary:142.1 70.6% 45.3%;--primary-foreground:144.9 80.4% 10%;--secondary:240 3.7% 15.9%;--secondary-foreground:0 0% 98%;--accent:262.1 83.3% 57.8%;--accent-foreground:0 0% 98%;--muted:0 0% 15%;--muted-foreground:240 5% 64.9%;--destructive:0 62.8% 30.6%;--destructive-foreground:0 85.7% 97.3%;--border:240 3.7% 15.9%;--input:240 3.7% 15.9%;--ring:142.4 71.8% 29.2%;--ui-icon-primary:142.1 70.6% 45.3%;--ui-icon-secondary:168 70% 42%;--ui-icon-accent:262.1 83.3% 57.8%;--ui-text-primary:0 0% 95%;--ui-text-secondary:240 5% 64.9%;--ui-surface-primary:24 9.8% 10%;--ui-surface-secondary:240 3.7% 15.9%;--heading-color:142.1 70.6% 55%;--primary-rgb:74,222,128}.dark .theme-orange{--background:20 14.3% 4.1%;--foreground:60 9.1% 97.8%;--card:20 14.3% 4.1%;--card-foreground:60 9.1% 97.8%;--popover:20 14.3% 4.1%;--popover-foreground:60 9.1% 97.8%;--primary:20.5 90.2% 48.2%;--primary-foreground:60 9.1% 97.8%;--secondary:12 6.5% 15.1%;--secondary-foreground:60 9.1% 97.8%;--accent:262.1 83.3% 57.8%;--accent-foreground:0 0% 98%;--muted:12 6.5% 15.1%;--muted-foreground:24 5.4% 63.9%;--destructive:0 72.2% 50.6%;--destructive-foreground:60 9.1% 97.8%;--border:12 6.5% 15.1%;--input:12 6.5% 15.1%;--ring:20.5 90.2% 48.2%;--ui-icon-primary:20.5 90.2% 48.2%;--ui-icon-secondary:32 90% 44%;--ui-icon-accent:262.1 83.3% 57.8%;--ui-text-primary:60 9.1% 97.8%;--ui-text-secondary:24 5.4% 63.9%;--ui-surface-primary:20 14.3% 4.1%;--ui-surface-secondary:12 6.5% 15.1%;--heading-color:20.5 90.2% 60%;--primary-rgb:251,146,60}}</style><style type="text/css">[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}</style></head><body class="h-full bg-background text-foreground antialiased" style="font-family: var(--font-work-sans); font-weight: 400; letter-spacing: normal; line-height: 1.4;"><div hidden=""><!--$--><!--/$--></div><script src="./lite-runtime.js"></script><!--$--><style style="">  :root {
    --font-sans: __variable_3a0388;
    --font-mono: __variable_c1e5c9;
  }
  </style><script style="">window.__v0_ts=1747927028024</script><!--$--><!--/$--><!--/$--><script src="./webpack-99e3010750654fc1.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"3:\"$Sreact.fragment\"\n4:I[85860,[],\"\"]\n5:I[81506,[],\"\"]\n7:I[91044,[],\"OutletBoundary\"]\na:I[82908,[],\"AsyncMetadataOutlet\"]\nc:I[91044,[],\"ViewportBoundary\"]\ne:I[91044,[],\"MetadataBoundary\"]\n10:I[53276,[],\"\"]\n11:\"$Sreact.suspense\"\n12:I[82908,[],\"AsyncMetadata\"]\n:HL[\"/_next/static/media/66f30814ff6d7cdf.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/6d93bde91c0c2823-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/e11418ac562b8ac1-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/5e5c87ba0fcdd97e.css?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"style\"]\n:HL[\"/_next/static/css/8c27ffaabc6186da.css?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"style\"]\n:HL[\"/_next/static/css/56e3b90c5978c1c5.css?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"style\"]\n:HL[\"/_next/static/css/4fd679be2c679586.css?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"style\"]\n:HX[\"/assets/tailwind.js?v=6\",{\"fetchPriority\":\"high\"}]\n1:T9df,"])</script><script>self.__next_f.push([1,"?__v0_token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..Vg5ZUNz5Zx2l4vAI.bqnaAyTc-Fun_fn5WvshP4cKD5iPaDeCU0YBydd7soGV5bs61fczw-1CzKTmzDRlBnUudjSc0r45Kj7DxtQc_cgz1t-HVf1ZPtmXBSAWBS40wf8WL7I7ETi_lfvYQHOuWUaZaLMEy5VXcXNgxVKWev1fTZ46T1EhlAx5d7M52MJMnyD7t8OCC67XGKoAAoIvhC3Yi5Z57t_d7YtQbQSvLGy9OG9y7DztXYOXXU3JLQFQCyRZYnMTwkmdKXnxHURJd0J58m2vdQY933zvsRmoGHD_pOpOcpdIpgVoQY0SjCqeX9kQGrr83VEOsdh10QfSoS34WZ-pzE9y7P_p1w0so3mD-2135hEhTZNEF4aHIN45MsLcvbw5ULg2bex3WwF6gDBiS96GDYHa-rgx6vap26zGF59lZc0iuG8Tkt9e5XTHcRcajas-UTvmx15oAKwNAUKzCGStZ_n1aELcO_LN5U3d6rZyc1MIVCa7x1Xm6qTbCcAq6DO0jND0mcoiYSguVwf_hBEnjK2xxLWhEfe30W0qgpSw3xUzlr_PAmNg-BDnH1-bCEDOaHBHE05TJRWpohpuOhREkKn_tTiEQl6AEMHL2k4DvufPDtjU45VxtQIerH1gtYklzT-Toy58ggqqEB8uVoQHkDk6MFyfwZfcf33ckBCSRih1B20jw1mB41niqYbBZ02i_cFJjbyIV7RcKlAShOmLEjS_Btz5kg.9G1NO51Z8tDswgKVh28suw\u0026token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..Vg5ZUNz5Zx2l4vAI.bqnaAyTc-Fun_fn5WvshP4cKD5iPaDeCU0YBydd7soGV5bs61fczw-1CzKTmzDRlBnUudjSc0r45Kj7DxtQc_cgz1t-HVf1ZPtmXBSAWBS40wf8WL7I7ETi_lfvYQHOuWUaZaLMEy5VXcXNgxVKWev1fTZ46T1EhlAx5d7M52MJMnyD7t8OCC67XGKoAAoIvhC3Yi5Z57t_d7YtQbQSvLGy9OG9y7DztXYOXXU3JLQFQCyRZYnMTwkmdKXnxHURJd0J58m2vdQY933zvsRmoGHD_pOpOcpdIpgVoQY0SjCqeX9kQGrr83VEOsdh10QfSoS34WZ-pzE9y7P_p1w0so3mD-2135hEhTZNEF4aHIN45MsLcvbw5ULg2bex3WwF6gDBiS96GDYHa-rgx6vap26zGF59lZc0iuG8Tkt9e5XTHcRcajas-UTvmx15oAKwNAUKzCGStZ_n1aELcO_LN5U3d6rZyc1MIVCa7x1Xm6qTbCcAq6DO0jND0mcoiYSguVwf_hBEnjK2xxLWhEfe30W0qgpSw3xUzlr_PAmNg-BDnH1-bCEDOaHBHE05TJRWpohpuOhREkKn_tTiEQl6AEMHL2k4DvufPDtjU45VxtQIerH1gtYklzT-Toy58ggqqEB8uVoQHkDk6MFyfwZfcf33ckBCSRih1B20jw1mB41niqYbBZ02i_cFJjbyIV7RcKlAShOmLEjS_Btz5kg.9G1NO51Z8tDswgKVh28suw\u0026path=%2F%3F__v0_token%3DeyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..Vg5ZUNz5Zx2l4vAI.bqnaAyTc-Fun_fn5WvshP4cKD5iPaDeCU0YBydd7soGV5bs61fczw-1CzKTmzDRlBnUudjSc0r45Kj7DxtQc_cgz1t-HVf1ZPtmXBSAWBS40wf8WL7I7ETi_lfvYQHOuWUaZaLMEy5VXcXNgxVKWev1fTZ46T1EhlAx5d7M52MJMnyD7t8OCC67XGKoAAoIvhC3Yi5Z57t_d7YtQbQSvLGy9OG9y7DztXYOXXU3JLQFQCyRZYnMTwkmdKXnxHURJd0J58m2vdQY933zvsRmoGHD_pOpOcpdIpgVoQY0SjCqeX9kQGrr83VEOsdh10QfSoS34WZ-pzE9y7P_p1w0so3mD-2135hEhTZNEF4aHIN45MsLcvbw5ULg2bex3WwF6gDBiS96GDYHa-rgx6vap26zGF59lZc0iuG8Tkt9e5XTHcRcajas-UTvmx15oAKwNAUKzCGStZ_n1aELcO_LN5U3d6rZyc1MIVCa7x1Xm6qTbCcAq6DO0jND0mcoiYSguVwf_hBEnjK2xxLWhEfe30W0qgpSw3xUzlr_PAmNg-BDnH1-bCEDOaHBHE05TJRWpohpuOhREkKn_tTiEQl6AEMHL2k4DvufPDtjU45VxtQIerH1gtYklzT-Toy58ggqqEB8uVoQHkDk6MFyfwZfcf33ckBCSRih1B20jw1mB41niqYbBZ02i_cFJjbyIV7RcKlAShOmLEjS_Btz5kg.9G1NO51Z8tDswgKVh28suw\u0026originalHost=kzmni7eqwjfyj5ji3x49.lite.vusercontent.net\u0026bid=b_cNulWFHcrXi"])</script><script>self.__next_f.push([1,"2:T9f7,"])</script><script>self.__next_f.push([1,"__PAGE__?{\"__v0_token\":\"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..Vg5ZUNz5Zx2l4vAI.bqnaAyTc-Fun_fn5WvshP4cKD5iPaDeCU0YBydd7soGV5bs61fczw-1CzKTmzDRlBnUudjSc0r45Kj7DxtQc_cgz1t-HVf1ZPtmXBSAWBS40wf8WL7I7ETi_lfvYQHOuWUaZaLMEy5VXcXNgxVKWev1fTZ46T1EhlAx5d7M52MJMnyD7t8OCC67XGKoAAoIvhC3Yi5Z57t_d7YtQbQSvLGy9OG9y7DztXYOXXU3JLQFQCyRZYnMTwkmdKXnxHURJd0J58m2vdQY933zvsRmoGHD_pOpOcpdIpgVoQY0SjCqeX9kQGrr83VEOsdh10QfSoS34WZ-pzE9y7P_p1w0so3mD-2135hEhTZNEF4aHIN45MsLcvbw5ULg2bex3WwF6gDBiS96GDYHa-rgx6vap26zGF59lZc0iuG8Tkt9e5XTHcRcajas-UTvmx15oAKwNAUKzCGStZ_n1aELcO_LN5U3d6rZyc1MIVCa7x1Xm6qTbCcAq6DO0jND0mcoiYSguVwf_hBEnjK2xxLWhEfe30W0qgpSw3xUzlr_PAmNg-BDnH1-bCEDOaHBHE05TJRWpohpuOhREkKn_tTiEQl6AEMHL2k4DvufPDtjU45VxtQIerH1gtYklzT-Toy58ggqqEB8uVoQHkDk6MFyfwZfcf33ckBCSRih1B20jw1mB41niqYbBZ02i_cFJjbyIV7RcKlAShOmLEjS_Btz5kg.9G1NO51Z8tDswgKVh28suw\",\"token\":\"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..Vg5ZUNz5Zx2l4vAI.bqnaAyTc-Fun_fn5WvshP4cKD5iPaDeCU0YBydd7soGV5bs61fczw-1CzKTmzDRlBnUudjSc0r45Kj7DxtQc_cgz1t-HVf1ZPtmXBSAWBS40wf8WL7I7ETi_lfvYQHOuWUaZaLMEy5VXcXNgxVKWev1fTZ46T1EhlAx5d7M52MJMnyD7t8OCC67XGKoAAoIvhC3Yi5Z57t_d7YtQbQSvLGy9OG9y7DztXYOXXU3JLQFQCyRZYnMTwkmdKXnxHURJd0J58m2vdQY933zvsRmoGHD_pOpOcpdIpgVoQY0SjCqeX9kQGrr83VEOsdh10QfSoS34WZ-pzE9y7P_p1w0so3mD-2135hEhTZNEF4aHIN45MsLcvbw5ULg2bex3WwF6gDBiS96GDYHa-rgx6vap26zGF59lZc0iuG8Tkt9e5XTHcRcajas-UTvmx15oAKwNAUKzCGStZ_n1aELcO_LN5U3d6rZyc1MIVCa7x1Xm6qTbCcAq6DO0jND0mcoiYSguVwf_hBEnjK2xxLWhEfe30W0qgpSw3xUzlr_PAmNg-BDnH1-bCEDOaHBHE05TJRWpohpuOhREkKn_tTiEQl6AEMHL2k4DvufPDtjU45VxtQIerH1gtYklzT-Toy58ggqqEB8uVoQHkDk6MFyfwZfcf33ckBCSRih1B20jw1mB41niqYbBZ02i_cFJjbyIV7RcKlAShOmLEjS_Btz5kg.9G1NO51Z8tDswgKVh28suw\",\"path\":\"/?__v0_token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..Vg5ZUNz5Zx2l4vAI.bqnaAyTc-Fun_fn5WvshP4cKD5iPaDeCU0YBydd7soGV5bs61fczw-1CzKTmzDRlBnUudjSc0r45Kj7DxtQc_cgz1t-HVf1ZPtmXBSAWBS40wf8WL7I7ETi_lfvYQHOuWUaZaLMEy5VXcXNgxVKWev1fTZ46T1EhlAx5d7M52MJMnyD7t8OCC67XGKoAAoIvhC3Yi5Z57t_d7YtQbQSvLGy9OG9y7DztXYOXXU3JLQFQCyRZYnMTwkmdKXnxHURJd0J58m2vdQY933zvsRmoGHD_pOpOcpdIpgVoQY0SjCqeX9kQGrr83VEOsdh10QfSoS34WZ-pzE9y7P_p1w0so3mD-2135hEhTZNEF4aHIN45MsLcvbw5ULg2bex3WwF6gDBiS96GDYHa-rgx6vap26zGF59lZc0iuG8Tkt9e5XTHcRcajas-UTvmx15oAKwNAUKzCGStZ_n1aELcO_LN5U3d6rZyc1MIVCa7x1Xm6qTbCcAq6DO0jND0mcoiYSguVwf_hBEnjK2xxLWhEfe30W0qgpSw3xUzlr_PAmNg-BDnH1-bCEDOaHBHE05TJRWpohpuOhREkKn_tTiEQl6AEMHL2k4DvufPDtjU45VxtQIerH1gtYklzT-Toy58ggqqEB8uVoQHkDk6MFyfwZfcf33ckBCSRih1B20jw1mB41niqYbBZ02i_cFJjbyIV7RcKlAShOmLEjS_Btz5kg.9G1NO51Z8tDswgKVh28suw\",\"originalHost\":\"kzmni7eqwjfyj5ji3x49.lite.vusercontent.net\",\"bid\":\"b_cNulWFHcrXi\"}"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"siMLPcnQZsZFPGPuMLnKu\",\"p\":\"\",\"c\":[\"\",\"$1\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"(lite)\",{\"children\":[\"render\",{\"children\":[\"next\",{\"children\":[\"$2\",{}]}]}]},\"$undefined\",\"$undefined\",true]}],[\"\",[\"$\",\"$3\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"(lite)\",[\"$\",\"$3\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/5e5c87ba0fcdd97e.css?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/8c27ffaabc6186da.css?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"2\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/56e3b90c5978c1c5.css?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"3\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/4fd679be2c679586.css?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"className\":\"__className_3a0388 __variable_3a0388 __variable_c1e5c9 __variable_9d7907\",\"style\":{\"--font-sans\":\"var(--font-geist-sans)\",\"--font-mono\":\"var(--font-geist-mono)\",\"--font-serif\":\"__fallback\"},\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"script\",null,{\"src\":\"/assets/lite-runtime.js?v=3\"}],[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":\"$0:f:0:1:1:props:children:1:props:notFound:0:1:props:style\",\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":\"$0:f:0:1:1:props:children:1:props:notFound:0:1:props:children:props:children:1:props:style\",\"children\":404}],[\"$\",\"div\",null,{\"style\":\"$0:f:0:1:1:props:children:1:props:notFound:0:1:props:children:props:children:2:props:style\",\"children\":[\"$\",\"h2\",null,{\"style\":\"$0:f:0:1:1:props:children:1:props:notFound:0:1:props:children:props:children:2:props:children:props:style\",\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}]}]]}],{\"children\":[\"render\",[\"$\",\"$3\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"next\",[\"$\",\"$3\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$3\",\"c\",{\"children\":[\"$L6\",null,[\"$\",\"$L7\",null,{\"children\":[\"$L8\",\"$L9\",[\"$\",\"$La\",null,{\"promise\":\"$@b\"}]]}]]}],{},null,false]},[null,[],[]],false]},null,false]},null,false]},null,false],[\"$\",\"$3\",\"h\",{\"children\":[null,[\"$\",\"$3\",\"jhcgsStXm66pTaO2bVXIKv\",{\"children\":[[\"$\",\"$Lc\",null,{\"children\":\"$Ld\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],[\"$\",\"$Le\",null,{\"children\":\"$Lf\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$10\",\"$undefined\"],\"s\":false,\"S\":false}\n"])</script><script>self.__next_f.push([1,"f:[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$11\",null,{\"fallback\":null,\"children\":[\"$\",\"$L12\",null,{\"promise\":\"$@13\"}]}]}]\n9:null\nd:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n8:null\nb:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"v0\"}]],\"error\":null,\"digest\":\"$undefined\"}\n13:{\"metadata\":\"$b:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n"])</script><next-route-announcer style="position: absolute;"><template shadowrootmode="open"><div aria-live="assertive" id="__next-route-announcer__" role="alert" style="position: absolute; border: 0px; height: 1px; margin: -1px; padding: 0px; width: 1px; clip: rect(0px, 0px, 0px, 0px); overflow: hidden; white-space: nowrap; overflow-wrap: normal;"></div></template></next-route-announcer><script>self.__next_f.push([1,"14:I[76611,[\"8058\",\"static/chunks/b7a1a8c0-7429f5056aa8f949.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"719\",\"static/chunks/346ce029-b1d895f555115a78.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"7347\",\"static/chunks/fc7f1ed8-9acc4ab4825ef382.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"4112\",\"static/chunks/e2fb21f3-65b2151ddff4264d.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"4575\",\"static/chunks/21345dfc-4ce4801028ca1737.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"8075\",\"static/chunks/a3a464b3-0fab66bb900437dd.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"1995\",\"static/chunks/1995-304211e5add49d99.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"1269\",\"static/chunks/1269-6d2e99d4adfdbbd5.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"7420\",\"static/chunks/7420-58f868b31007ad0e.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"9493\",\"static/chunks/9493-18a9c9aaa124a435.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"5889\",\"static/chunks/5889-3a00951a0b4bd2f9.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"5777\",\"static/chunks/5777-29e189e8854f4863.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"2077\",\"static/chunks/2077-df77394fa3f9327d.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"5641\",\"static/chunks/5641-760b05913a256b82.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"3280\",\"static/chunks/3280-678e9d41e32b254a.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"1559\",\"static/chunks/app/(lite)/render/next/page-e4fa82537179d232.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\"],\"MissingEnvs\"]\n15:I[54710,[\"8058\",\"static/chunks/b7a1a8c0-7429f5056aa8f949.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"719\",\"static/chunks/346ce029-b1d895f555115a78.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"7347\",\"static/chunks/fc7f1ed8-9acc4ab4825ef382.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"4112\",\"static/chunks/e2fb21f3-65b2151ddff4264d.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"4575\",\"static/chunks/21345dfc-4ce4801028ca1737.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"8075\",\"static/chunks/a3a464b3-0fab66bb900437dd.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"1995\",\"static/chunks/1995-304211e5add49d99.js?dpl=dpl_DQEjSxREK7BCQF"])</script><script>self.__next_f.push([1,"zeM7uYBR5hbjhZ\",\"1269\",\"static/chunks/1269-6d2e99d4adfdbbd5.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"7420\",\"static/chunks/7420-58f868b31007ad0e.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"9493\",\"static/chunks/9493-18a9c9aaa124a435.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"5889\",\"static/chunks/5889-3a00951a0b4bd2f9.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"5777\",\"static/chunks/5777-29e189e8854f4863.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"2077\",\"static/chunks/2077-df77394fa3f9327d.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"5641\",\"static/chunks/5641-760b05913a256b82.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"3280\",\"static/chunks/3280-678e9d41e32b254a.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\",\"1559\",\"static/chunks/app/(lite)/render/next/page-e4fa82537179d232.js?dpl=dpl_DQEjSxREK7BCQFzeM7uYBR5hbjhZ\"],\"ClientEntry\",1]\n16:T490,# sai.reload\n\n*Automatically synced with your [v0.dev](https://v0.dev) deployments*\n\n[![Deployed on Vercel](https://img.shields.io/badge/Deployed%20on-Vercel-black?style=for-the-badge\u0026logo=vercel)](https://vercel.com/rodolfos-projects-83f41be1/v0-sai-reload)\n[![Built with v0](https://img.shields.io/badge/Built%20with-v0.dev-black?style=for-the-badge)](https://v0.dev/chat/projects/9RYqpaE92DQ)\n\n## Overview\n\nThis repository will stay in sync with your deployed chats on [v0.dev](https://v0.dev).\nAny changes you make to your deployed app will be automatically pushed to this repository from [v0.dev](https://v0.dev).\n\n## Deployment\n\nYour project is live at:\n\n**[https://vercel.com/rodolfos-projects-83f41be1/v0-sai-reload](https://vercel.com/rodolfos-projects-83f41be1/v0-sai-reload)**\n\n## Build your app\n\nContinue building your app on:\n\n**[https://v0.dev/chat/projects/9RYqpaE92DQ](https://v0.dev/chat/projects/9RYqpaE92DQ)**\n\n## How It Works\n\n1. Create and modify your project using [v0.dev](https://v0.dev)\n2. Deploy your chats from the v0 interface\n3. Changes are automatically pushed to this repository\n4. Vercel deploys the latest version from this repository\n17:T16a0,"])</script><script>self.__next_f.push([1,"\"use server\"\n\nimport { supabaseClient } from \"@/lib/supabase\"\nimport { revalidatePath } from \"next/cache\"\n\ntype EntrevistadoData = {\n  codigo: string\n  nombre: string\n  apellido: string\n  cargo?: string\n  fundacion_id: number\n  contacto?: string\n  notas?: string\n}\n\nexport async function crearEntrevistado(data: EntrevistadoData) {\n  try {\n    // Verificar si ya existe un entrevistado con el mismo código\n    const { data: existingEntrevistado, error: checkError } = await supabaseClient\n      .from(\"entrevistados\")\n      .select(\"id\")\n      .eq(\"codigo\", data.codigo)\n      .maybeSingle()\n\n    if (checkError) {\n      console.error(\"Error al verificar entrevistado existente:\", checkError)\n      return { error: \"Error al verificar si el entrevistado ya existe\" }\n    }\n\n    if (existingEntrevistado) {\n      return { error: `Ya existe un entrevistado con el código ${data.codigo}` }\n    }\n\n    // Insertar el nuevo entrevistado\n    const { data: newEntrevistado, error } = await supabaseClient\n      .from(\"entrevistados\")\n      .insert([\n        {\n          codigo: data.codigo,\n          nombre: data.nombre,\n          apellido: data.apellido,\n          cargo: data.cargo || null,\n          fundacion_id: data.fundacion_id,\n          contacto: data.contacto || null,\n          notas: data.notas || null,\n        },\n      ])\n      .select()\n      .single()\n\n    if (error) {\n      console.error(\"Error al crear entrevistado:\", error)\n      return { error: \"Error al crear el entrevistado\" }\n    }\n\n    // Revalidar la ruta para actualizar los datos\n    revalidatePath(\"/entrevistados\")\n\n    return { success: true, data: newEntrevistado }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n\nexport async function obtenerEntrevistados() {\n  try {\n    const { data, error } = await supabaseClient\n      .from(\"entrevistados\")\n      .select(`\n        *,\n        fundacion:fundacion_id (\n          id,\n          codigo,\n          nombre\n        )\n      `)\n      .order(\"apellido\")\n\n    if (error) {\n      console.error(\"Error al obtener entrevistados:\", error)\n      return { error: \"Error al obtener los entrevistados\" }\n    }\n\n    return { success: true, data }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n\nexport async function obtenerEntrevistadoPorId(id: number) {\n  try {\n    const { data, error } = await supabaseClient\n      .from(\"entrevistados\")\n      .select(`\n        *,\n        fundacion:fundacion_id (\n          id,\n          codigo,\n          nombre\n        )\n      `)\n      .eq(\"id\", id)\n      .single()\n\n    if (error) {\n      console.error(\"Error al obtener entrevistado:\", error)\n      return { error: \"Error al obtener el entrevistado\" }\n    }\n\n    return { success: true, data }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n\nexport async function actualizarEntrevistado(id: number, data: EntrevistadoData) {\n  try {\n    // Verificar si ya existe otro entrevistado con el mismo código\n    const { data: existingEntrevistado, error: checkError } = await supabaseClient\n      .from(\"entrevistados\")\n      .select(\"id\")\n      .eq(\"codigo\", data.codigo)\n      .neq(\"id\", id)\n      .maybeSingle()\n\n    if (checkError) {\n      console.error(\"Error al verificar entrevistado existente:\", checkError)\n      return { error: \"Error al verificar si el entrevistado ya existe\" }\n    }\n\n    if (existingEntrevistado) {\n      return { error: `Ya existe otro entrevistado con el código ${data.codigo}` }\n    }\n\n    // Actualizar el entrevistado\n    const { data: updatedEntrevistado, error } = await supabaseClient\n      .from(\"entrevistados\")\n      .update({\n        codigo: data.codigo,\n        nombre: data.nombre,\n        apellido: data.apellido,\n        cargo: data.cargo || null,\n        fundacion_id: data.fundacion_id,\n        contacto: data.contacto || null,\n        notas: data.notas || null,\n      })\n      .eq(\"id\", id)\n      .select()\n      .single()\n\n    if (error) {\n      console.error(\"Error al actualizar entrevistado:\", error)\n      return { error: \"Error al actualizar el entrevistado\" }\n    }\n\n    // Revalidar la ruta para actualizar los datos\n    revalidatePath(\"/entrevistados\")\n    revalidatePath(`/entrevistados/${id}`)\n    revalidatePath(`/entrevistados/${id}/editar`)\n\n    return { success: true, data: updatedEntrevistado }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n\nexport async function eliminarEntrevistado(id: number) {\n  try {\n    // Verificar si el entrevistado está siendo utilizado por entrevistas\n    const { data: entrevistas, error: checkError } = await supabaseClient\n      .from(\"entrevistas\")\n      .select(\"id\")\n      .eq(\"entrevistado_id\", id)\n      .limit(1)\n\n    if (checkError) {\n      console.error(\"Error al verificar entrevistas:\", checkError)\n      return { error: \"Error al verificar si el entrevistado está siendo utilizado\" }\n    }\n\n    if (entrevistas \u0026\u0026 entrevistas.length \u003e 0) {\n      return { error: \"No se puede eliminar el entrevistado porque está siendo utilizado por entrevistas\" }\n    }\n\n    // Eliminar el entrevistado\n    const { error } = await supabaseClient.from(\"entrevistados\").delete().eq(\"id\", id)\n\n    if (error) {\n      console.error(\"Error al eliminar entrevistado:\", error)\n      return { error: \"Error al eliminar el entrevistado\" }\n    }\n\n    // Revalidar la ruta para actualizar los datos\n    revalidatePath(\"/entrevistados\")\n\n    return { success: true }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n"])</script><script>self.__next_f.push([1,"18:T12f7,"])</script><script>self.__next_f.push([1,"\"use server\"\n\nimport { supabaseClient } from \"@/lib/supabase\"\nimport { revalidatePath } from \"next/cache\"\n\ntype EntrevistaData = {\n  codigo_entrevista: string\n  fundacion_id: number\n  entrevistado_id: number\n  investigador_id?: number\n  numero_entrevista: number\n  fecha_entrevista?: string\n  duracion?: number\n  notas?: string\n}\n\nexport async function crearEntrevista(data: EntrevistaData) {\n  try {\n    // Verificar si ya existe una entrevista con el mismo código\n    const { data: existingEntrevista, error: checkError } = await supabaseClient\n      .from(\"entrevistas\")\n      .select(\"id\")\n      .eq(\"codigo_entrevista\", data.codigo_entrevista)\n      .maybeSingle()\n\n    if (checkError) {\n      console.error(\"Error al verificar entrevista existente:\", checkError)\n      return { error: \"Error al verificar si la entrevista ya existe\" }\n    }\n\n    if (existingEntrevista) {\n      return { error: `Ya existe una entrevista con el código ${data.codigo_entrevista}` }\n    }\n\n    // Insertar la nueva entrevista\n    const { data: newEntrevista, error } = await supabaseClient\n      .from(\"entrevistas\")\n      .insert([\n        {\n          codigo_entrevista: data.codigo_entrevista,\n          fundacion_id: data.fundacion_id,\n          entrevistado_id: data.entrevistado_id,\n          investigador_id: data.investigador_id || null,\n          numero_entrevista: data.numero_entrevista,\n          fecha_entrevista: data.fecha_entrevista || null,\n          duracion: data.duracion || null,\n          notas: data.notas || null,\n        },\n      ])\n      .select()\n      .single()\n\n    if (error) {\n      console.error(\"Error al crear entrevista:\", error)\n      return { error: \"Error al crear la entrevista\" }\n    }\n\n    // Revalidar la ruta para actualizar los datos\n    revalidatePath(\"/entrevistas\")\n\n    return { success: true, data: newEntrevista }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n\nexport async function obtenerEntrevistas() {\n  try {\n    const { data, error } = await supabaseClient\n      .from(\"entrevistas\")\n      .select(`\n        *,\n        fundacion:fundacion_id (\n          id,\n          codigo,\n          nombre\n        ),\n        entrevistado:entrevistado_id (\n          id,\n          codigo,\n          nombre,\n          apellido\n        ),\n        investigador:investigador_id (\n          id,\n          codigo,\n          nombre,\n          apellido\n        )\n      `)\n      .order(\"fecha_entrevista\", { ascending: false })\n\n    if (error) {\n      console.error(\"Error al obtener entrevistas:\", error)\n      return { error: \"Error al obtener las entrevistas\" }\n    }\n\n    return { success: true, data }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n\nexport async function obtenerEntrevistaPorId(id: number) {\n  try {\n    const { data, error } = await supabaseClient\n      .from(\"entrevistas\")\n      .select(`\n        *,\n        fundacion:fundacion_id (\n          id,\n          codigo,\n          nombre\n        ),\n        entrevistado:entrevistado_id (\n          id,\n          codigo,\n          nombre,\n          apellido\n        ),\n        investigador:investigador_id (\n          id,\n          codigo,\n          nombre,\n          apellido\n        )\n      `)\n      .eq(\"id\", id)\n      .single()\n\n    if (error) {\n      console.error(\"Error al obtener entrevista:\", error)\n      return { error: \"Error al obtener la entrevista\" }\n    }\n\n    return { success: true, data }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n\nexport async function eliminarEntrevista(id: number) {\n  try {\n    // Verificar si la entrevista está siendo utilizada por transcripciones\n    const { data: transcripciones, error: checkError } = await supabaseClient\n      .from(\"transcripciones\")\n      .select(\"id\")\n      .eq(\"entrevista_id\", id)\n      .limit(1)\n\n    if (checkError) {\n      console.error(\"Error al verificar transcripciones:\", checkError)\n      return { error: \"Error al verificar si la entrevista está siendo utilizada\" }\n    }\n\n    if (transcripciones \u0026\u0026 transcripciones.length \u003e 0) {\n      return { error: \"No se puede eliminar la entrevista porque está siendo utilizada por transcripciones\" }\n    }\n\n    // Eliminar la entrevista\n    const { error } = await supabaseClient.from(\"entrevistas\").delete().eq(\"id\", id)\n\n    if (error) {\n      console.error(\"Error al eliminar entrevista:\", error)\n      return { error: \"Error al eliminar la entrevista\" }\n    }\n\n    // Revalidar la ruta para actualizar los datos\n    revalidatePath(\"/entrevistas\")\n\n    return { success: true }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n"])</script><script>self.__next_f.push([1,"19:T300d,"])</script><script>self.__next_f.push([1,"\"use server\"\n\nimport { supabaseClient } from \"@/lib/supabase\"\nimport { revalidatePath } from \"next/cache\"\n\nexport interface ExpresionPermitida {\n  id?: number\n  expresion_original: string\n  normalizaciones_esperadas: string[]\n  es_permitida_como_normalizacion: boolean\n  idioma: string\n}\n\nexport async function crearExpresionPermitida(data: Omit\u003cExpresionPermitida, \"id\"\u003e) {\n  try {\n    // Verificar si ya existe una expresión con el mismo texto original e idioma\n    const { data: existingExpresion, error: checkError } = await supabaseClient\n      .from(\"expresiones_permitidas\")\n      .select(\"id\")\n      .eq(\"expresion_original\", data.expresion_original)\n      .eq(\"idioma\", data.idioma)\n      .maybeSingle()\n\n    if (checkError) {\n      console.error(\"Error al verificar expresión existente:\", checkError)\n      return { error: \"Error al verificar si la expresión ya existe\" }\n    }\n\n    if (existingExpresion) {\n      return {\n        error: `Ya existe una expresión con el texto \"${data.expresion_original}\" para el idioma ${data.idioma}`,\n      }\n    }\n\n    // Iniciar una transacción para insertar en ambas tablas\n    // Primero insertar en expresiones_permitidas\n    const { data: newExpresion, error } = await supabaseClient\n      .from(\"expresiones_permitidas\")\n      .insert([\n        {\n          expresion_original: data.expresion_original,\n          es_permitida_como_normalizacion: data.es_permitida_como_normalizacion,\n          idioma: data.idioma,\n        },\n      ])\n      .select()\n      .single()\n\n    if (error) {\n      console.error(\"Error al crear expresión permitida:\", error)\n      return { error: \"Error al crear la expresión permitida\" }\n    }\n\n    // Si se creó la expresión, ahora insertar las normalizaciones esperadas\n    if (newExpresion \u0026\u0026 data.normalizaciones_esperadas.length \u003e 0) {\n      const normalizacionesInserts = data.normalizaciones_esperadas.map((texto) =\u003e ({\n        expresion_id: newExpresion.id,\n        texto: texto,\n      }))\n\n      const { error: normError } = await supabaseClient.from(\"normalizaciones_esperadas\").insert(normalizacionesInserts)\n\n      if (normError) {\n        console.error(\"Error al crear normalizaciones esperadas:\", normError)\n        // No fallamos la operación completa, solo registramos el error\n      }\n    }\n\n    // Revalidar la ruta para actualizar los datos\n    revalidatePath(\"/configuracion/expresiones-permitidas\")\n\n    return { success: true, data: newExpresion }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n\nexport async function obtenerExpresionesPermitidas(idioma?: string) {\n  try {\n    // Consulta principal para obtener expresiones permitidas\n    let query = supabaseClient.from(\"expresiones_permitidas\").select(\"*\")\n\n    if (idioma) {\n      query = query.eq(\"idioma\", idioma)\n    }\n\n    const { data: expresiones, error } = await query.order(\"expresion_original\")\n\n    if (error) {\n      console.error(\"Error al obtener expresiones permitidas:\", error)\n      return { error: \"Error al obtener las expresiones permitidas\" }\n    }\n\n    // Para cada expresión, obtener sus normalizaciones esperadas\n    if (expresiones \u0026\u0026 expresiones.length \u003e 0) {\n      const expresionesConNormalizaciones = await Promise.all(\n        expresiones.map(async (expresion) =\u003e {\n          const { data: normalizaciones, error: normError } = await supabaseClient\n            .from(\"normalizaciones_esperadas\")\n            .select(\"texto\")\n            .eq(\"expresion_id\", expresion.id)\n\n          if (normError) {\n            console.error(`Error al obtener normalizaciones para expresión ${expresion.id}:`, normError)\n            return {\n              ...expresion,\n              normalizaciones_esperadas: [],\n            }\n          }\n\n          return {\n            ...expresion,\n            normalizaciones_esperadas: normalizaciones ? normalizaciones.map((n) =\u003e n.texto) : [],\n          }\n        }),\n      )\n\n      return { success: true, data: expresionesConNormalizaciones }\n    }\n\n    return { success: true, data: expresiones || [] }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n\nexport async function actualizarExpresionPermitida(id: number, data: Omit\u003cExpresionPermitida, \"id\"\u003e) {\n  try {\n    // Verificar si ya existe otra expresión con el mismo texto original e idioma\n    const { data: existingExpresion, error: checkError } = await supabaseClient\n      .from(\"expresiones_permitidas\")\n      .select(\"id\")\n      .eq(\"expresion_original\", data.expresion_original)\n      .eq(\"idioma\", data.idioma)\n      .neq(\"id\", id)\n      .maybeSingle()\n\n    if (checkError) {\n      console.error(\"Error al verificar expresión existente:\", checkError)\n      return { error: \"Error al verificar si la expresión ya existe\" }\n    }\n\n    if (existingExpresion) {\n      return {\n        error: `Ya existe otra expresión con el texto \"${data.expresion_original}\" para el idioma ${data.idioma}`,\n      }\n    }\n\n    // Actualizar la expresión principal\n    const { data: updatedExpresion, error } = await supabaseClient\n      .from(\"expresiones_permitidas\")\n      .update({\n        expresion_original: data.expresion_original,\n        es_permitida_como_normalizacion: data.es_permitida_como_normalizacion,\n        idioma: data.idioma,\n      })\n      .eq(\"id\", id)\n      .select()\n      .single()\n\n    if (error) {\n      console.error(\"Error al actualizar expresión permitida:\", error)\n      return { error: \"Error al actualizar la expresión permitida\" }\n    }\n\n    // Eliminar normalizaciones existentes y crear nuevas\n    // Primero eliminar las existentes\n    const { error: deleteError } = await supabaseClient\n      .from(\"normalizaciones_esperadas\")\n      .delete()\n      .eq(\"expresion_id\", id)\n\n    if (deleteError) {\n      console.error(\"Error al eliminar normalizaciones existentes:\", deleteError)\n      // Continuamos a pesar del error\n    }\n\n    // Luego insertar las nuevas normalizaciones\n    if (data.normalizaciones_esperadas.length \u003e 0) {\n      const normalizacionesInserts = data.normalizaciones_esperadas.map((texto) =\u003e ({\n        expresion_id: id,\n        texto: texto,\n      }))\n\n      const { error: insertError } = await supabaseClient\n        .from(\"normalizaciones_esperadas\")\n        .insert(normalizacionesInserts)\n\n      if (insertError) {\n        console.error(\"Error al crear nuevas normalizaciones:\", insertError)\n        // No fallamos la operación completa, solo registramos el error\n      }\n    }\n\n    // Revalidar la ruta para actualizar los datos\n    revalidatePath(\"/configuracion/expresiones-permitidas\")\n    revalidatePath(`/configuracion/expresiones-permitidas/${id}`)\n    revalidatePath(`/configuracion/expresiones-permitidas/${id}/editar`)\n\n    return { success: true, data: updatedExpresion }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n\nexport async function eliminarExpresionPermitida(id: number) {\n  try {\n    // Primero eliminar las normalizaciones relacionadas\n    const { error: normError } = await supabaseClient.from(\"normalizaciones_esperadas\").delete().eq(\"expresion_id\", id)\n\n    if (normError) {\n      console.error(\"Error al eliminar normalizaciones relacionadas:\", normError)\n      // Continuamos a pesar del error\n    }\n\n    // Luego eliminar la expresión principal\n    const { error } = await supabaseClient.from(\"expresiones_permitidas\").delete().eq(\"id\", id)\n\n    if (error) {\n      console.error(\"Error al eliminar expresión permitida:\", error)\n      return { error: \"Error al eliminar la expresión permitida\" }\n    }\n\n    // Revalidar la ruta para actualizar los datos\n    revalidatePath(\"/configuracion/expresiones-permitidas\")\n\n    return { success: true }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n\n// Script para inicializar la tabla con datos predeterminados\nexport async function inicializarExpresionesPermitidas() {\n  try {\n    // Verificar si ya hay datos en la tabla\n    const { data: existingData, error: checkError } = await supabaseClient\n      .from(\"expresiones_permitidas\")\n      .select(\"id\")\n      .limit(1)\n\n    if (checkError) {\n      console.error(\"Error al verificar datos existentes:\", checkError)\n      return { error: \"Error al verificar si ya existen datos\" }\n    }\n\n    // Si ya hay datos, no hacer nada\n    if (existingData \u0026\u0026 existingData.length \u003e 0) {\n      return { success: true, message: \"La tabla ya contiene datos\" }\n    }\n\n    // Datos predeterminados para inicializar la tabla (sin normalizaciones_esperadas)\n    const expresionesIniciales = [\n      {\n        expresion_original: \"sí\",\n        es_permitida_como_normalizacion: false,\n        idioma: \"es-ES\",\n      },\n      {\n        expresion_original: \"no\",\n        es_permitida_como_normalizacion: false,\n        idioma: \"es-ES\",\n      },\n      {\n        expresion_original: \"ok\",\n        es_permitida_como_normalizacion: false,\n        idioma: \"es-ES\",\n      },\n      {\n        expresion_original: \"hmm\",\n        es_permitida_como_normalizacion: false,\n        idioma: \"es-ES\",\n      },\n      {\n        expresion_original: \"Fin.\",\n        es_permitida_como_normalizacion: true,\n        idioma: \"es-ES\",\n      },\n      {\n        expresion_original: \"yes\",\n        es_permitida_como_normalizacion: false,\n        idioma: \"en-US\",\n      },\n      {\n        expresion_original: \"no\",\n        es_permitida_como_normalizacion: false,\n        idioma: \"en-US\",\n      },\n      {\n        expresion_original: \"ok\",\n        es_permitida_como_normalizacion: false,\n        idioma: \"en-US\",\n      },\n      {\n        expresion_original: \"hmm\",\n        es_permitida_como_normalizacion: false,\n        idioma: \"en-US\",\n      },\n      {\n        expresion_original: \"End.\",\n        es_permitida_como_normalizacion: true,\n        idioma: \"en-US\",\n      },\n    ]\n\n    // Insertar las expresiones principales\n    const { data: expresionesInsertadas, error } = await supabaseClient\n      .from(\"expresiones_permitidas\")\n      .insert(expresionesIniciales)\n      .select()\n\n    if (error) {\n      console.error(\"Error al inicializar expresiones permitidas:\", error)\n      return { error: \"Error al inicializar la tabla de expresiones permitidas\" }\n    }\n\n    // Ahora insertar las normalizaciones para cada expresión\n    if (expresionesInsertadas) {\n      // Mapeo de expresiones a sus normalizaciones\n      const normalizacionesPorExpresion = {\n        sí: [\"Afirmación\", \"Respuesta afirmativa\", \"Confirma\"],\n        no: [\"Negación\", \"Respuesta negativa\", \"Rechaza\"],\n        ok: [\"Expresa conformidad\", \"Muestra acuerdo\", \"Acepta\"],\n        hmm: [\"Asentimiento breve\", \"Muestra duda\", \"Reflexiona\"],\n        \"Fin.\": [\"Fin.\"],\n        yes: [\"Affirmation\", \"Affirmative response\", \"Confirms\"],\n        // \"no\" en inglés ya está cubierto por el español\n        // \"ok\" en inglés ya está cubierto por el español\n        // \"hmm\" en inglés ya está cubierto por el español\n        \"End.\": [\"End.\"],\n      }\n\n      // Crear array de normalizaciones para insertar\n      const normalizacionesParaInsertar = []\n\n      for (const expresion of expresionesInsertadas) {\n        const normalizaciones = normalizacionesPorExpresion[expresion.expresion_original]\n        if (normalizaciones) {\n          for (const texto of normalizaciones) {\n            normalizacionesParaInsertar.push({\n              expresion_id: expresion.id,\n              texto: texto,\n            })\n          }\n        }\n      }\n\n      // Insertar normalizaciones si hay alguna\n      if (normalizacionesParaInsertar.length \u003e 0) {\n        const { error: normError } = await supabaseClient\n          .from(\"normalizaciones_esperadas\")\n          .insert(normalizacionesParaInsertar)\n\n        if (normError) {\n          console.error(\"Error al inicializar normalizaciones esperadas:\", normError)\n          // No fallamos la operación completa, solo registramos el error\n        }\n      }\n    }\n\n    return { success: true, message: \"Tabla inicializada correctamente\" }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n"])</script><script>self.__next_f.push([1,"1a:T13c4,"])</script><script>self.__next_f.push([1,"\"use server\"\n\nimport { supabaseClient } from \"@/lib/supabase\"\nimport { revalidatePath } from \"next/cache\"\n\ntype FundacionData = {\n  codigo: string\n  nombre: string\n  descripcion?: string\n}\n\nexport async function crearFundacion(data: FundacionData) {\n  try {\n    // Verificar si ya existe una fundación con el mismo código\n    const { data: existingFundacion, error: checkError } = await supabaseClient\n      .from(\"fundaciones\")\n      .select(\"id\")\n      .eq(\"codigo\", data.codigo)\n      .maybeSingle()\n\n    if (checkError) {\n      console.error(\"Error al verificar fundación existente:\", checkError)\n      return { error: \"Error al verificar si la fundación ya existe\" }\n    }\n\n    if (existingFundacion) {\n      return { error: `Ya existe una fundación con el código ${data.codigo}` }\n    }\n\n    // Insertar la nueva fundación\n    const { data: newFundacion, error } = await supabaseClient\n      .from(\"fundaciones\")\n      .insert([\n        {\n          codigo: data.codigo,\n          nombre: data.nombre,\n          descripcion: data.descripcion || null,\n        },\n      ])\n      .select()\n      .single()\n\n    if (error) {\n      console.error(\"Error al crear fundación:\", error)\n      return { error: \"Error al crear la fundación\" }\n    }\n\n    // Revalidar la ruta para actualizar los datos\n    revalidatePath(\"/fundaciones\")\n\n    return { success: true, data: newFundacion }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n\nexport async function obtenerFundaciones() {\n  try {\n    const { data, error } = await supabaseClient.from(\"fundaciones\").select(\"*\").order(\"nombre\")\n\n    if (error) {\n      console.error(\"Error al obtener fundaciones:\", error)\n      return { error: \"Error al obtener las fundaciones\" }\n    }\n\n    return { success: true, data }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n\nexport async function obtenerFundacionPorId(id: number) {\n  try {\n    const { data, error } = await supabaseClient.from(\"fundaciones\").select(\"*\").eq(\"id\", id).single()\n\n    if (error) {\n      console.error(\"Error al obtener fundación:\", error)\n      return { error: \"Error al obtener la fundación\" }\n    }\n\n    return { success: true, data }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n\nexport async function actualizarFundacion(id: number, data: FundacionData) {\n  try {\n    // Verificar si ya existe otra fundación con el mismo código\n    const { data: existingFundacion, error: checkError } = await supabaseClient\n      .from(\"fundaciones\")\n      .select(\"id\")\n      .eq(\"codigo\", data.codigo)\n      .neq(\"id\", id)\n      .maybeSingle()\n\n    if (checkError) {\n      console.error(\"Error al verificar fundación existente:\", checkError)\n      return { error: \"Error al verificar si la fundación ya existe\" }\n    }\n\n    if (existingFundacion) {\n      return { error: `Ya existe otra fundación con el código ${data.codigo}` }\n    }\n\n    // Actualizar la fundación\n    const { data: updatedFundacion, error } = await supabaseClient\n      .from(\"fundaciones\")\n      .update({\n        codigo: data.codigo,\n        nombre: data.nombre,\n        descripcion: data.descripcion || null,\n      })\n      .eq(\"id\", id)\n      .select()\n      .single()\n\n    if (error) {\n      console.error(\"Error al actualizar fundación:\", error)\n      return { error: \"Error al actualizar la fundación\" }\n    }\n\n    // Revalidar la ruta para actualizar los datos\n    revalidatePath(\"/fundaciones\")\n    revalidatePath(`/fundaciones/${id}`)\n    revalidatePath(`/fundaciones/${id}/editar`)\n\n    return { success: true, data: updatedFundacion }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n\nexport async function eliminarFundacion(id: number) {\n  try {\n    // Verificar si la fundación está siendo utilizada por entrevistados\n    const { data: entrevistados, error: checkError } = await supabaseClient\n      .from(\"entrevistados\")\n      .select(\"id\")\n      .eq(\"fundacion_id\", id)\n      .limit(1)\n\n    if (checkError) {\n      console.error(\"Error al verificar entrevistados:\", checkError)\n      return { error: \"Error al verificar si la fundación está siendo utilizada\" }\n    }\n\n    if (entrevistados \u0026\u0026 entrevistados.length \u003e 0) {\n      return { error: \"No se puede eliminar la fundación porque está siendo utilizada por entrevistados\" }\n    }\n\n    // Eliminar la fundación\n    const { error } = await supabaseClient.from(\"fundaciones\").delete().eq(\"id\", id)\n\n    if (error) {\n      console.error(\"Error al eliminar fundación:\", error)\n      return { error: \"Error al eliminar la fundación\" }\n    }\n\n    // Revalidar la ruta para actualizar los datos\n    revalidatePath(\"/fundaciones\")\n\n    return { success: true }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n"])</script><script>self.__next_f.push([1,"1b:T164f,"])</script><script>self.__next_f.push([1,"\"use server\"\n\nimport { supabaseClient } from \"@/lib/supabase\"\nimport { revalidatePath } from \"next/cache\"\n\ntype InvestigadorData = {\n  codigo: string\n  nombre: string\n  apellido: string\n  email?: string\n  telefono?: string\n  institucion?: string\n  cargo?: string\n  notas?: string\n}\n\nexport async function crearInvestigador(data: InvestigadorData) {\n  try {\n    // Verificar si ya existe un investigador con el mismo código\n    const { data: existingInvestigador, error: checkError } = await supabaseClient\n      .from(\"investigadores\")\n      .select(\"id\")\n      .eq(\"codigo\", data.codigo)\n      .maybeSingle()\n\n    if (checkError) {\n      console.error(\"Error al verificar investigador existente:\", checkError)\n      return { error: \"Error al verificar si el investigador ya existe\" }\n    }\n\n    if (existingInvestigador) {\n      return { error: `Ya existe un investigador con el código ${data.codigo}` }\n    }\n\n    // Insertar el nuevo investigador\n    const { data: newInvestigador, error } = await supabaseClient\n      .from(\"investigadores\")\n      .insert([\n        {\n          codigo: data.codigo,\n          nombre: data.nombre,\n          apellido: data.apellido,\n          email: data.email || null,\n          telefono: data.telefono || null,\n          institucion: data.institucion || null,\n          cargo: data.cargo || null,\n          notas: data.notas || null,\n        },\n      ])\n      .select()\n      .single()\n\n    if (error) {\n      console.error(\"Error al crear investigador:\", error)\n      return { error: \"Error al crear el investigador\" }\n    }\n\n    // Revalidar la ruta para actualizar los datos\n    revalidatePath(\"/configuracion/investigadores\")\n\n    return { success: true, data: newInvestigador }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n\nexport async function obtenerInvestigadores() {\n  try {\n    const { data, error } = await supabaseClient.from(\"investigadores\").select(\"*\").order(\"apellido\")\n\n    if (error) {\n      console.error(\"Error al obtener investigadores:\", error)\n      return { error: \"Error al obtener los investigadores\" }\n    }\n\n    return { success: true, data }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n\nexport async function obtenerInvestigadorPorId(id: number) {\n  try {\n    const { data, error } = await supabaseClient.from(\"investigadores\").select(\"*\").eq(\"id\", id).single()\n\n    if (error) {\n      console.error(\"Error al obtener investigador:\", error)\n      return { error: \"Error al obtener el investigador\" }\n    }\n\n    return { success: true, data }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n\nexport async function actualizarInvestigador(id: number, data: InvestigadorData) {\n  try {\n    // Verificar si ya existe otro investigador con el mismo código\n    const { data: existingInvestigador, error: checkError } = await supabaseClient\n      .from(\"investigadores\")\n      .select(\"id\")\n      .eq(\"codigo\", data.codigo)\n      .neq(\"id\", id)\n      .maybeSingle()\n\n    if (checkError) {\n      console.error(\"Error al verificar investigador existente:\", checkError)\n      return { error: \"Error al verificar si el investigador ya existe\" }\n    }\n\n    if (existingInvestigador) {\n      return { error: `Ya existe otro investigador con el código ${data.codigo}` }\n    }\n\n    // Actualizar el investigador\n    const { data: updatedInvestigador, error } = await supabaseClient\n      .from(\"investigadores\")\n      .update({\n        codigo: data.codigo,\n        nombre: data.nombre,\n        apellido: data.apellido,\n        email: data.email || null,\n        telefono: data.telefono || null,\n        institucion: data.institucion || null,\n        cargo: data.cargo || null,\n        notas: data.notas || null,\n      })\n      .eq(\"id\", id)\n      .select()\n      .single()\n\n    if (error) {\n      console.error(\"Error al actualizar investigador:\", error)\n      return { error: \"Error al actualizar el investigador\" }\n    }\n\n    // Revalidar la ruta para actualizar los datos\n    revalidatePath(\"/configuracion/investigadores\")\n    revalidatePath(`/configuracion/investigadores/${id}`)\n    revalidatePath(`/configuracion/investigadores/${id}/editar`)\n\n    return { success: true, data: updatedInvestigador }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n\nexport async function eliminarInvestigador(id: number) {\n  try {\n    // Verificar si el investigador está siendo utilizado por entrevistas\n    const { data: entrevistas, error: checkError } = await supabaseClient\n      .from(\"entrevistas\")\n      .select(\"id\")\n      .eq(\"investigador_id\", id)\n      .limit(1)\n\n    if (checkError) {\n      console.error(\"Error al verificar entrevistas:\", checkError)\n      return { error: \"Error al verificar si el investigador está siendo utilizado\" }\n    }\n\n    if (entrevistas \u0026\u0026 entrevistas.length \u003e 0) {\n      return { error: \"No se puede eliminar el investigador porque está siendo utilizado por entrevistas\" }\n    }\n\n    // Eliminar el investigador\n    const { error } = await supabaseClient.from(\"investigadores\").delete().eq(\"id\", id)\n\n    if (error) {\n      console.error(\"Error al eliminar investigador:\", error)\n      return { error: \"Error al eliminar el investigador\" }\n    }\n\n    // Revalidar la ruta para actualizar los datos\n    revalidatePath(\"/configuracion/investigadores\")\n\n    return { success: true }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n"])</script><script>self.__next_f.push([1,"1c:T1e70,"])</script><script>self.__next_f.push([1,"\"use server\"\n\nimport { supabaseClient } from \"@/lib/supabase\"\nimport { revalidatePath } from \"next/cache\"\n\ninterface PerfilInvestigadorData {\n  user_id?: string\n  proyecto_id: string\n  cargo_id: string\n  nombre: string\n  apellido: string\n  institucion?: string\n  telefono?: string\n  notas?: string\n}\n\n/**\n * Verifica si un usuario tiene permiso para asignar investigadores\n */\nexport async function verificarPermisoAsignarInvestigadores(userId: string, proyectoId: string) {\n  try {\n    // Obtener el perfil del investigador actual\n    const { data: perfilActual, error: perfilError } = await supabaseClient\n      .from(\"perfil_investigador\")\n      .select(\"cargo_id\")\n      .eq(\"user_id\", userId)\n      .eq(\"proyecto_id\", proyectoId)\n      .single()\n\n    if (perfilError) {\n      console.error(\"Error al obtener perfil del investigador:\", perfilError)\n      return { tienePermiso: false, error: \"Error al verificar permisos\" }\n    }\n\n    if (!perfilActual) {\n      return { tienePermiso: false, error: \"No tiene un perfil en este proyecto\" }\n    }\n\n    // Verificar si el cargo tiene permiso para asignar investigadores\n    const { data: cargo, error: cargoError } = await supabaseClient\n      .from(\"cargo\")\n      .select(\"asignar_investigadores\")\n      .eq(\"id\", perfilActual.cargo_id)\n      .single()\n\n    if (cargoError) {\n      console.error(\"Error al obtener información del cargo:\", cargoError)\n      return { tienePermiso: false, error: \"Error al verificar permisos del cargo\" }\n    }\n\n    return {\n      tienePermiso: cargo?.asignar_investigadores || false,\n      error: null,\n    }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { tienePermiso: false, error: \"Ocurrió un error inesperado\" }\n  }\n}\n\n/**\n * Obtiene todos los investigadores de un proyecto específico\n */\nexport async function obtenerInvestigadoresProyecto(proyectoId: string) {\n  try {\n    console.log(\"Intentando obtener investigadores para proyecto ID:\", proyectoId)\n\n    // Consulta simplificada: solo intentar obtener los datos básicos sin joins\n    const { data, error } = await supabaseClient\n      .from(\"perfil_investigador\")\n      .select(\"id, nombre, apellido, institucion\")\n      .eq(\"proyecto_id\", proyectoId)\n\n    if (error) {\n      console.error(\"Error específico al obtener investigadores:\", error)\n      return { error: `Error al obtener investigadores: ${error.message || JSON.stringify(error)}` }\n    }\n\n    console.log(\"Datos obtenidos:\", data ? data.length : 0, \"registros\")\n    return { success: true, data: data || [] }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: `Error inesperado: ${error instanceof Error ? error.message : JSON.stringify(error)}` }\n  }\n}\n\n/**\n * Verifica si un usuario ya tiene un perfil en el proyecto\n */\nexport async function verificarUsuarioTienePerfil(email: string, proyectoId: string) {\n  try {\n    // Primero obtenemos el user_id a partir del email\n    const { data: userData, error: userError } = await supabaseClient.rpc(\"get_user_by_email\", { email_param: email })\n\n    if (userError || !userData || userData.length === 0) {\n      console.error(\"Error al obtener usuario por email:\", userError)\n      return { tienePerfil: false, error: \"No se encontró el usuario con ese email\" }\n    }\n\n    const userId = userData[0].id\n\n    // Ahora verificamos si ya tiene perfil en el proyecto\n    const { data: perfilExistente, error: perfilError } = await supabaseClient.rpc(\"check_user_has_profile\", {\n      user_id_param: userId,\n      proyecto_id_param: proyectoId,\n    })\n\n    if (perfilError) {\n      console.error(\"Error al verificar perfil existente:\", perfilError)\n      return { tienePerfil: false, error: \"Error al verificar perfil existente\" }\n    }\n\n    return {\n      tienePerfil: perfilExistente,\n      userId: userId,\n      error: null,\n    }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { tienePerfil: false, error: \"Ocurrió un error inesperado\" }\n  }\n}\n\n/**\n * Crea un nuevo perfil de investigador\n */\nexport async function crearPerfilInvestigador(data: PerfilInvestigadorData) {\n  try {\n    // Si no se proporciona user_id, pero sí un email, obtener el user_id\n    if (!data.user_id \u0026\u0026 data.email) {\n      const { userId, tienePerfil, error } = await verificarUsuarioTienePerfil(data.email, data.proyecto_id)\n\n      if (error) {\n        return { error }\n      }\n\n      if (tienePerfil) {\n        return { error: \"Este usuario ya tiene un perfil en el proyecto\" }\n      }\n\n      data.user_id = userId\n    }\n\n    // Insertar el nuevo perfil\n    const { data: nuevoPerfil, error } = await supabaseClient\n      .from(\"perfil_investigador\")\n      .insert([\n        {\n          user_id: data.user_id,\n          proyecto_id: data.proyecto_id,\n          cargo_id: data.cargo_id,\n          nombre: data.nombre,\n          apellido: data.apellido,\n          institucion: data.institucion || null,\n          telefono: data.telefono || null,\n          notas: data.notas || null,\n        },\n      ])\n      .select()\n      .single()\n\n    if (error) {\n      console.error(\"Error al crear perfil de investigador:\", error)\n      return { error: \"Error al crear el perfil de investigador\" }\n    }\n\n    // Revalidar la ruta para actualizar los datos\n    revalidatePath(\"/datos-maestros/investigadores\")\n\n    return { success: true, data: nuevoPerfil }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n\n/**\n * Actualiza un perfil de investigador existente\n */\nexport async function actualizarPerfilInvestigador(id: string, data: Partial\u003cPerfilInvestigadorData\u003e) {\n  try {\n    const { data: perfilActualizado, error } = await supabaseClient\n      .from(\"perfil_investigador\")\n      .update({\n        cargo_id: data.cargo_id,\n        nombre: data.nombre,\n        apellido: data.apellido,\n        institucion: data.institucion || null,\n        telefono: data.telefono || null,\n        notas: data.notas || null,\n      })\n      .eq(\"id\", id)\n      .select()\n      .single()\n\n    if (error) {\n      console.error(\"Error al actualizar perfil de investigador:\", error)\n      return { error: \"Error al actualizar el perfil de investigador\" }\n    }\n\n    // Revalidar la ruta para actualizar los datos\n    revalidatePath(\"/datos-maestros/investigadores\")\n\n    return { success: true, data: perfilActualizado }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n\n/**\n * Elimina un perfil de investigador\n */\nexport async function eliminarPerfilInvestigador(id: string) {\n  try {\n    const { error } = await supabaseClient.from(\"perfil_investigador\").delete().eq(\"id\", id)\n\n    if (error) {\n      console.error(\"Error al eliminar perfil de investigador:\", error)\n      return { error: \"Error al eliminar el perfil de investigador\" }\n    }\n\n    // Revalidar la ruta para actualizar los datos\n    revalidatePath(\"/datos-maestros/investigadores\")\n\n    return { success: true }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n\n/**\n * Obtiene todos los cargos disponibles para un proyecto\n */\nexport async function obtenerCargosProyecto(proyectoId: string) {\n  try {\n    const { data, error } = await supabaseClient\n      .from(\"cargo\")\n      .select(\"id, nombre, asignar_investigadores\")\n      .eq(\"proyecto_id\", proyectoId)\n      .order(\"nombre\")\n\n    if (error) {\n      console.error(\"Error al obtener cargos:\", error)\n      return { error: \"Error al obtener los cargos disponibles\" }\n    }\n\n    return { success: true, data }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n"])</script><script>self.__next_f.push([1,"1d:T45d9,"])</script><script>self.__next_f.push([1,"// --- EN proyecto-actions.ts ---\n\"use server\"\n\nimport { createSupabaseServerClient } from \"@/lib/server\"\n\n// ========================================================================\n//  INICIO: DEFINICIONES DE INTERFACES Y TIPOS\n// ========================================================================\nexport interface Project {\n  id: string\n  name: string\n  code?: string | null\n  description?: string | null\n  institution_name?: string | null\n  status?: string | null\n  module_bibliography?: boolean | null\n  module_interviews?: boolean | null\n  module_planning?: boolean | null\n}\n\nexport interface UserProfile {\n  user_id: string\n  first_name?: string | null\n  last_name?: string | null\n  primary_institution?: string | null\n  contact_phone?: string | null\n  general_notes?: string | null\n  public_display_name?: string | null\n  public_contact_email?: string | null\n  preferred_language?: string | null\n  pronouns?: string | null\n}\n\n// Interfaz para los permisos de un rol\nexport interface RolePermissions {\n  role_name?: string | null\n  can_manage_master_data?: boolean | null\n  can_create_batches?: boolean | null\n  can_upload_files?: boolean | null\n  can_bulk_edit_master_data?: boolean | null\n}\n\nexport interface UserProjectSetting extends Project {\n  project_role_id: string\n  ui_theme: string | null\n  ui_font_pair: string | null\n  ui_is_dark_mode: boolean | null\n  is_active_for_user: boolean\n  contextual_notes?: string | null\n  contact_email_for_project?: string | null\n  permissions?: RolePermissions | null // Permisos del rol del usuario en este proyecto\n}\n\nexport interface UserDashboardData {\n  profile: UserProfile | null\n  projects: UserProjectSetting[]\n}\n\nexport type ResultadoOperacion\u003cT\u003e = { success: true; data: T } | { error: string; success?: false }\n// ========================================================================\n//  FIN: DEFINICIONES DE INTERFACES Y TIPOS\n// ========================================================================\n\nexport async function obtenerProyectosConSettingsUsuario(\n  userId: string,\n): Promise\u003cResultadoOperacion\u003cUserProjectSetting[]\u003e\u003e {\n  const opId = Math.floor(Math.random() * 1000)\n  console.log(`📄 [PCSU:${opId}] Iniciando obtenerProyectosConSettingsUsuario para: ${userId.substring(0, 8)}...`)\n\n  try {\n    if (!userId || userId.trim() === \"\") {\n      return { error: \"Se requiere un ID de usuario válido\" }\n    }\n    const supabase = await createSupabaseServerClient()\n\n    // Verificación de Auth RPC (la mantendremos por ahora para seguridad)\n    const { data: authContextResult, error: rpcError } = await supabase.rpc(\"get_current_auth_context\")\n    if (rpcError) {\n      return { error: `RPC Error: ${rpcError.message}` }\n    }\n\n    if (!authContextResult || !Array.isArray(authContextResult) || authContextResult.length === 0) {\n      return { error: \"RPC Auth context no válido\" }\n    }\n\n    const authContext = authContextResult[0]\n    if (\n      !authContext ||\n      typeof authContext !== \"object\" ||\n      !(\"current_uid\" in authContext) ||\n      !(\"current_role\" in authContext)\n    ) {\n      return { error: \"RPC Auth context formato inválido\" }\n    }\n\n    const { current_uid, current_role } = authContext as {\n      current_uid: string | null\n      current_role: string | null\n    }\n    if (current_role !== \"authenticated\") {\n      return { error: `Rol no autenticado: ${current_role}` }\n    }\n    if (current_uid !== userId \u0026\u0026 current_uid) {\n      userId = current_uid\n    }\n    console.log(`✅ [PCSU:${opId}] Contexto de DB validado correctamente`)\n\n    const { data: membresias, error: errorMembresias } = await supabase\n      .from(\"project_members\")\n      .select(\n        `\n        project_role_id, \n        is_active_for_user,\n        ui_theme,\n        ui_font_pair,\n        ui_is_dark_mode,\n        contextual_notes,\n        contact_email_for_project,\n        joined_at,\n        updated_at,\n        projects (\n          id,\n          name,\n          code,\n          description,\n          institution_name,\n          status,\n          module_bibliography,\n          module_interviews,\n          module_planning\n        ),\n        project_roles (\n          role_name,\n          can_manage_master_data,\n          can_create_batches,\n          can_upload_files,\n          can_bulk_edit_master_data\n        )\n      `,\n      )\n      .eq(\"user_id\", userId)\n\n    if (errorMembresias) {\n      console.error(`❌ [PCSU:${opId}] Error al obtener membresías:`, errorMembresias)\n      return {\n        error: `Error al obtener membresías: ${errorMembresias.message}`,\n      }\n    }\n\n    if (!membresias || membresias.length === 0) {\n      console.log(`ℹ️ [PCSU:${opId}] No se encontraron membresías para el usuario.`)\n      return { success: true, data: [] }\n    }\n\n    // Tipo intermedio que acepta null para usar en map\n    type ProyectoSettingOrNull = UserProjectSetting | null\n\n    const proyectosConSettings: UserProjectSetting[] = membresias\n      .map((m): ProyectoSettingOrNull =\u003e {\n        const proyectoBase = m.projects as Project | null\n        if (!proyectoBase || !proyectoBase.id) {\n          return null\n        }\n\n        // Extraer datos de permisos del rol\n        const rolePermissionsData = m.project_roles as RolePermissions | null\n\n        // Crear objeto de permisos (con valores por defecto si son null)\n        const permissions: RolePermissions | null = rolePermissionsData\n          ? {\n              role_name: rolePermissionsData.role_name ?? null,\n              can_manage_master_data: rolePermissionsData.can_manage_master_data ?? false,\n              can_create_batches: rolePermissionsData.can_create_batches ?? false,\n              can_upload_files: rolePermissionsData.can_upload_files ?? false,\n              can_bulk_edit_master_data: rolePermissionsData.can_bulk_edit_master_data ?? false,\n            }\n          : null\n\n        return {\n          // Campos de Project\n          id: String(proyectoBase.id),\n          name: proyectoBase.name,\n          code: proyectoBase.code ?? null,\n          description: proyectoBase.description ?? null,\n          institution_name: proyectoBase.institution_name ?? null,\n          status: proyectoBase.status ?? null,\n          module_bibliography: proyectoBase.module_bibliography ?? null,\n          module_interviews: proyectoBase.module_interviews ?? null,\n          module_planning: proyectoBase.module_planning ?? null,\n\n          // Campos de UserProjectSetting (directos de project_members)\n          project_role_id: m.project_role_id!,\n          is_active_for_user: m.is_active_for_user ?? false,\n          ui_theme: m.ui_theme ?? null,\n          ui_font_pair: m.ui_font_pair ?? null,\n          ui_is_dark_mode: m.ui_is_dark_mode ?? false,\n          contextual_notes: m.contextual_notes ?? null,\n          contact_email_for_project: m.contact_email_for_project ?? null,\n\n          // Objeto de permisos del rol\n          permissions,\n        }\n      })\n      .filter((p): p is UserProjectSetting =\u003e p !== null)\n\n    console.log(`🎉 [PCSU:${opId}] ÉXITO: ${proyectosConSettings.length} proyectos con settings obtenidos.`)\n\n    // Log detallado para ver la estructura completa de datos\n    console.log(\n      `📊 [PCSU:${opId}] DETALLE DE DATOS OBTENIDOS:`,\n      JSON.stringify(\n        {\n          totalProyectos: proyectosConSettings.length,\n          proyectos: proyectosConSettings.map((p) =\u003e ({\n            id: p.id,\n            name: p.name,\n            code: p.code,\n            description: p.description,\n            institution_name: p.institution_name,\n            status: p.status,\n            module_bibliography: p.module_bibliography,\n            module_interviews: p.module_interviews,\n            module_planning: p.module_planning,\n            // Settings de UI\n            ui_theme: p.ui_theme,\n            ui_font_pair: p.ui_font_pair,\n            ui_is_dark_mode: p.ui_is_dark_mode,\n            // Permisos\n            permissions: p.permissions,\n            // Otros datos\n            project_role_id: p.project_role_id,\n            is_active_for_user: p.is_active_for_user,\n            contextual_notes: p.contextual_notes,\n            contact_email_for_project: p.contact_email_for_project,\n          })),\n        },\n        null,\n        2,\n      ),\n    )\n\n    return { success: true, data: proyectosConSettings }\n  } catch (error) {\n    console.error(`❌ [PCSU:${opId}] Excepción:`, error)\n    return { error: `Error interno: ${(error as Error).message}` }\n  }\n}\n\nexport async function cargarDatosDashboardUsuario(userId: string): Promise\u003cResultadoOperacion\u003cUserDashboardData\u003e\u003e {\n  const opId = Math.floor(Math.random() * 1000)\n  console.log(`📄 [CDDU:${opId}] Iniciando cargarDatosDashboardUsuario para: ${userId.substring(0, 8)}...`)\n\n  try {\n    const supabase = await createSupabaseServerClient()\n\n    // 1. Obtener perfil general del usuario\n    console.log(`🔍 [CDDU:${opId}] Obteniendo perfil general...`)\n    const { data: profileData, error: profileError } = await supabase\n      .from(\"users_profiles\")\n      .select(\n        `\n          user_id, \n          first_name, \n          last_name, \n          public_display_name,\n          public_contact_email,\n          primary_institution, \n          contact_phone, \n          general_notes,\n          preferred_language,\n          pronouns\n      `,\n      )\n      .eq(\"user_id\", userId)\n      .single()\n\n    if (profileError \u0026\u0026 profileError.code !== \"PGRST116\") {\n      console.error(`❌ [CDDU:${opId}] Error obteniendo perfil:`, profileError)\n      return { error: `Error obteniendo perfil: ${profileError.message}` }\n    }\n\n    // 2. Obtener proyectos con sus settings de membresía\n    console.log(`🔍 [CDDU:${opId}] Obteniendo proyectos con settings...`)\n    const proyectosSettingsResultado = await obtenerProyectosConSettingsUsuario(userId)\n\n    if (!proyectosSettingsResultado.success) {\n      console.error(`❌ [CDDU:${opId}] Error obteniendo proyectos con settings:`, proyectosSettingsResultado.error)\n      return { error: proyectosSettingsResultado.error }\n    }\n\n    const dashboardData: UserDashboardData = {\n      profile: profileData as UserProfile | null,\n      projects: proyectosSettingsResultado.data,\n    }\n\n    console.log(\n      `🎉 [CDDU:${opId}] ÉXITO: Datos del dashboard cargados. Perfil: ${\n        profileData ? \"OK\" : \"No encontrado\"\n      }, Proyectos: ${dashboardData.projects.length}`,\n    )\n\n    // Log detallado del perfil del usuario\n    console.log(`👤 [CDDU:${opId}] DETALLE DEL PERFIL:`, JSON.stringify(dashboardData.profile, null, 2))\n\n    // Resumen de temas y fuentes configurados por proyecto\n    console.log(`🎨 [CDDU:${opId}] CONFIGURACIONES DE UI POR PROYECTO:`)\n    dashboardData.projects.forEach((project) =\u003e {\n      console.log(`  - Proyecto \"${project.name}\" (${project.id.substring(0, 8)}...):\n        • Tema UI: ${project.ui_theme || \"No configurado\"}\n        • Par de Fuentes: ${project.ui_font_pair || \"No configurado\"}\n        • Modo Oscuro: ${project.ui_is_dark_mode ? \"Activado\" : \"Desactivado\"}`)\n    })\n\n    return { success: true, data: dashboardData }\n  } catch (error) {\n    console.error(`❌ [CDDU:${opId}] Excepción:`, error)\n    return { error: `Error interno: ${(error as Error).message}` }\n  }\n}\n\n// Otras funciones pueden implementarse según sea necesario\nexport async function obtenerProyectoPorId(proyectoId: string): Promise\u003cResultadoOperacion\u003cProject | null\u003e\u003e {\n  const opId = Math.floor(Math.random() * 1000)\n  console.log(`📄 [PPI:${opId}] Iniciando obtenerProyectoPorId para: ${proyectoId}`)\n\n  try {\n    const supabase = await createSupabaseServerClient()\n\n    const { data, error } = await supabase\n      .from(\"projects\")\n      .select(\n        \"id, name, code, description, institution_name, status, module_bibliography, module_interviews, module_planning\",\n      )\n      .eq(\"id\", proyectoId)\n      .single()\n\n    if (error) {\n      if (error.code === \"PGRST116\") {\n        return { success: true, data: null }\n      }\n      return { error: `Error al obtener proyecto: ${error.message}` }\n    }\n\n    const proyectoFormateado: Project = data as Project\n    return { success: true, data: proyectoFormateado }\n  } catch (error) {\n    return { error: `Error interno: ${(error as Error).message}` }\n  }\n}\n\nexport async function obtenerPerfilesMiembrosProyecto(proyectoId: string): Promise\u003cResultadoOperacion\u003cUserProfile[]\u003e\u003e {\n  const opId = Math.floor(Math.random() * 1000)\n  console.log(`📄 [PMP:${opId}] Iniciando obtenerPerfilesMiembrosProyecto para: ${proyectoId}`)\n\n  try {\n    const supabase = await createSupabaseServerClient()\n\n    const { data: miembros, error } = await supabase\n      .from(\"project_members\")\n      .select(\n        `\n          user_id,\n          project_role_id, \n          users_profiles (\n              user_id,\n              first_name,\n              last_name,\n              primary_institution,\n              contact_phone,\n              general_notes,\n              public_display_name,\n              public_contact_email,\n              preferred_language,\n              pronouns\n          )\n      `,\n      )\n      .eq(\"project_id\", proyectoId)\n\n    if (error) {\n      return {\n        error: `Error obteniendo miembros: ${(error as Error).message}`,\n      }\n    }\n    if (!miembros) {\n      return { success: true, data: [] }\n    }\n\n    const perfiles: UserProfile[] = miembros\n      .map((m) =\u003e {\n        const perfilData = m.users_profiles\n        if (perfilData \u0026\u0026 typeof perfilData === \"object\" \u0026\u0026 \"user_id\" in perfilData) {\n          return perfilData as UserProfile\n        }\n        return null\n      })\n      .filter((p): p is UserProfile =\u003e p !== null)\n\n    console.log(`🎉 [PMP:${opId}] ÉXITO: ${perfiles.length} perfiles encontrados para proyecto ${proyectoId}.`)\n    return { success: true, data: perfiles }\n  } catch (error) {\n    return { error: `Error interno: ${(error as Error).message}` }\n  }\n}\n\n// Nueva server action para actualizar preferencias UI de un proyecto para un usuario\nexport async function actualizarPreferenciasUI(\n  userId: string,\n  proyectoId: string,\n  preferencias: {\n    ui_theme?: string | null\n    ui_font_pair?: string | null\n    ui_is_dark_mode?: boolean | null\n  },\n): Promise\u003cResultadoOperacion\u003cnull\u003e\u003e {\n  const opId = Math.floor(Math.random() * 1000)\n  console.log(\n    `📄 [APU:${opId}] Iniciando actualizarPreferenciasUI para usuario: ${userId.substring(\n      0,\n      8,\n    )}, proyecto: ${proyectoId.substring(0, 8)}`,\n  )\n\n  try {\n    if (!userId || !proyectoId) {\n      return { error: \"Se requiere ID de usuario y proyecto válidos\" }\n    }\n\n    const supabase = await createSupabaseServerClient()\n\n    // Actualizar solo los campos proporcionados\n    const actualizaciones: any = {}\n    if (preferencias.ui_theme !== undefined) actualizaciones.ui_theme = preferencias.ui_theme\n    if (preferencias.ui_font_pair !== undefined) actualizaciones.ui_font_pair = preferencias.ui_font_pair\n    if (preferencias.ui_is_dark_mode !== undefined) actualizaciones.ui_is_dark_mode = preferencias.ui_is_dark_mode\n\n    // Solo proceder si hay algo que actualizar\n    if (Object.keys(actualizaciones).length === 0) {\n      console.log(`ℹ️ [APU:${opId}] No hay cambios que actualizar`)\n      return { success: true, data: null }\n    }\n\n    console.log(`📝 [APU:${opId}] Actualizando preferencias:`, actualizaciones)\n\n    const { error } = await supabase\n      .from(\"project_members\")\n      .update(actualizaciones)\n      .eq(\"user_id\", userId)\n      .eq(\"project_id\", proyectoId)\n\n    if (error) {\n      console.error(`❌ [APU:${opId}] Error al actualizar preferencias:`, error)\n      return { error: `Error al actualizar preferencias: ${error.message}` }\n    }\n\n    console.log(`✅ [APU:${opId}] Preferencias actualizadas exitosamente`)\n    return { success: true, data: null }\n  } catch (error) {\n    console.error(`❌ [APU:${opId}] Excepción:`, error)\n    return { error: `Error interno: ${(error as Error).message}` }\n  }\n}\n\n// Nueva server action para actualizar el proyecto activo\nexport async function actualizarProyectoActivo(userId: string, proyectoId: string): Promise\u003cResultadoOperacion\u003cnull\u003e\u003e {\n  const opId = Math.floor(Math.random() * 1000)\n  console.log(\n    `📄 [APA:${opId}] Iniciando actualizarProyectoActivo para usuario: ${userId.substring(\n      0,\n      8,\n    )}, proyecto: ${proyectoId.substring(0, 8)}`,\n  )\n\n  try {\n    if (!userId || !proyectoId) {\n      return { error: \"Se requiere ID de usuario y proyecto válidos\" }\n    }\n\n    const supabase = await createSupabaseServerClient()\n\n    // Primero desactivamos todos los proyectos del usuario\n    console.log(`🔄 [APA:${opId}] Desactivando todos los proyectos del usuario`)\n    const { error: desactivarError } = await supabase\n      .from(\"project_members\")\n      .update({ is_active_for_user: false })\n      .eq(\"user_id\", userId)\n\n    if (desactivarError) {\n      console.error(`❌ [APA:${opId}] Error al desactivar proyectos:`, desactivarError)\n      return {\n        error: `Error al desactivar proyectos: ${desactivarError.message}`,\n      }\n    }\n\n    // Luego activamos el proyecto seleccionado\n    console.log(`🔄 [APA:${opId}] Activando proyecto seleccionado`)\n    const { error: activarError } = await supabase\n      .from(\"project_members\")\n      .update({ is_active_for_user: true })\n      .eq(\"user_id\", userId)\n      .eq(\"project_id\", proyectoId)\n\n    if (activarError) {\n      console.error(`❌ [APA:${opId}] Error al activar proyecto:`, activarError)\n      return { error: `Error al activar proyecto: ${activarError.message}` }\n    }\n\n    console.log(`✅ [APA:${opId}] Proyecto activo actualizado exitosamente`)\n    return { success: true, data: null }\n  } catch (error) {\n    console.error(`❌ [APA:${opId}] Excepción:`, error)\n    return { error: `Error interno: ${(error as Error).message}` }\n  }\n}\n"])</script><script>self.__next_f.push([1,"1e:T1c89,"])</script><script>self.__next_f.push([1,"\"use server\"\n\nimport { supabaseClient } from \"@/lib/supabase\"\nimport { revalidatePath } from \"next/cache\"\nimport Papa from \"papaparse\"\nimport type { CSVRow } from \"@/lib/utils/csv-validator\"\n\ntype EntrevistaData = {\n  codigo_entrevista: string\n  fundacion_id: number\n  entrevistado_id: number\n  investigador_id?: number\n  numero_entrevista: number\n  fecha_entrevista?: string\n  duracion?: number\n  notas?: string\n  idioma?: string\n}\n\nexport async function obtenerSiguienteNumeroEntrevista(codigoBase: string) {\n  try {\n    // Buscar entrevistas con el mismo código base (primeros 4 caracteres)\n    const { data, error } = await supabaseClient\n      .from(\"entrevistas\")\n      .select(\"codigo_entrevista\")\n      .like(\"codigo_entrevista\", `${codigoBase}%`)\n      .order(\"codigo_entrevista\", { ascending: false })\n\n    if (error) {\n      console.error(\"Error al obtener entrevistas:\", error)\n      return { error: \"Error al obtener el siguiente número de entrevista\" }\n    }\n\n    // Si no hay entrevistas previas, comenzar con 01\n    if (!data || data.length === 0) {\n      return { success: true, numero: \"01\" }\n    }\n\n    // Extraer el número más alto y sumar 1\n    try {\n      const ultimoCodigo = data[0].codigo_entrevista\n      const ultimoNumero = Number.parseInt(ultimoCodigo.substring(4), 10)\n      const siguienteNumero = (ultimoNumero + 1).toString().padStart(2, \"0\")\n      return { success: true, numero: siguienteNumero }\n    } catch (parseError) {\n      console.error(\"Error al parsear el código:\", parseError)\n      return { success: true, numero: \"01\" } // En caso de error, comenzar con 01\n    }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n\nexport async function crearEntrevistaParaTranscripcion(data: EntrevistaData) {\n  try {\n    // Verificar si ya existe una entrevista con el mismo código\n    const { data: existingEntrevista, error: checkError } = await supabaseClient\n      .from(\"entrevistas\")\n      .select(\"id\")\n      .eq(\"codigo_entrevista\", data.codigo_entrevista)\n      .maybeSingle()\n\n    if (checkError) {\n      console.error(\"Error al verificar entrevista existente:\", checkError)\n      return { error: \"Error al verificar si la entrevista ya existe\" }\n    }\n\n    if (existingEntrevista) {\n      return { error: `Ya existe una entrevista con el código ${data.codigo_entrevista}` }\n    }\n\n    // Insertar la nueva entrevista\n    const { data: newEntrevista, error } = await supabaseClient\n      .from(\"entrevistas\")\n      .insert([\n        {\n          codigo_entrevista: data.codigo_entrevista,\n          fundacion_id: data.fundacion_id,\n          entrevistado_id: data.entrevistado_id,\n          investigador_id: data.investigador_id || null,\n          numero_entrevista: data.numero_entrevista,\n          fecha_entrevista: data.fecha_entrevista || null,\n          duracion: data.duracion || null,\n          notas: data.notas || null,\n          idioma: data.idioma || \"es-ES\",\n        },\n      ])\n      .select()\n      .single()\n\n    if (error) {\n      console.error(\"Error al crear entrevista:\", error)\n      return { error: \"Error al crear la entrevista\" }\n    }\n\n    // Revalidar la ruta para actualizar los datos\n    revalidatePath(\"/transcripciones\")\n    revalidatePath(\"/entrevistas\")\n\n    return { success: true, data: newEntrevista }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n\nexport async function procesarCSVTranscripcion(entrevistaId: number, csvContent: string) {\n  try {\n    // Parsear el contenido CSV\n    const { data, errors } = Papa.parse\u003cCSVRow\u003e(csvContent, {\n      header: true,\n      skipEmptyLines: true,\n    })\n\n    if (errors.length \u003e 0) {\n      console.error(\"Errores al parsear CSV:\", errors)\n      return { error: \"Error al parsear el archivo CSV\" }\n    }\n\n    if (!data || data.length === 0) {\n      return { error: \"El archivo CSV no contiene datos\" }\n    }\n\n    // Preparar los datos para inserción en la tabla transcripciones\n    // Eliminamos el campo 'hablante' ya que no existe en la tabla\n    const transcripciones = data.map((row) =\u003e ({\n      entrevista_id: entrevistaId,\n      id_segmento: Number.parseInt(row.ID, 10),\n      timestamp: row.Timestamp || null,\n      rol: row.Rol,\n      texto_original: row.Texto_Original,\n      texto_normalizado: row.Texto_Normalizado,\n      nivel_confianza: Number.parseInt(row.Nivel_de_Confianza, 10),\n    }))\n\n    // Insertar las transcripciones en la base de datos\n    const { error } = await supabaseClient.from(\"transcripciones\").insert(transcripciones)\n\n    if (error) {\n      console.error(\"Error al insertar transcripciones:\", error)\n      return { error: \"Error al guardar las transcripciones en la base de datos\" }\n    }\n\n    // Revalidar las rutas para actualizar los datos\n    revalidatePath(\"/transcripciones\")\n    revalidatePath(`/entrevistas/${entrevistaId}`)\n\n    return {\n      success: true,\n      message: `Se han cargado ${transcripciones.length} segmentos de transcripción correctamente`,\n    }\n  } catch (error) {\n    console.error(\"Error al procesar CSV:\", error)\n    return { error: \"Error al procesar el archivo CSV\" }\n  }\n}\n\nexport async function obtenerTranscripcionesPorEntrevista(entrevistaId: number) {\n  try {\n    const { data, error } = await supabaseClient\n      .from(\"transcripciones\")\n      .select(\"*\")\n      .eq(\"entrevista_id\", entrevistaId)\n      .order(\"id_segmento\")\n\n    if (error) {\n      console.error(\"Error al obtener transcripciones:\", error)\n      return { error: \"Error al obtener las transcripciones\" }\n    }\n\n    return { success: true, data }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n\nexport async function obtenerTranscripciones() {\n  try {\n    const { data, error } = await supabaseClient\n      .from(\"entrevistas\")\n      .select(`\n        id,\n        codigo_entrevista,\n        fundacion:fundacion_id (\n          id,\n          codigo,\n          nombre\n        ),\n        entrevistado:entrevistado_id (\n          id,\n          codigo,\n          nombre,\n          apellido\n        ),\n        investigador:investigador_id (\n          id,\n          codigo,\n          nombre,\n          apellido\n        ),\n        fecha_entrevista\n      `)\n      .order(\"fecha_entrevista\", { ascending: false })\n\n    if (error) {\n      console.error(\"Error al obtener entrevistas:\", error)\n      return { error: \"Error al obtener las entrevistas\" }\n    }\n\n    const transcripcionesConCantidad = await Promise.all(\n      data.map(async (entrevista) =\u003e {\n        const { data: segmentos, error: segmentosError } = await supabaseClient\n          .from(\"transcripciones\")\n          .select(\"id\", { count: \"exact\" })\n          .eq(\"entrevista_id\", entrevista.id)\n\n        if (segmentosError) {\n          console.error(\"Error al obtener segmentos:\", segmentosError)\n          return { entrevista, cantidad_segmentos: 0 }\n        }\n\n        return { entrevista, cantidad_segmentos: segmentos ? segmentos.length : 0 }\n      }),\n    )\n\n    return { success: true, data: transcripcionesConCantidad }\n  } catch (error) {\n    console.error(\"Error inesperado:\", error)\n    return { error: \"Ocurrió un error inesperado\" }\n  }\n}\n"])</script><script>self.__next_f.push([1,"1f:T813,"])</script><script>self.__next_f.push([1,"import { type NextRequest, NextResponse } from \"next/server\"\n\n// Endpoint de prueba directa para la API de Gemini sin usar la biblioteca\nexport async function GET(request: NextRequest) {\n  try {\n    // Verificar la API key\n    const apiKey = process.env.GEMINI_API_KEY || \"\"\n    console.log(\"📝 API Key disponible:\", apiKey ? \"Sí (longitud: \" + apiKey.length + \")\" : \"No\")\n\n    if (!apiKey) {\n      return NextResponse.json({ error: \"API key no configurada\" }, { status: 500 })\n    }\n\n    // Llamar directamente a la API de Gemini usando fetch\n    const endpoint = \"https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent\"\n    const url = `${endpoint}?key=${apiKey}`\n\n    const payload = {\n      contents: [\n        {\n          parts: [{ text: \"Say hello in Spanish in one word\" }],\n        },\n      ],\n      generationConfig: {\n        temperature: 0.2,\n        maxOutputTokens: 100,\n      },\n    }\n\n    console.log(\"📝 Enviando solicitud directa a la API de Gemini...\")\n    const response = await fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(payload),\n    })\n\n    if (!response.ok) {\n      const errorText = await response.text()\n      console.error(\"❌ Error en la respuesta de la API:\", response.status, errorText)\n      return NextResponse.json(\n        {\n          error: \"Error en la llamada a la API de Gemini\",\n          status: response.status,\n          details: errorText,\n        },\n        { status: 500 },\n      )\n    }\n\n    const data = await response.json()\n    const text = data.candidates?.[0]?.content?.parts?.[0]?.text || \"No response text\"\n\n    return NextResponse.json({\n      success: true,\n      response: text,\n      rawResponse: data,\n    })\n  } catch (error) {\n    console.error(\"❌ Error al realizar solicitud:\", error)\n\n    return NextResponse.json(\n      {\n        error: \"Error al probar la API\",\n        details: error instanceof Error ? error.message : String(error),\n      },\n      { status: 500 },\n    )\n  }\n}\n"])</script><script>self.__next_f.push([1,"20:T89b,"])</script><script>self.__next_f.push([1,"import { type NextRequest, NextResponse } from \"next/server\"\nimport { GoogleGenerativeAI } from \"@google/generative-ai\"\n\nexport async function POST(request: NextRequest) {\n  try {\n    // Obtener datos de la solicitud\n    const { text, model } = await request.json()\n\n    if (!text) {\n      return NextResponse.json({ error: \"No se proporcionó texto para traducir\" }, { status: 400 })\n    }\n\n    // Verificar la API key\n    const apiKey = process.env.GEMINI_API_KEY || process.env.GOOGLE_API_KEY\n    if (!apiKey) {\n      return NextResponse.json({ error: \"API key de Gemini no configurada\" }, { status: 500 })\n    }\n\n    // Determinar qué modelo usar\n    const modelName = model === \"flash\" ? \"gemini-2.0-flash\" : \"gemini-2.5-pro-preview-03-25\"\n\n    console.log(`Usando modelo: ${modelName}`)\n\n    // Inicializar el cliente de Google AI\n    const genAI = new GoogleGenerativeAI(apiKey)\n\n    // Configurar el modelo\n    const geminiModel = genAI.getGenerativeModel({\n      model: modelName,\n    })\n\n    // Configuración de generación\n    const generationConfig = {\n      temperature: 0.2,\n      maxOutputTokens: 1000,\n    }\n\n    // Crear el prompt para la traducción\n    const prompt = `\n      Eres un traductor profesional especializado en traducir textos académicos del inglés al español.\n      Debes mantener el tono formal y técnico del texto original.\n      \n      Traduce el siguiente texto del inglés al español:\n      \n      \"${text}\"\n      \n      Proporciona SOLO la traducción, sin comentarios adicionales ni texto en inglés.\n    `\n\n    // Generar la traducción\n    // Método 1: Usando la API con un solo argumento (compatible con v0.2.0)\n    const result = await geminiModel.generateContent({\n      contents: [{ role: \"user\", parts: [{ text: prompt }] }],\n      generationConfig,\n    })\n\n    const translation = result.response.text()\n\n    // Devolver la traducción\n    return NextResponse.json({ translation })\n  } catch (error: any) {\n    console.error(\"Error en la API de Gemini:\", error)\n\n    return NextResponse.json(\n      {\n        error: error.message || \"Error al procesar la traducción\",\n        details: error.toString(),\n      },\n      { status: 500 },\n    )\n  }\n}\n"])</script><script>self.__next_f.push([1,"21:T1a9e,"])</script><script>self.__next_f.push([1,"import { type NextRequest, NextResponse } from \"next/server\"\n\n// Definimos tipos aquí en lugar de importarlos\ntype HarmCategory =\n  | \"HARM_CATEGORY_HARASSMENT\"\n  | \"HARM_CATEGORY_HATE_SPEECH\"\n  | \"HARM_CATEGORY_SEXUALLY_EXPLICIT\"\n  | \"HARM_CATEGORY_DANGEROUS_CONTENT\"\n\ntype HarmBlockThreshold = \"BLOCK_NONE\" | \"BLOCK_LOW_AND_ABOVE\" | \"BLOCK_MEDIUM_AND_ABOVE\" | \"BLOCK_ONLY_HIGH\"\n\ninterface Article {\n  id: string\n  title: string\n  abstract: string\n}\n\ninterface RequestBody {\n  articles: Article[]\n  model: string\n}\n\n// Define the POST handler for the route\nexport async function POST(request: NextRequest) {\n  try {\n    console.log(\"📝 Iniciando procesamiento de traducción...\")\n\n    // Verificar la API key primero\n    const apiKey = process.env.GEMINI_API_KEY || \"\"\n    console.log(\"📝 API Key disponible:\", apiKey ? \"Sí (longitud: \" + apiKey.length + \")\" : \"No\")\n\n    if (!apiKey) {\n      return NextResponse.json(\n        {\n          error: \"No se ha configurado la API key de Gemini en las variables de entorno\",\n        },\n        { status: 500 },\n      )\n    }\n\n    // Importar dinámicamente la biblioteca\n    const { GoogleGenerativeAI } = await import(\"@google/genai\")\n    console.log(\"📝 Biblioteca importada correctamente\")\n\n    // Inicializar el cliente de Gemini\n    let genAI\n    try {\n      genAI = new GoogleGenerativeAI(apiKey)\n      console.log(\"📝 Cliente de Gemini inicializado correctamente\")\n    } catch (initError) {\n      console.error(\"❌ Error inicializando cliente de Gemini:\", initError)\n      return NextResponse.json(\n        {\n          error: \"Error al inicializar el cliente de Gemini\",\n          details: initError instanceof Error ? initError.message : String(initError),\n        },\n        { status: 500 },\n      )\n    }\n\n    // Continuar con el procesamiento de la solicitud\n    const body = (await request.json()) as RequestBody\n    const articles = body.articles\n    const modelName = body.model || \"gemini-pro\" // Default to gemini-pro if not specified\n\n    console.log(`📝 Modelo solicitado: ${modelName}`)\n    console.log(`📝 Artículos a procesar: ${articles?.length || 0}`)\n\n    if (!articles || !Array.isArray(articles)) {\n      return NextResponse.json({ error: \"Formato de datos inválido. Se requiere el array 'articles'\" }, { status: 400 })\n    }\n\n    if (articles.length === 0) {\n      return NextResponse.json({ error: \"No se proporcionaron artículos.\" }, { status: 400 })\n    }\n\n    // Validar/normalizar el modelo (usar gemini-pro si el modelo solicitado no es compatible)\n    const supportedModels = [\"gemini-pro\", \"gemini-1.0-pro\"]\n    const normalizedModel = supportedModels.includes(modelName) ? modelName : \"gemini-pro\"\n\n    if (normalizedModel !== modelName) {\n      console.log(`⚠️ Modelo solicitado \"${modelName}\" no soportado, usando \"gemini-pro\" como alternativa`)\n    }\n\n    // Construct the prompt for Gemini\n    // System instruction to guide the model's behavior and output format\n    const systemInstructionText = `You are an expert academic assistant. Your task is to process a list of scientific articles.\nFor each article, you must:\n1. Translate the 'title' from English to Spanish.\n2. Translate the 'abstract' from English to Spanish.\n3. Generate a concise 'summary' of the abstract in Spanish. The summary should be brief and capture the essence of the abstract.\n\nReturn the response as a single JSON array. Each object in the array should correspond to an input article and include its original 'id', and the new fields: 'titulo_es', 'abstract_es', and 'resumen_es'.\nEnsure the output is a valid JSON array. Example for one article:\n[\n  {\n    \"id\": \"original_id_1\",\n    \"titulo_es\": \"Título traducido al español\",\n    \"abstract_es\": \"Abstract traducido al español.\",\n    \"resumen_es\": \"Resumen conciso del abstract en español.\"\n  }\n]\n`\n\n    const userPrompt = `Please process the following articles according to the instructions:\\n${JSON.stringify(\n      articles.map((a) =\u003e ({ id: a.id, title: a.title, abstract: a.abstract })),\n      null,\n      2,\n    )}\\nRespond ONLY with the JSON array.`\n\n    console.log(`📝 Configurando modelo Gemini: ${normalizedModel}`)\n\n    try {\n      // Simplified approach - create a model with basic configuration\n      console.log(`📝 Intentando crear modelo con ID: ${normalizedModel}`)\n      const model = genAI.getGenerativeModel({\n        model: normalizedModel,\n        generationConfig: {\n          temperature: 0.2,\n          maxOutputTokens: 8192,\n        },\n      })\n\n      console.log(\"📝 Modelo configurado correctamente\")\n\n      // Simplified request\n      console.log(\"📝 Preparando solicitud para Gemini...\")\n\n      // Try non-streaming approach first (more reliable)\n      console.log(\"📝 Realizando petición no-streaming a Gemini\")\n      const response = await model.generateContent([\n        { text: systemInstructionText, role: \"system\" },\n        { text: userPrompt, role: \"user\" },\n      ])\n\n      const responseText = response.response.text()\n      console.log(\"📝 Respuesta recibida:\", responseText.substring(0, 100) + \"...\")\n\n      // Validar JSON\n      let parsedResponse\n      try {\n        parsedResponse = JSON.parse(responseText)\n        if (!Array.isArray(parsedResponse)) {\n          throw new Error(\"La respuesta no es un array JSON\")\n        }\n      } catch (jsonError) {\n        console.error(\"❌ Error al parsear JSON:\", jsonError)\n        return NextResponse.json(\n          {\n            error: \"Error al parsear respuesta JSON\",\n            details: jsonError instanceof Error ? jsonError.message : String(jsonError),\n            rawResponse: responseText.substring(0, 500) + \"...\",\n          },\n          { status: 500 },\n        )\n      }\n\n      // Devolver respuesta directamente sin streaming\n      return NextResponse.json(parsedResponse)\n    } catch (modelError) {\n      console.error(\"❌ Error específico de modelo:\", modelError)\n      return NextResponse.json(\n        {\n          error: \"Error al procesar con modelo de Gemini\",\n          details: modelError instanceof Error ? modelError.message : String(modelError),\n          model: normalizedModel,\n        },\n        { status: 500 },\n      )\n    }\n  } catch (error) {\n    console.error(\"Error en /api/traduccion:\", error)\n    // Mostrar el error completo para diagnóstico\n    let errorMessage = \"Error interno del servidor\"\n    let errorDetails = {}\n\n    if (error instanceof Error) {\n      errorMessage = error.message\n      errorDetails = {\n        name: error.name,\n        stack: error.stack,\n        cause: error.cause,\n      }\n    }\n\n    return NextResponse.json(\n      {\n        error: \"Error procesando la solicitud\",\n        message: errorMessage,\n        details: errorDetails,\n        modelName: \"unknown\",\n      },\n      { status: 500 },\n    )\n  }\n}\n"])</script><script>self.__next_f.push([1,"22:T23b3,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { createClientComponentClient } from \"@supabase/auth-helpers-nextjs\"\nimport { Button } from \"@/components/ui/button\"\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Loader2, Brain, ArrowLeft } from \"lucide-react\"\nimport ArticleTable from \"@/components/articulos/article-table\"\n\nexport default function LotePreclasificacionPage({ params }: { params: { lote: string } }) {\n  const supabase = createClientComponentClient()\n  const router = useRouter()\n  const [articles, setArticles] = useState\u003cany[]\u003e([])\n  const [loading, setLoading] = useState(true)\n  const [selectedArticle, setSelectedArticle] = useState\u003cany | null\u003e(null)\n  const [abstractDialogOpen, setAbstractDialogOpen] = useState(false)\n  const [activeTab, setActiveTab] = useState(\"original\")\n  const [investigador, setInvestigador] = useState\u003cstring | null\u003e(null)\n\n  useEffect(() =\u003e {\n    // Obtener el investigador de la URL\n    const urlParams = new URLSearchParams(window.location.search)\n    const invParam = urlParams.get(\"investigador\")\n    setInvestigador(invParam)\n  }, [])\n\n  const handleVolver = () =\u003e {\n    if (investigador) {\n      router.push(`/articulos/preclasificacion?investigador=${investigador}`)\n    } else {\n      router.push(\"/articulos/preclasificacion\")\n    }\n  }\n\n  useEffect(() =\u003e {\n    async function fetchArticles() {\n      setLoading(true)\n      try {\n        // Primero, obtener solo los artículos básicos para verificar las columnas disponibles\n        const { data: articlesData, error: articlesError } = await supabase\n          .from(\"articles\")\n          .select(\"*\")\n          .eq(\"lote\", params.lote)\n          .order(\"correlativo\", { ascending: true })\n\n        if (articlesError) {\n          console.error(\"Error al cargar artículos:\", articlesError)\n          setLoading(false)\n          return\n        }\n\n        if (!articlesData || articlesData.length === 0) {\n          console.log(\"No se encontraron artículos para este lote\")\n          setArticles([])\n          setLoading(false)\n          return\n        }\n\n        // Obtener los IDs de los artículos para las consultas relacionadas\n        const articleIds = articlesData.map((article) =\u003e article.id)\n\n        // Obtener las dimensiones de los artículos\n        const { data: dimensionsData, error: dimensionsError } = await supabase\n          .from(\"article_dimensions_pivot\")\n          .select(\"*\")\n          .in(\"article_id\", articleIds)\n\n        if (dimensionsError) {\n          console.error(\"Error al cargar dimensiones:\", dimensionsError)\n        }\n\n        // Obtener las traducciones de los artículos\n        const { data: translationsData, error: translationsError } = await supabase\n          .from(\"article_translations\")\n          .select(\"*\")\n          .in(\"article_id\", articleIds)\n\n        if (translationsError) {\n          console.error(\"Error al cargar traducciones:\", translationsError)\n        }\n\n        // Combinar los datos\n        const articlesWithRelations = articlesData.map((article) =\u003e {\n          return {\n            ...article,\n            dimensions: dimensionsData?.filter((d) =\u003e d.article_id === article.id) || [],\n            translations: translationsData?.filter((t) =\u003e t.article_id === article.id) || [],\n          }\n        })\n\n        setArticles(articlesWithRelations)\n      } catch (error) {\n        console.error(\"Error general:\", error)\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchArticles()\n  }, [params.lote, supabase])\n\n  const handleAbstractClick = (article: any) =\u003e {\n    setSelectedArticle(article)\n    setAbstractDialogOpen(true)\n  }\n\n  const handleCoInvestigadorClick = () =\u003e {\n    window.open(\n      \"https://chatgpt.com/g/g-QoD8sYiM3-co-investigador-academico\",\n      \"Co-investigador\",\n      \"width=500,height=700,top=100,left=1200,toolbar=no,menubar=no,scrollbars=yes,resizable=yes\",\n    )\n  }\n\n  if (loading) {\n    return (\n      \u003cdiv className=\"flex items-center justify-center h-[calc(100vh-200px)]\"\u003e\n        \u003cLoader2 className=\"h-8 w-8 animate-spin text-purple-600\" /\u003e\n        \u003cspan className=\"ml-2 text-lg\"\u003eCargando artículos...\u003c/span\u003e\n      \u003c/div\u003e\n    )\n  }\n\n  return (\n    \u003cdiv className=\"container mx-auto py-6 space-y-6\"\u003e\n      \u003cdiv className=\"flex justify-between items-center\"\u003e\n        \u003cdiv className=\"flex items-center gap-4\"\u003e\n          \u003cButton variant=\"outline\" onClick={handleVolver} className=\"flex items-center gap-2\"\u003e\n            \u003cArrowLeft className=\"h-4 w-4\" /\u003e\n            Volver\n          \u003c/Button\u003e\n          \u003ch1 className=\"text-3xl font-bold\"\u003ePreclasificación - Lote {params.lote}\u003c/h1\u003e\n        \u003c/div\u003e\n        \u003cButton onClick={handleCoInvestigadorClick} className=\"bg-purple-600 hover:bg-purple-700\"\u003e\n          \u003cBrain className=\"mr-2 h-4 w-4\" /\u003e\n          Co-investigador AI\n        \u003c/Button\u003e\n      \u003c/div\u003e\n\n      \u003cCard\u003e\n        \u003cCardHeader\u003e\n          \u003cCardTitle\u003eArtículos del lote {params.lote}\u003c/CardTitle\u003e\n        \u003c/CardHeader\u003e\n        \u003cCardContent\u003e\n          \u003cArticleTable articles={articles} onAbstractClick={handleAbstractClick} /\u003e\n        \u003c/CardContent\u003e\n      \u003c/Card\u003e\n\n      {/* Diálogo para mostrar el abstract */}\n      \u003cDialog open={abstractDialogOpen} onOpenChange={setAbstractDialogOpen}\u003e\n        \u003cDialogContent className=\"max-w-3xl max-h-[80vh] flex flex-col\"\u003e\n          \u003cDialogHeader\u003e\n            \u003cDialogTitle className=\"text-xl\"\u003e{selectedArticle?.Title}\u003c/DialogTitle\u003e\n          \u003c/DialogHeader\u003e\n\n          \u003cTabs defaultValue=\"original\" value={activeTab} onValueChange={setActiveTab} className=\"w-full\"\u003e\n            \u003cTabsList className=\"grid grid-cols-3\"\u003e\n              \u003cTabsTrigger value=\"original\"\u003eAbstract Original\u003c/TabsTrigger\u003e\n              \u003cTabsTrigger value=\"traduccion\"\u003eTraducción\u003c/TabsTrigger\u003e\n              \u003cTabsTrigger value=\"resumen\"\u003eResumen IA\u003c/TabsTrigger\u003e\n            \u003c/TabsList\u003e\n\n            \u003cTabsContent value=\"original\" className=\"mt-4\"\u003e\n              \u003cScrollArea className=\"h-[50vh]\"\u003e\n                \u003cdiv className=\"p-4 space-y-4\"\u003e\n                  \u003cdiv\u003e\n                    \u003ch3 className=\"font-semibold text-lg\"\u003eAutores\u003c/h3\u003e\n                    \u003cp\u003e{selectedArticle?.Authors}\u003c/p\u003e\n                  \u003c/div\u003e\n                  \u003cdiv\u003e\n                    \u003ch3 className=\"font-semibold text-lg\"\u003eAño\u003c/h3\u003e\n                    \u003cp\u003e{selectedArticle?.Publication_Year}\u003c/p\u003e\n                  \u003c/div\u003e\n                  \u003cdiv\u003e\n                    \u003ch3 className=\"font-semibold text-lg\"\u003eAbstract\u003c/h3\u003e\n                    \u003cp className=\"whitespace-pre-line\"\u003e{selectedArticle?.Abstract}\u003c/p\u003e\n                  \u003c/div\u003e\n                  {selectedArticle?.DOI \u0026\u0026 (\n                    \u003cdiv\u003e\n                      \u003ch3 className=\"font-semibold text-lg\"\u003eDOI\u003c/h3\u003e\n                      \u003cp\u003e{selectedArticle.DOI}\u003c/p\u003e\n                    \u003c/div\u003e\n                  )}\n                \u003c/div\u003e\n              \u003c/ScrollArea\u003e\n            \u003c/TabsContent\u003e\n\n            \u003cTabsContent value=\"traduccion\" className=\"mt-4\"\u003e\n              \u003cScrollArea className=\"h-[50vh]\"\u003e\n                \u003cdiv className=\"p-4 space-y-4\"\u003e\n                  {selectedArticle?.translations \u0026\u0026 selectedArticle.translations.length \u003e 0 ? (\n                    \u003c\u003e\n                      \u003cdiv\u003e\n                        \u003ch3 className=\"font-semibold text-lg\"\u003eTítulo Traducido\u003c/h3\u003e\n                        \u003cp\u003e{selectedArticle.translations[0].article_title_translation}\u003c/p\u003e\n                      \u003c/div\u003e\n                      \u003cdiv\u003e\n                        \u003ch3 className=\"font-semibold text-lg\"\u003eAbstract Traducido\u003c/h3\u003e\n                        \u003cp className=\"whitespace-pre-line\"\u003e{selectedArticle.translations[0].abstract_translation}\u003c/p\u003e\n                      \u003c/div\u003e\n                    \u003c/\u003e\n                  ) : (\n                    \u003cp className=\"text-center text-gray-500 italic\"\u003eNo hay traducción disponible para este artículo.\u003c/p\u003e\n                  )}\n                \u003c/div\u003e\n              \u003c/ScrollArea\u003e\n            \u003c/TabsContent\u003e\n\n            \u003cTabsContent value=\"resumen\" className=\"mt-4\"\u003e\n              \u003cScrollArea className=\"h-[50vh]\"\u003e\n                \u003cdiv className=\"p-4\"\u003e\n                  {selectedArticle?.translations \u0026\u0026\n                  selectedArticle.translations.length \u003e 0 \u0026\u0026\n                  selectedArticle.translations[0].abstract_summary ? (\n                    \u003cdiv\u003e\n                      \u003ch3 className=\"font-semibold text-lg\"\u003eResumen generado por IA\u003c/h3\u003e\n                      \u003cp className=\"whitespace-pre-line\"\u003e{selectedArticle.translations[0].abstract_summary}\u003c/p\u003e\n                    \u003c/div\u003e\n                  ) : (\n                    \u003cp className=\"text-center text-gray-500 italic\"\u003eNo hay resumen IA disponible para este artículo.\u003c/p\u003e\n                  )}\n                \u003c/div\u003e\n              \u003c/ScrollArea\u003e\n            \u003c/TabsContent\u003e\n          \u003c/Tabs\u003e\n        \u003c/DialogContent\u003e\n      \u003c/Dialog\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"23:T21fe,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useRouter, useSearchParams } from \"next/navigation\"\nimport { supabase } from \"@/lib/supabase\"\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Loader2, CheckCircle, Clock, AlertCircle } from \"lucide-react\"\n\ninterface Investigador {\n  id: number\n  codigo: string\n  nombre: string\n  apellido: string\n}\n\ninterface Lote {\n  lote: number\n  codigo_investigador: string\n  modelo_ai: string\n  inicio: string | null\n  fin: string | null\n}\n\nexport default function PreclasificacionPage() {\n  const searchParams = useSearchParams()\n  const [investigadores, setInvestigadores] = useState\u003cInvestigador[]\u003e([])\n  const [selectedInvestigador, setSelectedInvestigador] = useState\u003cstring\u003e(\"\")\n  const [lotes, setLotes] = useState\u003cLote[]\u003e([])\n  const [loading, setLoading] = useState\u003cboolean\u003e(true)\n  const router = useRouter()\n\n  // Cargar investigadores y verificar si hay uno en la URL\n  useEffect(() =\u003e {\n    async function fetchInvestigadores() {\n      try {\n        const { data, error } = await supabase\n          .from(\"investigadores\")\n          .select(\"id, codigo, nombre, apellido\")\n          .order(\"apellido\")\n\n        if (error) throw error\n        setInvestigadores(data || [])\n\n        // Verificar si hay un investigador en la URL\n        const invFromUrl = searchParams.get(\"investigador\")\n        if (invFromUrl) {\n          setSelectedInvestigador(invFromUrl)\n        } else {\n          // Verificar si hay un investigador en localStorage\n          const savedInv = localStorage.getItem(\"selectedInvestigador\")\n          if (savedInv) {\n            setSelectedInvestigador(savedInv)\n          }\n        }\n      } catch (error) {\n        console.error(\"Error al cargar investigadores:\", error)\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchInvestigadores()\n  }, [searchParams])\n\n  // Cargar lotes cuando se selecciona un investigador\n  useEffect(() =\u003e {\n    if (!selectedInvestigador) {\n      setLotes([])\n      return\n    }\n\n    // Guardar el investigador seleccionado en localStorage\n    localStorage.setItem(\"selectedInvestigador\", selectedInvestigador)\n\n    async function fetchLotes() {\n      setLoading(true)\n      try {\n        const { data, error } = await supabase\n          .from(\"lote_revision_control\")\n          .select(\"*\")\n          .eq(\"codigo_investigador\", selectedInvestigador)\n          .order(\"lote\")\n\n        if (error) throw error\n        setLotes(data || [])\n      } catch (error) {\n        console.error(\"Error al cargar lotes:\", error)\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchLotes()\n  }, [selectedInvestigador])\n\n  // Determinar el estado del lote\n  const getLoteStatus = (lote: Lote) =\u003e {\n    if (!lote.inicio \u0026\u0026 !lote.fin) return \"por-procesar\"\n    if (lote.inicio \u0026\u0026 !lote.fin) return \"en-proceso\"\n    return \"procesado\"\n  }\n\n  // Obtener etiqueta del estado\n  const getStatusLabel = (status: string) =\u003e {\n    switch (status) {\n      case \"por-procesar\":\n        return \"Por procesar\"\n      case \"en-proceso\":\n        return \"En proceso\"\n      case \"procesado\":\n        return \"Procesado\"\n      default:\n        return \"\"\n    }\n  }\n\n  // Obtener icono según estado\n  const getStatusIcon = (status: string) =\u003e {\n    switch (status) {\n      case \"por-procesar\":\n        return \u003cAlertCircle className=\"h-5 w-5\" /\u003e\n      case \"en-proceso\":\n        return \u003cClock className=\"h-5 w-5\" /\u003e\n      case \"procesado\":\n        return \u003cCheckCircle className=\"h-5 w-5\" /\u003e\n      default:\n        return null\n    }\n  }\n\n  // Manejar clic en lote\n  const handleLoteClick = async (lote: Lote) =\u003e {\n    // Si el lote no ha sido iniciado, actualizar la fecha de inicio\n    if (!lote.inicio) {\n      try {\n        await supabase\n          .from(\"lote_revision_control\")\n          .update({ inicio: new Date().toISOString() })\n          .eq(\"lote\", lote.lote)\n          .eq(\"codigo_investigador\", lote.codigo_investigador)\n      } catch (error) {\n        console.error(\"Error al actualizar fecha de inicio:\", error)\n      }\n    }\n\n    // Navegar a la página de detalle del lote\n    router.push(`/articulos/preclasificacion/${lote.lote}?investigador=${lote.codigo_investigador}`)\n  }\n\n  return (\n    \u003cdiv className=\"container mx-auto py-8\"\u003e\n      \u003ch1 className=\"text-3xl font-bold mb-6\"\u003ePreclasificación de Artículos Académicos\u003c/h1\u003e\n\n      \u003cCard className=\"mb-8\"\u003e\n        \u003cCardHeader\u003e\n          \u003cCardTitle\u003eSelección de Investigador\u003c/CardTitle\u003e\n          \u003cCardDescription\u003e\n            Seleccione un investigador para ver los lotes asignados para preclasificación\n          \u003c/CardDescription\u003e\n        \u003c/CardHeader\u003e\n        \u003cCardContent\u003e\n          \u003cdiv className=\"relative z-50\"\u003e\n            \u003cSelect value={selectedInvestigador} onValueChange={setSelectedInvestigador}\u003e\n              \u003cSelectTrigger className=\"w-full md:w-[300px]\"\u003e\n                \u003cSelectValue placeholder=\"Seleccione un investigador\" /\u003e\n              \u003c/SelectTrigger\u003e\n              \u003cSelectContent\u003e\n                {investigadores.map((investigador) =\u003e (\n                  \u003cSelectItem key={investigador.codigo} value={investigador.codigo}\u003e\n                    {investigador.nombre} {investigador.apellido} ({investigador.codigo})\n                  \u003c/SelectItem\u003e\n                ))}\n              \u003c/SelectContent\u003e\n            \u003c/Select\u003e\n          \u003c/div\u003e\n        \u003c/CardContent\u003e\n      \u003c/Card\u003e\n\n      {loading \u0026\u0026 selectedInvestigador ? (\n        \u003cdiv className=\"flex justify-center items-center py-12\"\u003e\n          \u003cLoader2 className=\"h-8 w-8 animate-spin text-primary\" /\u003e\n          \u003cspan className=\"ml-2\"\u003eCargando lotes...\u003c/span\u003e\n        \u003c/div\u003e\n      ) : selectedInvestigador \u0026\u0026 lotes.length === 0 ? (\n        \u003cdiv className=\"text-center py-12 bg-muted rounded-lg\"\u003e\n          \u003ch3 className=\"text-xl font-medium mb-2\"\u003eNo hay lotes asignados\u003c/h3\u003e\n          \u003cp className=\"text-muted-foreground\"\u003eNo se encontraron lotes asignados al investigador seleccionado.\u003c/p\u003e\n        \u003c/div\u003e\n      ) : selectedInvestigador ? (\n        \u003cdiv\u003e\n          {selectedInvestigador \u0026\u0026 (\n            \u003cdiv className=\"mb-4\"\u003e\n              \u003cp className=\"text-muted-foreground\"\u003e\n                Investigador seleccionado:{\" \"}\n                \u003cspan className=\"font-medium\"\u003e\n                  {investigadores.find((inv) =\u003e inv.codigo === selectedInvestigador)?.nombre}{\" \"}\n                  {investigadores.find((inv) =\u003e inv.codigo === selectedInvestigador)?.apellido} ({selectedInvestigador})\n                \u003c/span\u003e\n              \u003c/p\u003e\n            \u003c/div\u003e\n          )}\n          \u003ch2 className=\"text-2xl font-semibold mb-4\"\u003eLotes Asignados\u003c/h2\u003e\n          \u003cdiv className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\"\u003e\n            {lotes.map((lote) =\u003e {\n              const status = getLoteStatus(lote)\n              return (\n                \u003cCard\n                  key={lote.lote}\n                  className={`cursor-pointer transition-all hover:shadow-md ${\n                    status === \"por-procesar\"\n                      ? \"border-red-200 hover:border-red-300\"\n                      : status === \"en-proceso\"\n                        ? \"border-yellow-200 hover:border-yellow-300\"\n                        : \"border-green-200 hover:border-green-300\"\n                  }`}\n                  onClick={() =\u003e handleLoteClick(lote)}\n                \u003e\n                  \u003cCardHeader className=\"pb-2\"\u003e\n                    \u003cCardTitle className=\"text-xl\"\u003eLote #{lote.lote}\u003c/CardTitle\u003e\n                  \u003c/CardHeader\u003e\n                  \u003cCardContent\u003e\n                    \u003cp className=\"text-sm text-muted-foreground mb-2\"\u003e\n                      Modelo IA: \u003cspan className=\"font-medium\"\u003e{lote.modelo_ai || \"No especificado\"}\u003c/span\u003e\n                    \u003c/p\u003e\n                  \u003c/CardContent\u003e\n                  \u003cCardFooter\u003e\n                    \u003cdiv\n                      className={`flex items-center px-3 py-1 rounded-full text-sm ${\n                        status === \"por-procesar\"\n                          ? \"bg-red-100 text-red-800\"\n                          : status === \"en-proceso\"\n                            ? \"bg-yellow-100 text-yellow-800\"\n                            : \"bg-green-100 text-green-800\"\n                      }`}\n                    \u003e\n                      {getStatusIcon(status)}\n                      \u003cspan className=\"ml-1\"\u003e{getStatusLabel(status)}\u003c/span\u003e\n                    \u003c/div\u003e\n                  \u003c/CardFooter\u003e\n                \u003c/Card\u003e\n              )\n            })}\n          \u003c/div\u003e\n        \u003c/div\u003e\n      ) : null}\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"24:Te6c,"])</script><script>self.__next_f.push([1,"// --- auth-layout-wrapper.tsx (OPTIMIZADO) ---\n\"use client\"\n\nimport type React from \"react\"\nimport { useEffect, useRef } from \"react\"\nimport { usePathname, useRouter } from \"next/navigation\"\nimport { useAuth } from \"./auth-provider\"\nimport { Navbar } from \"@/components/ui/navbar\"\nimport { SolidNavbarWrapper } from \"@/components/ui/solid-navbar-wrapper\"\nimport { SustratoLoadingLogo } from \"@/components/ui/sustrato-loading-logo\"\n\nexport function AuthLayoutWrapper({ children }: { children: React.ReactNode }) {\n  const { user, loading, authInitialized } = useAuth()\n  const pathname = usePathname()\n  const router = useRouter()\n\n  // Para evitar múltiples redirecciones/renderizaciones\n  const redirected = useRef(false)\n\n  // Determinar si estamos en una página de autenticación\n  const isAuthenticatedPage = pathname\n    ? pathname === \"/login\" || pathname === \"/signup\" || pathname === \"/reset-password\" || pathname === \"/contact\"\n    : false\n\n  // Resetear el estado de redirección cuando cambia la ruta o el usuario\n  useEffect(() =\u003e {\n    redirected.current = false\n  }, [pathname, user])\n\n  // Efecto de redirección optimizado - solo se ejecuta una vez por cambio de estado\n  useEffect(() =\u003e {\n    if (!pathname) return // Protección contra pathname undefined/null\n\n    // Requisitos para redirección:\n    // 1. Autenticación inicializada\n    // 2. No cargando\n    // 3. No estamos en una página de autenticación\n    // 4. No hay usuario autenticado\n    // 5. No hemos redirigido previamente\n    if (authInitialized \u0026\u0026 !loading \u0026\u0026 !isAuthenticatedPage \u0026\u0026 !user \u0026\u0026 !redirected.current) {\n      // Generar un ID único para el evento de redirección (para depuración)\n      const eventId = Math.floor(Math.random() * 1000)\n      console.log(`🔀 [${eventId}] Redirigiendo a login desde: ${pathname}`)\n      redirected.current = true\n\n      // Agregar parámetro redirectTo para volver a esta página después del login\n      const loginUrl = `/login?redirectTo=${encodeURIComponent(pathname || \"/\")}` // Con fallback a '/' si pathname es null\n      router.push(loginUrl)\n    }\n  }, [user, loading, authInitialized, pathname, router, isAuthenticatedPage])\n\n  // Mostrar pantalla de carga mejorada durante inicialización\n  if (loading) {\n    return (\n      \u003cdiv className=\"flex items-center justify-center min-h-screen bg-background\"\u003e\n        \u003cSustratoLoadingLogo\n          size={80}\n          variant=\"spin-pulse\"\n          speed=\"normal\"\n          breathingEffect\n          colorTransition\n          showText\n          text=\"Cargando...\"\n        /\u003e\n      \u003c/div\u003e\n    )\n  }\n\n  const isAuthPage =\n    pathname === \"/login\" || pathname === \"/signup\" || pathname === \"/reset-password\" || pathname === \"/contact\"\n\n  // Si el usuario está autenticado Y NO es una página de autenticación\n  if (user \u0026\u0026 !isAuthPage) {\n    return (\n      // Este div es el contenedor principal de la página autenticada\n      // Debe permitir que el children (main content area) crezca\n      \u003cdiv className=\"flex flex-col min-h-screen\"\u003e\n        {\" \"}\n        {/* O h-screen si el body ya es h-full */}\n        \u003cSolidNavbarWrapper\u003e\n          {\" \"}\n          {/* Esto podría tener su propio position:sticky o fixed */}\n          \u003cNavbar /\u003e\n        \u003c/SolidNavbarWrapper\u003e\n        {/* Este 'main' es el área de contenido principal que debe crecer */}\n        \u003cmain className=\"flex-grow w-full\"\u003e\n          {children} {/* children es PageWrapper */}\n        \u003c/main\u003e\n      \u003c/div\u003e\n    )\n  }\n\n  // Para páginas de autenticación o si no hay usuario (y ya está en una pág de auth)\n  // Renderiza children directamente, PageWrapper/PageBackground manejarán su propio layout\n  return \u003c\u003e{children}\u003c/\u003e\n}\n"])</script><script>self.__next_f.push([1,"25:T988f,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport type React from \"react\"\nimport { createContext, useContext, useEffect, useState, useRef } from \"react\"\nimport { useRouter, usePathname } from \"next/navigation\"\nimport { signIn, signOut, getSession, supabaseClient } from \"@/lib/supabase\"\nimport type { User, Session } from \"@supabase/supabase-js\"\nimport {\n  obtenerProyectosConSettingsUsuario,\n  obtenerProyectoPorId,\n  actualizarPreferenciasUI,\n  actualizarProyectoActivo,\n  type UserProjectSetting,\n} from \"@/app/actions/proyecto-actions\"\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter } from \"@/components/ui/dialog\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card } from \"@/components/ui/card\"\nimport { SustratoLoadingLogo } from \"@/components/ui/sustrato-loading-logo\"\n\ninterface AuthContextType {\n  user: User | null\n  session: Session | null\n  loading: boolean\n  authInitialized: boolean // Nuevo estado para indicar que la autenticación se ha inicializado\n  proyectoActual: UserProjectSetting | null\n  proyectosDisponibles: UserProjectSetting[]\n  cargandoProyectos: boolean\n  cambiandoProyecto: boolean // Nuevo estado para indicar que se está cambiando de proyecto\n  seleccionarProyecto: (proyectoId: string) =\u003e Promise\u003cvoid\u003e\n  signIn: (\n    email: string,\n    password: string,\n  ) =\u003e Promise\u003c{\n    error: any\n    success: boolean\n  }\u003e\n  signUp: (\n    email: string,\n    password: string,\n  ) =\u003e Promise\u003c{\n    error: any\n    success: boolean\n  }\u003e\n  logout: () =\u003e Promise\u003cvoid\u003e\n}\n\nconst AuthContext = createContext\u003cAuthContextType | undefined\u003e(undefined)\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const router = useRouter()\n  const pathname = usePathname()\n  const [user, setUser] = useState\u003cUser | null\u003e(null)\n  const [session, setSession] = useState\u003cSession | null\u003e(null)\n  const [loading, setLoading] = useState(true)\n  const [authInitialized, setAuthInitialized] = useState(false)\n  const [proyectoActual, setProyectoActual] = useState\u003cUserProjectSetting | null\u003e(null)\n  const [proyectosDisponibles, setProyectosDisponibles] = useState\u003cUserProjectSetting[]\u003e([])\n  const [cargandoProyectos, setCargandoProyectos] = useState(false)\n  const [cambiandoProyecto, setCambiandoProyecto] = useState(false) // Nuevo estado para cambio de proyecto\n  const [mostrarSelectorProyecto, setMostrarSelectorProyecto] = useState(false)\n\n  // Referencias para controlar estados y evitar operaciones duplicadas\n  const authStateProcessed = useRef(false)\n  const proyectosCargados = useRef(false)\n  const processingAuthEvent = useRef(false)\n  const loadingProjectsForUserId = useRef\u003cstring | null\u003e(null)\n  const currentAuthUserId = useRef\u003cstring | null\u003e(null)\n  const lastProjectLoadTime = useRef\u003cnumber\u003e(0) // Para controlar recargas por tiempo\n  const navigationInProgress = useRef\u003cboolean\u003e(false) // Evitar múltiples redirecciones\n  const initialRedirectDone = useRef\u003cboolean\u003e(false) // Control de redirección inicial\n\n  const currentThemeRef = useRef\u003cstring | null\u003e(null)\n  const currentFontRef = useRef\u003cstring | null\u003e(null)\n  const currentDarkModeRef = useRef\u003cboolean | null\u003e(null)\n  const configAppliedForProjectId = useRef\u003cstring | null\u003e(null)\n\n  // Función para cargar los proyectos del usuario con mejor manejo de errores y debugging\n  const cargarProyectosUsuario = async (userId: string) =\u003e {\n    // Verificación de parámetros y estado\n    if (!userId) {\n      console.error(\"❌ Error: Se intentó cargar proyectos sin ID de usuario\")\n      return\n    }\n\n    // ID único para seguimiento de logs\n    const operationId = Math.floor(Math.random() * 1000)\n\n    // Verificar si hay una carga reciente (menos de 30 segundos) y tenemos datos\n    const ahora = Date.now()\n    const tiempoDesdeUltimaCarga = ahora - lastProjectLoadTime.current\n    if (tiempoDesdeUltimaCarga \u003c 30000 \u0026\u0026 proyectosCargados.current \u0026\u0026 proyectosDisponibles.length \u003e 0) {\n      console.log(\n        `🔄 [${operationId}] Carga reciente (hace ${Math.round(tiempoDesdeUltimaCarga / 1000)}s), usando caché`,\n      )\n      return\n    }\n\n    // NUEVA LÓGICA: Verificar si ya hay una carga en progreso para este usuario\n    if (loadingProjectsForUserId.current === userId) {\n      console.log(`⏳ [${operationId}] Ya hay una carga en progreso para ${userId.substring(0, 8)}, esperando...`)\n\n      // Esperar a que termine la carga actual antes de continuar\n      let attempts = 0\n      while (loadingProjectsForUserId.current === userId \u0026\u0026 attempts \u003c 10) {\n        await new Promise((resolve) =\u003e setTimeout(resolve, 200))\n        attempts++\n      }\n\n      // Si después de esperar ya tenemos proyectos, usamos los datos existentes\n      if (proyectosCargados.current \u0026\u0026 proyectosDisponibles.length \u003e 0) {\n        console.log(`✅ [${operationId}] Proyectos ya cargados mientras esperábamos, usando datos existentes`)\n        return\n      }\n    }\n\n    // Verificar si ya estamos cargando proyectos o si ya se cargaron\n    if (cargandoProyectos \u0026\u0026 loadingProjectsForUserId.current) {\n      console.log(`⏳ [${operationId}] Carga de proyectos ya en progreso para otro usuario, omitiendo llamada`)\n      return\n    }\n\n    if (proyectosCargados.current \u0026\u0026 proyectosDisponibles.length \u003e 0) {\n      console.log(`✅ [${operationId}] Proyectos ya cargados, usando datos existentes`)\n      return\n    }\n\n    console.log(`🔍 [${operationId}] Iniciando carga de proyectos para: ${userId.substring(0, 8)}...`)\n\n    // Marcar que estamos cargando y para qué usuario\n    setCargandoProyectos(true)\n    loadingProjectsForUserId.current = userId\n\n    try {\n      // Capturar el ID del usuario al inicio para comparaciones posteriores\n      const targetUserId = userId\n\n      // Llamada al servidor - acción de proyecto\n      console.log(`📡 [${operationId}] Llamando a API obtenerProyectosConSettingsUsuario...`)\n      const resultado = await obtenerProyectosConSettingsUsuario(targetUserId)\n\n      // Verificar si el usuario ha cambiado significativamente (por ejemplo, logout seguido de otro login)\n      // Solo cancelamos si el usuario actual es nulo o completamente diferente\n      const currentUserIdInAuth = currentAuthUserId.current\n\n      // Si no hay usuario de referencia o coincide con el que estamos cargando, continuamos\n      // Solo abortamos si hay un usuario de referencia y es diferente del actual\n      if (currentUserIdInAuth \u0026\u0026 currentUserIdInAuth !== targetUserId) {\n        console.log(\n          `⚠️ [${operationId}] Usuario cambió significativamente durante carga (${currentUserIdInAuth.substring(\n            0,\n            8,\n          )} ≠ ${targetUserId.substring(0, 8)}), abortando procesamiento`,\n        )\n        setCargandoProyectos(false)\n        loadingProjectsForUserId.current = null\n        return\n      }\n\n      // Procesar resultados de la API\n      if (resultado.success \u0026\u0026 resultado.data) {\n        console.log(`✅ [${operationId}] API retornó ${resultado.data.length} proyectos`)\n\n        // Registrar tiempo de carga exitosa para caché\n        lastProjectLoadTime.current = Date.now()\n\n        setProyectosDisponibles(resultado.data)\n\n        // Seleccionar automáticamente el proyecto activo (is_active_for_user = true)\n        const proyectoActivo = resultado.data.find((p) =\u003e p.is_active_for_user === true)\n\n        if (proyectoActivo) {\n          console.log(`✅ [${operationId}] Proyecto activo encontrado y seleccionado: ${proyectoActivo.name}`)\n          setProyectoActual(proyectoActivo)\n          localStorage.setItem(\"proyectoActualId\", proyectoActivo.id)\n\n          // Aplicar configuración de UI inmediatamente\n          aplicarConfiguracionUI(proyectoActivo)\n        } else if (resultado.data.length \u003e 0) {\n          // Si no hay proyecto activo, usar el primer proyecto disponible\n          console.log(\n            `ℹ️ [${operationId}] No hay proyecto activo, seleccionando el primero disponible: ${resultado.data[0].name}`,\n          )\n          setProyectoActual(resultado.data[0])\n          localStorage.setItem(\"proyectoActualId\", resultado.data[0].id)\n\n          // Aplicar configuración de UI inmediatamente\n          aplicarConfiguracionUI(resultado.data[0])\n        } else {\n          console.log(`⚠️ [${operationId}] No se encontraron proyectos para el usuario`)\n        }\n\n        // Marcar operación como completada\n        proyectosCargados.current = true\n      } else {\n        // Manejar error de la API - verificamos que es un resultado con error\n        if (\"error\" in resultado) {\n          console.error(`❌ [${operationId}] Error retornado por API:`, resultado.error)\n        } else {\n          console.error(`❌ [${operationId}] API retornó estado error sin mensaje de error`)\n        }\n        setProyectosDisponibles([])\n      }\n    } catch (error) {\n      console.error(`❌ [${operationId}] Excepción al cargar proyectos:`, error)\n      setProyectosDisponibles([])\n      proyectosCargados.current = false\n    } finally {\n      setCargandoProyectos(false)\n      loadingProjectsForUserId.current = null // Liberar el bloqueo\n    }\n  }\n\n  // Función para aplicar la configuración de UI según las preferencias del proyecto\n  const aplicarConfiguracionUI = (proyecto: UserProjectSetting) =\u003e {\n    if (!proyecto) return\n\n    // Evitar reconfiguraciones para el mismo proyecto (previene recursión)\n    if (configAppliedForProjectId.current === proyecto.id) {\n      console.log(`⏭️ Configuración ya aplicada para proyecto ${proyecto.id.substring(0, 8)}, omitiendo`)\n      return\n    }\n\n    // Normalizar valores para evitar problemas con espacios en blanco\n    const uiTheme = proyecto.ui_theme ? proyecto.ui_theme.trim() : null\n    const uiFontPair = proyecto.ui_font_pair ? proyecto.ui_font_pair.trim() : null\n    const uiIsDarkMode = !!proyecto.ui_is_dark_mode // Asegurar que es booleano\n\n    // Evitar aplicar las mismas configuraciones otra vez\n    const themeChanged = currentThemeRef.current !== uiTheme\n    const fontChanged = currentFontRef.current !== uiFontPair\n    const darkModeChanged = currentDarkModeRef.current !== uiIsDarkMode\n\n    // Solo registrar el cambio si hay algo que cambiar\n    if (!themeChanged \u0026\u0026 !fontChanged \u0026\u0026 !darkModeChanged) {\n      console.log(`⏭️ No hay cambios en configuración UI, omitiendo aplicación`)\n      // Aún así marcamos el proyecto como configurado\n      configAppliedForProjectId.current = proyecto.id\n      return\n    }\n\n    console.log(`🔄 Aplicando configuración UI para proyecto:`, {\n      id: proyecto.id,\n      name: proyecto.name,\n      ui_theme: uiTheme,\n      ui_font_pair: uiFontPair,\n      ui_is_dark_mode: uiIsDarkMode,\n      themeChanged,\n      fontChanged,\n      darkModeChanged,\n    })\n\n    // Disparar eventos para actualizar tema y fuentes SOLO si hubo cambios\n    if (themeChanged || darkModeChanged) {\n      console.log(`🎨 Aplicando tema UI: ${uiTheme}, modo oscuro: ${uiIsDarkMode ? \"activado\" : \"desactivado\"}`)\n\n      // Crear evento con detalles completos del tema\n      const themeEvent = new CustomEvent(\"theme-change\", {\n        detail: {\n          theme: uiTheme,\n          isDarkMode: uiIsDarkMode,\n        },\n      })\n\n      // Disparar evento theme-change\n      document.dispatchEvent(themeEvent)\n\n      // Actualizar referencias\n      currentThemeRef.current = uiTheme\n      currentDarkModeRef.current = uiIsDarkMode\n    }\n\n    if (fontChanged) {\n      console.log(`🔤 Aplicando par de fuentes: ${uiFontPair}`)\n\n      // Crear evento con detalles de la fuente\n      const fontEvent = new CustomEvent(\"font-change\", {\n        detail: {\n          fontPair: uiFontPair,\n        },\n      })\n\n      // Disparar evento font-change\n      document.dispatchEvent(fontEvent)\n\n      // Actualizar referencia\n      currentFontRef.current = uiFontPair\n    }\n\n    // Marcar este proyecto como configurado\n    configAppliedForProjectId.current = proyecto.id\n  }\n\n  // Función para seleccionar un proyecto\n  const seleccionarProyecto = async (proyectoId: string) =\u003e {\n    try {\n      // Activar el estado de carga\n      setCambiandoProyecto(true)\n\n      const resultado = await obtenerProyectoPorId(proyectoId)\n\n      if (resultado.success \u0026\u0026 resultado.data) {\n        // Resetear las referencias de configuración para forzar la aplicación de nuevos temas\n        currentThemeRef.current = null\n        currentFontRef.current = null\n        currentDarkModeRef.current = null\n        configAppliedForProjectId.current = null\n\n        // Intentar persistir el cambio de proyecto activo en la base de datos\n        if (user) {\n          try {\n            await actualizarProyectoActivo(user.id, proyectoId)\n            console.log(\"✅ Proyecto activo actualizado en base de datos\")\n\n            // Actualizar el estado local para reflejar el cambio\n            const proyectosActualizados = proyectosDisponibles.map((proyecto) =\u003e ({\n              ...proyecto,\n              is_active_for_user: proyecto.id === proyectoId,\n            }))\n\n            setProyectosDisponibles(proyectosActualizados)\n\n            const proyectoEncontrado = proyectosDisponibles.find((p) =\u003e p.id === proyectoId)\n\n            if (proyectoEncontrado) {\n              const proyectoActualizado = {\n                ...proyectoEncontrado,\n                is_active_for_user: true,\n              }\n\n              // Aquí aplicamos la configuración antes de actualizar el estado\n              // para evitar problemas de timing con el useEffect\n              console.log(\"🚀 Forzando aplicación de configuración UI para nuevo proyecto\")\n              aplicarConfiguracionUI(proyectoActualizado)\n\n              // Pequeño retraso para asegurar que los cambios visuales se apliquen completamente\n              setTimeout(() =\u003e {\n                setProyectoActual(proyectoActualizado)\n                localStorage.setItem(\"proyectoActualId\", proyectoId)\n                setMostrarSelectorProyecto(false)\n\n                // Desactivar estado de carga después de completar todo\n                setCambiandoProyecto(false)\n              }, 300)\n            } else {\n              // Si no lo encontramos en la lista disponible, crear un UserProjectSetting básico\n              // con los datos del proyecto y valores predeterminados para los campos adicionales\n              const proyectoBasico: UserProjectSetting = {\n                ...resultado.data,\n                project_role_id: \"default\", // Valor por defecto\n                ui_theme: null,\n                ui_font_pair: null,\n                ui_is_dark_mode: false,\n                is_active_for_user: true,\n                permissions: null,\n              }\n\n              setProyectoActual(proyectoBasico)\n              localStorage.setItem(\"proyectoActualId\", proyectoId)\n            }\n          } catch (error) {\n            console.error(\"❌ Error actualizando proyecto activo:\", error)\n            setCambiandoProyecto(false)\n          }\n        } else {\n          // Si no hay usuario, simplemente actualizar la UI sin persistencia\n          const proyectoEncontrado = proyectosDisponibles.find((p) =\u003e p.id === proyectoId)\n\n          if (proyectoEncontrado) {\n            const proyectoActualizado = {\n              ...proyectoEncontrado,\n              is_active_for_user: true,\n            }\n\n            // Aplicar configuración antes de actualizar estado\n            console.log(\"🚀 Forzando aplicación de configuración UI para nuevo proyecto\")\n            aplicarConfiguracionUI(proyectoActualizado)\n\n            setProyectoActual(proyectoActualizado)\n            localStorage.setItem(\"proyectoActualId\", proyectoId)\n          } else {\n            // Código existente para manejo de proyecto no encontrado\n            const proyectoBasico: UserProjectSetting = {\n              ...resultado.data,\n              project_role_id: \"default\",\n              ui_theme: null,\n              ui_font_pair: null,\n              ui_is_dark_mode: false,\n              is_active_for_user: true,\n              permissions: null,\n            }\n\n            setProyectoActual(proyectoBasico)\n            localStorage.setItem(\"proyectoActualId\", proyectoId)\n          }\n\n          setMostrarSelectorProyecto(false)\n          // Desactivar estado de carga después de completar\n          setCambiandoProyecto(false)\n        }\n      } else {\n        // Si no hay datos o hay error, desactivar carga\n        setCambiandoProyecto(false)\n      }\n    } catch (error) {\n      console.error(\"Error al seleccionar proyecto:\", error)\n      setCambiandoProyecto(false)\n    }\n  }\n\n  // Función mejorada para cargar la sesión inicial\n  const loadSession = async () =\u003e {\n    // Evitar inicializaciones redundantes\n    if (authStateProcessed.current) {\n      console.log(\"⏳ Omitiendo carga de sesión - ya procesada\")\n      return\n    }\n\n    try {\n      // Marcamos que estamos procesando para evitar operaciones en paralelo\n      authStateProcessed.current = true\n\n      // Intentar recuperar de localStorage primero (como caché inicial)\n      const cachedUser = localStorage.getItem(\"cachedUser\")\n      if (cachedUser) {\n        try {\n          const userObj = JSON.parse(cachedUser)\n          console.log(\"🔄 Usando datos de usuario en caché mientras verificamos sesión\")\n          // Pre-cargar la UI con datos en caché para evitar parpadeos\n          setUser(userObj)\n        } catch (e) {\n          console.log(\"⚠️ Error al parsear usuario en caché, ignorando\")\n          localStorage.removeItem(\"cachedUser\")\n        }\n      }\n\n      const { data, error } = await getSession()\n      if (error) throw error\n\n      if (data.session) {\n        console.log(\"✅ Sesión activa:\", data.session.user.id.substring(0, 8) + \"...\")\n\n        // Guardar en caché para futuras cargas rápidas\n        localStorage.setItem(\"cachedUser\", JSON.stringify(data.session.user))\n\n        setUser(data.session.user)\n        setSession(data.session)\n\n        // Inicializamos la referencia del usuario durante la carga inicial\n        currentAuthUserId.current = data.session.user.id\n\n        // Solo cargamos proyectos si no hay datos o ha pasado tiempo\n        if (!proyectosCargados.current || Date.now() - lastProjectLoadTime.current \u003e 60000) {\n          await cargarProyectosUsuario(data.session.user.id)\n        }\n      } else {\n        console.log(\"❌ Sin sesión activa\")\n        localStorage.removeItem(\"cachedUser\")\n        setUser(null)\n        setSession(null)\n        currentAuthUserId.current = null\n      }\n    } catch (error) {\n      console.error(\"❌ Error obteniendo sesión:\", error)\n      localStorage.removeItem(\"cachedUser\")\n      authStateProcessed.current = false // Permitir reintento en caso de error\n    } finally {\n      setLoading(false)\n      setAuthInitialized(true)\n    }\n  }\n\n  // Inicializar AuthProvider una sola vez al cargar\n  useEffect(() =\u003e {\n    if (!authInitialized \u0026\u0026 !authStateProcessed.current) {\n      console.log(\"🔄 Inicializando AuthProvider\")\n      loadSession()\n    } else if (user \u0026\u0026 !proyectosCargados.current \u0026\u0026 !loadingProjectsForUserId.current) {\n      // Solo cargar proyectos si tenemos usuario y no se han cargado aún\n      // Y no hay carga en progreso\n      console.log(\"🔄 Cargando proyectos pendientes en inicialización secundaria\")\n      cargarProyectosUsuario(user.id)\n    }\n  }, [authInitialized, user])\n\n  // Manejar eventos de autenticación de forma unificada\n  useEffect(() =\u003e {\n    // Evitar suscribirse múltiples veces al mismo evento\n    let isMounted = true\n    let eventLock = false // Bloqueo local para este efecto específico\n\n    const {\n      data: { subscription },\n    } = supabaseClient.auth.onAuthStateChange(async (event, newSession) =\u003e {\n      // Evitar procesamiento de eventos mientras otro está en progreso\n      if (eventLock || processingAuthEvent.current || !isMounted) return\n\n      // Bloqueamos inmediatamente para evitar carreras\n      eventLock = true\n      processingAuthEvent.current = true\n\n      try {\n        // Registrar el evento con ID corto para facilitar depuración\n        const eventId = Math.floor(Math.random() * 1000)\n        console.log(`🔄 [${eventId}] Evento auth: ${event}`)\n\n        // Determinar si necesitamos actualizar el usuario y la sesión\n        const shouldUpdateSession = event === \"SIGNED_IN\" \u0026\u0026 newSession \u0026\u0026 (!user || user.id !== newSession.user.id)\n\n        // Actualizar el usuario y la sesión si es necesario\n        if (shouldUpdateSession) {\n          console.log(`✅ [${eventId}] Usuario autenticado: ${newSession.user.id.substring(0, 8)}...`)\n\n          // Guardar en localStorage para recuperación rápida\n          localStorage.setItem(\"cachedUser\", JSON.stringify(newSession.user))\n\n          setUser(newSession.user)\n          setSession(newSession)\n          // Actualizamos la referencia al usuario actual\n          currentAuthUserId.current = newSession.user.id\n        }\n\n        // SIGNED_IN (login exitoso)\n        if (event === \"SIGNED_IN\" \u0026\u0026 newSession) {\n          // IMPORTANTE: Cargar proyectos en cada inicio de sesión exitoso\n          // pero evitamos carreras con otros eventos\n\n          // Resetear el estado de carga solo si estamos seguros que es un nuevo login\n          // o ha pasado tiempo suficiente desde la última carga\n          const debeRecargarProyectos =\n            shouldUpdateSession ||\n            !proyectosCargados.current ||\n            proyectosDisponibles.length === 0 ||\n            Date.now() - lastProjectLoadTime.current \u003e 60000\n\n          if (debeRecargarProyectos) {\n            console.log(`🔄 [${eventId}] Cargando proyectos tras login exitoso (recarga: ${shouldUpdateSession})`)\n\n            // Si es un nuevo login, forzar recarga\n            if (shouldUpdateSession) {\n              proyectosCargados.current = false\n            }\n\n            try {\n              // Solo un intento, más inteligente y confiable\n              await cargarProyectosUsuario(newSession.user.id)\n            } catch (error) {\n              console.error(`❌ [${eventId}] Error al cargar proyectos:`, error)\n            }\n          } else {\n            console.log(`ℹ️ [${eventId}] Proyectos ya cargados recientemente, omitiendo carga`)\n          }\n        }\n        // SIGNED_OUT (logout exitoso)\n        else if (event === \"SIGNED_OUT\") {\n          console.log(`🔒 [${eventId}] Sesión cerrada`)\n          localStorage.removeItem(\"cachedUser\")\n          setUser(null)\n          setSession(null)\n          setProyectoActual(null)\n          setProyectosDisponibles([])\n          proyectosCargados.current = false\n          loadingProjectsForUserId.current = null\n          currentAuthUserId.current = null // Limpiar referencia de usuario\n        }\n        // La primera carga de la sesión\n        else if (event === \"INITIAL_SESSION\" \u0026\u0026 newSession) {\n          console.log(`🔄 [${eventId}] Estado inicial con sesión detectada`)\n\n          // Solo actuar si tenemos una sesión válida\n          if (!user \u0026\u0026 newSession?.user) {\n            console.log(`🔄 [${eventId}] Estableciendo usuario de sesión inicial`)\n\n            // Guardar en localStorage para recuperación rápida\n            localStorage.setItem(\"cachedUser\", JSON.stringify(newSession.user))\n\n            setUser(newSession.user)\n            setSession(newSession)\n            // Inicializamos la referencia del usuario también durante el evento inicial\n            currentAuthUserId.current = newSession.user.id\n\n            // Forzar carga de proyectos solo si es necesario y no fue cargado recientemente\n            const tiempoDesdeUltimaCarga = Date.now() - lastProjectLoadTime.current\n            if ((!proyectosCargados.current || proyectosDisponibles.length === 0) \u0026\u0026 tiempoDesdeUltimaCarga \u003e 10000) {\n              console.log(`🔄 [${eventId}] Cargando proyectos desde INITIAL_SESSION`)\n              await cargarProyectosUsuario(newSession.user.id)\n            } else {\n              console.log(\n                `ℹ️ [${eventId}] Omitiendo carga de proyectos en INITIAL_SESSION (cargados hace ${Math.round(\n                  tiempoDesdeUltimaCarga / 1000,\n                )}s)`,\n              )\n            }\n          }\n        }\n      } finally {\n        // Siempre liberar los bloqueos, incluso en caso de error\n        eventLock = false\n        processingAuthEvent.current = false\n      }\n    })\n\n    return () =\u003e {\n      isMounted = false\n      subscription.unsubscribe()\n    }\n  }, []) // Quitamos la dependencia en user para evitar reconexiones y problemas\n\n  // Redirigir según el estado de autenticación - optimizado para evitar redirecciones múltiples\n  useEffect(() =\u003e {\n    if (loading || navigationInProgress.current) return\n\n    const currentPath = pathname || \"\"\n\n    // Verificar si estamos en una página de autenticación\n    const isAuthPage =\n      currentPath === \"/login\" ||\n      currentPath === \"/register\" ||\n      currentPath === \"/reset-password\" ||\n      currentPath === \"/\"\n\n    // Evitar redirecciones repetidas\n    if (initialRedirectDone.current) {\n      // Hay casos específicos donde queremos forzar redirección fuera de la inicial\n      const forceRedirect =\n        (!user \u0026\u0026 !isAuthPage) || // Usuario no autenticado en página protegida\n        (user \u0026\u0026 (currentPath === \"/login\" || currentPath === \"/register\" || currentPath === \"/reset-password\")) // Usuario autenticado en login/register\n\n      if (!forceRedirect) return\n    }\n\n    // Reglas de redirección\n    if (!user \u0026\u0026 !isAuthPage) {\n      navigationInProgress.current = true\n      initialRedirectDone.current = true\n      console.log(\"Redirigiendo a login: usuario no autenticado y página requiere autenticación\")\n\n      // Usar una promesa para manejar la redirección\n      router.push(\"/login\")\n      // Liberar el bloqueo después de un tiempo para asegurar que la navegación haya ocurrido\n      setTimeout(() =\u003e {\n        navigationInProgress.current = false\n      }, 500)\n    } else if (user \u0026\u0026 isAuthPage \u0026\u0026 currentPath !== \"/\") {\n      navigationInProgress.current = true\n      initialRedirectDone.current = true\n      console.log(\"Redirigiendo a home: usuario ya autenticado\")\n\n      // Usar una promesa para manejar la redirección\n      router.push(\"/\")\n      // Liberar el bloqueo después de un tiempo para asegurar que la navegación haya ocurrido\n      setTimeout(() =\u003e {\n        navigationInProgress.current = false\n      }, 500)\n    } else {\n      // Si no necesitamos redireccionar, marcamos como completado para no revisar de nuevo\n      initialRedirectDone.current = true\n    }\n  }, [user, loading, pathname, router])\n\n  const login = async (email: string, password: string) =\u003e {\n    try {\n      const { data, error } = await signIn(email, password)\n      if (error) {\n        console.error(\"❌ Error en login:\", error)\n        return { error, success: false }\n      }\n\n      // No forzar recarga completa, dejamos que los eventos de autenticación manejen todo\n      console.log(\"✅ Login exitoso\")\n      return { error: null, success: true }\n    } catch (error) {\n      console.error(\"❌ Excepción en login:\", error)\n      return { error, success: false }\n    }\n  }\n\n  const signup = async (email: string, password: string) =\u003e {\n    try {\n      const { data, error } = await signIn(email, password)\n      if (error) {\n        return { error, success: false }\n      }\n      return { error: null, success: true }\n    } catch (error) {\n      return { error, success: false }\n    }\n  }\n\n  const logout = async () =\u003e {\n    // Generar ID único para logs\n    const logoutId = Math.floor(Math.random() * 1000)\n    console.log(`🔒 [${logoutId}] Iniciando logout...`)\n\n    // Prevenir operaciones duplicadas\n    if (processingAuthEvent.current) {\n      console.log(`⚠️ [${logoutId}] Logout ya en proceso, abortando`)\n      return\n    }\n\n    processingAuthEvent.current = true\n\n    try {\n      // IMPORTANTE: Primero hacer la operación de signOut en Supabase\n      // Esto asegura que no tengamos parpadeos de UI mientras se limpia la sesión\n      const { error } = await signOut()\n\n      if (error) {\n        console.error(`❌ [${logoutId}] Error durante signOut:`, error)\n        throw error // Propagar el error para manejar de forma consistente\n      }\n\n      console.log(`✅ [${logoutId}] Sesión cerrada en Supabase`)\n\n      // Limpiar localStorage primero (operación síncrona)\n      localStorage.removeItem(\"proyectoActualId\")\n      proyectosCargados.current = false\n\n      // Ahora redireccionar sin setTimeout - la redirección completa ya limpia el estado\n      console.log(`🔙 [${logoutId}] Redirigiendo a login...`)\n\n      // Usar replace en lugar de href para evitar entradas en el historial\n      window.location.replace(\"/login\")\n    } catch (error) {\n      console.error(`❌ [${logoutId}] Error en logout:`, error)\n\n      // Solo limpiar estado local en caso de error\n      setUser(null)\n      setSession(null)\n      setProyectoActual(null)\n      setProyectosDisponibles([])\n      // Redirigir a login en caso de error (sin setTimeout)\n      window.location.replace(\"/login\")\n    }\n  }\n\n  // Componente para mostrar el proyecto actual y permitir cambiarlo\n  const ProyectoIndicator = () =\u003e {\n    // Ahora ocultamos este componente ya que esta funcionalidad se ha movido al avatar de usuario\n    return null\n  }\n\n  // Selector de proyectos (modal) - optimizado para evitar setTimeout\n  const ProyectoSelectorModal = () =\u003e {\n    // Effect simplificado - sin setTimeout\n    useEffect(() =\u003e {\n      if (proyectosDisponibles.length \u003e 1 \u0026\u0026 !proyectoActual \u0026\u0026 !mostrarSelectorProyecto \u0026\u0026 !loading) {\n        console.log(\"🚨 ALERTA: Múltiples proyectos disponibles, abriendo selector inmediatamente\")\n        setMostrarSelectorProyecto(true)\n      }\n    }, [proyectosDisponibles, proyectoActual, mostrarSelectorProyecto, loading])\n\n    return (\n      \u003cDialog\n        open={mostrarSelectorProyecto \u0026\u0026 proyectosDisponibles.length \u003e 0}\n        onOpenChange={(open) =\u003e {\n          console.log(\"🔄 Estado del modal:\", open ? \"abriendo\" : \"cerrando\")\n          setMostrarSelectorProyecto(open)\n        }}\n      \u003e\n        \u003cDialogContent className=\"sm:max-w-md\"\u003e\n          \u003cDialogHeader\u003e\n            \u003cDialogTitle\u003eSelecciona un proyecto\u003c/DialogTitle\u003e\n          \u003c/DialogHeader\u003e\n          \u003cdiv className=\"grid gap-4 py-4\"\u003e\n            {proyectosDisponibles.map((proyecto) =\u003e {\n              // Obtener información de rol y permisos\n              const roleName = proyecto.permissions?.role_name\n              const hasAdminPermission = proyecto.permissions?.can_manage_master_data\n\n              return (\n                \u003cCard\n                  key={proyecto.id}\n                  className=\"p-4 cursor-pointer hover:bg-gray-50 transition-colors\"\n                  onClick={() =\u003e {\n                    console.log(\"🔄 Seleccionando proyecto:\", proyecto)\n                    seleccionarProyecto(proyecto.id)\n                  }}\n                \u003e\n                  \u003cdiv className=\"flex justify-between items-start\"\u003e\n                    \u003ch3 className=\"font-medium\"\u003e{proyecto.name}\u003c/h3\u003e\n                    {roleName \u0026\u0026 (\n                      \u003cspan\n                        className={`text-xs rounded px-2 py-0.5 ${\n                          hasAdminPermission ? \"bg-blue-100 text-blue-800\" : \"bg-gray-100 text-gray-800\"\n                        }`}\n                      \u003e\n                        {roleName}\n                      \u003c/span\u003e\n                    )}\n                  \u003c/div\u003e\n                  {proyecto.code \u0026\u0026 \u003cp className=\"text-sm text-gray-500\"\u003eCódigo: {proyecto.code}\u003c/p\u003e}\n                  {proyecto.description \u0026\u0026 \u003cp className=\"text-sm text-gray-500 mt-1\"\u003e{proyecto.description}\u003c/p\u003e}\n                  {proyecto.permissions \u0026\u0026 (\n                    \u003cdiv className=\"flex flex-wrap gap-1 mt-2\"\u003e\n                      {proyecto.permissions.can_manage_master_data \u0026\u0026 (\n                        \u003cspan className=\"text-xs bg-blue-50 text-blue-700 rounded px-1.5 py-0.5\"\u003eAdmin Datos\u003c/span\u003e\n                      )}\n                      {proyecto.permissions.can_create_batches \u0026\u0026 (\n                        \u003cspan className=\"text-xs bg-green-50 text-green-700 rounded px-1.5 py-0.5\"\u003eCrear Lotes\u003c/span\u003e\n                      )}\n                      {proyecto.permissions.can_upload_files \u0026\u0026 (\n                        \u003cspan className=\"text-xs bg-amber-50 text-amber-700 rounded px-1.5 py-0.5\"\u003eSubir Archivos\u003c/span\u003e\n                      )}\n                      {proyecto.permissions.can_bulk_edit_master_data \u0026\u0026 (\n                        \u003cspan className=\"text-xs bg-purple-50 text-purple-700 rounded px-1.5 py-0.5\"\u003e\n                          Edición Masiva\n                        \u003c/span\u003e\n                      )}\n                    \u003c/div\u003e\n                  )}\n                \u003c/Card\u003e\n              )\n            })}\n          \u003c/div\u003e\n          \u003cDialogFooter\u003e\n            \u003cButton variant=\"outline\" onClick={() =\u003e setMostrarSelectorProyecto(false)}\u003e\n              Cancelar\n            \u003c/Button\u003e\n          \u003c/DialogFooter\u003e\n        \u003c/DialogContent\u003e\n      \u003c/Dialog\u003e\n    )\n  }\n\n  // Efecto para mostrar console.log con el proyecto actual\n  useEffect(() =\u003e {\n    if (proyectoActual) {\n      console.log(\"🌟 PROYECTO ACTUAL:\", proyectoActual)\n    }\n  }, [proyectoActual])\n\n  // Efecto para aplicar la configuración de UI cuando el proyecto actual cambie\n  useEffect(() =\u003e {\n    // Solo aplicar si el proyecto es una instancia de UserProjectSetting con configuración UI\n    if (\n      proyectoActual \u0026\u0026\n      !cargandoProyectos \u0026\u0026\n      \"ui_theme\" in proyectoActual \u0026\u0026\n      \"ui_font_pair\" in proyectoActual \u0026\u0026\n      \"ui_is_dark_mode\" in proyectoActual \u0026\u0026\n      configAppliedForProjectId.current !== proyectoActual.id // Solo aplicar si no se ha aplicado ya\n    ) {\n      console.log(\"🔄 Proyecto actual cambió, aplicando configuración UI\")\n      aplicarConfiguracionUI(proyectoActual as UserProjectSetting)\n    }\n  }, [proyectoActual, cargandoProyectos])\n\n  // Efecto para escuchar cambios de preferencias UI (tema y fuente)\n  useEffect(() =\u003e {\n    if (!user || !proyectoActual) return\n\n    const handleThemePreferenceChange = async (e: Event) =\u003e {\n      const customEvent = e as CustomEvent\n      const { theme, isDarkMode } = customEvent.detail\n      console.log(\"🎨 Evento theme-preference-change recibido:\", {\n        theme,\n        isDarkMode,\n      })\n\n      try {\n        await actualizarPreferenciasUI(user.id, proyectoActual.id, {\n          ui_theme: theme,\n          ui_is_dark_mode: isDarkMode,\n        })\n        console.log(\"✅ Preferencias de tema guardadas en base de datos\")\n      } catch (error) {\n        console.error(\"❌ Error guardando preferencias de tema:\", error)\n      }\n    }\n\n    const handleFontPreferenceChange = async (e: Event) =\u003e {\n      const customEvent = e as CustomEvent\n      const { fontPair } = customEvent.detail\n      console.log(\"🔤 Evento font-preference-change recibido:\", { fontPair })\n\n      try {\n        await actualizarPreferenciasUI(user.id, proyectoActual.id, {\n          ui_font_pair: fontPair,\n        })\n        console.log(\"✅ Preferencias de fuente guardadas en base de datos\")\n      } catch (error) {\n        console.error(\"❌ Error guardando preferencias de fuente:\", error)\n      }\n    }\n\n    document.addEventListener(\"theme-preference-change\", handleThemePreferenceChange)\n    document.addEventListener(\"font-preference-change\", handleFontPreferenceChange)\n\n    return () =\u003e {\n      document.removeEventListener(\"theme-preference-change\", handleThemePreferenceChange)\n      document.removeEventListener(\"font-preference-change\", handleFontPreferenceChange)\n    }\n  }, [proyectoActual, user])\n\n  const debeBloquear = user \u0026\u0026 proyectosDisponibles.length \u003e 0 \u0026\u0026 !proyectoActual\n\n  // Componente para mostrar overlay bloqueante mientras se cambia de proyecto\n  const LoadingProjectOverlay = () =\u003e {\n    if (!cambiandoProyecto) return null\n\n    return (\n      \u003cdiv\n        style={{\n          position: \"fixed\",\n          top: 0,\n          left: 0,\n          width: \"100vw\",\n          height: \"100vh\",\n          background: \"rgba(0,0,0,0.35)\",\n          zIndex: 10000,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      \u003e\n        \u003cdiv\n          style={{\n            background: \"white\",\n            borderRadius: \"12px\",\n            padding: \"2rem 2.5rem\",\n            boxShadow: \"0 2px 24px rgba(0,0,0,0.12)\",\n            textAlign: \"center\",\n          }}\n        \u003e\n          \u003cdiv className=\"mb-6 flex justify-center\"\u003e\n            \u003cSustratoLoadingLogo\n              size={50}\n              variant=\"spin-pulse\"\n              speed=\"normal\"\n              colorTransition\n              showText\n              text=\"Cambiando a nuevo proyecto...\"\n            /\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    )\n  }\n\n  return (\n    \u003cAuthContext.Provider\n      value={{\n        user,\n        session,\n        loading,\n        authInitialized,\n        proyectoActual,\n        proyectosDisponibles,\n        cargandoProyectos,\n        cambiandoProyecto,\n        seleccionarProyecto,\n        signIn: login,\n        signUp: signup,\n        logout,\n      }}\n    \u003e\n      {/* Overlay bloqueante si no hay proyecto seleccionado o se está cambiando de proyecto */}\n      {(debeBloquear || cambiandoProyecto) \u0026\u0026 (\n        \u003cdiv\n          style={{\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            width: \"100vw\",\n            height: \"100vh\",\n            background: \"rgba(0,0,0,0.35)\",\n            zIndex: 10000,\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n          }}\n        \u003e\n          \u003cdiv\n            style={{\n              background: \"white\",\n              borderRadius: \"12px\",\n              padding: \"2rem 2.5rem\",\n              boxShadow: \"0 2px 24px rgba(0,0,0,0.12)\",\n              textAlign: \"center\",\n            }}\n          \u003e\n            \u003cdiv className=\"mb-6 flex justify-center\"\u003e\n              \u003cSustratoLoadingLogo\n                size={50}\n                variant=\"spin-pulse\"\n                speed=\"normal\"\n                colorTransition\n                showText\n                text={cambiandoProyecto ? \"Cambiando de proyecto...\" : \"Selecciona un proyecto para continuar\"}\n              /\u003e\n            \u003c/div\u003e\n            {!cambiandoProyecto \u0026\u0026 (\n              \u003cp className=\"mt-4\"\u003eDebes elegir un proyecto válido antes de acceder a la plataforma.\u003c/p\u003e\n            )}\n          \u003c/div\u003e\n        \u003c/div\u003e\n      )}\n      {/* Overlay de carga durante cambio de proyecto */}\n      \u003cLoadingProjectOverlay /\u003e\n      {/* Modal y resto de la app */}\n      \u003cProyectoSelectorModal /\u003e\n      \u003cProyectoIndicator /\u003e\n      {/* Solo renderizar children si no está cambiando de proyecto y no debe bloquear */}\n      {!debeBloquear \u0026\u0026 children}\n    \u003c/AuthContext.Provider\u003e\n  )\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext)\n  if (context === undefined) {\n    throw new Error(\"useAuth debe ser usado dentro de un AuthProvider\")\n  }\n  return context\n}\n"])</script><script>self.__next_f.push([1,"26:T1f56,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport type React from \"react\"\nimport { createContext, useContext, useEffect, useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport type { User, Session } from \"@supabase/supabase-js\"\nimport { createBrowserSupabaseClient } from \"./client\"\nimport { signInWithEmail, signOut, signUp } from \"./client\"\nimport { obtenerProyectosUsuario, obtenerProyectoPorId, type Proyecto } from \"@/app/actions/proyecto-actions\"\n\ninterface AuthContextType {\n  user: User | null\n  session: Session | null\n  loading: boolean\n  proyectoActual: Proyecto | null\n  proyectosDisponibles: Proyecto[]\n  cargandoProyectos: boolean\n  seleccionarProyecto: (proyectoId: string) =\u003e Promise\u003cvoid\u003e\n  signIn: (\n    email: string,\n    password: string,\n  ) =\u003e Promise\u003c{\n    error: any\n    success: boolean\n  }\u003e\n  signUp: (\n    email: string,\n    password: string,\n  ) =\u003e Promise\u003c{\n    error: any\n    success: boolean\n  }\u003e\n  logout: () =\u003e Promise\u003cvoid\u003e\n}\n\nconst AuthContext = createContext\u003cAuthContextType | undefined\u003e(undefined)\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const router = useRouter()\n  const [user, setUser] = useState\u003cUser | null\u003e(null)\n  const [session, setSession] = useState\u003cSession | null\u003e(null)\n  const [loading, setLoading] = useState(true)\n  const [proyectoActual, setProyectoActual] = useState\u003cProyecto | null\u003e(null)\n  const [proyectosDisponibles, setProyectosDisponibles] = useState\u003cProyecto[]\u003e([])\n  const [cargandoProyectos, setCargandoProyectos] = useState(false)\n  const [mostrarSelectorProyecto, setMostrarSelectorProyecto] = useState(false)\n\n  // Función para cargar los proyectos del usuario\n  const cargarProyectosUsuario = async (userId: string) =\u003e {\n    if (!userId) return\n\n    console.log(\"🔍 Cargando proyectos para usuario:\", userId)\n    setCargandoProyectos(true)\n    try {\n      const resultado = await obtenerProyectosUsuario(userId)\n      console.log(\"📊 Proyectos obtenidos:\", resultado)\n\n      if (resultado.success \u0026\u0026 resultado.data) {\n        setProyectosDisponibles(resultado.data)\n        console.log(`🔢 Número de proyectos encontrados: ${resultado.data.length}`)\n\n        // Verificar si hay un proyecto guardado en localStorage\n        const proyectoGuardadoId = localStorage.getItem(\"proyectoActualId\")\n        console.log(\"💾 Proyecto guardado en localStorage:\", proyectoGuardadoId)\n\n        if (proyectoGuardadoId) {\n          // Intentar cargar el proyecto guardado\n          const proyectoEncontrado = resultado.data.find((p: Proyecto) =\u003e p.id === proyectoGuardadoId)\n\n          if (proyectoEncontrado) {\n            console.log(\"✅ Usando proyecto guardado:\", proyectoEncontrado)\n            setProyectoActual(proyectoEncontrado)\n          } else if (resultado.data.length \u003e 0) {\n            // Si el proyecto guardado no existe pero hay proyectos disponibles,\n            // mostrar el selector\n            console.log(\"⚠️ Proyecto guardado no encontrado, mostrando selector\")\n            setMostrarSelectorProyecto(true)\n          }\n        } else if (resultado.data.length === 1) {\n          // Si solo hay un proyecto, seleccionarlo automáticamente\n          console.log(\"🔄 Auto-seleccionando único proyecto disponible\")\n          setProyectoActual(resultado.data[0])\n          localStorage.setItem(\"proyectoActualId\", resultado.data[0].id)\n        } else if (resultado.data.length \u003e 1) {\n          // Si hay múltiples proyectos, mostrar selector\n          console.log(\"🔄 Múltiples proyectos, mostrando selector:\", resultado.data)\n          setMostrarSelectorProyecto(true)\n        }\n      }\n    } catch (error) {\n      console.error(\"❌ Error al cargar proyectos del usuario:\", error)\n    } finally {\n      setCargandoProyectos(false)\n    }\n  }\n\n  // Función para seleccionar un proyecto\n  const seleccionarProyecto = async (proyectoId: string) =\u003e {\n    try {\n      const resultado = await obtenerProyectoPorId(proyectoId)\n      if (resultado.success \u0026\u0026 resultado.data) {\n        setProyectoActual(resultado.data)\n        localStorage.setItem(\"proyectoActualId\", proyectoId)\n        setMostrarSelectorProyecto(false)\n        console.log(\"✅ Proyecto seleccionado:\", resultado.data)\n      } else {\n        console.error(\"❌ Error al seleccionar proyecto:\", resultado.error)\n      }\n    } catch (error) {\n      console.error(\"❌ Excepción al seleccionar proyecto:\", error)\n    }\n  }\n\n  // Efecto para inicializar la sesión\n  useEffect(() =\u003e {\n    const initializeAuth = async () =\u003e {\n      setLoading(true)\n\n      try {\n        const supabase = createBrowserSupabaseClient()\n\n        // Obtener la sesión actual\n        const { data } = await supabase.auth.getSession()\n\n        if (data.session) {\n          setSession(data.session)\n          setUser(data.session.user)\n\n          // Cargar proyectos con un pequeño retraso para asegurar que las cookies estén sincronizadas\n          setTimeout(() =\u003e {\n            cargarProyectosUsuario(data.session.user.id)\n          }, 500)\n        }\n      } catch (error) {\n        console.error(\"Error al inicializar la autenticación:\", error)\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    initializeAuth()\n\n    // Configurar el listener para cambios en la autenticación\n    const supabase = createBrowserSupabaseClient()\n\n    const {\n      data: { subscription },\n    } = supabase.auth.onAuthStateChange((event, session) =\u003e {\n      console.log(\"🔄 Evento de autenticación:\", event)\n\n      setSession(session)\n      setUser(session?.user || null)\n\n      if (event === \"SIGNED_IN\" \u0026\u0026 session) {\n        console.log(\"✅ Usuario autenticado:\", session.user.id)\n\n        // Cargar proyectos con un retraso para asegurar que las cookies estén sincronizadas\n        setTimeout(() =\u003e {\n          cargarProyectosUsuario(session.user.id)\n        }, 1000)\n      } else if (event === \"SIGNED_OUT\") {\n        console.log(\"🚪 Usuario cerró sesión\")\n        setProyectoActual(null)\n        setProyectosDisponibles([])\n        localStorage.removeItem(\"proyectoActualId\")\n      }\n    })\n\n    // Limpiar la suscripción al desmontar\n    return () =\u003e {\n      subscription.unsubscribe()\n    }\n  }, [])\n\n  // Función para iniciar sesión\n  const login = async (email: string, password: string) =\u003e {\n    try {\n      const { data, error } = await signInWithEmail(email, password)\n\n      if (error) {\n        console.error(\"❌ Error en login:\", error)\n        return { error, success: false }\n      }\n\n      console.log(\"✅ Login exitoso\")\n      return { error: null, success: true }\n    } catch (error) {\n      console.error(\"❌ Excepción en login:\", error)\n      return { error, success: false }\n    }\n  }\n\n  // Función para registrarse\n  const signup = async (email: string, password: string) =\u003e {\n    try {\n      const { data, error } = await signUp(email, password)\n\n      if (error) {\n        return { error, success: false }\n      }\n\n      return { error: null, success: true }\n    } catch (error) {\n      return { error, success: false }\n    }\n  }\n\n  // Función para cerrar sesión\n  const logout = async () =\u003e {\n    try {\n      // Limpiar estado local primero\n      setUser(null)\n      setSession(null)\n      setProyectoActual(null)\n      setProyectosDisponibles([])\n      localStorage.removeItem(\"proyectoActualId\")\n\n      // Cerrar sesión en Supabase\n      await signOut()\n    } catch (error) {\n      console.error(\"❌ Error al cerrar sesión:\", error)\n      router.push(\"/login\")\n    }\n  }\n\n  return (\n    \u003cAuthContext.Provider\n      value={{\n        user,\n        session,\n        loading,\n        proyectoActual,\n        proyectosDisponibles,\n        cargandoProyectos,\n        seleccionarProyecto,\n        signIn: login,\n        signUp: signup,\n        logout,\n      }}\n    \u003e\n      {children}\n    \u003c/AuthContext.Provider\u003e\n  )\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext)\n  if (context === undefined) {\n    throw new Error(\"useAuth debe ser usado dentro de un AuthProvider\")\n  }\n  return context\n}\n"])</script><script>self.__next_f.push([1,"27:T4a9,\"use client\"\n\nimport { createBrowserClient } from \"@supabase/ssr\"\nimport type { Database } from \"@/lib/database.types\"\n\n// Crear un cliente de Supabase para el navegador\nexport function createBrowserSupabaseClient() {\n  return createBrowserClient\u003cDatabase\u003e(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n  )\n}\n\n// Iniciar sesión con email y contraseña\nexport async function signInWithEmail(email: string, password: string) {\n  const supabase = createBrowserSupabaseClient()\n\n  const { data, error } = await supabase.auth.signInWithPassword({\n    email,\n    password,\n  })\n\n  return { data, error }\n}\n\n// Cerrar sesión\nexport async function signOut() {\n  const supabase = createBrowserSupabaseClient()\n\n  const { error } = await supabase.auth.signOut()\n\n  // Forzar una recarga completa para limpiar el estado\n  if (!error) {\n    window.location.href = \"/login\"\n  }\n\n  return { error }\n}\n\n// Registrar un nuevo usuario\nexport async function signUp(email: string, password: string) {\n  const supabase = createBrowserSupabaseClient()\n\n  const { data, error } = await supabase.auth.signUp({\n    email,\n    password,\n  })\n\n  return { data, error }\n}\n28:T8a4,"])</script><script>self.__next_f.push([1,"\"use server\"\n\nimport { cookies } from \"next/headers\"\nimport { createServerClient, type CookieOptions } from \"@supabase/ssr\"\nimport { redirect } from \"next/navigation\"\nimport type { Database } from \"@/lib/database.types\"\n\n// Crear un cliente de Supabase para el servidor\nexport async function createServerSupabaseClient() {\n  // Obtener el almacén de cookies de forma síncrona\n  const cookieStore = cookies()\n\n  // Crear el cliente de Supabase para el servidor\n  return createServerClient\u003cDatabase\u003e(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      // Configurar las cookies para el servidor\n      cookies: {\n        // Obtener una cookie por su nombre\n        get(name) {\n          // Usar el método síncrono para obtener cookies\n          const cookie = cookieStore.get(name)\n          return cookie?.value\n        },\n        // Establecer una cookie\n        set(name, value, options) {\n          // Usar el método síncrono para establecer cookies\n          cookieStore.set({\n            name,\n            value,\n            ...(options as CookieOptions),\n          })\n        },\n        // Eliminar una cookie\n        remove(name, options) {\n          // Usar el método síncrono para eliminar cookies\n          cookieStore.set({\n            name,\n            value: \"\",\n            ...(options as CookieOptions),\n          })\n        },\n      },\n    },\n  )\n}\n\n// Obtener la sesión actual del usuario\nexport async function getSession() {\n  const supabase = await createServerSupabaseClient()\n  try {\n    const { data, error } = await supabase.auth.getSession()\n    if (error) {\n      console.error(\"Error al obtener la sesión:\", error.message)\n      return null\n    }\n    return data.session\n  } catch (e) {\n    console.error(\"Excepción al obtener la sesión:\", e)\n    return null\n  }\n}\n\n// Verificar si el usuario está autenticado\nexport async function requireAuth() {\n  const session = await getSession()\n\n  if (!session) {\n    redirect(\"/login\")\n  }\n\n  return session\n}\n\n// Obtener el usuario actual\nexport async function getCurrentUser() {\n  const session = await getSession()\n  return session?.user || null\n}\n\nexport { createServerClient }\n"])</script><script>self.__next_f.push([1,"29:Taee,"])</script><script>self.__next_f.push([1,"import { Button } from \"@/components/ui/button\"\nimport { obtenerExpresionesPermitidas } from \"@/app/actions/expresiones-permitidas-actions\"\nimport { notFound } from \"next/navigation\"\nimport Link from \"next/link\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { EliminarExpresionPermitidaButton } from \"@/components/buttons/eliminar-expresion-permitida-button\"\n\nexport default async function DetalleExpresionPermitidaPage({ params }: { params: { id: string } }) {\n  const id = Number.parseInt(params.id)\n\n  if (isNaN(id)) {\n    notFound()\n  }\n\n  const { data: expresiones, error } = await obtenerExpresionesPermitidas()\n  const expresion = expresiones?.find((exp) =\u003e exp.id === id)\n\n  if (error || !expresion) {\n    notFound()\n  }\n\n  return (\n    \u003cdiv className=\"max-w-3xl mx-auto py-8\"\u003e\n      \u003cdiv className=\"flex justify-between items-center mb-6\"\u003e\n        \u003ch1 className=\"text-3xl font-bold\"\u003eDetalle de Expresión Permitida\u003c/h1\u003e\n        \u003cdiv className=\"flex space-x-2\"\u003e\n          \u003cLink href={`/configuracion/expresiones-permitidas/${id}/editar`}\u003e\n            \u003cButton variant=\"outline\"\u003eEditar\u003c/Button\u003e\n          \u003c/Link\u003e\n          \u003cEliminarExpresionPermitidaButton id={id} /\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n\n      \u003cCard\u003e\n        \u003cCardHeader\u003e\n          \u003cCardTitle\u003e{expresion.expresion_original}\u003c/CardTitle\u003e\n        \u003c/CardHeader\u003e\n        \u003cCardContent className=\"space-y-4\"\u003e\n          \u003cdiv\u003e\n            \u003ch3 className=\"text-sm font-medium text-gray-500\"\u003eIdioma\u003c/h3\u003e\n            \u003cp className=\"mt-1\"\u003e\n              \u003cBadge\u003e{expresion.idioma}\u003c/Badge\u003e\n            \u003c/p\u003e\n          \u003c/div\u003e\n\n          \u003cdiv\u003e\n            \u003ch3 className=\"text-sm font-medium text-gray-500\"\u003eNormalizaciones Esperadas\u003c/h3\u003e\n            \u003cdiv className=\"mt-2 flex flex-wrap gap-2\"\u003e\n              {expresion.normalizaciones_esperadas.map((norm, index) =\u003e (\n                \u003cBadge key={index} variant=\"outline\" className=\"bg-blue-50\"\u003e\n                  {norm}\n                \u003c/Badge\u003e\n              ))}\n            \u003c/div\u003e\n          \u003c/div\u003e\n\n          \u003cdiv\u003e\n            \u003ch3 className=\"text-sm font-medium text-gray-500\"\u003ePermitida como Normalización\u003c/h3\u003e\n            \u003cp className=\"mt-1\"\u003e\n              {expresion.es_permitida_como_normalizacion ? (\n                \u003cBadge className=\"bg-green-100 text-green-800\"\u003eSí\u003c/Badge\u003e\n              ) : (\n                \u003cBadge variant=\"outline\" className=\"text-gray-500\"\u003e\n                  No\n                \u003c/Badge\u003e\n              )}\n            \u003c/p\u003e\n          \u003c/div\u003e\n        \u003c/CardContent\u003e\n      \u003c/Card\u003e\n\n      \u003cdiv className=\"mt-6\"\u003e\n        \u003cLink href=\"/configuracion/expresiones-permitidas\"\u003e\n          \u003cButton variant=\"outline\"\u003eVolver a Expresiones Permitidas\u003c/Button\u003e\n        \u003c/Link\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"2a:Tf67,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { inicializarExpresionesPermitidas } from \"@/app/actions/expresiones-permitidas-actions\"\nimport { toast } from \"sonner\"\nimport { useRouter } from \"next/navigation\"\nimport { Loader2, CheckCircle, AlertCircle } from \"lucide-react\"\n\nexport default function InicializarExpresionesPermitidasPage() {\n  const [isInitializing, setIsInitializing] = useState(false)\n  const [result, setResult] = useState\u003c{ success?: boolean; message?: string; error?: string } | null\u003e(null)\n  const router = useRouter()\n\n  const handleInitialize = async () =\u003e {\n    setIsInitializing(true)\n    try {\n      const result = await inicializarExpresionesPermitidas()\n      setResult(result)\n\n      if (result.error) {\n        toast.error(result.error)\n      } else {\n        toast.success(result.message || \"Expresiones permitidas inicializadas correctamente\")\n      }\n    } catch (error) {\n      console.error(\"Error al inicializar expresiones permitidas:\", error)\n      setResult({ error: \"Error inesperado al inicializar expresiones permitidas\" })\n      toast.error(\"Error inesperado al inicializar expresiones permitidas\")\n    } finally {\n      setIsInitializing(false)\n    }\n  }\n\n  return (\n    \u003cdiv className=\"max-w-2xl mx-auto py-8\"\u003e\n      \u003cCard\u003e\n        \u003cCardHeader\u003e\n          \u003cCardTitle\u003eInicializar Expresiones Permitidas\u003c/CardTitle\u003e\n          \u003cCardDescription\u003e\n            Esta acción inicializará la tabla de expresiones permitidas con datos predeterminados. Solo se ejecutará si\n            la tabla está vacía.\n          \u003c/CardDescription\u003e\n        \u003c/CardHeader\u003e\n        \u003cCardContent\u003e\n          \u003cp className=\"mb-4\"\u003eSe crearán expresiones permitidas para los siguientes idiomas:\u003c/p\u003e\n          \u003cul className=\"list-disc pl-5 mb-4 space-y-1\"\u003e\n            \u003cli\u003eEspañol (es-ES)\u003c/li\u003e\n            \u003cli\u003eInglés (en-US)\u003c/li\u003e\n          \u003c/ul\u003e\n          \u003cp className=\"text-amber-600\"\u003e\n            \u003cstrong\u003eNota:\u003c/strong\u003e Esta acción solo añadirá datos si la tabla está vacía. Si ya existen datos, no se\n            realizará ningún cambio.\n          \u003c/p\u003e\n\n          {result \u0026\u0026 (\n            \u003cdiv\n              className={`mt-4 p-4 rounded-md ${result.success ? \"bg-green-50 border border-green-200\" : \"bg-red-50 border border-red-200\"}`}\n            \u003e\n              {result.success ? (\n                \u003cdiv className=\"flex items-start\"\u003e\n                  \u003cCheckCircle className=\"h-5 w-5 text-green-500 mr-2 mt-0.5\" /\u003e\n                  \u003cdiv\u003e\n                    \u003cp className=\"font-medium text-green-700\"\u003eOperación exitosa\u003c/p\u003e\n                    \u003cp className=\"text-green-600\"\u003e{result.message}\u003c/p\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n              ) : (\n                \u003cdiv className=\"flex items-start\"\u003e\n                  \u003cAlertCircle className=\"h-5 w-5 text-red-500 mr-2 mt-0.5\" /\u003e\n                  \u003cdiv\u003e\n                    \u003cp className=\"font-medium text-red-700\"\u003eError\u003c/p\u003e\n                    \u003cp className=\"text-red-600\"\u003e{result.error}\u003c/p\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n              )}\n            \u003c/div\u003e\n          )}\n        \u003c/CardContent\u003e\n        \u003cCardFooter className=\"flex justify-end space-x-2\"\u003e\n          \u003cButton\n            variant=\"outline\"\n            onClick={() =\u003e router.push(\"/configuracion/expresiones-permitidas\")}\n            disabled={isInitializing}\n          \u003e\n            Cancelar\n          \u003c/Button\u003e\n          \u003cButton onClick={handleInitialize} disabled={isInitializing}\u003e\n            {isInitializing ? (\n              \u003c\u003e\n                \u003cLoader2 className=\"mr-2 h-4 w-4 animate-spin\" /\u003e\n                Inicializando...\n              \u003c/\u003e\n            ) : (\n              \"Inicializar Expresiones Permitidas\"\n            )}\n          \u003c/Button\u003e\n        \u003c/CardFooter\u003e\n      \u003c/Card\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"2b:T94c,"])</script><script>self.__next_f.push([1,"import { Button } from \"@/components/ui/button\"\nimport Link from \"next/link\"\nimport { ExpresionesPermitidasTable } from \"@/components/tables/expresiones-permitidas-table\"\nimport { obtenerExpresionesPermitidas } from \"@/app/actions/expresiones-permitidas-actions\"\n\nexport default async function ExpresionesPermitidasPage() {\n  const { data: expresiones = [], error } = await obtenerExpresionesPermitidas()\n\n  return (\n    \u003cdiv className=\"space-y-6\"\u003e\n      \u003cdiv className=\"flex justify-between items-center\"\u003e\n        \u003ch1 className=\"text-3xl font-bold\"\u003eExpresiones Permitidas\u003c/h1\u003e\n        \u003cdiv className=\"flex space-x-2\"\u003e\n          \u003cLink href=\"/configuracion/expresiones-permitidas/nueva\"\u003e\n            \u003cButton\u003eNueva Expresión\u003c/Button\u003e\n          \u003c/Link\u003e\n          \u003cLink href=\"/configuracion/expresiones-permitidas/inicializar\"\u003e\n            \u003cButton variant=\"outline\"\u003eInicializar Datos\u003c/Button\u003e\n          \u003c/Link\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n\n      \u003cdiv className=\"bg-amber-50 border border-amber-200 rounded-md p-4 mb-6\"\u003e\n        \u003ch3 className=\"text-amber-800 font-medium mb-2\"\u003eNota sobre los idiomas\u003c/h3\u003e\n        \u003cp className=\"text-amber-700\"\u003e\n          El sistema trata cada variante de idioma (es-ES, es-CL, etc.) como un idioma separado. Las expresiones\n          permitidas se filtran por el idioma exacto seleccionado en la validación. Si necesitas las mismas expresiones\n          para diferentes variantes del mismo idioma, deberás crearlas para cada variante.\n        \u003c/p\u003e\n      \u003c/div\u003e\n\n      {error ? (\n        \u003cdiv className=\"p-4 border border-red-300 bg-red-50 text-red-700 rounded-md\"\u003e\n          Error al cargar expresiones permitidas: {error}\n        \u003c/div\u003e\n      ) : expresiones.length === 0 ? (\n        \u003cdiv className=\"p-8 text-center border rounded-md\"\u003e\n          \u003cp className=\"text-gray-500 mb-4\"\u003eNo hay expresiones permitidas registradas\u003c/p\u003e\n          \u003cdiv className=\"flex justify-center space-x-4\"\u003e\n            \u003cLink href=\"/configuracion/expresiones-permitidas/nueva\"\u003e\n              \u003cButton\u003eCrear primera expresión\u003c/Button\u003e\n            \u003c/Link\u003e\n            \u003cLink href=\"/configuracion/expresiones-permitidas/inicializar\"\u003e\n              \u003cButton variant=\"outline\"\u003eInicializar con datos predeterminados\u003c/Button\u003e\n            \u003c/Link\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      ) : (\n        \u003cExpresionesPermitidasTable expresiones={expresiones} /\u003e\n      )}\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"2c:Tb17,"])</script><script>self.__next_f.push([1,"import { Button } from \"@/components/ui/button\"\nimport { obtenerInvestigadorPorId } from \"@/app/actions/investigadores-actions\"\nimport { notFound } from \"next/navigation\"\nimport Link from \"next/link\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { EliminarInvestigadorButton } from \"@/components/buttons/eliminar-investigador-button\"\n\nexport default async function DetalleInvestigadorPage({ params }: { params: { id: string } }) {\n  const id = Number.parseInt(params.id)\n\n  if (isNaN(id)) {\n    notFound()\n  }\n\n  const { data: investigador, error } = await obtenerInvestigadorPorId(id)\n\n  if (error || !investigador) {\n    notFound()\n  }\n\n  return (\n    \u003cdiv className=\"max-w-3xl mx-auto py-8\"\u003e\n      \u003cdiv className=\"flex justify-between items-center mb-6\"\u003e\n        \u003ch1 className=\"text-3xl font-bold\"\u003eDetalle de Investigador\u003c/h1\u003e\n        \u003cdiv className=\"flex space-x-2\"\u003e\n          \u003cLink href={`/configuracion/investigadores/${id}/editar`}\u003e\n            \u003cButton variant=\"outline\"\u003eEditar\u003c/Button\u003e\n          \u003c/Link\u003e\n          \u003cEliminarInvestigadorButton id={id} /\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n\n      \u003cCard\u003e\n        \u003cCardHeader\u003e\n          \u003cCardTitle\u003e{`${investigador.nombre} ${investigador.apellido}`}\u003c/CardTitle\u003e\n        \u003c/CardHeader\u003e\n        \u003cCardContent className=\"space-y-4\"\u003e\n          \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-4\"\u003e\n            \u003cdiv\u003e\n              \u003ch3 className=\"text-sm font-medium text-gray-500\"\u003eCódigo\u003c/h3\u003e\n              \u003cp className=\"mt-1 text-lg\"\u003e{investigador.codigo}\u003c/p\u003e\n            \u003c/div\u003e\n            \u003cdiv\u003e\n              \u003ch3 className=\"text-sm font-medium text-gray-500\"\u003eInstitución\u003c/h3\u003e\n              \u003cp className=\"mt-1 text-lg\"\u003e{investigador.institucion || \"-\"}\u003c/p\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n\n          \u003cdiv\u003e\n            \u003ch3 className=\"text-sm font-medium text-gray-500\"\u003eCargo\u003c/h3\u003e\n            \u003cp className=\"mt-1\"\u003e{investigador.cargo || \"Sin cargo\"}\u003c/p\u003e\n          \u003c/div\u003e\n\n          \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-4\"\u003e\n            \u003cdiv\u003e\n              \u003ch3 className=\"text-sm font-medium text-gray-500\"\u003eEmail\u003c/h3\u003e\n              \u003cp className=\"mt-1\"\u003e{investigador.email || \"Sin email\"}\u003c/p\u003e\n            \u003c/div\u003e\n            \u003cdiv\u003e\n              \u003ch3 className=\"text-sm font-medium text-gray-500\"\u003eTeléfono\u003c/h3\u003e\n              \u003cp className=\"mt-1\"\u003e{investigador.telefono || \"Sin teléfono\"}\u003c/p\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n\n          \u003cdiv\u003e\n            \u003ch3 className=\"text-sm font-medium text-gray-500\"\u003eNotas\u003c/h3\u003e\n            \u003cp className=\"mt-1\"\u003e{investigador.notas || \"Sin notas\"}\u003c/p\u003e\n          \u003c/div\u003e\n        \u003c/CardContent\u003e\n      \u003c/Card\u003e\n\n      \u003cdiv className=\"mt-6\"\u003e\n        \u003cLink href=\"/configuracion/investigadores\"\u003e\n          \u003cButton variant=\"outline\"\u003eVolver a Investigadores\u003c/Button\u003e\n        \u003c/Link\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"2d:T4f1,import { Button } from \"@/components/ui/button\"\nimport Link from \"next/link\"\nimport { InvestigadoresTable } from \"@/components/tables/investigadores-table\"\nimport { obtenerInvestigadores } from \"@/app/actions/investigadores-actions\"\n\nexport default async function InvestigadoresPage() {\n  const { data: investigadores = [], error } = await obtenerInvestigadores()\n\n  return (\n    \u003cdiv className=\"space-y-6\"\u003e\n      \u003cdiv className=\"flex justify-between items-center\"\u003e\n        \u003ch1 className=\"text-3xl font-bold\"\u003eInvestigadores\u003c/h1\u003e\n        \u003cLink href=\"/configuracion/investigadores/nuevo\"\u003e\n          \u003cButton\u003eNuevo Investigador\u003c/Button\u003e\n        \u003c/Link\u003e\n      \u003c/div\u003e\n\n      {error ? (\n        \u003cdiv className=\"p-4 border border-red-300 bg-red-50 text-red-700 rounded-md\"\u003e\n          Error al cargar investigadores: {error}\n        \u003c/div\u003e\n      ) : investigadores.length === 0 ? (\n        \u003cdiv className=\"p-8 text-center border rounded-md\"\u003e\n          \u003cp className=\"text-gray-500 mb-4\"\u003eNo hay investigadores registrados\u003c/p\u003e\n          \u003cLink href=\"/configuracion/investigadores/nuevo\"\u003e\n            \u003cButton\u003eCrear primer investigador\u003c/Button\u003e\n          \u003c/Link\u003e\n        \u003c/div\u003e\n      ) : (\n        \u003cInvestigadoresTable investigadores={investigadores} /\u003e\n      )}\n    \u003c/div\u003e\n  )\n}\n2e:Tc58,"])</script><script>self.__next_f.push([1,"import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport Link from \"next/link\"\nimport { Button } from \"@/components/ui/button\"\n\nexport default function ConfiguracionPage() {\n  return (\n    \u003cdiv className=\"grid gap-6\"\u003e\n      \u003ch1 className=\"text-3xl font-bold\"\u003eConfiguración del Sistema\u003c/h1\u003e\n\n      \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\"\u003e\n        \u003cCard\u003e\n          \u003cCardHeader\u003e\n            \u003cCardTitle\u003eFundaciones\u003c/CardTitle\u003e\n            \u003cCardDescription\u003eGestiona las fundaciones participantes\u003c/CardDescription\u003e\n          \u003c/CardHeader\u003e\n          \u003cCardContent\u003e\n            \u003cp className=\"mb-4\"\u003eAdministra el registro de fundaciones, sus códigos y descripciones.\u003c/p\u003e\n            \u003cLink href=\"/fundaciones\"\u003e\n              \u003cButton\u003eIr a Fundaciones\u003c/Button\u003e\n            \u003c/Link\u003e\n          \u003c/CardContent\u003e\n        \u003c/Card\u003e\n\n        \u003cCard\u003e\n          \u003cCardHeader\u003e\n            \u003cCardTitle\u003eEntrevistados\u003c/CardTitle\u003e\n            \u003cCardDescription\u003eGestiona los entrevistados\u003c/CardDescription\u003e\n          \u003c/CardHeader\u003e\n          \u003cCardContent\u003e\n            \u003cp className=\"mb-4\"\u003eAdministra el registro de entrevistados, sus datos y relaciones con fundaciones.\u003c/p\u003e\n            \u003cLink href=\"/entrevistados\"\u003e\n              \u003cButton\u003eIr a Entrevistados\u003c/Button\u003e\n            \u003c/Link\u003e\n          \u003c/CardContent\u003e\n        \u003c/Card\u003e\n\n        \u003cCard\u003e\n          \u003cCardHeader\u003e\n            \u003cCardTitle\u003eInvestigadores\u003c/CardTitle\u003e\n            \u003cCardDescription\u003eGestiona los investigadores\u003c/CardDescription\u003e\n          \u003c/CardHeader\u003e\n          \u003cCardContent\u003e\n            \u003cp className=\"mb-4\"\u003eAdministra el registro de investigadores que realizan las entrevistas.\u003c/p\u003e\n            \u003cLink href=\"/configuracion/investigadores\"\u003e\n              \u003cButton\u003eIr a Investigadores\u003c/Button\u003e\n            \u003c/Link\u003e\n          \u003c/CardContent\u003e\n        \u003c/Card\u003e\n\n        \u003cCard\u003e\n          \u003cCardHeader\u003e\n            \u003cCardTitle\u003eDimensiones Matriz\u003c/CardTitle\u003e\n            \u003cCardDescription\u003eGestiona las dimensiones de la matriz\u003c/CardDescription\u003e\n          \u003c/CardHeader\u003e\n          \u003cCardContent\u003e\n            \u003cp className=\"mb-4\"\u003eAdministra las categorías, subcategorías y códigos para la matriz de vaciado.\u003c/p\u003e\n            \u003cLink href=\"/configuracion/dimensiones\"\u003e\n              \u003cButton\u003eIr a Dimensiones\u003c/Button\u003e\n            \u003c/Link\u003e\n          \u003c/CardContent\u003e\n        \u003c/Card\u003e\n\n        \u003cCard\u003e\n          \u003cCardHeader\u003e\n            \u003cCardTitle\u003eExpresiones Permitidas\u003c/CardTitle\u003e\n            \u003cCardDescription\u003eGestiona las expresiones permitidas para validación\u003c/CardDescription\u003e\n          \u003c/CardHeader\u003e\n          \u003cCardContent\u003e\n            \u003cp className=\"mb-4\"\u003eAdministra las expresiones cortas permitidas y sus normalizaciones esperadas.\u003c/p\u003e\n            \u003cdiv className=\"flex space-x-2\"\u003e\n              \u003cLink href=\"/configuracion/expresiones-permitidas\"\u003e\n                \u003cButton\u003eIr a Expresiones\u003c/Button\u003e\n              \u003c/Link\u003e\n              \u003cLink href=\"/configuracion/expresiones-permitidas/inicializar\"\u003e\n                \u003cButton variant=\"outline\"\u003eInicializar Datos\u003c/Button\u003e\n              \u003c/Link\u003e\n            \u003c/div\u003e\n          \u003c/CardContent\u003e\n        \u003c/Card\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"2f:T100e,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport type React from \"react\"\n\nimport { useState } from \"react\"\nimport Link from \"next/link\"\nimport { CustomButton } from \"@/components/ui/custom-button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { FormField } from \"@/components/ui/form-field\"\nimport { Text } from \"@/components/ui/text\"\nimport { ProCard } from \"@/components/ui/pro-card\"\nimport { Mail, ArrowLeft, Send } from \"lucide-react\"\nimport { toast } from \"sonner\"\n\nexport default function ContactPage() {\n  const [name, setName] = useState(\"\")\n  const [email, setEmail] = useState(\"\")\n  const [message, setMessage] = useState(\"\")\n  const [loading, setLoading] = useState(false)\n\n  const handleSubmit = async (e: React.FormEvent) =\u003e {\n    e.preventDefault()\n\n    if (!name || !email || !message) {\n      toast.error(\"Por favor, completa todos los campos\")\n      return\n    }\n\n    setLoading(true)\n\n    try {\n      // Aquí iría la lógica para enviar el formulario de contacto\n      // Por ahora solo simulamos una espera\n      await new Promise((resolve) =\u003e setTimeout(resolve, 1500))\n\n      toast.success(\"Tu mensaje ha sido enviado correctamente. Nos pondremos en contacto contigo pronto.\")\n      setName(\"\")\n      setEmail(\"\")\n      setMessage(\"\")\n    } catch (error) {\n      console.error(\"Error al enviar el mensaje:\", error)\n      toast.error(\"Ocurrió un error al enviar tu mensaje. Por favor, intenta nuevamente.\")\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    \u003cdiv className=\"flex items-center justify-center min-h-screen bg-gradient-to-b from-background to-muted p-4\"\u003e\n      \u003cProCard className=\"max-w-xl w-full\" border=\"top\" borderColor=\"primary\"\u003e\n        \u003cProCard.Header className=\"space-y-2 text-center\"\u003e\n          \u003cdiv className=\"flex justify-center mb-2\"\u003e\n            \u003cimg src=\"/logo.svg\" alt=\"Logo\" width={120} height={40} /\u003e\n          \u003c/div\u003e\n          \u003cText variant=\"heading\" size=\"2xl\" color=\"primary\" className=\"text-center\"\u003e\n            Contáctanos\n          \u003c/Text\u003e\n          \u003cText variant=\"default\" color=\"neutral\" colorVariant=\"muted\" className=\"text-center\"\u003e\n            ¿Tienes preguntas o comentarios? ¡Nos encantaría escucharte!\n          \u003c/Text\u003e\n        \u003c/ProCard.Header\u003e\n\n        \u003cProCard.Content\u003e\n          \u003cform onSubmit={handleSubmit} className=\"space-y-4\"\u003e\n            \u003cFormField label=\"Nombre\" htmlFor=\"name\"\u003e\n              \u003cInput\n                id=\"name\"\n                value={name}\n                onChange={(e) =\u003e setName(e.target.value)}\n                placeholder=\"Tu nombre completo\"\n                required\n              /\u003e\n            \u003c/FormField\u003e\n\n            \u003cFormField label=\"Correo electrónico\" htmlFor=\"email\"\u003e\n              \u003cInput\n                id=\"email\"\n                type=\"email\"\n                leadingIcon={Mail}\n                value={email}\n                onChange={(e) =\u003e setEmail(e.target.value)}\n                placeholder=\"tucorreo@ejemplo.com\"\n                required\n              /\u003e\n            \u003c/FormField\u003e\n\n            \u003cFormField label=\"Mensaje\" htmlFor=\"message\"\u003e\n              \u003cTextarea\n                id=\"message\"\n                value={message}\n                onChange={(e) =\u003e setMessage(e.target.value)}\n                placeholder=\"¿En qué podemos ayudarte?\"\n                required\n                rows={4}\n              /\u003e\n            \u003c/FormField\u003e\n\n            \u003cCustomButton\n              type=\"submit\"\n              fullWidth\n              loading={loading}\n              loadingText=\"Enviando mensaje...\"\n              color=\"primary\"\n              leftIcon={\u003cSend size={16} /\u003e}\n              className=\"mt-6\"\n            \u003e\n              Enviar mensaje\n            \u003c/CustomButton\u003e\n          \u003c/form\u003e\n        \u003c/ProCard.Content\u003e\n\n        \u003cProCard.Footer className=\"text-center\"\u003e\n          \u003cLink href=\"/login\"\u003e\n            \u003cCustomButton variant=\"ghost\" color=\"default\" leftIcon={\u003cArrowLeft size={16} /\u003e} size=\"sm\"\u003e\n              Volver a inicio de sesión\n            \u003c/CustomButton\u003e\n          \u003c/Link\u003e\n        \u003c/ProCard.Footer\u003e\n      \u003c/ProCard\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"30:T93a,"])</script><script>self.__next_f.push([1,"# Módulo de Datos Maestros\n\nEste módulo contiene las vistas y funcionalidades para gestionar datos maestros del sistema, como investigadores, instituciones y cargos.\n\n## Estructura del Módulo\n\n\\`\\`\\`\n/datos-maestros\n├── layout.tsx                # Layout con sidebar para todo el módulo\n├── README.md                 # Este archivo de documentación\n└── /investigadores           # Submódulo de investigadores\n    ├── page.tsx              # Página principal de investigadores\n    └── /components           # Componentes específicos de investigadores\n        ├── tabla-investigadores.tsx  # Tabla para mostrar investigadores\n        └── formulario-investigador.tsx # Formulario para crear/editar investigadores\n\\`\\`\\`\n\n## Submódulo: Investigadores\n\n### Descripción\nGestiona los perfiles de investigadores asociados a un proyecto específico. Permite visualizar, agregar, editar y eliminar investigadores.\n\n### Funcionalidades\n- **Listado de investigadores**: Muestra todos los investigadores del proyecto actual.\n- **Control de acceso**: Sólo los usuarios con el permiso `asignar_investigadores = true` en su cargo pueden agregar, editar o eliminar investigadores.\n- **Formulario de creación/edición**: Permite gestionar la información del investigador, incluyendo:\n  - Datos personales (nombre, apellido, institución, teléfono)\n  - Asignación de cargo\n  - Vinculación con usuario de auth mediante email\n  - Notas adicionales\n\n### Tablas de Base de Datos Utilizadas\n- `perfil_investigador`: Contiene el vínculo entre usuarios y proyectos, con la información de cada investigador.\n- `cargo`: Lista de cargos posibles en el proyecto, incluye el permiso `asignar_investigadores`.\n- `auth.users`: Solo accedida indirectamente a través de funciones RPC seguras (`get_user_by_email`, `get_user_by_id`).\n\n### Endpoints Personalizados\n- `get_user_by_email`: Obtiene un usuario por su email.\n- `get_user_by_id`: Obtiene un usuario por su ID.\n- `check_user_has_profile`: Verifica si un usuario ya tiene perfil en un proyecto.\n\n## Notas de Implementación\n- Se utiliza un ID de proyecto fijo por ahora (se hará dinámico en el futuro).\n- Se implementan componentes personalizados según los showrooms del proyecto.\n- Los permisos de usuario se verifican desde el cliente mediante consultas a la base de datos.\n"])</script><script>self.__next_f.push([1,"31:T5f9,\"use client\"\n\nimport type React from \"react\"\n\nimport { SidebarNav } from \"@/components/ui/sidebar-nav\"\nimport { Database, Users, UserPlus } from \"lucide-react\"\n\nconst sidebarNavItems = [\n  {\n    title: \"Investigadores\",\n    href: \"/datos-maestros/investigadores\",\n    icon: Users,\n  },\n  {\n    title: \"Miembros\",\n    href: \"/datos-maestros/miembros\",\n    icon: UserPlus,\n  },\n  // Otros ítems del menú pueden agregarse en el futuro\n  // {\n  //   title: \"Instituciones\",\n  //   href: \"/datos-maestros/instituciones\",\n  //   icon: Building2,\n  // },\n  // {\n  //   title: \"Cargos\",\n  //   href: \"/datos-maestros/cargos\",\n  //   icon: Briefcase,\n  // },\n]\n\nexport default function DatosMaestrosLayout({\n  children,\n}: {\n  children: React.ReactNode\n}) {\n  return (\n    \u003cdiv className=\"flex min-h-screen flex-col\"\u003e\n      \u003cdiv className=\"container flex-1 items-start md:grid md:grid-cols-[220px_minmax(0,1fr)] md:gap-6 lg:grid-cols-[240px_minmax(0,1fr)] lg:gap-10\"\u003e\n        \u003caside className=\"fixed top-14 z-30 -ml-2 hidden h-[calc(100vh-3.5rem)] w-full shrink-0 md:sticky md:block\"\u003e\n          \u003cdiv className=\"h-full py-6 pl-8 pr-6 lg:py-8\"\u003e\n            \u003cdiv className=\"flex items-center gap-2 mb-8\"\u003e\n              \u003cDatabase className=\"h-5 w-5\" /\u003e\n              \u003ch2 className=\"text-lg font-semibold\"\u003eDatos Maestros\u003c/h2\u003e\n            \u003c/div\u003e\n            \u003cSidebarNav items={sidebarNavItems} /\u003e\n          \u003c/div\u003e\n        \u003c/aside\u003e\n        \u003cmain className=\"flex w-full flex-col overflow-hidden\"\u003e{children}\u003c/main\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n32:T29a9,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useRouter, useParams } from \"next/navigation\"\nimport { useForm } from \"react-hook-form\"\nimport { z } from \"zod\"\nimport { zodResolver } from \"@hookform/resolvers/zod\"\nimport { useAuth } from \"@/app/auth-provider\"\nimport { agregarMiembroAProyecto, obtenerRolesDisponiblesProyecto } from \"@/lib/actions/member-actions\"\nimport { Text } from \"@/components/ui/text\"\nimport { ProCard } from \"@/components/ui/pro-card\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { SelectCustom } from \"@/components/ui/select-custom\"\nimport { CustomButton } from \"@/components/ui/custom-button\"\nimport { FormField } from \"@/components/ui/form-field\"\nimport { useToast } from \"@/components/ui/use-toast\"\nimport { ArrowLeft, UserPlus, Loader2 } from \"lucide-react\"\nimport { PageHeader } from \"@/components/common/page-header\"\nimport { SustratoLoadingLogo } from \"@/components/ui/sustrato-loading-logo\"\n\n// Esquema de validación para el formulario\nconst formSchema = z.object({\n  emailUsuario: z.string().email(\"Email inválido\").min(1, \"El email es requerido\"),\n  rolId: z.string().min(1, \"Debe seleccionar un rol\"),\n  firstName: z.string().optional(),\n  lastName: z.string().optional(),\n  displayName: z.string().optional(),\n  institution: z.string().optional(),\n  phone: z.string().optional(),\n  notes: z.string().optional(),\n  language: z.string().optional(),\n  pronouns: z.string().optional(),\n})\n\n// Tipos para el formulario\ntype MiembroFormValues = z.infer\u003ctypeof formSchema\u003e\n\n// Tipo para las opciones de roles\ninterface RolOption {\n  value: string\n  label: string\n}\n\nexport default function CrearMiembroPage() {\n  const router = useRouter()\n  const params = useParams()\n  const { proyectoActual } = useAuth()\n  const { toast } = useToast()\n\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [isLoading, setIsLoading] = useState(true)\n  const [roles, setRoles] = useState\u003cRolOption[]\u003e([])\n\n  const form = useForm\u003cMiembroFormValues\u003e({\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      emailUsuario: \"\",\n      rolId: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      displayName: \"\",\n      institution: \"\",\n      phone: \"\",\n      notes: \"\",\n      language: \"\",\n      pronouns: \"\",\n    },\n  })\n\n  // Cargar roles disponibles\n  useEffect(() =\u003e {\n    const cargarRoles = async () =\u003e {\n      setIsLoading(true)\n      try {\n        if (!proyectoActual?.id) {\n          setRoles([])\n          setIsLoading(false)\n          return\n        }\n        const resultado = await obtenerRolesDisponiblesProyecto(proyectoActual.id)\n        if (resultado.success) {\n          const opcionesRoles = resultado.data.map((rol) =\u003e ({\n            value: rol.id,\n            label: rol.role_name,\n          }))\n          setRoles(opcionesRoles)\n        } else {\n          toast({\n            title: \"Error al cargar roles\",\n            description: resultado.error,\n            variant: \"destructive\",\n          })\n        }\n      } catch (error) {\n        console.error(\"Error al cargar roles:\", error)\n        toast({\n          title: \"Error\",\n          description: \"No se pudieron cargar los roles disponibles\",\n          variant: \"destructive\",\n        })\n      } finally {\n        setIsLoading(false)\n      }\n    }\n\n    cargarRoles()\n  }, [toast, proyectoActual?.id])\n\n  const onSubmit = async (data: MiembroFormValues) =\u003e {\n    console.log(\"CrearMiembroPage onSubmit\", data)\n    if (!proyectoActual?.id) {\n      toast({\n        title: \"Error\",\n        description: \"ID de proyecto no disponible\",\n        variant: \"destructive\",\n      })\n      return\n    }\n\n    setIsSubmitting(true)\n    try {\n      const resultado = await agregarMiembroAProyecto({\n        proyectoId: proyectoActual.id,\n        emailUsuarioNuevo: data.emailUsuario,\n        rolIdAsignar: data.rolId,\n        datosPerfilInicial: {\n          first_name: data.firstName,\n          last_name: data.lastName,\n          public_display_name: data.displayName,\n          primary_institution: data.institution,\n          contact_phone: data.phone,\n          general_notes: data.notes,\n          preferred_language: data.language,\n          pronouns: data.pronouns,\n        },\n      })\n\n      if (resultado.success) {\n        toast({\n          title: \"Miembro agregado\",\n          description: \"El miembro fue agregado exitosamente al proyecto.\",\n          variant: \"default\",\n        })\n        router.push(\"/datos-maestros/miembros\")\n      } else {\n        let errorMessage = resultado.error\n\n        // Mensajes personalizados para códigos de error específicos\n        if (resultado.errorCode === \"USER_NOT_FOUND\") {\n          errorMessage = `No se encontró un usuario con el email '${data.emailUsuario}'.`\n        } else if (resultado.errorCode === \"ALREADY_MEMBER\") {\n          errorMessage = \"El usuario ya es miembro de este proyecto.\"\n        } else if (resultado.errorCode === \"FORBIDDEN\") {\n          errorMessage = \"No tienes permisos para realizar esta acción.\"\n        }\n\n        toast({\n          title: \"Error al agregar miembro\",\n          description: errorMessage,\n          variant: \"destructive\",\n        })\n      }\n    } catch (error) {\n      console.error(\"Error al agregar miembro:\", error)\n      toast({\n        title: \"Error\",\n        description: \"Ocurrió un error al procesar la solicitud\",\n        variant: \"destructive\",\n      })\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  const handleCancel = () =\u003e {\n    router.push(\"/datos-maestros/miembros\")\n  }\n\n  if (isLoading) {\n    return (\n      \u003cdiv className=\"flex justify-center py-8\"\u003e\n        \u003cSustratoLoadingLogo size={50} variant=\"spin-pulse\" showText={true} text=\"Cargando...\" /\u003e\n      \u003c/div\u003e\n    )\n  }\n\n  return (\n    \u003cdiv className=\"space-y-6\"\u003e\n      \u003cPageHeader\n        title=\"Agregar Miembro al Proyecto\"\n        description=\"Completa el formulario para agregar un nuevo miembro al proyecto.\"\n        actions={\n          \u003cCustomButton onClick={handleCancel} leftIcon={\u003cArrowLeft className=\"h-4 w-4\" /\u003e} variant=\"outline\"\u003e\n            Volver\n          \u003c/CustomButton\u003e\n        }\n      /\u003e\n\n      \u003cProCard\u003e\n        \u003cProCard.Header\u003e\n          \u003cText variant=\"heading\" size=\"lg\"\u003e\n            Información del Miembro\n          \u003c/Text\u003e\n        \u003c/ProCard.Header\u003e\n        \u003cProCard.Content\u003e\n          \u003cform onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\"\u003e\n            \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-4\"\u003e\n              \u003cFormField\n                label=\"Email del Usuario\"\n                htmlFor=\"emailUsuario\"\n                error={form.formState.errors.emailUsuario?.message}\n                required\n              \u003e\n                \u003cInput\n                  id=\"emailUsuario\"\n                  placeholder=\"correo@ejemplo.com\"\n                  {...form.register(\"emailUsuario\")}\n                  error={form.formState.errors.emailUsuario?.message}\n                /\u003e\n              \u003c/FormField\u003e\n\n              \u003cFormField\n                label=\"Rol en el Proyecto\"\n                htmlFor=\"rolId\"\n                error={form.formState.errors.rolId?.message}\n                required\n              \u003e\n                \u003cSelectCustom\n                  id=\"rolId\"\n                  placeholder=\"Selecciona un rol\"\n                  options={roles}\n                  value={form.watch(\"rolId\")}\n                  onChange={(value) =\u003e form.setValue(\"rolId\", value as string)}\n                  error={form.formState.errors.rolId?.message}\n                /\u003e\n              \u003c/FormField\u003e\n            \u003c/div\u003e\n\n            \u003cText variant=\"heading\" size=\"md\" className=\"mt-6 mb-2\"\u003e\n              Información Adicional de Perfil (Opcional)\n            \u003c/Text\u003e\n\n            \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-4\"\u003e\n              \u003cFormField label=\"Nombre\" htmlFor=\"firstName\"\u003e\n                \u003cInput id=\"firstName\" placeholder=\"Nombre\" {...form.register(\"firstName\")} /\u003e\n              \u003c/FormField\u003e\n\n              \u003cFormField label=\"Apellido\" htmlFor=\"lastName\"\u003e\n                \u003cInput id=\"lastName\" placeholder=\"Apellido\" {...form.register(\"lastName\")} /\u003e\n              \u003c/FormField\u003e\n\n              \u003cFormField label=\"Nombre para mostrar\" htmlFor=\"displayName\"\u003e\n                \u003cInput id=\"displayName\" placeholder=\"Nombre público\" {...form.register(\"displayName\")} /\u003e\n              \u003c/FormField\u003e\n\n              \u003cFormField label=\"Institución\" htmlFor=\"institution\"\u003e\n                \u003cInput id=\"institution\" placeholder=\"Institución o afiliación\" {...form.register(\"institution\")} /\u003e\n              \u003c/FormField\u003e\n\n              \u003cFormField label=\"Teléfono\" htmlFor=\"phone\"\u003e\n                \u003cInput id=\"phone\" placeholder=\"Teléfono de contacto\" {...form.register(\"phone\")} /\u003e\n              \u003c/FormField\u003e\n\n              \u003cFormField label=\"Lenguaje preferido\" htmlFor=\"language\"\u003e\n                \u003cSelectCustom\n                  id=\"language\"\n                  placeholder=\"Selecciona un idioma\"\n                  options={[\n                    { value: \"es\", label: \"Español\" },\n                    { value: \"en\", label: \"Inglés\" },\n                    { value: \"pt\", label: \"Portugués\" },\n                  ]}\n                  value={form.watch(\"language\")}\n                  onChange={(value) =\u003e form.setValue(\"language\", value as string)}\n                /\u003e\n              \u003c/FormField\u003e\n\n              \u003cFormField label=\"Pronombres\" htmlFor=\"pronouns\" className=\"col-span-1\"\u003e\n                \u003cInput id=\"pronouns\" placeholder=\"Pronombres\" {...form.register(\"pronouns\")} /\u003e\n              \u003c/FormField\u003e\n            \u003c/div\u003e\n\n            \u003cFormField label=\"Notas\" htmlFor=\"notes\" className=\"col-span-full\"\u003e\n              \u003cTextarea\n                id=\"notes\"\n                placeholder=\"Información adicional relevante\"\n                {...form.register(\"notes\")}\n                showCharacterCount\n                maxLength={500}\n              /\u003e\n            \u003c/FormField\u003e\n\n            \u003cdiv className=\"flex justify-end gap-3 pt-4\"\u003e\n              \u003cCustomButton type=\"button\" onClick={handleCancel} variant=\"outline\"\u003e\n                Cancelar\n              \u003c/CustomButton\u003e\n              \u003cCustomButton\n                type=\"submit\"\n                color=\"primary\"\n                leftIcon={\n                  isSubmitting ? \u003cLoader2 className=\"h-4 w-4 animate-spin\" /\u003e : \u003cUserPlus className=\"h-4 w-4\" /\u003e\n                }\n                disabled={isSubmitting}\n              \u003e\n                {isSubmitting ? \"Agregando...\" : \"Agregar Miembro\"}\n              \u003c/CustomButton\u003e\n            \u003c/div\u003e\n          \u003c/form\u003e\n        \u003c/ProCard.Content\u003e\n      \u003c/ProCard\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"33:T18b4,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useRouter, useParams } from \"next/navigation\"\nimport { useAuth } from \"@/app/auth-provider\"\nimport { obtenerDetallesMiembro, eliminarMiembroDeProyecto } from \"@/lib/actions/member-actions\"\nimport { Text } from \"@/components/ui/text\"\nimport { ProCard } from \"@/components/ui/pro-card\"\nimport { CustomButton } from \"@/components/ui/custom-button\"\nimport { useToast } from \"@/components/ui/use-toast\"\nimport { ArrowLeft, Trash2, AlertCircle, Loader2 } from \"lucide-react\"\nimport { PageHeader } from \"@/components/common/page-header\"\nimport { SustratoLoadingLogo } from \"@/components/ui/sustrato-loading-logo\"\nimport type { ProjectMemberDetails } from \"@/lib/actions/member-actions\"\n\nexport default function EliminarMiembroPage() {\n  const router = useRouter()\n  const params = useParams()\n  const memberId = params.id as string\n  const { proyectoActual } = useAuth()\n  const { toast } = useToast()\n\n  const [isLoading, setIsLoading] = useState(true)\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [miembro, setMiembro] = useState\u003cProjectMemberDetails | null\u003e(null)\n  const [error, setError] = useState\u003cstring | null\u003e(null)\n\n  // Cargar datos del miembro\n  useEffect(() =\u003e {\n    const cargarDatos = async () =\u003e {\n      setIsLoading(true)\n      setError(null)\n\n      if (!proyectoActual?.id) {\n        setError(\"No hay un proyecto seleccionado.\")\n        setIsLoading(false)\n        return\n      }\n\n      try {\n        const resultadoMiembro = await obtenerDetallesMiembro(proyectoActual.id, memberId)\n\n        if (!resultadoMiembro.success) {\n          setError(resultadoMiembro.error || \"Error al cargar datos del miembro\")\n          setIsLoading(false)\n          return\n        }\n\n        setMiembro(resultadoMiembro.data)\n      } catch (error) {\n        console.error(\"Error al cargar datos:\", error)\n        setError(\"Error al cargar datos del miembro\")\n      } finally {\n        setIsLoading(false)\n      }\n    }\n\n    if (proyectoActual?.id \u0026\u0026 memberId) {\n      cargarDatos()\n    }\n  }, [proyectoActual?.id, memberId])\n\n  const handleCancelar = () =\u003e {\n    router.push(\"/datos-maestros/miembros\")\n  }\n\n  const handleConfirmarEliminar = async () =\u003e {\n    if (!proyectoActual?.id || !miembro) {\n      toast({\n        title: \"Error\",\n        description: \"No se puede procesar la solicitud con los datos actuales\",\n        variant: \"destructive\",\n      })\n      return\n    }\n\n    setIsSubmitting(true)\n    try {\n      const resultado = await eliminarMiembroDeProyecto({\n        proyectoId: proyectoActual.id,\n        projectMemberId: memberId,\n      })\n\n      if (resultado.success) {\n        toast({\n          title: \"Miembro eliminado\",\n          description: \"El miembro ha sido eliminado del proyecto exitosamente.\",\n        })\n        router.push(\"/datos-maestros/miembros\")\n      } else {\n        toast({\n          title: \"Error al eliminar\",\n          description: resultado.error || \"No se pudo eliminar al miembro\",\n          variant: \"destructive\",\n        })\n      }\n    } catch (error) {\n      console.error(\"Error al eliminar miembro:\", error)\n      toast({\n        title: \"Error\",\n        description: \"Ocurrió un error al procesar la solicitud\",\n        variant: \"destructive\",\n      })\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  const getNombreMiembro = (): string =\u003e {\n    if (!miembro) return \"Miembro\"\n\n    const profile = miembro.profile\n    if (profile?.public_display_name) {\n      return profile.public_display_name\n    }\n\n    if (profile?.first_name || profile?.last_name) {\n      return `${profile.first_name || \"\"} ${profile.last_name || \"\"}`.trim()\n    }\n\n    return \"Miembro\"\n  }\n\n  if (isLoading) {\n    return (\n      \u003cdiv className=\"flex justify-center py-8\"\u003e\n        \u003cSustratoLoadingLogo size={50} variant=\"spin-pulse\" showText={true} text=\"Cargando datos del miembro...\" /\u003e\n      \u003c/div\u003e\n    )\n  }\n\n  if (error) {\n    return (\n      \u003cdiv className=\"space-y-6\"\u003e\n        \u003cPageHeader\n          title=\"Error\"\n          description={error}\n          actions={\n            \u003cCustomButton onClick={handleCancelar} leftIcon={\u003cArrowLeft className=\"h-4 w-4\" /\u003e} variant=\"outline\"\u003e\n              Volver\n            \u003c/CustomButton\u003e\n          }\n        /\u003e\n      \u003c/div\u003e\n    )\n  }\n\n  if (!miembro) {\n    return (\n      \u003cdiv className=\"space-y-6\"\u003e\n        \u003cPageHeader\n          title=\"Miembro no encontrado\"\n          description=\"No se encontró información para este miembro.\"\n          actions={\n            \u003cCustomButton onClick={handleCancelar} leftIcon={\u003cArrowLeft className=\"h-4 w-4\" /\u003e} variant=\"outline\"\u003e\n              Volver\n            \u003c/CustomButton\u003e\n          }\n        /\u003e\n      \u003c/div\u003e\n    )\n  }\n\n  return (\n    \u003cdiv className=\"space-y-6\"\u003e\n      \u003cPageHeader\n        title=\"Eliminar Miembro\"\n        description=\"Confirma la eliminación del miembro del proyecto.\"\n        actions={\n          \u003cCustomButton onClick={handleCancelar} leftIcon={\u003cArrowLeft className=\"h-4 w-4\" /\u003e} variant=\"outline\"\u003e\n            Volver\n          \u003c/CustomButton\u003e\n        }\n      /\u003e\n\n      \u003cProCard className=\"border-destructive bg-destructive/5\"\u003e\n        \u003cProCard.Content className=\"flex flex-col items-center py-8 text-center\"\u003e\n          \u003cAlertCircle className=\"h-12 w-12 text-destructive mb-4\" /\u003e\n          \u003cText variant=\"heading\" size=\"lg\" className=\"mb-2\"\u003e\n            ¿Estás seguro de eliminar a este miembro?\n          \u003c/Text\u003e\n          \u003cText className=\"mb-6\"\u003e\n            Estás a punto de eliminar a \u003cstrong\u003e{getNombreMiembro()}\u003c/strong\u003e del proyecto. Esta acción no se puede\n            deshacer.\n          \u003c/Text\u003e\n\n          \u003cdiv className=\"flex flex-col sm:flex-row gap-3 mt-4\"\u003e\n            \u003cCustomButton onClick={handleCancelar} variant=\"outline\" className=\"min-w-[120px]\"\u003e\n              Cancelar\n            \u003c/CustomButton\u003e\n            \u003cCustomButton\n              onClick={handleConfirmarEliminar}\n              color=\"danger\"\n              leftIcon={isSubmitting ? \u003cLoader2 className=\"h-4 w-4 animate-spin\" /\u003e : \u003cTrash2 className=\"h-4 w-4\" /\u003e}\n              disabled={isSubmitting}\n              className=\"min-w-[120px]\"\n            \u003e\n              {isSubmitting ? \"Eliminando...\" : \"Eliminar\"}\n            \u003c/CustomButton\u003e\n          \u003c/div\u003e\n        \u003c/ProCard.Content\u003e\n      \u003c/ProCard\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"34:T3496,"])</script><script>self.__next_f.push([1,"// app/datos-maestros/miembros/[id]/modificar/page.tsx\n\"use client\"\n\nimport { useState, useEffect, useCallback } from \"react\"\nimport { useRouter, useParams } from \"next/navigation\"\nimport { useAuth } from \"@/app/auth-provider\"\nimport {\n  obtenerDetallesMiembroProyecto,\n  obtenerRolesDisponiblesProyecto,\n  modificarDetallesMiembroEnProyecto,\n  type ProjectMemberDetails,\n  type ProjectRoleInfo,\n  type ResultadoOperacion,\n  type MemberProfileData,\n} from \"@/lib/actions/member-actions\"\nimport { CustomButton } from \"@/components/ui/custom-button\"\nimport { PageHeader } from \"@/components/common/page-header\"\nimport { SustratoLoadingLogo } from \"@/components/ui/sustrato-loading-logo\"\nimport { MiembroForm, type MiembroFormValues } from \"@/app/datos-maestros/miembros/components/MiembroForm\"\nimport { useToast } from \"@/components/ui/use-toast\"\nimport { ArrowLeft } from \"lucide-react\"\nimport { useLoading } from \"@/contexts/LoadingContext\"\n\ninterface RolOption {\n  value: string\n  label: string\n}\n\nexport default function ModificarMiembroPage() {\n  const router = useRouter()\n  const params = useParams()\n  const memberId = params?.id ? String(params.id) : \"\"\n  const { proyectoActual } = useAuth()\n  const { toast } = useToast()\n  const { showLoading, hideLoading } = useLoading() // isLoading: isGlobalLoading no se usa aquí\n\n  const [isButtonSubmitting, setIsButtonSubmitting] = useState(false)\n  const [isPageLoading, setIsPageLoading] = useState(true)\n  const [roles, setRoles] = useState\u003cRolOption[]\u003e([])\n  const [miembro, setMiembro] = useState\u003cProjectMemberDetails | null\u003e(null)\n  const [error, setError] = useState\u003cstring | null\u003e(null)\n\n  const cargarDatos = useCallback(async () =\u003e {\n    // ... (Lógica de cargarDatos sin cambios, como la teníamos) ...\n    console.log(\"[Page] cargarDatos: Iniciando carga de datos de página...\")\n    setIsPageLoading(true)\n    setError(null)\n    setMiembro(null)\n\n    if (!proyectoActual?.id) {\n      console.log(\"[Page] cargarDatos: No hay proyecto actual ID.\")\n      setError(\"No hay un proyecto activo seleccionado. Por favor, seleccione uno.\")\n      setIsPageLoading(false)\n      return\n    }\n    if (!memberId) {\n      console.log(\"[Page] cargarDatos: No hay memberId.\")\n      setError(\"ID de miembro no especificado en la URL.\")\n      setIsPageLoading(false)\n      return\n    }\n    try {\n      console.log(`[Page] cargarDatos: Cargando roles para proyecto ID: ${proyectoActual.id}`)\n      const resultadoRoles = await obtenerRolesDisponiblesProyecto(proyectoActual.id)\n      if (!resultadoRoles.success) {\n        console.error(\"[Page] cargarDatos: Error al cargar roles:\", resultadoRoles.error)\n        setError(resultadoRoles.error || \"Error al cargar los roles disponibles.\")\n        setIsPageLoading(false)\n        return\n      }\n      const opcionesRoles = resultadoRoles.data.map((rol: ProjectRoleInfo) =\u003e ({\n        value: rol.id,\n        label: rol.role_name,\n      }))\n      setRoles(opcionesRoles)\n      console.log(\"[Page] cargarDatos: Roles cargados:\", opcionesRoles.length)\n\n      console.log(\n        `[Page] cargarDatos: Cargando detalles para miembro ID: ${memberId} en proyecto ID: ${proyectoActual.id}`,\n      )\n      const resultadoMiembro = await obtenerDetallesMiembroProyecto(memberId, proyectoActual.id)\n      if (!resultadoMiembro.success) {\n        console.error(\"[Page] cargarDatos: Error al cargar datos del miembro:\", resultadoMiembro.error)\n        setError(resultadoMiembro.error || \"Error al cargar la información del miembro.\")\n        setIsPageLoading(false)\n        return\n      }\n      if (!resultadoMiembro.data) {\n        console.warn(\"[Page] cargarDatos: No se encontraron datos para el miembro.\")\n        setError(\"El miembro especificado no fue encontrado.\")\n        setIsPageLoading(false)\n        return\n      }\n      setMiembro(resultadoMiembro.data)\n      console.log(\"[Page] cargarDatos: Datos del miembro cargados.\")\n    } catch (err) {\n      console.error(\"[Page] cargarDatos: Excepción:\", err)\n      setError(`Error inesperado al cargar datos: ${(err as Error).message}`)\n    } finally {\n      console.log(\"[Page] cargarDatos: Finalizando, setIsPageLoading(false)\")\n      setIsPageLoading(false)\n    }\n  }, [proyectoActual?.id, memberId])\n\n  useEffect(() =\u003e {\n    // ... (useEffect principal sin cambios, como lo teníamos) ...\n    console.log(\"[Page] useEffect principal. proyectoActual?.id:\", proyectoActual?.id, \"memberId:\", memberId)\n    if (proyectoActual?.id \u0026\u0026 memberId) {\n      cargarDatos()\n    } else if (!proyectoActual?.id \u0026\u0026 !isPageLoading) {\n      setError(\"Esperando selección de proyecto activo...\")\n    } else if (!memberId \u0026\u0026 proyectoActual?.id \u0026\u0026 !isPageLoading) {\n      setError(\"ID de miembro no especificado.\")\n    }\n  }, [proyectoActual?.id, memberId, cargarDatos])\n\n  // PRUEBA 1: onSubmit SIMPLIFICADO\n  const onSubmit = async (data: MiembroFormValues) =\u003e {\n    console.log(\"[Page] onSubmit (PRUEBA 1) - Datos del formulario:\", data)\n    if (!proyectoActual?.id || !memberId || !miembro) {\n      toast({\n        title: \"Error de Aplicación (Prueba 1)\",\n        description: \"Faltan datos esenciales.\",\n        variant: \"destructive\",\n      })\n      return\n    }\n\n    // Preparar payloads (esta parte es necesaria para la lógica de \"Sin cambios\" y para la llamada real)\n    const profileUpdates: Partial\u003cOmit\u003cMemberProfileData, \"user_id\" | \"public_contact_email\"\u003e\u003e = {}\n    if (data.firstName !== (miembro.profile?.first_name || \"\")) profileUpdates.first_name = data.firstName\n    if (data.lastName !== (miembro.profile?.last_name || \"\")) profileUpdates.last_name = data.lastName\n    // ... (completar con todos los campos de profileUpdates como en la versión anterior)\n    if (data.displayName !== (miembro.profile?.public_display_name || \"\"))\n      profileUpdates.public_display_name = data.displayName\n    if (data.institution !== (miembro.profile?.primary_institution || \"\"))\n      profileUpdates.primary_institution = data.institution\n    if (data.phone !== (miembro.profile?.contact_phone || \"\")) profileUpdates.contact_phone = data.phone\n    if (data.notes !== (miembro.profile?.general_notes || \"\")) profileUpdates.general_notes = data.notes\n    if (data.language !== (miembro.profile?.preferred_language || \"\")) profileUpdates.preferred_language = data.language\n    if (data.pronouns !== (miembro.profile?.pronouns || \"\")) profileUpdates.pronouns = data.pronouns\n\n    const memberUpdatesForAction: Parameters\u003ctypeof modificarDetallesMiembroEnProyecto\u003e[0][\"memberUpdates\"] = {}\n    if (data.rolId \u0026\u0026 data.rolId !== miembro.project_role_id) {\n      memberUpdatesForAction.nuevoRolId = data.rolId\n    }\n    // ... (otros campos de memberUpdates si los tienes)\n\n    if (Object.keys(profileUpdates).length === 0 \u0026\u0026 Object.keys(memberUpdatesForAction).length === 0) {\n      console.log(\"[Page] onSubmit (PRUEBA 1): No se detectaron cambios.\")\n      toast({ title: \"Sin Cambios (Prueba 1)\", description: \"No se detectaron modificaciones.\" })\n      return\n    }\n\n    // Para esta prueba, setIsButtonSubmitting y showLoading siguen siendo útiles\n    setIsButtonSubmitting(true)\n    showLoading(\"Actualizando (Prueba 1)...\")\n\n    const payloadFinal: Parameters\u003ctypeof modificarDetallesMiembroEnProyecto\u003e[0] = {\n      proyectoId: proyectoActual.id,\n      projectMemberId: memberId,\n    }\n    if (Object.keys(profileUpdates).length \u003e 0) payloadFinal.profileUpdates = profileUpdates\n    if (Object.keys(memberUpdatesForAction).length \u003e 0) payloadFinal.memberUpdates = memberUpdatesForAction\n\n    let resultado: ResultadoOperacion\u003cnull\u003e | null = null\n\n    try {\n      console.log(\n        \"[Page] onSubmit (PRUEBA 1): Enviando actualización con payload:\",\n        JSON.stringify(payloadFinal, null, 2),\n      )\n      resultado = await modificarDetallesMiembroEnProyecto(payloadFinal)\n      console.log(\"[Page] onSubmit (PRUEBA 1): Resultado de SA:\", resultado)\n    } catch (err) {\n      console.error(\"[Page] onSubmit (PRUEBA 1): Excepción al llamar a SA:\", err)\n      hideLoading()\n      setIsButtonSubmitting(false)\n      toast({\n        title: \"Error Inesperado en Comunicación (Prueba 1)\",\n        description: `Ocurrió un error: ${(err as Error).message}`,\n        variant: \"destructive\",\n      })\n      return\n    }\n\n    // Lógica simplificada después de la respuesta de la SA para la PRUEBA 1\n    hideLoading() // Ocultar loading global INMEDIATAMENTE después de la respuesta\n\n    if (resultado?.success) {\n      console.log(\"[Page] onSubmit (PRUEBA 1): SA reportó ÉXITO. Mostrando toast...\")\n      toast({\n        title: \"ÉXITO (PRUEBA TOAST)\",\n        description: \"Actualización correcta (SA dice success: true). ¿Me ves durante 5 segundos?\",\n        duration: 5000,\n      })\n      console.log(\"[Page] onSubmit (PRUEBA 1): Toast de ÉXITO debería estar visible.\")\n\n      // NO HACEMOS NADA MÁS (ni setIsButtonSubmitting(false) aquí, ni redirección)\n      // Dejamos que el toast viva sus 5 segundos.\n      // El setIsButtonSubmitting(false) se podría poner en un setTimeout muy largo o quitarlo para esta prueba.\n      setTimeout(() =\u003e {\n        setIsButtonSubmitting(false) // Solo para que el botón no quede \"cargando\" eternamente en esta prueba\n        console.log(\"[Page] onSubmit (PRUEBA 1): Botón submitting = false, después de 5s.\")\n      }, 5100)\n    } else if (resultado) {\n      console.log(\"[Page] onSubmit (PRUEBA 1): SA reportó ERROR. Mostrando toast...\")\n      toast({\n        title: \"ERROR (PRUEBA TOAST)\",\n        description: resultado.error || \"Error desconocido desde SA (Prueba 1).\",\n        variant: \"destructive\",\n        duration: 5000,\n      })\n      console.log(\"[Page] onSubmit (PRUEBA 1): Toast de ERROR debería estar visible.\")\n      setIsButtonSubmitting(false) // Actualizar estado del botón\n    } else {\n      // Caso raro: resultado es null (no debería pasar si la SA siempre devuelve ResultadoOperacion)\n      console.error(\"[Page] onSubmit (PRUEBA 1): Resultado de SA fue null, lo cual es inesperado.\")\n      toast({\n        title: \"Error Inesperado\",\n        description: \"La respuesta del servidor fue inválida.\",\n        variant: \"destructive\",\n      })\n      setIsButtonSubmitting(false)\n    }\n  }\n\n  // ... (handleCancel, getNombreMiembro, valoresIniciales sin cambios) ...\n  const handleCancel = () =\u003e {\n    router.push(\"/datos-maestros/miembros\")\n  }\n\n  const getNombreMiembro = (): string =\u003e {\n    if (!miembro?.profile) return \"Miembro\"\n    const { public_display_name, first_name, last_name } = miembro.profile\n    if (public_display_name) return public_display_name\n    if (first_name || last_name) return `${first_name || \"\"} ${last_name || \"\"}`.trim()\n    return \"Miembro\"\n  }\n\n  const valoresIniciales: MiembroFormValues | undefined = miembro\n    ? {\n        emailUsuario:\n          miembro.profile?.public_contact_email ||\n          (miembro.user_id\n            ? `Usuario ID: ${miembro.user_id.substring(0, 8)}... (email no en perfil)`\n            : \"Email no disponible\"),\n        rolId: miembro.project_role_id || \"\",\n        firstName: miembro.profile?.first_name || \"\",\n        lastName: miembro.profile?.last_name || \"\",\n        displayName: miembro.profile?.public_display_name || \"\",\n        institution: miembro.profile?.primary_institution || \"\",\n        phone: miembro.profile?.contact_phone || \"\",\n        notes: miembro.profile?.general_notes || \"\",\n        language: miembro.profile?.preferred_language || \"\",\n        pronouns: miembro.profile?.pronouns || \"\",\n      }\n    : undefined\n\n  // ... (JSX para isPageLoading, error \u0026\u0026 !miembro, !miembro \u0026\u0026 !isPageLoading sin cambios) ...\n  if (isPageLoading) {\n    return (\n      \u003cdiv className=\"flex justify-center py-8\"\u003e\n        \u003cSustratoLoadingLogo size={50} variant=\"spin-pulse\" showText={true} text=\"Cargando datos del miembro...\" /\u003e\n      \u003c/div\u003e\n    )\n  }\n\n  if (error \u0026\u0026 !miembro) {\n    return (\n      \u003cdiv className=\"space-y-6\"\u003e\n        \u003cPageHeader\n          title=\"Error al Cargar Datos\"\n          description={error}\n          actions={\n            \u003cCustomButton onClick={handleCancel} leftIcon={\u003cArrowLeft className=\"h-4 w-4\" /\u003e} variant=\"outline\"\u003e\n              Volver a Miembros\n            \u003c/CustomButton\u003e\n          }\n        /\u003e\n      \u003c/div\u003e\n    )\n  }\n\n  if (!miembro \u0026\u0026 !isPageLoading) {\n    return (\n      \u003cdiv className=\"space-y-6\"\u003e\n        \u003cPageHeader\n          title=\"Miembro no Encontrado\"\n          description=\"No se pudieron cargar los datos del miembro o el miembro no existe.\"\n          actions={\n            \u003cCustomButton onClick={handleCancel} leftIcon={\u003cArrowLeft className=\"h-4 w-4\" /\u003e} variant=\"outline\"\u003e\n              Volver a Miembros\n            \u003c/CustomButton\u003e\n          }\n        /\u003e\n      \u003c/div\u003e\n    )\n  }\n\n  // ... (JSX principal de retorno con PageHeader y MiembroForm sin cambios) ...\n  return (\n    \u003cdiv className=\"space-y-6\"\u003e\n      \u003cPageHeader\n        title={`Editar Miembro: ${getNombreMiembro()}`}\n        description=\"Actualiza la información del miembro en el proyecto.\"\n        actions={\n          \u003cCustomButton onClick={handleCancel} leftIcon={\u003cArrowLeft className=\"h-4 w-4\" /\u003e} variant=\"outline\"\u003e\n            Volver\n          \u003c/CustomButton\u003e\n        }\n      /\u003e\n      {valoresIniciales \u0026\u0026 roles.length \u003e 0 \u0026\u0026 (\n        \u003cMiembroForm\n          modo=\"editar\"\n          valoresIniciales={valoresIniciales}\n          rolesDisponibles={roles}\n          loading={isButtonSubmitting}\n          onSubmit={onSubmit}\n        /\u003e\n      )}\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"35:T21d7,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useRouter, useParams } from \"next/navigation\"\nimport { useAuth } from \"@/app/auth-provider\"\nimport { obtenerDetallesMiembroProyecto } from \"@/lib/actions/member-actions\"\nimport { Text } from \"@/components/ui/text\"\nimport { ProCard } from \"@/components/ui/pro-card\"\nimport { CustomButton } from \"@/components/ui/custom-button\"\nimport { useToast } from \"@/components/ui/use-toast\"\nimport { ArrowLeft, Mail, Building, Phone, Globe, User, PenLine } from \"lucide-react\"\nimport { PageHeader } from \"@/components/common/page-header\"\nimport { SustratoLoadingLogo } from \"@/components/ui/sustrato-loading-logo\"\nimport type { ProjectMemberDetails } from \"@/lib/actions/member-actions\"\n\nexport default function VerMiembroPage() {\n  const router = useRouter()\n  const params = useParams()\n  const memberId = params?.id ? String(params.id) : \"\"\n  const { proyectoActual } = useAuth()\n  const { toast } = useToast()\n\n  const [isLoading, setIsLoading] = useState(true)\n  const [miembro, setMiembro] = useState\u003cProjectMemberDetails | null\u003e(null)\n  const [error, setError] = useState\u003cstring | null\u003e(null)\n\n  // Cargar datos del miembro\n  useEffect(() =\u003e {\n    const cargarDatos = async () =\u003e {\n      setIsLoading(true)\n      setError(null)\n\n      if (!proyectoActual?.id) {\n        setError(\"No hay un proyecto seleccionado.\")\n        setIsLoading(false)\n        return\n      }\n\n      try {\n        const resultadoMiembro = await obtenerDetallesMiembroProyecto(memberId, proyectoActual.id)\n\n        if (!resultadoMiembro.success) {\n          setError(resultadoMiembro.error || \"Error al cargar datos del miembro\")\n          setIsLoading(false)\n          return\n        }\n\n        setMiembro(resultadoMiembro.data)\n      } catch (error) {\n        console.error(\"Error al cargar datos:\", error)\n        setError(\"Error al cargar datos del miembro\")\n      } finally {\n        setIsLoading(false)\n      }\n    }\n\n    if (proyectoActual?.id \u0026\u0026 memberId) {\n      cargarDatos()\n    }\n  }, [proyectoActual?.id, memberId])\n\n  const handleVolver = () =\u003e {\n    router.push(\"/datos-maestros/miembros\")\n  }\n\n  const handleEditar = () =\u003e {\n    router.push(`/datos-maestros/miembros/${memberId}/modificar`)\n  }\n\n  const getNombreMiembro = (): string =\u003e {\n    if (!miembro) return \"Miembro\"\n\n    const profile = miembro.profile\n    if (profile?.public_display_name) {\n      return profile.public_display_name\n    }\n\n    if (profile?.first_name || profile?.last_name) {\n      return `${profile.first_name || \"\"} ${profile.last_name || \"\"}`.trim()\n    }\n\n    return \"Miembro\"\n  }\n\n  if (isLoading) {\n    return (\n      \u003cdiv className=\"flex justify-center py-8\"\u003e\n        \u003cSustratoLoadingLogo size={50} variant=\"spin-pulse\" showText={true} text=\"Cargando datos del miembro...\" /\u003e\n      \u003c/div\u003e\n    )\n  }\n\n  if (error) {\n    return (\n      \u003cdiv className=\"space-y-6\"\u003e\n        \u003cPageHeader\n          title=\"Error\"\n          description={error}\n          actions={\n            \u003cCustomButton onClick={handleVolver} leftIcon={\u003cArrowLeft className=\"h-4 w-4\" /\u003e} variant=\"outline\"\u003e\n              Volver\n            \u003c/CustomButton\u003e\n          }\n        /\u003e\n      \u003c/div\u003e\n    )\n  }\n\n  if (!miembro) {\n    return (\n      \u003cdiv className=\"space-y-6\"\u003e\n        \u003cPageHeader\n          title=\"Miembro no encontrado\"\n          description=\"No se encontró información para este miembro.\"\n          actions={\n            \u003cCustomButton onClick={handleVolver} leftIcon={\u003cArrowLeft className=\"h-4 w-4\" /\u003e} variant=\"outline\"\u003e\n              Volver\n            \u003c/CustomButton\u003e\n          }\n        /\u003e\n      \u003c/div\u003e\n    )\n  }\n\n  return (\n    \u003cdiv className=\"space-y-6\"\u003e\n      \u003cPageHeader\n        title={`Detalle de ${getNombreMiembro()}`}\n        description=\"Información del miembro en el proyecto.\"\n        actions={\n          \u003cdiv className=\"flex gap-2\"\u003e\n            \u003cCustomButton onClick={handleVolver} leftIcon={\u003cArrowLeft className=\"h-4 w-4\" /\u003e} variant=\"outline\"\u003e\n              Volver\n            \u003c/CustomButton\u003e\n            \u003cCustomButton onClick={handleEditar} leftIcon={\u003cPenLine className=\"h-4 w-4\" /\u003e} variant=\"outline\"\u003e\n              Editar\n            \u003c/CustomButton\u003e\n          \u003c/div\u003e\n        }\n      /\u003e\n\n      \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n        \u003cProCard\u003e\n          \u003cProCard.Header\u003e\n            \u003cText variant=\"heading\" size=\"lg\"\u003e\n              Información Personal\n            \u003c/Text\u003e\n          \u003c/ProCard.Header\u003e\n          \u003cProCard.Content className=\"space-y-4\"\u003e\n            \u003cdiv className=\"space-y-1\"\u003e\n              \u003cText variant=\"caption\" color=\"muted\"\u003e\n                Nombre\n              \u003c/Text\u003e\n              \u003cdiv className=\"flex items-center gap-2\"\u003e\n                \u003cUser className=\"h-4 w-4 text-muted-foreground\" /\u003e\n                \u003cText\u003e{getNombreMiembro()}\u003c/Text\u003e\n              \u003c/div\u003e\n            \u003c/div\u003e\n\n            {miembro.profile?.public_contact_email \u0026\u0026 (\n              \u003cdiv className=\"space-y-1\"\u003e\n                \u003cText variant=\"caption\" color=\"muted\"\u003e\n                  Correo electrónico\n                \u003c/Text\u003e\n                \u003cdiv className=\"flex items-center gap-2\"\u003e\n                  \u003cMail className=\"h-4 w-4 text-muted-foreground\" /\u003e\n                  \u003cText\u003e{miembro.profile.public_contact_email}\u003c/Text\u003e\n                \u003c/div\u003e\n              \u003c/div\u003e\n            )}\n\n            {miembro.profile?.primary_institution \u0026\u0026 (\n              \u003cdiv className=\"space-y-1\"\u003e\n                \u003cText variant=\"caption\" color=\"muted\"\u003e\n                  Institución\n                \u003c/Text\u003e\n                \u003cdiv className=\"flex items-center gap-2\"\u003e\n                  \u003cBuilding className=\"h-4 w-4 text-muted-foreground\" /\u003e\n                  \u003cText\u003e{miembro.profile.primary_institution}\u003c/Text\u003e\n                \u003c/div\u003e\n              \u003c/div\u003e\n            )}\n\n            {miembro.profile?.contact_phone \u0026\u0026 (\n              \u003cdiv className=\"space-y-1\"\u003e\n                \u003cText variant=\"caption\" color=\"muted\"\u003e\n                  Teléfono\n                \u003c/Text\u003e\n                \u003cdiv className=\"flex items-center gap-2\"\u003e\n                  \u003cPhone className=\"h-4 w-4 text-muted-foreground\" /\u003e\n                  \u003cText\u003e{miembro.profile.contact_phone}\u003c/Text\u003e\n                \u003c/div\u003e\n              \u003c/div\u003e\n            )}\n\n            {miembro.profile?.preferred_language \u0026\u0026 (\n              \u003cdiv className=\"space-y-1\"\u003e\n                \u003cText variant=\"caption\" color=\"muted\"\u003e\n                  Idioma preferido\n                \u003c/Text\u003e\n                \u003cdiv className=\"flex items-center gap-2\"\u003e\n                  \u003cGlobe className=\"h-4 w-4 text-muted-foreground\" /\u003e\n                  \u003cText\u003e\n                    {miembro.profile.preferred_language === \"es\"\n                      ? \"Español\"\n                      : miembro.profile.preferred_language === \"en\"\n                        ? \"Inglés\"\n                        : miembro.profile.preferred_language === \"pt\"\n                          ? \"Portugués\"\n                          : miembro.profile.preferred_language}\n                  \u003c/Text\u003e\n                \u003c/div\u003e\n              \u003c/div\u003e\n            )}\n\n            {miembro.profile?.pronouns \u0026\u0026 (\n              \u003cdiv className=\"space-y-1\"\u003e\n                \u003cText variant=\"caption\" color=\"muted\"\u003e\n                  Pronombres\n                \u003c/Text\u003e\n                \u003cText\u003e{miembro.profile.pronouns}\u003c/Text\u003e\n              \u003c/div\u003e\n            )}\n          \u003c/ProCard.Content\u003e\n        \u003c/ProCard\u003e\n\n        \u003cProCard\u003e\n          \u003cProCard.Header\u003e\n            \u003cText variant=\"heading\" size=\"lg\"\u003e\n              Información del Proyecto\n            \u003c/Text\u003e\n          \u003c/ProCard.Header\u003e\n          \u003cProCard.Content className=\"space-y-4\"\u003e\n            \u003cdiv className=\"space-y-1\"\u003e\n              \u003cText variant=\"caption\" color=\"muted\"\u003e\n                Rol en el proyecto\n              \u003c/Text\u003e\n              \u003cdiv className=\"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold\"\u003e\n                {miembro.role_name || \"Sin rol asignado\"}\n              \u003c/div\u003e\n            \u003c/div\u003e\n\n            \u003cdiv className=\"space-y-1\"\u003e\n              \u003cText variant=\"caption\" color=\"muted\"\u003e\n                Fecha de incorporación\n              \u003c/Text\u003e\n              \u003cText\u003e{miembro.joined_at ? new Date(miembro.joined_at).toLocaleDateString() : \"No disponible\"}\u003c/Text\u003e\n            \u003c/div\u003e\n\n            {miembro.profile?.general_notes \u0026\u0026 (\n              \u003cdiv className=\"space-y-1 mt-4\"\u003e\n                \u003cText variant=\"caption\" color=\"muted\"\u003e\n                  Notas\n                \u003c/Text\u003e\n                \u003cText\u003e{miembro.profile.general_notes}\u003c/Text\u003e\n              \u003c/div\u003e\n            )}\n          \u003c/ProCard.Content\u003e\n        \u003c/ProCard\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"36:T1bbe,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport type React from \"react\"\nimport { useForm } from \"react-hook-form\"\nimport { zodResolver } from \"@hookform/resolvers/zod\"\nimport { z } from \"zod\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { SelectCustom } from \"@/components/ui/select-custom\"\nimport { FormField } from \"@/components/ui/form-field\"\nimport { CustomButton } from \"@/components/ui/custom-button\"\nimport { ProCard } from \"@/components/ui/pro-card\"\nimport { Text } from \"@/components/ui/text\"\n\nconst formSchema = z.object({\n  emailUsuario: z.string().email(\"Email inválido\").min(1, \"El email es requerido\"),\n  rolId: z.string().min(1, \"Debe seleccionar un rol\"),\n  firstName: z.string().optional(),\n  lastName: z.string().optional(),\n  displayName: z.string().optional(),\n  institution: z.string().optional(),\n  phone: z.string().optional(),\n  notes: z.string().optional(),\n  language: z.string().optional(),\n  pronouns: z.string().optional(),\n})\n\nexport type MiembroFormValues = z.infer\u003ctypeof formSchema\u003e\n\ninterface RolOption {\n  value: string\n  label: string\n}\n\ninterface MiembroFormProps {\n  modo: \"crear\" | \"editar\" | \"ver\"\n  valoresIniciales: Partial\u003cMiembroFormValues\u003e\n  rolesDisponibles: RolOption[]\n  onSubmit?: (data: MiembroFormValues) =\u003e void\n  disabled?: boolean\n  loading?: boolean\n}\n\nexport const MiembroForm: React.FC\u003cMiembroFormProps\u003e = ({\n  modo,\n  valoresIniciales,\n  rolesDisponibles,\n  onSubmit,\n  disabled = false,\n  loading = false,\n}) =\u003e {\n  console.log(\"MiembroForm render\", { modo, disabled, loading, onSubmit, valoresIniciales, rolesDisponibles })\n  const form = useForm\u003cMiembroFormValues\u003e({\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      emailUsuario: valoresIniciales.emailUsuario || \"\",\n      rolId: valoresIniciales.rolId || \"\",\n      firstName: valoresIniciales.firstName || \"\",\n      lastName: valoresIniciales.lastName || \"\",\n      displayName: valoresIniciales.displayName || \"\",\n      institution: valoresIniciales.institution || \"\",\n      phone: valoresIniciales.phone || \"\",\n      notes: valoresIniciales.notes || \"\",\n      language: valoresIniciales.language || \"\",\n      pronouns: valoresIniciales.pronouns || \"\",\n    },\n  })\n\n  const isView = modo === \"ver\" || disabled\n\n  return (\n    \u003cProCard\u003e\n      \u003cProCard.Header\u003e\n        \u003cText variant=\"heading\" size=\"lg\"\u003e\n          {modo === \"crear\"\n            ? \"Agregar Miembro al Proyecto\"\n            : modo === \"editar\"\n              ? \"Editar Miembro del Proyecto\"\n              : \"Detalle del Miembro\"}\n        \u003c/Text\u003e\n      \u003c/ProCard.Header\u003e\n      \u003cProCard.Content\u003e\n        \u003cform\n          onSubmit={form.handleSubmit((data) =\u003e {\n            console.log(\"MiembroForm form submit\", data)\n            if (onSubmit) onSubmit(data)\n          })}\n          className=\"space-y-6\"\n        \u003e\n          \u003cText variant=\"heading\" size=\"lg\"\u003e\n            Información del Miembro\n          \u003c/Text\u003e\n          \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-4\"\u003e\n            \u003cFormField\n              label=\"Email del Usuario\"\n              htmlFor=\"emailUsuario\"\n              error={form.formState.errors.emailUsuario?.message}\n            \u003e\n              \u003cInput\n                id=\"emailUsuario\"\n                placeholder=\"correo@ejemplo.com\"\n                {...form.register(\"emailUsuario\")}\n                disabled={isView || modo === \"editar\"}\n              /\u003e\n            \u003c/FormField\u003e\n\n            \u003cFormField label=\"Rol en el Proyecto\" htmlFor=\"rolId\" error={form.formState.errors.rolId?.message}\u003e\n              \u003cSelectCustom\n                id=\"rolId\"\n                placeholder=\"Selecciona un rol\"\n                options={rolesDisponibles}\n                value={form.watch(\"rolId\")}\n                onChange={(value) =\u003e form.setValue(\"rolId\", value as string)}\n                error={form.formState.errors.rolId?.message}\n                disabled={isView}\n              /\u003e\n            \u003c/FormField\u003e\n          \u003c/div\u003e\n\n          \u003cText variant=\"heading\" size=\"lg\" className=\"mt-6 mb-2\"\u003e\n            Información Adicional de Perfil (Opcional)\n          \u003c/Text\u003e\n\n          \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-4\"\u003e\n            \u003cFormField label=\"Nombre\" htmlFor=\"firstName\"\u003e\n              \u003cInput id=\"firstName\" placeholder=\"Nombre\" {...form.register(\"firstName\")} disabled={isView} /\u003e\n            \u003c/FormField\u003e\n\n            \u003cFormField label=\"Apellido\" htmlFor=\"lastName\"\u003e\n              \u003cInput id=\"lastName\" placeholder=\"Apellido\" {...form.register(\"lastName\")} disabled={isView} /\u003e\n            \u003c/FormField\u003e\n\n            \u003cFormField label=\"Nombre para mostrar\" htmlFor=\"displayName\"\u003e\n              \u003cInput\n                id=\"displayName\"\n                placeholder=\"Nombre público\"\n                {...form.register(\"displayName\")}\n                disabled={isView}\n              /\u003e\n            \u003c/FormField\u003e\n\n            \u003cFormField label=\"Institución\" htmlFor=\"institution\"\u003e\n              \u003cInput\n                id=\"institution\"\n                placeholder=\"Institución o afiliación\"\n                {...form.register(\"institution\")}\n                disabled={isView}\n              /\u003e\n            \u003c/FormField\u003e\n\n            \u003cFormField label=\"Teléfono\" htmlFor=\"phone\"\u003e\n              \u003cInput id=\"phone\" placeholder=\"Teléfono de contacto\" {...form.register(\"phone\")} disabled={isView} /\u003e\n            \u003c/FormField\u003e\n\n            \u003cFormField label=\"Lenguaje preferido\" htmlFor=\"language\"\u003e\n              \u003cSelectCustom\n                id=\"language\"\n                placeholder=\"Selecciona un idioma\"\n                options={[\n                  { value: \"es\", label: \"Español\" },\n                  { value: \"en\", label: \"Inglés\" },\n                  { value: \"pt\", label: \"Portugués\" },\n                ]}\n                value={form.watch(\"language\")}\n                onChange={(value) =\u003e form.setValue(\"language\", value as string)}\n                disabled={isView}\n              /\u003e\n            \u003c/FormField\u003e\n\n            \u003cFormField label=\"Pronombres\" htmlFor=\"pronouns\"\u003e\n              \u003cInput id=\"pronouns\" placeholder=\"Pronombres\" {...form.register(\"pronouns\")} disabled={isView} /\u003e\n            \u003c/FormField\u003e\n          \u003c/div\u003e\n\n          \u003cFormField label=\"Notas\" htmlFor=\"notes\" className=\"col-span-full\"\u003e\n            \u003cTextarea\n              id=\"notes\"\n              placeholder=\"Información adicional relevante\"\n              {...form.register(\"notes\")}\n              showCharacterCount\n              maxLength={500}\n              disabled={isView}\n            /\u003e\n          \u003c/FormField\u003e\n\n          {modo !== \"ver\" \u0026\u0026 (\n            \u003cdiv className=\"flex justify-end gap-3 pt-4\"\u003e\n              \u003cCustomButton type=\"submit\" color=\"primary\" loading={loading} disabled={loading}\u003e\n                {modo === \"crear\"\n                  ? loading\n                    ? \"Agregando...\"\n                    : \"Agregar Miembro\"\n                  : loading\n                    ? \"Guardando...\"\n                    : \"Guardar Cambios\"}\n              \u003c/CustomButton\u003e\n            \u003c/div\u003e\n          )}\n        \u003c/form\u003e\n      \u003c/ProCard.Content\u003e\n    \u003c/ProCard\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"37:T1cd2,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useRouter, useSearchParams } from \"next/navigation\"\nimport { useAuth } from \"@/app/auth-provider\"\nimport { obtenerMiembrosConPerfilesYRolesDelProyecto } from \"@/lib/actions/member-actions\"\nimport { Text } from \"@/components/ui/text\"\nimport { ProCard } from \"@/components/ui/pro-card\"\nimport { ProTable } from \"@/components/ui/pro-table\"\nimport { CustomButton } from \"@/components/ui/custom-button\"\nimport { UserPlus, AlertCircle, Trash2, PenLine, Eye } from \"lucide-react\"\nimport { useToast } from \"@/components/ui/use-toast\"\nimport { PageHeader } from \"@/components/common/page-header\"\nimport { EmptyState } from \"@/components/common/empty-state\"\nimport type { ProjectMemberDetails } from \"@/lib/actions/member-actions\"\nimport { SustratoLoadingLogo } from \"@/components/ui/sustrato-loading-logo\"\n\nexport default function MiembrosPage() {\n  const router = useRouter()\n  const searchParams = useSearchParams()\n  const { proyectoActual, cargandoProyectos } = useAuth()\n  const { toast } = useToast()\n\n  const [miembros, setMiembros] = useState\u003cProjectMemberDetails[]\u003e([])\n  const [isLoading, setIsLoading] = useState(true)\n  const [error, setError] = useState\u003cstring | null\u003e(null)\n\n  const puedeGestionarMiembros = proyectoActual?.permissions?.can_manage_master_data || false\n\n  const cargarMiembros = async () =\u003e {\n    setIsLoading(true)\n    setError(null)\n\n    if (!proyectoActual?.id) {\n      setError(\"No hay un proyecto seleccionado.\")\n      setIsLoading(false)\n      return\n    }\n\n    try {\n      const resultado = await obtenerMiembrosConPerfilesYRolesDelProyecto(proyectoActual.id)\n\n      if (resultado.success) {\n        setMiembros(resultado.data)\n      } else {\n        setError(resultado.error || \"Error al cargar los miembros del proyecto.\")\n        toast({\n          title: \"Error al cargar miembros\",\n          description: resultado.error,\n          variant: \"destructive\",\n        })\n      }\n    } catch (err) {\n      setError(\"Error al cargar los miembros del proyecto.\")\n      console.error(\"Error cargando miembros:\", err)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  useEffect(() =\u003e {\n    if (proyectoActual?.id) {\n      cargarMiembros()\n    }\n  }, [proyectoActual?.id])\n\n  const handleAgregarMiembro = () =\u003e {\n    router.push(`/datos-maestros/miembros/nuevo/crear`)\n  }\n\n  const handleEditarMiembro = (miembro: ProjectMemberDetails) =\u003e {\n    router.push(`/datos-maestros/miembros/${miembro.project_member_id}/modificar`)\n  }\n\n  const handleVerMiembro = (miembro: ProjectMemberDetails) =\u003e {\n    router.push(`/datos-maestros/miembros/${miembro.project_member_id}/ver`)\n  }\n\n  const handleEliminarMiembro = (miembro: ProjectMemberDetails) =\u003e {\n    router.push(`/datos-maestros/miembros/${miembro.project_member_id}/eliminar`)\n  }\n\n  // Columnas para la tabla de miembros\n  const columnas = [\n    {\n      header: \"Nombre\",\n      accessorFn: (row: ProjectMemberDetails) =\u003e {\n        const profile = row.profile\n        if (profile?.public_display_name) {\n          return profile.public_display_name\n        }\n        if (profile?.first_name || profile?.last_name) {\n          return `${profile.first_name || \"\"} ${profile.last_name || \"\"}`.trim()\n        }\n        return \"Sin nombre registrado\"\n      },\n      cell: ({ getValue }: any) =\u003e \u003cText className=\"font-medium\"\u003e{getValue()}\u003c/Text\u003e,\n    },\n    {\n      header: \"Institución\",\n      accessorFn: (row: ProjectMemberDetails) =\u003e row.profile?.primary_institution || \"No especificada\",\n      cell: ({ getValue }: any) =\u003e \u003cText className=\"text-muted-foreground\"\u003e{getValue()}\u003c/Text\u003e,\n    },\n    {\n      header: \"Correo\",\n      accessorFn: (row: ProjectMemberDetails) =\u003e row.profile?.public_contact_email || \"No especificado\",\n      cell: ({ getValue }: any) =\u003e \u003cText className=\"text-muted-foreground\"\u003e{getValue()}\u003c/Text\u003e,\n    },\n    {\n      header: \"Rol\",\n      accessorFn: (row: ProjectMemberDetails) =\u003e row.role_name || \"Sin rol asignado\",\n      cell: ({ getValue }: any) =\u003e (\n        \u003cdiv className=\"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold\"\u003e\n          {getValue()}\n        \u003c/div\u003e\n      ),\n    },\n    {\n      header: \"Acciones\",\n      cell: ({ row }: any) =\u003e {\n        const miembro = row.original as ProjectMemberDetails\n        return (\n          \u003cdiv className=\"flex gap-2 justify-end\"\u003e\n            \u003cCustomButton\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={() =\u003e handleVerMiembro(miembro)}\n              className=\"h-8 w-8 p-0\"\n              iconOnly\n            \u003e\n              \u003cEye className=\"h-4 w-4\" /\u003e\n              \u003cspan className=\"sr-only\"\u003eVer detalles\u003c/span\u003e\n            \u003c/CustomButton\u003e\n            {puedeGestionarMiembros \u0026\u0026 (\n              \u003c\u003e\n                \u003cCustomButton\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={() =\u003e handleEditarMiembro(miembro)}\n                  className=\"h-8 w-8 p-0\"\n                  iconOnly\n                \u003e\n                  \u003cPenLine className=\"h-4 w-4\" /\u003e\n                  \u003cspan className=\"sr-only\"\u003eEditar\u003c/span\u003e\n                \u003c/CustomButton\u003e\n                \u003cCustomButton\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={() =\u003e handleEliminarMiembro(miembro)}\n                  className=\"h-8 w-8 p-0 text-destructive\"\n                  iconOnly\n                  color=\"danger\"\n                \u003e\n                  \u003cTrash2 className=\"h-4 w-4\" /\u003e\n                  \u003cspan className=\"sr-only\"\u003eEliminar\u003c/span\u003e\n                \u003c/CustomButton\u003e\n              \u003c/\u003e\n            )}\n          \u003c/div\u003e\n        )\n      },\n    },\n  ]\n\n  return (\n    \u003cdiv className=\"space-y-6\"\u003e\n      \u003cPageHeader\n        title=\"Miembros del Proyecto\"\n        description=\"Gestiona los miembros y sus roles dentro del proyecto actual.\"\n        actions={\n          puedeGestionarMiembros ? (\n            \u003cCustomButton onClick={handleAgregarMiembro} leftIcon={\u003cUserPlus className=\"h-4 w-4\" /\u003e} color=\"primary\"\u003e\n              Agregar Miembro\n            \u003c/CustomButton\u003e\n          ) : null\n        }\n      /\u003e\n\n      {isLoading ? (\n        \u003cdiv className=\"flex justify-center py-8\"\u003e\n          \u003cSustratoLoadingLogo size={50} variant=\"spin-pulse\" showText={true} text=\"Cargando miembros...\" /\u003e\n        \u003c/div\u003e\n      ) : error ? (\n        \u003cProCard className=\"border-destructive bg-destructive/5\"\u003e\n          \u003cdiv className=\"flex items-center gap-3\"\u003e\n            \u003cAlertCircle className=\"h-6 w-6 text-destructive\" /\u003e\n            \u003cText\u003eError: {error}\u003c/Text\u003e\n          \u003c/div\u003e\n        \u003c/ProCard\u003e\n      ) : miembros.length === 0 ? (\n        \u003cEmptyState\n          icon={UserPlus}\n          title=\"No hay miembros en este proyecto\"\n          description={\n            puedeGestionarMiembros\n              ? \"Agrega investigadores al proyecto para comenzar a colaborar.\"\n              : \"Aún no hay investigadores asociados a este proyecto.\"\n          }\n          action={\n            puedeGestionarMiembros ? (\n              \u003cCustomButton onClick={handleAgregarMiembro} leftIcon={\u003cUserPlus className=\"h-4 w-4\" /\u003e} color=\"primary\"\u003e\n                Agregar Miembro\n              \u003c/CustomButton\u003e\n            ) : undefined\n          }\n        /\u003e\n      ) : (\n        \u003cProCard\u003e\n          \u003cProTable data={miembros} columns={columnas} /\u003e\n        \u003c/ProCard\u003e\n      )}\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"38:T183c,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport type { ColumnDef } from \"@tanstack/react-table\"\n\n// Definir el tipo de datos para las filas\nexport type Person = {\n  id: string\n  name: string\n  role: string\n  status: \"active\" | \"pending\" | \"inactive\"\n  description: string\n  lastLogin: string\n  subRows?: Person[]\n}\n\n// Definir las columnas\nexport const columns: ColumnDef\u003cPerson\u003e[] = [\n  {\n    id: \"expander\",\n    header: () =\u003e null,\n    cell: ({ row }) =\u003e {\n      const hasSubRows = row.original.subRows \u0026\u0026 row.original.subRows.length \u003e 0\n\n      return hasSubRows ? (\n        \u003cbutton\n          onClick={() =\u003e row.toggleExpanded()}\n          className=\"p-1 rounded-full bg-primary/10 text-primary hover:bg-primary/20 transition-colors\"\n        \u003e\n          {row.getIsExpanded() ? \"-\" : \"+\"}\n        \u003c/button\u003e\n      ) : null\n    },\n    size: 40,\n  },\n  {\n    accessorKey: \"name\",\n    header: \"Nombre\",\n    meta: {\n      enableTooltip: false, // Desactivar tooltip para esta columna\n      enableSorting: true, // Activar ordenamiento para esta columna\n    },\n    size: 150,\n  },\n  {\n    accessorKey: \"role\",\n    header: \"Rol\",\n    meta: {\n      enableTooltip: false, // Desactivar tooltip para esta columna\n      enableSorting: true, // Activar ordenamiento para esta columna\n    },\n    size: 150,\n  },\n  {\n    accessorKey: \"status\",\n    header: \"Estado\",\n    cell: ({ row }) =\u003e {\n      const status = row.getValue(\"status\") as string\n      return (\n        \u003cspan\n          className={`px-2 py-1 rounded-full text-xs font-medium ${\n            status === \"active\"\n              ? \"bg-green-100 text-green-800\"\n              : status === \"pending\"\n                ? \"bg-yellow-100 text-yellow-800\"\n                : \"bg-red-100 text-red-800\"\n          }`}\n        \u003e\n          {status === \"active\" ? \"Activo\" : status === \"pending\" ? \"Pendiente\" : \"Inactivo\"}\n        \u003c/span\u003e\n      )\n    },\n    meta: {\n      enableTooltip: false, // Desactivar tooltip para esta columna\n      enableSorting: true, // Activar ordenamiento para esta columna\n    },\n    size: 100,\n  },\n  {\n    accessorKey: \"description\",\n    header: \"Descripción\",\n    cell: ({ row }) =\u003e {\n      return \u003cdiv\u003e{row.getValue(\"description\")}\u003c/div\u003e\n    },\n    meta: {\n      enableTooltip: true, // Activar tooltip para esta columna\n      enableSorting: false, // Desactivar ordenamiento para esta columna\n    },\n    size: 300,\n  },\n  {\n    accessorKey: \"lastLogin\",\n    header: \"Último acceso\",\n    cell: ({ row }) =\u003e {\n      const date = new Date(row.getValue(\"lastLogin\"))\n      return new Intl.DateTimeFormat(\"es\", {\n        year: \"numeric\",\n        month: \"2-digit\",\n        day: \"2-digit\",\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n      }).format(date)\n    },\n    meta: {\n      enableTooltip: false, // Desactivar tooltip para esta columna\n      enableSorting: true, // Activar ordenamiento para esta columna\n    },\n    size: 150,\n  },\n]\n\n// Datos de ejemplo\nexport const data: Person[] = [\n  {\n    id: \"1\",\n    name: \"Juan Pérez\",\n    role: \"Administrador\",\n    status: \"nuetral\",\n    description:\n      \"Juan es un administrador experimentado con más de 10 años de experiencia en gestión de sistemas. Ha liderado múltiples proyectos de implementación y migración de sistemas. Es responsable de la infraestructura crítica y la seguridad de los datos.\",\n    lastLogin: \"2023-05-15T10:30:00\",\n    subRows: [\n      {\n        id: \"1-1\",\n        name: \"Historial de Juan\",\n        role: \"Registro\",\n        status: \"nuetral\",\n        description:\n          \"Registro histórico de actividades y cambios realizados por Juan en el sistema durante los últimos 6 meses.\",\n        lastLogin: \"2023-04-10T08:15:00\",\n      },\n    ],\n  },\n  {\n    id: \"2\",\n    name: \"María González\",\n    role: \"Editor\",\n    status: \"active\",\n    description:\n      \"María es una editora de contenido con especialización en marketing digital. Tiene un máster en Comunicación Digital y ha trabajado para varias agencias de publicidad. Es responsable de revisar y aprobar todo el contenido antes de su publicación.\",\n    lastLogin: \"2023-05-16T14:45:00\",\n  },\n  {\n    id: \"3\",\n    name: \"Carlos Rodríguez\",\n    role: \"Usuario\",\n    status: \"pending\",\n    description:\n      \"Carlos es un usuario estándar que se unió recientemente al sistema. Su cuenta está pendiente de verificación completa. Carlos ha solicitado acceso a módulos adicionales incluyendo el panel de análisis avanzado y las herramientas de exportación de datos para integración con sistemas externos. Carlos Esta solicitud está pendiente de aprobación por parte del administrador del sistema. Carlos ha solicitado acceso a módulos adicionales incluyendo el panel de análisis avanzado y las herramientas de exportación de datos para integración con sistemas externos.CarlosEsta solicitud está pendiente de aprobación por parte del administrador del sistema.\",\n    lastLogin: \"2023-05-10T09:20:00\",\n    subRows: [\n      {\n        id: \"3-1\",\n        name: \"Solicitud de Carlos\",\n        role: \"Ticket\",\n        status: \"pending\",\n        description:\n          \"Solicitud de acceso a módulos adicionales presentada el 8 de mayo. Pendiente de revisión por parte del equipo de seguridad.\",\n        lastLogin: \"2023-05-08T11:30:00\",\n      },\n      {\n        id: \"3-2\",\n        name: \"Documentación de Carlos\",\n        role: \"Archivo\",\n        status: \"active\",\n        description:\n          \"Documentación de identidad y certificaciones profesionales proporcionadas por Carlos para verificación.\",\n        lastLogin: \"2023-05-09T14:20:00\",\n      },\n    ],\n  },\n  {\n    id: \"4\",\n    name: \"Ana Martínez\",\n    role: \"Administrador\",\n    status: \"inactive\",\n    description:\n      \"Ana es una administradora de sistemas especializada en bases de datos. Actualmente está de baja por maternidad y su cuenta ha sido temporalmente desactivada.\",\n    lastLogin: \"2023-04-28T16:10:00\",\n  },\n  {\n    id: \"5\",\n    name: \"Luis Sánchez\",\n    role: \"Editor\",\n    status: \"active\",\n    description:\n      \"Luis es editor de la revista digital y responsable de la revisión final de artículos. Tiene especialización en contenido técnico y científico.\",\n    lastLogin: \"2023-05-17T08:50:00\",\n  },\n]\n"])</script><script>self.__next_f.push([1,"39:Tb40,"])</script><script>self.__next_f.push([1,"export type Person = {\n  id: string\n  name: string\n  email: string\n  role: string\n  status: string\n  description: string\n  subRows?: Person[]\n}\n\nexport const data: Person[] = [\n  {\n    id: \"1\",\n    name: \"Juana Pérez\",\n    email: \"juan@example.com\",\n    role: \"Desarrollador\",\n    status: \"active\",\n    description: \"Desarrollador senior con experiencia en React, Node.js y bases de datos SQL.\",\n    subRows: [\n      {\n        id: \"1-1\",\n        name: \"Proyecto A\",\n        email: \"proyecto-a@example.com\",\n        role: \"Frontend\",\n        status: \"active\",\n        description: \"Desarrollo de interfaz de usuario con React y TypeScript.\",\n      },\n      {\n        id: \"1-2\",\n        name: \"Proyecto B\",\n        email: \"proyecto-b@example.com\",\n        role: \"Backend\",\n        status: \"pending\",\n        description: \"Implementación de API REST con Node.js y Express.\",\n      },\n    ],\n  },\n  {\n    id: \"2\",\n    name: \"María González\",\n    email: \"maria@example.com\",\n    role: \"Diseñadora\",\n    status: \"pending\",\n    description: \"Diseñadora UX/UI con experiencia en Figma y Adobe XD.\",\n  },\n  {\n    id: \"3\",\n    name: \"Carlos Rodríguez\",\n    email: \"carlos@example.com\",\n    role: \"Gerente\",\n    status: \"inactive\",\n    description: \"Gerente de proyectos con certificación PMP y experiencia en metodologías ágiles.\",\n    subRows: [\n      {\n        id: \"3-1\",\n        name: \"Equipo A\",\n        email: \"equipo-a@example.com\",\n        role: \"Desarrollo\",\n        status: \"active\",\n        description: \"Equipo de desarrollo frontend y backend.\",\n      },\n      {\n        id: \"3-2\",\n        name: \"Equipo B\",\n        email: \"equipo-b@example.com\",\n        role: \"Diseño\",\n        status: \"inactive\",\n        description: \"Equipo de diseño UX/UI.\",\n      },\n    ],\n  },\n  {\n    id: \"4\",\n    name: \"Ana Martínez\",\n    email: \"ana@example.com\",\n    role: \"QA\",\n    status: \"info\",\n    description: \"Ingeniera de calidad con experiencia en pruebas automatizadas y manuales.\",\n  },\n  {\n    id: \"5\",\n    name: \"Roberto Sánchez\",\n    email: \"roberto@example.com\",\n    role: \"DevOps\",\n    status: \"neutral\",\n    description: \"Ingeniero DevOps con experiencia en AWS, Docker y Kubernetes.\",\n  },\n  {\n    id: \"6\",\n    name: \"Laura Díaz\",\n    email: \"laura@example.com\",\n    role: \"Analista\",\n    status: \"neutral\",\n    description: \"Analista de negocios con experiencia en levantamiento de requerimientos y documentación.\",\n  },\n  {\n    id: \"7\",\n    name: \"Pedro López\",\n    email: \"pedro@example.com\",\n    role: \"Arquitecto\",\n    status: \"\",\n    description: \"Arquitecto de software con experiencia en diseño de sistemas distribuidos.\",\n  },\n  {\n    id: \"6\",\n    name: \"Roberto Gómez\",\n    role: \"Visitante\",\n    status: \"neutral\",\n    description: \"Roberto es un visitante con acceso temporal al sistema para evaluación.\",\n    lastAccess: \"20/05/2023, 11:15\",\n  },\n]\n"])</script><script>self.__next_f.push([1,"3a:T9f9,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { ProTable } from \"@/components/ui/pro-table\"\nimport { columns, data } from \"./columns\"\nimport { TooltipProvider } from \"@/components/ui/tooltip\"\n// Importar la función getRowStatus\nimport { getRowStatus } from \"./utils\"\n\nexport default function EjemploTablaPage() {\n  return (\n    \u003cTooltipProvider\u003e\n      \u003cdiv className=\"container mx-auto py-8\"\u003e\n        \u003ch1 className=\"text-3xl font-bold mb-6\"\u003eEjemplo de Tabla Avanzada\u003c/h1\u003e\n\n        \u003cdiv className=\"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md\"\u003e\n          \u003ch2 className=\"text-xl font-semibold mb-4\"\u003eFuncionalidades disponibles:\u003c/h2\u003e\n          \u003cul className=\"list-disc pl-6 mb-6 space-y-2\"\u003e\n            \u003cli\u003e\n              \u003cstrong\u003eBúsqueda global\u003c/strong\u003e - Usa el campo de búsqueda para filtrar todas las columnas\n            \u003c/li\u003e\n            \u003cli\u003e\n              \u003cstrong\u003eSelector de columnas\u003c/strong\u003e - Haz clic en \"Columnas\" para mostrar/ocultar columnas\n            \u003c/li\u003e\n            \u003cli\u003e\n              \u003cstrong\u003eRedimensionamiento de columnas\u003c/strong\u003e - Arrastra el borde derecho de los encabezados\n            \u003c/li\u003e\n            \u003cli\u003e\n              \u003cstrong\u003eFilas expandibles\u003c/strong\u003e - Haz clic en \"+\" para ver las subfilas (Juan y Carlos tienen subfilas)\n            \u003c/li\u003e\n            \u003cli\u003e\n              \u003cstrong\u003eTooltips inteligentes\u003c/strong\u003e - Solo la columna \"Descripción\" muestra tooltips al pasar el mouse\n            \u003c/li\u003e\n          \u003c/ul\u003e\n\n          \u003ch2 className=\"text-xl font-semibold mb-4\"\u003eEstados de filas:\u003c/h2\u003e\n          \u003cul className=\"list-disc pl-6 mb-6 space-y-2\"\u003e\n            \u003cli\u003e\n              \u003cstrong className=\"text-green-600\"\u003eÉxito (verde)\u003c/strong\u003e - Estado \"active\" o \"activo\"\n            \u003c/li\u003e\n            \u003cli\u003e\n              \u003cstrong className=\"text-yellow-500\"\u003eAdvertencia (amarillo)\u003c/strong\u003e - Estado \"pending\" o \"pendiente\"\n            \u003c/li\u003e\n            \u003cli\u003e\n              \u003cstrong className=\"text-red-500\"\u003eError (rojo)\u003c/strong\u003e - Estado \"inactive\" o \"inactivo\"\n            \u003c/li\u003e\n            \u003cli\u003e\n              \u003cstrong className=\"text-blue-500\"\u003eInformación (azul)\u003c/strong\u003e - Estado \"info\"\n            \u003c/li\u003e\n            \u003cli\u003e\n              \u003cstrong className=\"text-gray-500\"\u003eNeutral (blanco)\u003c/strong\u003e - Estado \"neutral\" o sin estado\n            \u003c/li\u003e\n          \u003c/ul\u003e\n\n          \u003cProTable\n            data={data}\n            columns={columns}\n            initialVisibility={{ name: false }}\n            getRowStatus={getRowStatus}\n            className=\"bg-white dark:bg-gray-800\"\n          /\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/TooltipProvider\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"3b:T431,import { EntrevistadoForm } from \"@/components/forms/entrevistado-form\"\nimport { obtenerEntrevistadoPorId } from \"@/app/actions/entrevistados-actions\"\nimport { obtenerFundaciones } from \"@/app/actions/fundaciones-actions\"\nimport { notFound } from \"next/navigation\"\n\nexport default async function EditarEntrevistadoPage({ params }: { params: { id: string } }) {\n  const id = Number.parseInt(params.id)\n\n  if (isNaN(id)) {\n    notFound()\n  }\n\n  const [entrevistadoResult, fundacionesResult] = await Promise.all([\n    obtenerEntrevistadoPorId(id),\n    obtenerFundaciones(),\n  ])\n\n  const { data: entrevistado, error: entrevistadoError } = entrevistadoResult\n  const { data: fundaciones = [], error: fundacionesError } = fundacionesResult\n\n  if (entrevistadoError || !entrevistado || fundacionesError || fundaciones.length === 0) {\n    notFound()\n  }\n\n  return (\n    \u003cdiv className=\"max-w-2xl mx-auto py-8\"\u003e\n      \u003ch1 className=\"text-3xl font-bold mb-6\"\u003eEditar Entrevistado\u003c/h1\u003e\n      \u003cEntrevistadoForm entrevistado={entrevistado} fundaciones={fundaciones} /\u003e\n    \u003c/div\u003e\n  )\n}\n3c:T9f6,"])</script><script>self.__next_f.push([1,"import { Button } from \"@/components/ui/button\"\nimport { obtenerEntrevistadoPorId } from \"@/app/actions/entrevistados-actions\"\nimport { notFound } from \"next/navigation\"\nimport Link from \"next/link\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { EliminarEntrevistadoButton } from \"@/components/buttons/eliminar-entrevistado-button\"\n\nexport default async function DetalleEntrevistadoPage({ params }: { params: { id: string } }) {\n  const id = Number.parseInt(params.id)\n\n  if (isNaN(id)) {\n    notFound()\n  }\n\n  const { data: entrevistado, error } = await obtenerEntrevistadoPorId(id)\n\n  if (error || !entrevistado) {\n    notFound()\n  }\n\n  return (\n    \u003cdiv className=\"max-w-3xl mx-auto py-8\"\u003e\n      \u003cdiv className=\"flex justify-between items-center mb-6\"\u003e\n        \u003ch1 className=\"text-3xl font-bold\"\u003eDetalle de Entrevistado\u003c/h1\u003e\n        \u003cdiv className=\"flex space-x-2\"\u003e\n          \u003cLink href={`/entrevistados/${id}/editar`}\u003e\n            \u003cButton variant=\"outline\"\u003eEditar\u003c/Button\u003e\n          \u003c/Link\u003e\n          \u003cEliminarEntrevistadoButton id={id} /\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n\n      \u003cCard\u003e\n        \u003cCardHeader\u003e\n          \u003cCardTitle\u003e{`${entrevistado.nombre} ${entrevistado.apellido}`}\u003c/CardTitle\u003e\n        \u003c/CardHeader\u003e\n        \u003cCardContent className=\"space-y-4\"\u003e\n          \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-4\"\u003e\n            \u003cdiv\u003e\n              \u003ch3 className=\"text-sm font-medium text-gray-500\"\u003eCódigo\u003c/h3\u003e\n              \u003cp className=\"mt-1 text-lg\"\u003e{entrevistado.codigo}\u003c/p\u003e\n            \u003c/div\u003e\n            \u003cdiv\u003e\n              \u003ch3 className=\"text-sm font-medium text-gray-500\"\u003eInstitución\u003c/h3\u003e\n              \u003cp className=\"mt-1 text-lg\"\u003e{entrevistado.fundacion?.nombre || \"-\"}\u003c/p\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n\n          \u003cdiv\u003e\n            \u003ch3 className=\"text-sm font-medium text-gray-500\"\u003eCargo\u003c/h3\u003e\n            \u003cp className=\"mt-1\"\u003e{entrevistado.cargo || \"Sin cargo\"}\u003c/p\u003e\n          \u003c/div\u003e\n\n          \u003cdiv\u003e\n            \u003ch3 className=\"text-sm font-medium text-gray-500\"\u003eContacto\u003c/h3\u003e\n            \u003cp className=\"mt-1\"\u003e{entrevistado.contacto || \"Sin información de contacto\"}\u003c/p\u003e\n          \u003c/div\u003e\n\n          \u003cdiv\u003e\n            \u003ch3 className=\"text-sm font-medium text-gray-500\"\u003eNotas\u003c/h3\u003e\n            \u003cp className=\"mt-1\"\u003e{entrevistado.notas || \"Sin notas\"}\u003c/p\u003e\n          \u003c/div\u003e\n        \u003c/CardContent\u003e\n      \u003c/Card\u003e\n\n      \u003cdiv className=\"mt-6\"\u003e\n        \u003cLink href=\"/entrevistados\"\u003e\n          \u003cButton variant=\"outline\"\u003eVolver a Entrevistados\u003c/Button\u003e\n        \u003c/Link\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"3d:T4c5,import { Button } from \"@/components/ui/button\"\nimport Link from \"next/link\"\nimport { EntrevistadosTable } from \"@/components/tables/entrevistados-table\"\nimport { obtenerEntrevistados } from \"@/app/actions/entrevistados-actions\"\n\nexport default async function EntrevistadosPage() {\n  const { data: entrevistados = [], error } = await obtenerEntrevistados()\n\n  return (\n    \u003cdiv className=\"space-y-6\"\u003e\n      \u003cdiv className=\"flex justify-between items-center\"\u003e\n        \u003ch1 className=\"text-3xl font-bold\"\u003eEntrevistados\u003c/h1\u003e\n        \u003cLink href=\"/entrevistados/nuevo\"\u003e\n          \u003cButton\u003eNuevo Entrevistado\u003c/Button\u003e\n        \u003c/Link\u003e\n      \u003c/div\u003e\n\n      {error ? (\n        \u003cdiv className=\"p-4 border border-red-300 bg-red-50 text-red-700 rounded-md\"\u003e\n          Error al cargar entrevistados: {error}\n        \u003c/div\u003e\n      ) : entrevistados.length === 0 ? (\n        \u003cdiv className=\"p-8 text-center border rounded-md\"\u003e\n          \u003cp className=\"text-gray-500 mb-4\"\u003eNo hay entrevistados registrados\u003c/p\u003e\n          \u003cLink href=\"/entrevistados/nuevo\"\u003e\n            \u003cButton\u003eCrear primer entrevistado\u003c/Button\u003e\n          \u003c/Link\u003e\n        \u003c/div\u003e\n      ) : (\n        \u003cEntrevistadosTable entrevistados={entrevistados} /\u003e\n      )}\n    \u003c/div\u003e\n  )\n}\n3e:T14d4,"])</script><script>self.__next_f.push([1,"import { Button } from \"@/components/ui/button\"\nimport { obtenerEntrevistaPorId } from \"@/app/actions/entrevistas-actions\"\nimport { obtenerTranscripcionesPorEntrevista } from \"@/app/actions/transcripciones-actions\"\nimport { notFound } from \"next/navigation\"\nimport Link from \"next/link\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { EliminarEntrevistaButton } from \"@/components/buttons/eliminar-entrevista-button\"\nimport { FileText } from \"lucide-react\"\n\nexport default async function DetalleEntrevistaPage({ params }: { params: { id: string } }) {\n  const id = Number.parseInt(params.id)\n\n  if (isNaN(id)) {\n    notFound()\n  }\n\n  const [entrevistaResult, transcripcionesResult] = await Promise.all([\n    obtenerEntrevistaPorId(id),\n    obtenerTranscripcionesPorEntrevista(id),\n  ])\n\n  const { data: entrevista, error } = entrevistaResult\n  const { data: transcripciones = [] } = transcripcionesResult\n\n  if (error || !entrevista) {\n    notFound()\n  }\n\n  const tieneTranscripciones = transcripciones.length \u003e 0\n\n  return (\n    \u003cdiv className=\"max-w-3xl mx-auto py-8\"\u003e\n      \u003cdiv className=\"flex justify-between items-center mb-6\"\u003e\n        \u003ch1 className=\"text-3xl font-bold\"\u003eDetalle de Entrevista\u003c/h1\u003e\n        \u003cdiv className=\"flex space-x-2\"\u003e\n          {tieneTranscripciones \u0026\u0026 (\n            \u003cLink href={`/entrevistas/${id}/transcripciones`}\u003e\n              \u003cButton variant=\"outline\" className=\"flex items-center\"\u003e\n                \u003cFileText className=\"mr-2 h-4 w-4\" /\u003e\n                Ver Transcripciones\n              \u003c/Button\u003e\n            \u003c/Link\u003e\n          )}\n          \u003cEliminarEntrevistaButton id={id} /\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n\n      \u003cCard\u003e\n        \u003cCardHeader\u003e\n          \u003cCardTitle\u003e{entrevista.codigo_entrevista}\u003c/CardTitle\u003e\n          {tieneTranscripciones \u0026\u0026 (\n            \u003cCardDescription className=\"flex items-center text-green-600\"\u003e\n              \u003cFileText className=\"mr-1 h-4 w-4\" /\u003e\n              {transcripciones.length} segmentos de transcripción\n            \u003c/CardDescription\u003e\n          )}\n        \u003c/CardHeader\u003e\n        \u003cCardContent className=\"space-y-4\"\u003e\n          \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-4\"\u003e\n            \u003cdiv\u003e\n              \u003ch3 className=\"text-sm font-medium text-gray-500\"\u003eFundación\u003c/h3\u003e\n              \u003cp className=\"mt-1 text-lg\"\u003e{entrevista.fundacion?.nombre || \"-\"}\u003c/p\u003e\n            \u003c/div\u003e\n            \u003cdiv\u003e\n              \u003ch3 className=\"text-sm font-medium text-gray-500\"\u003eEntrevistado\u003c/h3\u003e\n              \u003cp className=\"mt-1 text-lg\"\u003e\n                {entrevista.entrevistado\n                  ? `${entrevista.entrevistado.nombre} ${entrevista.entrevistado.apellido}`\n                  : \"-\"}\n              \u003c/p\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n\n          \u003cdiv\u003e\n            \u003ch3 className=\"text-sm font-medium text-gray-500\"\u003eInvestigador\u003c/h3\u003e\n            \u003cp className=\"mt-1 text-lg\"\u003e\n              {entrevista.investigador\n                ? `${entrevista.investigador.nombre} ${entrevista.investigador.apellido}`\n                : \"No asignado\"}\n            \u003c/p\u003e\n          \u003c/div\u003e\n\n          \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-4\"\u003e\n            \u003cdiv\u003e\n              \u003ch3 className=\"text-sm font-medium text-gray-500\"\u003eNúmero de Entrevista\u003c/h3\u003e\n              \u003cp className=\"mt-1\"\u003e{entrevista.numero_entrevista}\u003c/p\u003e\n            \u003c/div\u003e\n            \u003cdiv\u003e\n              \u003ch3 className=\"text-sm font-medium text-gray-500\"\u003eFecha\u003c/h3\u003e\n              \u003cp className=\"mt-1\"\u003e\n                {entrevista.fecha_entrevista\n                  ? new Date(entrevista.fecha_entrevista).toLocaleDateString(\"es-ES\")\n                  : \"Sin fecha\"}\n              \u003c/p\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n\n          \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-4\"\u003e\n            \u003cdiv\u003e\n              \u003ch3 className=\"text-sm font-medium text-gray-500\"\u003eDuración\u003c/h3\u003e\n              \u003cp className=\"mt-1\"\u003e{entrevista.duracion ? `${entrevista.duracion} minutos` : \"Sin duración\"}\u003c/p\u003e\n            \u003c/div\u003e\n            \u003cdiv\u003e\n              \u003ch3 className=\"text-sm font-medium text-gray-500\"\u003eIdioma\u003c/h3\u003e\n              \u003cp className=\"mt-1\"\u003e{entrevista.idioma || \"es-ES\"}\u003c/p\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n\n          \u003cdiv\u003e\n            \u003ch3 className=\"text-sm font-medium text-gray-500\"\u003eNotas\u003c/h3\u003e\n            \u003cp className=\"mt-1\"\u003e{entrevista.notas || \"Sin notas\"}\u003c/p\u003e\n          \u003c/div\u003e\n\n          {!tieneTranscripciones \u0026\u0026 (\n            \u003cdiv className=\"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-md\"\u003e\n              \u003cp className=\"text-blue-700 font-medium\"\u003eEsta entrevista no tiene transcripciones\u003c/p\u003e\n              \u003cp className=\"text-blue-600 text-sm mt-1\"\u003e\n                Puedes cargar una transcripción para esta entrevista desde la sección de transcripciones.\n              \u003c/p\u003e\n              \u003cdiv className=\"mt-3\"\u003e\n                \u003cLink href=\"/transcripciones/cargar\"\u003e\n                  \u003cButton size=\"sm\" variant=\"outline\" className=\"text-blue-700 border-blue-300\"\u003e\n                    Cargar Transcripción\n                  \u003c/Button\u003e\n                \u003c/Link\u003e\n              \u003c/div\u003e\n            \u003c/div\u003e\n          )}\n        \u003c/CardContent\u003e\n      \u003c/Card\u003e\n\n      \u003cdiv className=\"mt-6\"\u003e\n        \u003cLink href=\"/entrevistas\"\u003e\n          \u003cButton variant=\"outline\"\u003eVolver a Entrevistas\u003c/Button\u003e\n        \u003c/Link\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"3f:T104b,"])</script><script>self.__next_f.push([1,"import { obtenerEntrevistaPorId } from \"@/app/actions/entrevistas-actions\"\nimport { obtenerTranscripcionesPorEntrevista } from \"@/app/actions/transcripciones-actions\"\nimport { notFound } from \"next/navigation\"\nimport Link from \"next/link\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { ProTable } from \"@/components/ui/pro-table\"\nimport {\n  crearColumnasTranscripciones,\n  type SegmentoTranscripcion,\n} from \"@/components/tables/transcripciones-entrevista-columns\"\n\nexport default async function TranscripcionesEntrevistaPage({\n  params,\n}: {\n  params: { id: string }\n}) {\n  const id = Number.parseInt(params.id)\n\n  if (isNaN(id)) {\n    notFound()\n  }\n\n  const [entrevistaResult, transcripcionesResult] = await Promise.all([\n    obtenerEntrevistaPorId(id),\n    obtenerTranscripcionesPorEntrevista(id),\n  ])\n\n  const { data: entrevista, error: entrevistaError } = entrevistaResult\n  const { data: transcripciones = [], error: transcripcionesError } = transcripcionesResult\n\n  if (entrevistaError || !entrevista) {\n    notFound()\n  }\n\n  // Obtener nombres de hablantes para mostrar en la tabla\n  const investigadorNombre = entrevista.investigador\n    ? `${entrevista.investigador.nombre} ${entrevista.investigador.apellido}`\n    : \"Investigador\"\n\n  const entrevistadoNombre = entrevista.entrevistado\n    ? `${entrevista.entrevistado.nombre} ${entrevista.entrevistado.apellido}`\n    : \"Entrevistado\"\n\n  // Crear las columnas para la tabla\n  const columnas = crearColumnasTranscripciones(investigadorNombre, entrevistadoNombre)\n\n  // Función para determinar el color de fondo de las filas según el nivel de confianza\n  const getRowStatus = (row: SegmentoTranscripcion) =\u003e {\n    const nivelConfianza = Number(row.nivel_confianza)\n    if (nivelConfianza \u003c= 2) return \"error\"\n    if (nivelConfianza === 3) return \"warning\"\n    return \"success\"\n  }\n\n  return (\n    \u003cdiv className=\"max-w-6xl mx-auto py-8\"\u003e\n      \u003cdiv className=\"flex justify-between items-center mb-6\"\u003e\n        \u003ch1 className=\"text-3xl font-bold\"\u003eTranscripciones de Entrevista\u003c/h1\u003e\n        \u003cdiv className=\"flex space-x-2\"\u003e\n          \u003cLink href={`/entrevistas/${id}`}\u003e\n            \u003cButton variant=\"outline\"\u003eVolver a Entrevista\u003c/Button\u003e\n          \u003c/Link\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n\n      \u003cCard className=\"mb-6\"\u003e\n        \u003cCardHeader\u003e\n          \u003cCardTitle\u003e{entrevista.codigo_entrevista}\u003c/CardTitle\u003e\n          \u003cCardDescription\u003e\n            {entrevista.entrevistado\n              ? `Entrevistado: ${entrevista.entrevistado.nombre} ${entrevista.entrevistado.apellido}`\n              : \"\"}\n            {entrevista.fecha_entrevista\n              ? ` • Fecha: ${new Date(entrevista.fecha_entrevista).toLocaleDateString(\"es-ES\")}`\n              : \"\"}\n          \u003c/CardDescription\u003e\n        \u003c/CardHeader\u003e\n      \u003c/Card\u003e\n\n      {transcripcionesError ? (\n        \u003cdiv className=\"p-4 border border-red-300 bg-red-50 text-red-700 rounded-md\"\u003e\n          Error al cargar transcripciones: {transcripcionesError}\n        \u003c/div\u003e\n      ) : transcripciones.length === 0 ? (\n        \u003cdiv className=\"p-8 text-center border rounded-md\"\u003e\n          \u003cp className=\"text-gray-500 mb-4\"\u003eNo hay transcripciones para esta entrevista\u003c/p\u003e\n          \u003cLink href=\"/transcripciones/cargar\"\u003e\n            \u003cButton\u003eCargar Transcripción\u003c/Button\u003e\n          \u003c/Link\u003e\n        \u003c/div\u003e\n      ) : (\n        \u003cCard\u003e\n          \u003cCardHeader\u003e\n            \u003cCardTitle\u003eSegmentos de Transcripción\u003c/CardTitle\u003e\n            \u003cCardDescription\u003eTotal: {transcripciones.length} segmentos\u003c/CardDescription\u003e\n          \u003c/CardHeader\u003e\n          \u003cCardContent\u003e\n            \u003cdiv className=\"border rounded-md\"\u003e\n              \u003cProTable\n                columns={columnas}\n                data={transcripciones}\n                enableTooltips={true}\n                showColumnSelector={true}\n                placeholder=\"Buscar en transcripciones...\"\n                getRowStatus={getRowStatus}\n                lineClamp={5} // Configuramos 5 líneas visibles para todas las celdas\n              /\u003e\n            \u003c/div\u003e\n          \u003c/CardContent\u003e\n        \u003c/Card\u003e\n      )}\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"40:T60a,import { EntrevistaForm } from \"@/components/forms/entrevista-form\"\nimport { obtenerFundaciones } from \"@/app/actions/fundaciones-actions\"\nimport { obtenerEntrevistados } from \"@/app/actions/entrevistados-actions\"\nimport { obtenerInvestigadores } from \"@/app/actions/investigadores-actions\"\nimport { redirect } from \"next/navigation\"\n\nexport default async function NuevaEntrevistaPage() {\n  const [fundacionesResult, entrevistadosResult, investigadoresResult] = await Promise.all([\n    obtenerFundaciones(),\n    obtenerEntrevistados(),\n    obtenerInvestigadores(),\n  ])\n\n  const fundaciones = fundacionesResult.data || []\n  const entrevistados = entrevistadosResult.data || []\n  const investigadores = investigadoresResult.data || []\n\n  // Solo redirige si realmente no hay datos\n  if (fundaciones.length === 0) {\n    return redirect(\"/configuracion/fundaciones?error=Debes crear al menos una fundación antes de crear entrevistas\")\n  }\n\n  if (entrevistados.length === 0) {\n    return redirect(\n      \"/configuracion/entrevistados?error=Debes crear al menos un entrevistado antes de crear entrevistas\",\n    )\n  }\n\n  if (investigadores.length === 0) {\n    return redirect(\n      \"/configuracion/investigadores?error=Debes crear al menos un investigador antes de crear entrevistas\",\n    )\n  }\n\n  return (\n    \u003cdiv className=\"max-w-2xl mx-auto py-8\"\u003e\n      \u003ch1 className=\"text-3xl font-bold mb-6\"\u003eNueva Entrevista\u003c/h1\u003e\n      \u003cEntrevistaForm fundaciones={fundaciones} entrevistados={entrevistados} investigadores={investigadores} /\u003e\n    \u003c/div\u003e\n  )\n}\n41:T4a2,import { Button } from \"@/components/ui/button\"\nimport Link from \"next/link\"\nimport { obtenerEntrevistas } from \"@/app/actions/entrevistas-actions\"\nimport { EntrevistasTable } from \"@/components/tables/entrevistas-table\"\n\nexport default async function EntrevistasPage() {\n  const { data: entrevistas = [], error } = await obtenerEntrevistas()\n\n  return (\n    \u003cdiv className=\"space-y-6\"\u003e\n      \u003cdiv className=\"flex justify-between items-center\"\u003e\n        \u003ch1 className=\"text-3xl font-bold"])</script><script>self.__next_f.push([1,"\"\u003eEntrevistas\u003c/h1\u003e\n        \u003cLink href=\"/entrevistas/nueva\"\u003e\n          \u003cButton\u003eNueva Entrevista\u003c/Button\u003e\n        \u003c/Link\u003e\n      \u003c/div\u003e\n\n      {error ? (\n        \u003cdiv className=\"p-4 border border-red-300 bg-red-50 text-red-700 rounded-md\"\u003e\n          Error al cargar entrevistas: {error}\n        \u003c/div\u003e\n      ) : entrevistas.length === 0 ? (\n        \u003cdiv className=\"p-8 text-center border rounded-md\"\u003e\n          \u003cp className=\"text-gray-500 mb-4\"\u003eNo hay entrevistas registradas\u003c/p\u003e\n          \u003cLink href=\"/entrevistas/nueva\"\u003e\n            \u003cButton\u003eCrear primera entrevista\u003c/Button\u003e\n          \u003c/Link\u003e\n        \u003c/div\u003e\n      ) : (\n        \u003cEntrevistasTable entrevistas={entrevistas} /\u003e\n      )}\n    \u003c/div\u003e\n  )\n}\n42:T756,import {\n  Playfair_Display,\n  Inter,\n  Open_Sans,\n  Roboto_Mono,\n  Quicksand,\n  Montserrat,\n  JetBrains_Mono,\n  Marhey,\n  Space_Grotesk,\n  Outfit,\n  Chau_Philomene_One,\n  Work_Sans,\n} from \"next/font/google\"\n\n// Definir las fuentes\nexport const playfair = Playfair_Display({\n  subsets: [\"latin\"],\n  variable: \"--font-playfair\",\n})\n\nexport const inter = Inter({\n  subsets: [\"latin\"],\n  variable: \"--font-inter\",\n})\n\nexport const openSans = Open_Sans({\n  subsets: [\"latin\"],\n  variable: \"--font-open-sans\",\n})\n\nexport const robotoMono = Roboto_Mono({\n  subsets: [\"latin\"],\n  variable: \"--font-roboto-mono\",\n})\n\nexport const jetbrainsMono = JetBrains_Mono({\n  subsets: [\"latin\"],\n  variable: \"--font-jetbrains-mono\",\n})\n\nexport const quicksand = Quicksand({\n  subsets: [\"latin\"],\n  variable: \"--font-quicksand\",\n})\n\nexport const montserrat = Montserrat({\n  subsets: [\"latin\"],\n  variable: \"--font-montserrat\",\n})\n\nexport const marhey = Marhey({\n  subsets: [\"latin\"],\n  weight: [\"400\", \"500\", \"600\", \"700\"],\n  variable: \"--font-marhey\",\n})\n\nexport const spaceGrotesk = Space_Grotesk({\n  subsets: [\"latin\"],\n  variable: \"--font-space-grotesk\",\n})\n\nexport const outfit = Outfit({\n  subsets: [\"latin\"],\n  variable: \"--font-outfit\",\n})\n\n// Nuevas fuentes para el tema Sustrato\nexport const chauPhilomeneOne = Chau_Philomene_One({\n  subsets: [\"lati"])</script><script>self.__next_f.push([1,"n\"],\n  weight: [\"400\"],\n  variable: \"--font-chau-philomene-one\",\n})\n\nexport const workSans = Work_Sans({\n  subsets: [\"latin\"],\n  variable: \"--font-work-sans\",\n})\n\n// Función para obtener todas las variables de fuente\nexport function getAllFontVariables() {\n  return `${playfair.variable} ${inter.variable} ${openSans.variable} ${robotoMono.variable} ${jetbrainsMono.variable} ${quicksand.variable} ${montserrat.variable} ${marhey.variable} ${spaceGrotesk.variable} ${outfit.variable} ${chauPhilomeneOne.variable} ${workSans.variable}`\n}\n43:T1537,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { createContext, useContext, useState, type ReactNode, useEffect } from \"react\"\nimport { getAllFontVariables, type FontTheme, fontThemeConfig } from \"@/lib/fonts\"\n\n// Contexto para el tema de fuentes\ntype FontThemeContextType = {\n  fontTheme: FontTheme\n  setFontTheme: (theme: FontTheme) =\u003e void\n}\n\nconst FontThemeContext = createContext\u003cFontThemeContextType | undefined\u003e(undefined)\n\n// Proveedor del tema de fuentes\nexport function FontThemeProvider({ children }: { children: ReactNode }) {\n  const [fontTheme, setFontThemeInternal] = useState\u003cFontTheme\u003e(\"sustrato\")\n  const [mounted, setMounted] = useState(false)\n\n  // Evitar problemas de hidratación\n  useEffect(() =\u003e {\n    setMounted(true)\n  }, [])\n\n  // Función para cambiar el tema de fuente y emitir evento\n  const setFontTheme = (theme: FontTheme) =\u003e {\n    setFontThemeInternal(theme)\n\n    // Si ya está montado, emitir evento para persistir la preferencia\n    if (mounted) {\n      console.log(`🔤 Emitiendo evento font-preference-change con tema: ${theme}`)\n      document.dispatchEvent(\n        new CustomEvent(\"font-preference-change\", {\n          detail: { fontPair: theme },\n        }),\n      )\n    }\n  }\n\n  // Escuchar eventos de cambio de fuente desde el AuthProvider\n  useEffect(() =\u003e {\n    if (!mounted) return\n\n    const handleFontChange = (e: CustomEvent) =\u003e {\n      const { fontPair } = e.detail\n      console.log(`📣 Evento font-change recibido, cambiando a: ${fontPair}`)\n\n      // Limpiar espacios en blanco y normalizar el valor\n      const fontPairNormalized = typeof fontPair === \"string\" ? fontPair.trim() : fontPair\n\n      console.log(`🔄 Valor normalizado: \"${fontPairNormalized}\"`)\n\n      // Verificar explícitamente todos los valores posibles de FontTheme\n      if (\n        fontPairNormalized \u0026\u0026\n        typeof fontPairNormalized === \"string\" \u0026\u0026\n        [\"sustrato\", \"default\", \"classic\", \"modern\", \"accessible\", \"technical\", \"minimalist\", \"creative\"].includes(\n          fontPairNormalized,\n        )\n      ) {\n        console.log(`✅ Aplicando tema de fuente válido: ${fontPairNormalized}`)\n        setFontThemeInternal(fontPairNormalized as FontTheme)\n      } else {\n        console.warn(`⚠️ Valor de fontPair no válido: \"${fontPairNormalized}\"`)\n      }\n    }\n\n    // Añadir el event listener con tipado correcto\n    document.addEventListener(\"font-change\", handleFontChange as EventListener)\n\n    // Limpiar el event listener\n    return () =\u003e {\n      document.removeEventListener(\"font-change\", handleFontChange as EventListener)\n    }\n  }, [mounted])\n\n  // Aplicar variables CSS dinámicamente\n  useEffect(() =\u003e {\n    if (mounted) {\n      // Asegúrate de que fontTheme existe en fontThemeConfig\n      if (!(fontTheme in fontThemeConfig)) {\n        console.error(`❌ Tema de fuente no encontrado en configuración: ${fontTheme}`)\n        return\n      }\n\n      const config = fontThemeConfig[fontTheme]\n      console.log(`🔤 Aplicando configuración para tema: ${fontTheme}`, config)\n\n      // Aplicar variables CSS a nivel de documento\n      document.documentElement.style.setProperty(\"--font-family-headings\", config.heading)\n      document.documentElement.style.setProperty(\"--font-family-base\", config.body)\n      document.documentElement.style.setProperty(\"--font-weight-headings\", config.headingWeight)\n      document.documentElement.style.setProperty(\"--font-weight-base\", config.bodyWeight)\n      document.documentElement.style.setProperty(\"--letter-spacing-headings\", config.letterSpacingHeadings)\n      document.documentElement.style.setProperty(\"--letter-spacing-body\", config.letterSpacingBody)\n      document.documentElement.style.setProperty(\"--line-height\", config.lineHeight)\n\n      // Forzar la actualización de las fuentes en elementos específicos\n      document.body.style.fontFamily = config.body\n      document.body.style.fontWeight = config.bodyWeight\n      document.body.style.letterSpacing = config.letterSpacingBody\n      document.body.style.lineHeight = config.lineHeight\n\n      // Aplicar a todos los encabezados\n      const headings = document.querySelectorAll(\"h1, h2, h3, h4, h5, h6\")\n      headings.forEach((heading) =\u003e {\n        ;(heading as HTMLElement).style.fontFamily = config.heading\n        ;(heading as HTMLElement).style.fontWeight = config.headingWeight\n        ;(heading as HTMLElement).style.letterSpacing = config.letterSpacingHeadings\n      })\n\n      // Forzar actualización de componentes específicos que podrían no actualizarse automáticamente\n      const navbarElements = document.querySelectorAll(\".navbar-brand, .navbar-item\")\n      navbarElements.forEach((element) =\u003e {\n        ;(element as HTMLElement).style.fontFamily = config.heading\n        ;(element as HTMLElement).style.fontWeight = config.headingWeight\n      })\n\n      console.log(`🎉 Tema de fuente aplicado completamente: ${fontTheme}`)\n    }\n  }, [fontTheme, mounted])\n\n  // Obtener todas las variables de fuente\n  const fontVariables = getAllFontVariables()\n\n  return (\n    \u003cFontThemeContext.Provider value={{ fontTheme, setFontTheme }}\u003e\n      \u003cdiv className={fontVariables}\u003e{children}\u003c/div\u003e\n    \u003c/FontThemeContext.Provider\u003e\n  )\n}\n\n// Hook para usar el tema de fuentes\nexport function useFontTheme() {\n  const context = useContext(FontThemeContext)\n  if (context === undefined) {\n    throw new Error(\"useFontTheme must be used within a FontThemeProvider\")\n  }\n  return context\n}\n"])</script><script>self.__next_f.push([1,"44:T71e,import { Button } from \"@/components/ui/button\"\nimport { obtenerFundacionPorId } from \"@/app/actions/fundaciones-actions\"\nimport { notFound } from \"next/navigation\"\nimport Link from \"next/link\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { EliminarFundacionButton } from \"@/components/buttons/eliminar-fundacion-button\"\n\nexport default async function DetalleFundacionPage({ params }: { params: { id: string } }) {\n  const id = Number.parseInt(params.id)\n\n  if (isNaN(id)) {\n    notFound()\n  }\n\n  const { data: fundacion, error } = await obtenerFundacionPorId(id)\n\n  if (error || !fundacion) {\n    notFound()\n  }\n\n  return (\n    \u003cdiv className=\"max-w-3xl mx-auto py-8\"\u003e\n      \u003cdiv className=\"flex justify-between items-center mb-6\"\u003e\n        \u003ch1 className=\"text-3xl font-bold\"\u003eDetalle de Institución\u003c/h1\u003e\n        \u003cdiv className=\"flex space-x-2\"\u003e\n          \u003cLink href={`/fundaciones/${id}/editar`}\u003e\n            \u003cButton variant=\"outline\"\u003eEditar\u003c/Button\u003e\n          \u003c/Link\u003e\n          \u003cEliminarFundacionButton id={id} /\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n\n      \u003cCard\u003e\n        \u003cCardHeader\u003e\n          \u003cCardTitle\u003e{fundacion.nombre}\u003c/CardTitle\u003e\n        \u003c/CardHeader\u003e\n        \u003cCardContent className=\"space-y-4\"\u003e\n          \u003cdiv\u003e\n            \u003ch3 className=\"text-sm font-medium text-gray-500\"\u003eCódigo\u003c/h3\u003e\n            \u003cp className=\"mt-1 text-lg\"\u003e{fundacion.codigo}\u003c/p\u003e\n          \u003c/div\u003e\n\n          \u003cdiv\u003e\n            \u003ch3 className=\"text-sm font-medium text-gray-500\"\u003eDescripción\u003c/h3\u003e\n            \u003cp className=\"mt-1\"\u003e{fundacion.descripcion || \"Sin descripción\"}\u003c/p\u003e\n          \u003c/div\u003e\n        \u003c/CardContent\u003e\n      \u003c/Card\u003e\n\n      \u003cdiv className=\"mt-6\"\u003e\n        \u003cLink href=\"/fundaciones\"\u003e\n          \u003cButton variant=\"outline\"\u003eVolver a Instituciones\u003c/Button\u003e\n        \u003c/Link\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n45:T4ac,import { Button } from \"@/components/ui/button\"\nimport Link from \"next/link\"\nimport { FundacionesTable } from \"@/components/tables/fundaciones-table\"\nimport { obtenerFundaciones } from \"@/app/actions/fundacione"])</script><script>self.__next_f.push([1,"s-actions\"\n\nexport default async function FundacionesPage() {\n  const { data: fundaciones = [], error } = await obtenerFundaciones()\n\n  return (\n    \u003cdiv className=\"space-y-6\"\u003e\n      \u003cdiv className=\"flex justify-between items-center\"\u003e\n        \u003ch1 className=\"text-3xl font-bold\"\u003eInstituciones\u003c/h1\u003e\n        \u003cLink href=\"/fundaciones/nueva\"\u003e\n          \u003cButton\u003eNueva Institución\u003c/Button\u003e\n        \u003c/Link\u003e\n      \u003c/div\u003e\n\n      {error ? (\n        \u003cdiv className=\"p-4 border border-red-300 bg-red-50 text-red-700 rounded-md\"\u003e\n          Error al cargar instituciones: {error}\n        \u003c/div\u003e\n      ) : fundaciones.length === 0 ? (\n        \u003cdiv className=\"p-8 text-center border rounded-md\"\u003e\n          \u003cp className=\"text-gray-500 mb-4\"\u003eNo hay instituciones registradas\u003c/p\u003e\n          \u003cLink href=\"/fundaciones/nueva\"\u003e\n            \u003cButton\u003eCrear primera institución\u003c/Button\u003e\n          \u003c/Link\u003e\n        \u003c/div\u003e\n      ) : (\n        \u003cFundacionesTable fundaciones={fundaciones} /\u003e\n      )}\n    \u003c/div\u003e\n  )\n}\n46:T377e,"])</script><script>self.__next_f.push([1,"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* \n  NUEVO SISTEMA DE DISEÑO SUSTRATO\n  --------------------------------\n  Sistema normalizado basado en lib/theme/colors.ts\n*/\n\n@layer base {\n  /* globals.css o tu archivo CSS principal */\n  html,\n  body,\n  body \u003e div:first-child /* A menudo el div#__next de Next.js */,\n  div#__next,\n  div#__next \u003e div {\n    /* Para cubrir el wrapper de FontThemeProvider y Providers si usan divs */\n    height: 100%; /* O min-height: 100% para permitir crecer más */\n    margin: 0;\n    padding: 0;\n  }\n\n  body {\n    /* Permite scroll si el contenido es más alto que el viewport */\n    /* overflow-y: auto; /* Puedes añadir esto si es necesario, pero a menudo no lo es si height:100% está bien configurado arriba */\n  }\n\n  /* Si AuthLayoutWrapper usa flex flex-col y tiene height:100% (o min-height:100%), */\n  /* entonces el main con flex-grow funcionará. */\n  :root {\n    /* \n      COLORES BASE\n      ------------\n      Definición de todos los colores base del sistema.\n      Estos colores no se usan directamente en componentes.\n    */\n\n    /* Tema Azul */\n    --color-blue-primary-pure: #3d7df6;\n    --color-blue-primary-pure-dark: #2e5eb9;\n    --color-blue-primary-text: #1f4487;\n    --color-blue-primary-text-dark: #132951;\n    --color-blue-primary-bg: #dde5fa;\n    --color-blue-primary-bg-dark: #a6acbc;\n\n    /* Tema Verde */\n\n    /* Tema Naranja */\n\n    /* Semánticos Universales */\n    --color-accent-pure: #8a4ef6;\n    --color-accent-pure-dark: #683bb9;\n    --color-accent-text: #432578;\n    --color-accent-text-dark: #281648;\n    --color-accent-bg: #e8d9f9;\n    --color-accent-bg-dark: #aea3bb;\n\n    --color-success-pure: #3dff94;\n    --color-success-pure-dark: #2dbf6f;\n    --color-success-text: #45574d;\n    --color-success-text-dark: #33413a;\n    --color-success-bg: #cffae3;\n    --color-success-bg-dark: #9bbdaa;\n\n    --color-warning-pure: #ffee3d;\n    --color-warning-pure-dark: #bfb32f;\n    --color-warning-text: #6e671a;\n    --color-warning-text-dark: #524d13;\n    --color-warning-bg: #faf7df;\n    --color-warning-bg-dark: #bbb9a7;\n\n    --color-danger-pure: #ed3a45;\n    --color-danger-pure-dark: #b22b34;\n    --color-danger-text: #6b1a1f;\n    --color-danger-text-dark: #501317;\n    --color-danger-bg: #f7dddf;\n    --color-danger-bg-dark: #b9a6a7;\n\n    /* Neutrales */\n    --color-neutral-50: #f9fafb;\n    --color-neutral-100: #f3f4f6;\n    --color-neutral-200: #e5e7eb;\n    --color-neutral-300: #d1d5db;\n    --color-neutral-400: #9ca3af;\n    --color-neutral-500: #6b7280;\n    --color-neutral-600: #4b5563;\n    --color-neutral-700: #374151;\n    --color-neutral-800: #1f2937;\n    --color-neutral-900: #111827;\n\n    /* \n      VARIABLES SEMÁNTICAS DEL TEMA\n      -----------------------------\n      Estas variables se asignan según el tema activo.\n      Por defecto, usan el tema azul.\n    */\n\n    /* \n      VARIABLES DE INTERFAZ DE USUARIO\n      -------------------------------\n      Estas variables se usan directamente en los componentes.\n      Heredan de las variables semánticas del tema.\n    */\n\n    /* Colores de la interfaz */\n    --ui-background: var(--color-neutral-50);\n    --ui-foreground: var(--color-neutral-900);\n    --ui-card-bg: white;\n    --ui-card-fg: var(--color-neutral-900);\n    --ui-border-color: var(--color-neutral-200);\n\n    /* Colores de acción */\n    --ui-primary: var(--theme-primary-pure);\n    --ui-primary-hover: var(--theme-primary-pure-dark);\n    --ui-primary-fg: white;\n\n    --ui-secondary: var(--theme-secondary-pure);\n    --ui-secondary-hover: var(--theme-secondary-pure-dark);\n    --ui-secondary-fg: white;\n\n    /* Colores de estado */\n    --ui-accent: var(--color-accent-pure);\n    --ui-accent-hover: var(--color-accent-pure-dark);\n    --ui-accent-bg: var(--color-accent-bg);\n\n    --ui-success: var(--color-success-pure);\n    --ui-success-hover: var(--color-success-pure-dark);\n    --ui-success-bg: var(--color-success-bg);\n\n    --ui-warning: var(--color-warning-pure);\n    --ui-warning-hover: var(--color-warning-pure-dark);\n    --ui-warning-bg: var(--color-warning-bg);\n\n    --ui-danger: var(--color-danger-pure);\n    --ui-danger-hover: var(--color-danger-pure-dark);\n    --ui-danger-bg: var(--color-danger-bg);\n  }\n\n  /* \n    TEMA OSCURO\n    ----------\n    Sobreescribe las variables para el modo oscuro.\n  */\n  .dark {\n    /* Variables semánticas del tema */\n    --ui-background: var(--color-neutral-900);\n    --ui-foreground: var(--color-neutral-50);\n    --ui-card-bg: var(--color-neutral-800);\n    --ui-card-fg: var(--color-neutral-50);\n    --ui-border-color: var(--color-neutral-700);\n  }\n\n  /* \n    TEMA VERDE\n    ---------\n    Sobreescribe las variables para el tema verde.\n  */\n}\n\n@layer base {\n  :root {\n    --background: 0 0% 100%;\n    --foreground: 222.2 84% 4.9%;\n    --card: 0 0% 100%;\n    --card-foreground: 222.2 84% 4.9%;\n    --popover: 0 0% 100%;\n    --popover-foreground: 222.2 84% 4.9%;\n    --primary: 221.2 83.2% 53.3%;\n    --primary-foreground: 210 40% 98%;\n    --secondary: 210 40% 96.1%;\n    --secondary-foreground: 222.2 47.4% 11.2%;\n    --muted: 210 40% 96.1%;\n    --muted-foreground: 215.4 16.3% 46.9%;\n    --accent: 262.1 83.3% 57.8%; /* Púrpura para el círculo central */\n    --accent-foreground: 210 40% 98%;\n    --destructive: 0 84.2% 60.2%;\n    --destructive-foreground: 210 40% 98%;\n    --border: 214.3 31.8% 91.4%;\n    --input: 214.3 31.8% 91.4%;\n    --ring: 222.2 84% 4.9%;\n    --radius: 0.5rem;\n\n    /* Añadir nuevas variables para estados */\n    --success: 142 76% 36%;\n    --success-foreground: 210 40% 98%;\n    --warning: 38 92% 50%;\n    --warning-foreground: 210 40% 98%;\n    --info: 200 98% 39%;\n    --info-foreground: 210 40% 98%;\n\n    /* Nuevas variables para el sistema de diseño evolucionado */\n    --ui-icon-primary: 221.2 83.2% 53.3%; /* Azul para iconos principales */\n    --ui-icon-secondary: 199 89% 48%; /* Azul claro para iconos secundarios */\n    --ui-icon-accent: 262.1 83.3% 57.8%; /* Morado para iconos de acento */\n    --ui-text-primary: 222.2 84% 4.9%; /* Color principal para texto */\n    --ui-text-secondary: 215.4 16.3% 46.9%; /* Color secundario para texto */\n    --ui-surface-primary: 0 0% 100%; /* Superficie principal */\n    --ui-surface-secondary: 210 40% 96.1%; /* Superficie secundaria */\n  }\n\n  /* Añadir tema oscuro */\n  .dark {\n    --background: 222.2 84% 4.9%;\n    --foreground: 210 40% 98%;\n    --card: 222.2 84% 4.9%;\n    --card-foreground: 210 40% 98%;\n    --popover: 222.2 84% 4.9%;\n    --popover-foreground: 210 40% 98%;\n    --primary: 217.2 91.2% 59.8%;\n    --primary-foreground: 222.2 47.4% 11.2%;\n    --secondary: 217.2 32.6% 17.5%;\n    --secondary-foreground: 210 40% 98%;\n    --accent: 262.1 83.3% 57.8%; /* Púrpura para el círculo central */\n    --accent-foreground: 0 0% 98%;\n    --muted: 217.2 32.6% 17.5%;\n    --muted-foreground: 215 20.2% 65.1%;\n    --destructive: 0 62.8% 30.6%;\n    --destructive-foreground: 210 40% 98%;\n    --border: 217.2 32.6% 17.5%;\n    --input: 217.2 32.6% 17.5%;\n    --ring: 224.3 76.3% 48%;\n    --success: 142 70% 29%;\n    --success-foreground: 210 40% 98%;\n    --warning: 38 92% 40%;\n    --warning-foreground: 210 40% 98%;\n    --info: 200 90% 30%;\n    --info-foreground: 210 40% 98%;\n\n    /* Nuevas variables para el sistema de diseño evolucionado - tema oscuro */\n    --ui-icon-primary: 217.2 91.2% 59.8%; /* Azul para iconos principales */\n    --ui-icon-secondary: 199 89% 48%; /* Azul claro para iconos secundarios */\n    --ui-icon-accent: 262.1 83.3% 57.8%; /* Morado para iconos de acento */\n    --ui-text-primary: 210 40% 98%; /* Color principal para texto */\n    --ui-text-secondary: 215 20.2% 65.1%; /* Color secundario para texto */\n    --ui-surface-primary: 222.2 84% 4.9%; /* Superficie principal */\n    --ui-surface-secondary: 217.2 32.6% 17.5%; /* Superficie secundaria */\n\n    /* Color de encabezados para tema oscuro */\n    --heading-color: 217.2 91.2% 70%; /* Azul más claro para encabezados en modo oscuro */\n\n    /* Valores RGB para sombras */\n    --primary-rgb: 96, 165, 250;\n  }\n\n  /* Tema Verde (variante clara) */\n  .theme-green {\n    --background: 0 0% 100%;\n    --foreground: 240 10% 3.9%;\n    --card: 0 0% 100%;\n    --card-foreground: 240 10% 3.9%;\n    --popover: 0 0% 100%;\n    --popover-foreground: 240 10% 3.9%;\n    --primary: 142.1 76.2% 36.3%;\n    --primary-foreground: 355.7 100% 97.3%;\n    --secondary: 240 4.8% 95.9%;\n    --secondary-foreground: 240 5.9% 10%;\n    --accent: 262.1 83.3% 57.8%; /* Púrpura para el círculo central */\n    --accent-foreground: 0 0% 98%;\n    --muted: 240 4.8% 95.9%;\n    --muted-foreground: 240 3.8% 46.1%;\n    --destructive: 0 84.2% 60.2%;\n    --destructive-foreground: 0 0% 98%;\n    --border: 240 5.9% 90%;\n    --input: 240 5.9% 90%;\n    --ring: 142.1 76.2% 36.3%;\n    --radius: 0.5rem;\n\n    /* Nuevas variables para el sistema de diseño evolucionado - tema verde */\n    --ui-icon-primary: 142.1 76.2% 36.3%; /* Verde para iconos principales */\n    --ui-icon-secondary: 168 76% 42%; /* Verde azulado para iconos secundarios */\n    --ui-icon-accent: 262.1 83.3% 57.8%; /* Morado para iconos de acento */\n    --ui-text-primary: 240 10% 3.9%; /* Color principal para texto */\n    --ui-text-secondary: 240 3.8% 46.1%; /* Color secundario para texto */\n    --ui-surface-primary: 0 0% 100%; /* Superficie principal */\n    --ui-surface-secondary: 240 4.8% 95.9%; /* Superficie secundaria */\n\n    /* Color de encabezados para tema verde */\n    --heading-color: 142.1 76.2% 25%; /* Verde oscuro para encabezados */\n\n    /* Valores RGB para sombras */\n    --primary-rgb: 34, 197, 94;\n  }\n\n  /* Tema Naranja (variante clara) */\n  .theme-orange {\n    --background: 0 0% 100%;\n    --foreground: 20 14.3% 4.1%;\n    --card: 0 0% 100%;\n    --card-foreground: 20 14.3% 4.1%;\n    --popover: 0 0% 100%;\n    --popover-foreground: 20 14.3% 4.1%;\n    --primary: 24.6 95% 53.1%;\n    --primary-foreground: 60 9.1% 97.8%;\n    --secondary: 60 4.8% 95.9%;\n    --secondary-foreground: 24 9.8% 10%;\n    --accent: 262.1 83.3% 57.8%; /* Púrpura para el círculo central */\n    --accent-foreground: 0 0% 98%;\n    --muted: 60 4.8% 95.9%;\n    --muted-foreground: 25 5.3% 44.7%;\n    --destructive: 0 84.2% 60.2%;\n    --destructive-foreground: 60 9.1% 97.8%;\n    --border: 20 5.9% 90%;\n    --input: 20 5.9% 90%;\n    --ring: 24.6 95% 53.1%;\n    --radius: 0.5rem;\n\n    /* Nuevas variables para el sistema de diseño evolucionado - tema naranja */\n    --ui-icon-primary: 24.6 95% 53.1%; /* Naranja para iconos principales */\n    --ui-icon-secondary: 32 95% 44%; /* Naranja amarillento para iconos secundarios */\n    --ui-icon-accent: 262.1 83.3% 57.8%; /* Morado para iconos de acento */\n    --ui-text-primary: 20 14.3% 4.1%; /* Color principal para texto */\n    --ui-text-secondary: 25 5.3% 44.7%; /* Color secundario para texto */\n    --ui-surface-primary: 0 0% 100%; /* Superficie principal */\n    --ui-surface-secondary: 60 4.8% 95.9%; /* Superficie secundaria */\n\n    /* Color de encabezados para tema naranja */\n    --heading-color: 24.6 95% 35%; /* Naranja oscuro para encabezados */\n\n    /* Valores RGB para sombras */\n    --primary-rgb: 249, 115, 22;\n  }\n\n  .dark .theme-green {\n    --background: 20 14.3% 4.1%;\n    --foreground: 0 0% 95%;\n    --card: 24 9.8% 10%;\n    --card-foreground: 0 0% 95%;\n    --popover: 0 0% 9%;\n    --popover-foreground: 0 0% 95%;\n    --primary: 142.1 70.6% 45.3%;\n    --primary-foreground: 144.9 80.4% 10%;\n    --secondary: 240 3.7% 15.9%;\n    --secondary-foreground: 0 0% 98%;\n    --accent: 262.1 83.3% 57.8%; /* Púrpura para el círculo central */\n    --accent-foreground: 0 0% 98%;\n    --muted: 0 0% 15%;\n    --muted-foreground: 240 5% 64.9%;\n    --destructive: 0 62.8% 30.6%;\n    --destructive-foreground: 0 85.7% 97.3%;\n    --border: 240 3.7% 15.9%;\n    --input: 240 3.7% 15.9%;\n    --ring: 142.4 71.8% 29.2%;\n\n    /* Nuevas variables para el sistema de diseño evolucionado - tema verde oscuro */\n    --ui-icon-primary: 142.1 70.6% 45.3%; /* Verde para iconos principales */\n    --ui-icon-secondary: 168 70% 42%; /* Verde azulado para iconos secundarios */\n    --ui-icon-accent: 262.1 83.3% 57.8%; /* Morado para iconos de acento */\n    --ui-text-primary: 0 0% 95%; /* Color principal para texto */\n    --ui-text-secondary: 240 5% 64.9%; /* Color secundario para texto */\n    --ui-surface-primary: 24 9.8% 10%; /* Superficie principal */\n    --ui-surface-secondary: 240 3.7% 15.9%; /* Superficie secundaria */\n\n    /* Color de encabezados para tema verde oscuro */\n    --heading-color: 142.1 70.6% 55%; /* Verde más brillante para encabezados en modo oscuro */\n\n    /* Valores RGB para sombras */\n    --primary-rgb: 74, 222, 128;\n  }\n\n  .dark .theme-orange {\n    --background: 20 14.3% 4.1%;\n    --foreground: 60 9.1% 97.8%;\n    --card: 20 14.3% 4.1%;\n    --card-foreground: 60 9.1% 97.8%;\n    --popover: 20 14.3% 4.1%;\n    --popover-foreground: 60 9.1% 97.8%;\n    --primary: 20.5 90.2% 48.2%;\n    --primary-foreground: 60 9.1% 97.8%;\n    --secondary: 12 6.5% 15.1%;\n    --secondary-foreground: 60 9.1% 97.8%;\n    --accent: 262.1 83.3% 57.8%; /* Púrpura para el círculo central */\n    --accent-foreground: 0 0% 98%;\n    --muted: 12 6.5% 15.1%;\n    --muted-foreground: 24 5.4% 63.9%;\n    --destructive: 0 72.2% 50.6%;\n    --destructive-foreground: 60 9.1% 97.8%;\n    --border: 12 6.5% 15.1%;\n    --input: 12 6.5% 15.1%;\n    --ring: 20.5 90.2% 48.2%;\n\n    /* Nuevas variables para el sistema de diseño evolucionado - tema naranja oscuro */\n    --ui-icon-primary: 20.5 90.2% 48.2%; /* Naranja para iconos principales */\n    --ui-icon-secondary: 32 90% 44%; /* Naranja amarillento para iconos secundarios */\n    --ui-icon-accent: 262.1 83.3% 57.8%; /* Morado para iconos de acento */\n    --ui-text-primary: 60 9.1% 97.8%; /* Color principal para texto */\n    --ui-text-secondary: 24 5.4% 63.9%; /* Color secundario para texto */\n    --ui-surface-primary: 20 14.3% 4.1%; /* Superficie principal */\n    --ui-surface-secondary: 12 6.5% 15.1%; /* Superficie secundaria */\n\n    /* Color de encabezados para tema naranja oscuro */\n    --heading-color: 20.5 90.2% 60%; /* Naranja más brillante para encabezados en modo oscuro */\n\n    /* Valores RGB para sombras */\n    --primary-rgb: 251, 146, 60;\n  }\n}\n"])</script><script>self.__next_f.push([1,"47:T7f7,// app/layout.tsx\nimport type React from \"react\"\nimport { Suspense } from \"react\"\nimport \"./globals.css\"\nimport type { Metadata } from \"next\"\nimport { Providers } from \"./providers\" // Tu archivo de providers (theme, etc.)\nimport { getAllFontVariables } from \"@/lib/fonts\"\nimport { AuthLayoutWrapper } from \"./auth-layout-wrapper\"\nimport { SustratoLoadingLogo } from \"@/components/ui/sustrato-loading-logo\"\nimport { Toaster } from \"@/components/ui/toaster\" // Asegúrate de que tu Toaster esté aquí\nimport { LoadingProvider } from \"@/contexts/LoadingContext\" // \u003c--- IMPORTA EL NUEVO PROVIDER\n\nexport const metadata: Metadata = {\n  title: \"Sustrato.ai\", // Ejemplo\n  description: \"Investigación Cualitativa Aumentada\", // Ejemplo\n  // ... otros metadatos ...\n}\n\nconst GlobalLoadingIndicator = () =\u003e (\n  \u003cdiv className=\"fixed inset-0 z-50 flex h-screen w-screen items-center justify-center bg-background/80 backdrop-blur-sm\"\u003e\n    \u003cSustratoLoadingLogo\n      size={96}\n      variant=\"spin-pulse\"\n      speed=\"fast\"\n      breathingEffect\n      colorTransition\n      text=\"Cargando página...\" // Texto para el fallback de Suspense\n    /\u003e\n  \u003c/div\u003e\n)\n\nexport default function RootLayout({\n  children,\n}: {\n  children: React.ReactNode\n}) {\n  const fontVariables = getAllFontVariables()\n\n  return (\n    \u003chtml lang=\"es\" suppressHydrationWarning className={fontVariables}\u003e\n      \u003cbody className=\"h-full bg-background text-foreground antialiased\"\u003e\n        {\" \"}\n        {/* Estilos base */}\n        \u003cProviders\u003e\n          {\" \"}\n          {/* Tu provider de tema y otros globales */}\n          \u003cLoadingProvider\u003e\n            {\" \"}\n            {/* \u003c--- ENVUELVE CON LOADINGPROVIDER */}\n            \u003cAuthLayoutWrapper\u003e\n              \u003cSuspense fallback={\u003cGlobalLoadingIndicator /\u003e}\u003e{children}\u003c/Suspense\u003e\n            \u003c/AuthLayoutWrapper\u003e\n            \u003cToaster /\u003e {/* El Toaster para los mensajes de shadcn/ui o sonner */}\n          \u003c/LoadingProvider\u003e{\" \"}\n          {/* \u003c--- CIERRA LOADINGPROVIDER */}\n        \u003c/Providers\u003e\n      \u003c/body\u003e\n    \u003c/html\u003e\n  )\n}\n4"])</script><script>self.__next_f.push([1,"8:T2160,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport type React from \"react\"\n\nimport { useState, useEffect } from \"react\"\nimport { useRouter, useSearchParams } from \"next/navigation\"\nimport Link from \"next/link\"\nimport { useAuth } from \"@/app/auth-provider\"\nimport { CustomButton } from \"@/components/ui/custom-button\"\nimport { Input } from \"@/components/ui/input\"\nimport { FormField } from \"@/components/ui/form-field\"\nimport { Text } from \"@/components/ui/text\"\nimport { ProCard } from \"@/components/ui/pro-card\"\nimport { Mail, Lock, LogIn } from \"lucide-react\"\nimport { toast } from \"sonner\"\nimport { SustratoLogoWithFixedText } from \"@/components/ui/sustrato-logo-with-fixed-text\"\nimport { SustratoPageBackground } from \"@/components/ui/sustrato-page-background\"\n\nexport default function LoginPage() {\n  const router = useRouter()\n  const searchParams = useSearchParams()\n  const [email, setEmail] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [loading, setLoading] = useState(false)\n  const { signIn, user, authInitialized } = useAuth()\n\n  // Si el usuario ya está autenticado, redirigir a la página principal o a la página guardada en redirectTo\n  useEffect(() =\u003e {\n    if (authInitialized \u0026\u0026 user \u0026\u0026 searchParams) {\n      const redirectTo = searchParams.get(\"redirectTo\") || \"/\"\n      console.log(`🔄 Usuario ya autenticado, redirigiendo a ${redirectTo}`)\n      router.push(redirectTo)\n    }\n  }, [user, authInitialized, router, searchParams])\n\n  const handleSubmit = async (e: React.FormEvent) =\u003e {\n    e.preventDefault()\n    console.log(\"Iniciando proceso de login\")\n\n    if (!email || !password) {\n      toast.error(\"Por favor, completa todos los campos\")\n      return\n    }\n\n    setLoading(true)\n\n    try {\n      const { success, error } = await signIn(email, password)\n\n      if (!success) {\n        toast.error(error?.message || \"Error al iniciar sesión\")\n        setLoading(false)\n        return\n      }\n\n      toast.success(\"Inicio de sesión exitoso\")\n\n      // Redirigir a la página original o al home\n      const redirectTo = searchParams ? searchParams.get(\"redirectTo\") || \"/\" : \"/\"\n      console.log(`🔄 Login exitoso, redirigiendo a ${redirectTo}`)\n\n      // No desactivamos loading para evitar parpadeos durante la redirección\n      router.push(redirectTo)\n    } catch (error) {\n      console.error(\"Error durante el inicio de sesión:\", error)\n      toast.error(\"Ocurrió un error inesperado\")\n      setLoading(false)\n    }\n  }\n\n  // Si ya está autenticado, mostrar un mensaje de redirección\n  if (authInitialized \u0026\u0026 user) {\n    return (\n      \u003cSustratoPageBackground variant=\"ambient\" bubbles={false}\u003e\n        \u003cdiv className=\"flex items-center justify-center min-h-screen p-4\"\u003e\n          \u003cdiv className=\"text-center\"\u003e\n            \u003cSustratoLogoWithFixedText size={60} variant=\"vertical\" speed=\"fast\" initialTheme=\"blue\" /\u003e\n            \u003cText variant=\"heading\" color=\"primary\" className=\"mt-4\"\u003e\n              Ya has iniciado sesión\n            \u003c/Text\u003e\n            \u003cText variant=\"default\" color=\"neutral\" className=\"mt-2\"\u003e\n              Redirigiendo a tu página...\n            \u003c/Text\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \u003c/SustratoPageBackground\u003e\n    )\n  }\n\n  return (\n    \u003cSustratoPageBackground variant=\"ambient\" bubbles={true}\u003e\n      \u003cdiv className=\"flex items-center justify-center min-h-screen p-4\"\u003e\n        \u003cProCard className=\"max-w-4xl w-full\" border=\"top\" variant=\"primary\"\u003e\n          \u003cProCard.Content className=\"p-0\"\u003e\n            \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2\"\u003e\n              {/* Columna izquierda con imagen/información */}\n              \u003cdiv className=\"bg-gradient-to-br from-primary/5 to-secondary/5 p-8 hidden md:flex md:flex-col md:justify-center rounded-l-lg\"\u003e\n                \u003cdiv className=\"flex justify-center mb-6\"\u003e\n                  \u003cSustratoLogoWithFixedText size={80} variant=\"vertical\" speed=\"fast\" initialTheme=\"blue\" /\u003e\n                \u003c/div\u003e\n\n                \u003cdiv className=\"space-y-4 mt-8\"\u003e\n                  \u003cdiv className=\"bg-white/30 dark:bg-gray-800/30 p-4 rounded-lg\"\u003e\n                    \u003cText variant=\"heading\" color=\"tertiary\" className=\"mb-2\"\u003e\n                      Investigación Cualitativa Aumentada\n                    \u003c/Text\u003e\n                    \u003cText variant=\"default\" color=\"neutral\" size=\"sm\"\u003e\n                      Potencia tu análisis cualitativo con nuestra plataforma que combina el rigor académico con la\n                      innovación tecnológica. Diseñada por humanistas, para humanistas.\n                    \u003c/Text\u003e\n                  \u003c/div\u003e\n\n                  \u003cdiv className=\"bg-white/30 dark:bg-gray-800/30 p-4 rounded-lg\"\u003e\n                    \u003cText variant=\"default\" color=\"neutral\" size=\"sm\" className=\"italic\"\u003e\n                      \"No buscamos reemplazar el pensamiento crítico, sino expandir su alcance a través de la\n                      co-creación entre la perspectiva humana y las capacidades de la IA.\"\n                    \u003c/Text\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n              \u003c/div\u003e\n\n              {/* Columna derecha con formulario */}\n              \u003cdiv className=\"p-8\"\u003e\n                \u003cdiv className=\"mb-6 md:hidden flex flex-col items-center\"\u003e\n                  \u003cSustratoLogoWithFixedText size={50} variant=\"vertical\" speed=\"normal\" initialTheme=\"orange\" /\u003e\n                \u003c/div\u003e\n\n                \u003cText variant=\"heading\" size=\"xl\" color=\"primary\" className=\"mb-2\"\u003e\n                  Inicio de sesión\n                \u003c/Text\u003e\n                \u003cText variant=\"default\" color=\"neutral\" colorVariant=\"text\" className=\"mb-6\"\u003e\n                  Ingresa tus credenciales para acceder a la plataforma\n                \u003c/Text\u003e\n\n                \u003cform onSubmit={handleSubmit} className=\"space-y-4\" action=\"javascript:void(0)\"\u003e\n                  \u003cFormField label=\"Correo electrónico\" htmlFor=\"email\"\u003e\n                    \u003cInput\n                      id=\"email\"\n                      type=\"email\"\n                      leadingIcon={Mail}\n                      value={email}\n                      onChange={(e) =\u003e setEmail(e.target.value)}\n                      placeholder=\"tucorreo@ejemplo.com\"\n                      required\n                    /\u003e\n                  \u003c/FormField\u003e\n\n                  \u003cFormField label=\"Contraseña\" htmlFor=\"password\"\u003e\n                    \u003cInput\n                      id=\"password\"\n                      type=\"password\"\n                      leadingIcon={Lock}\n                      value={password}\n                      onChange={(e) =\u003e setPassword(e.target.value)}\n                      placeholder=\"Tu contraseña\"\n                      required\n                    /\u003e\n                  \u003c/FormField\u003e\n\n                  \u003cdiv className=\"flex justify-end\"\u003e\n                    \u003cLink\n                      href=\"/reset-password\"\n                      className=\"text-primary text-sm hover:underline\"\n                      onClick={() =\u003e {\n                        console.log(\"Clic en enlace de recuperación de contraseña - Navegando a /reset-password\")\n                      }}\n                    \u003e\n                      ¿Olvidaste tu contraseña?\n                    \u003c/Link\u003e\n                  \u003c/div\u003e\n\n                  \u003cdiv className=\"pt-2\"\u003e\n                    \u003cCustomButton\n                      type=\"submit\"\n                      fullWidth\n                      loading={loading}\n                      loadingText=\"Iniciando sesión...\"\n                      color=\"primary\"\n                      leftIcon={\u003cLogIn /\u003e}\n                      disabled={loading}\n                      onClick={(e) =\u003e {\n                        // Simplificado para evitar posibles problemas\n                        e.preventDefault()\n                        if (!loading) {\n                          handleSubmit(e as any)\n                        }\n                      }}\n                    \u003e\n                      Iniciar sesión\n                    \u003c/CustomButton\u003e\n                  \u003c/div\u003e\n\n                  \u003cdiv className=\"flex items-center justify-center mt-6\"\u003e\n                    \u003cText variant=\"default\" size=\"sm\" color=\"neutral\" colorVariant=\"text\"\u003e\n                      ¿No tienes una cuenta?{\" \"}\n                      \u003cLink href=\"/signup\" className=\"text-primary hover:underline font-medium\"\u003e\n                        Solicita acceso\n                      \u003c/Link\u003e\n                    \u003c/Text\u003e\n                  \u003c/div\u003e\n                \u003c/form\u003e\n              \u003c/div\u003e\n            \u003c/div\u003e\n          \u003c/ProCard.Content\u003e\n        \u003c/ProCard\u003e\n      \u003c/div\u003e\n    \u003c/SustratoPageBackground\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"49:T1429,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport type React from \"react\"\n\nimport { useState, useEffect } from \"react\"\nimport Link from \"next/link\"\nimport { CustomButton } from \"@/components/ui/custom-button\"\nimport { Input } from \"@/components/ui/input\"\nimport { FormField } from \"@/components/ui/form-field\"\nimport { Text } from \"@/components/ui/text\"\nimport { ProCard } from \"@/components/ui/pro-card\"\nimport { Mail, ArrowLeft, Send } from \"lucide-react\"\nimport { toast } from \"sonner\"\nimport { SustratoLogoWithFixedText } from \"@/components/ui/sustrato-logo-with-fixed-text\"\nimport { SustratoPageBackground } from \"@/components/ui/sustrato-page-background\"\n\nexport default function ResetPasswordPage() {\n  console.log(\"ResetPasswordPage - Componente cargado\")\n\n  const [email, setEmail] = useState(\"\")\n  const [loading, setLoading] = useState(false)\n  const [sent, setSent] = useState(false)\n\n  useEffect(() =\u003e {\n    console.log(\"ResetPasswordPage - useEffect ejecutado\")\n    // Verificar la URL actual\n    if (typeof window !== \"undefined\") {\n      console.log(\"ResetPasswordPage - URL actual:\", window.location.href)\n      console.log(\"ResetPasswordPage - Pathname:\", window.location.pathname)\n    }\n  }, [])\n\n  const handleSubmit = async (e: React.FormEvent) =\u003e {\n    e.preventDefault()\n    console.log(\"ResetPasswordPage - Formulario enviado\")\n\n    if (!email) {\n      toast.error(\"Por favor, ingresa tu correo electrónico\")\n      return\n    }\n\n    setLoading(true)\n\n    try {\n      // Aquí iría la lógica para enviar correo de recuperación de contraseña\n      // Por ahora sólo simulamos una espera y éxito\n      await new Promise((resolve) =\u003e setTimeout(resolve, 1500))\n\n      setSent(true)\n      toast.success(\"Se ha enviado un correo con instrucciones para restablecer tu contraseña\")\n    } catch (error) {\n      console.error(\"Error al enviar correo de recuperación:\", error)\n      toast.error(\"Ocurrió un error. Por favor, intenta nuevamente.\")\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    \u003cSustratoPageBackground variant=\"subtle\" bubbles={true}\u003e\n      \u003cdiv className=\"flex items-center justify-center min-h-screen p-4\"\u003e\n        \u003cProCard className=\"max-w-md w-full\" border=\"top\" variant=\"primary\"\u003e\n          \u003cProCard.Header className=\"space-y-2 text-center\"\u003e\n            \u003cdiv className=\"flex justify-center mb-2\"\u003e\n              \u003cSustratoLogoWithFixedText size={50} variant=\"vertical\" speed=\"normal\" initialTheme=\"green\" /\u003e\n            \u003c/div\u003e\n            \u003cText variant=\"heading\" size=\"xl\" color=\"primary\" className=\"text-center mt-4\"\u003e\n              Recuperar contraseña\n            \u003c/Text\u003e\n            \u003cText variant=\"default\" color=\"neutral\" colorVariant=\"muted\" className=\"text-center\"\u003e\n              {!sent\n                ? \"Ingresa tu correo electrónico y te enviaremos instrucciones para restablecer tu contraseña\"\n                : \"Hemos enviado instrucciones a tu correo electrónico. Sigue los pasos indicados en el mensaje.\"}\n            \u003c/Text\u003e\n          \u003c/ProCard.Header\u003e\n\n          \u003cProCard.Content\u003e\n            {!sent ? (\n              \u003cform onSubmit={handleSubmit} className=\"space-y-4\"\u003e\n                \u003cFormField label=\"Correo electrónico\" htmlFor=\"email\"\u003e\n                  \u003cInput\n                    id=\"email\"\n                    type=\"email\"\n                    leadingIcon={Mail}\n                    value={email}\n                    onChange={(e) =\u003e setEmail(e.target.value)}\n                    placeholder=\"tucorreo@ejemplo.com\"\n                    required\n                  /\u003e\n                \u003c/FormField\u003e\n\n                \u003cCustomButton\n                  type=\"submit\"\n                  fullWidth\n                  loading={loading}\n                  loadingText=\"Enviando instrucciones...\"\n                  color=\"primary\"\n                  leftIcon={\u003cSend size={16} /\u003e}\n                  className=\"mt-6\"\n                \u003e\n                  Enviar instrucciones\n                \u003c/CustomButton\u003e\n              \u003c/form\u003e\n            ) : (\n              \u003cdiv className=\"text-center py-4\"\u003e\n                \u003cdiv className=\"bg-primary/10 rounded-lg p-4 mb-6\"\u003e\n                  \u003cText color=\"primary\" className=\"text-sm\"\u003e\n                    Revisa tu bandeja de entrada y sigue las instrucciones enviadas a \u003cstrong\u003e{email}\u003c/strong\u003e. Si no\n                    encuentras el correo, verifica también tu carpeta de spam.\n                  \u003c/Text\u003e\n                \u003c/div\u003e\n                \u003cCustomButton\n                  onClick={() =\u003e setSent(false)}\n                  color=\"secondary\"\n                  variant=\"outline\"\n                  fullWidth\n                  className=\"mb-2\"\n                \u003e\n                  Intentar con otro correo\n                \u003c/CustomButton\u003e\n              \u003c/div\u003e\n            )}\n          \u003c/ProCard.Content\u003e\n\n          \u003cProCard.Footer className=\"text-center\"\u003e\n            \u003cLink href=\"/login\"\u003e\n              \u003cCustomButton variant=\"ghost\" color=\"default\" leftIcon={\u003cArrowLeft size={16} /\u003e} size=\"sm\"\u003e\n                Volver a inicio de sesión\n              \u003c/CustomButton\u003e\n            \u003c/Link\u003e\n          \u003c/ProCard.Footer\u003e\n        \u003c/ProCard\u003e\n      \u003c/div\u003e\n    \u003c/SustratoPageBackground\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"4a:T7b0,\"use client\"\n\nimport { PageBackground } from \"@/components/ui/page-background\"\nimport { ProCard } from \"@/components/ui/pro-card\"\nimport { BadgeCustom } from \"@/components/ui/badge-custom\" // Asumiendo esta ruta para tu BadgeCustom\nimport type { BadgeVariant } from \"@/lib/theme/components/badge-tokens\"\nimport { Text } from \"@/components/ui/text\"\nimport { useTheme } from \"@/app/theme-provider\"\n\nconst badgeVariants: BadgeVariant[] = [\n  \"default\",\n  \"secondary\",\n  \"destructive\",\n  \"outline\",\n  \"success\",\n  \"warning\",\n  \"info\",\n  \"neutral\",\n]\n\nexport default function BadgeShowroomPage() {\n  const { mode } = useTheme()\n\n  const renderBadgeSet = (isSubtle: boolean, isBordered?: boolean) =\u003e (\n    \u003cdiv className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 mb-6\"\u003e\n      {badgeVariants.map((variant) =\u003e (\n        \u003cdiv key={`${variant}-${isSubtle ? \"subtle\" : \"normal\"}-${isBordered ? \"bordered\" : \"unbordered\"}`}\u003e\n          \u003cBadgeCustom variant={variant} subtle={isSubtle} bordered={isBordered}\u003e\n            {variant}\n            {isSubtle ? \" subtle\" : \"\"}\n            {isBordered ? \" bordered\" : \"\"}\n          \u003c/BadgeCustom\u003e\n        \u003c/div\u003e\n      ))}\n    \u003c/div\u003e\n  )\n\n  return (\n    \u003cPageBackground\u003e\n      \u003cdiv className=\"container mx-auto py-10 px-4\"\u003e\n        \u003cText variant=\"heading\" as=\"h1\" className=\"mb-8 text-center\"\u003e\n          Badge Showroom\n        \u003c/Text\u003e\n\n        \u003cProCard title={`Badges Normales (Modo: ${mode})`} className=\"mb-8\"\u003e\n          {renderBadgeSet(false)}\n        \u003c/ProCard\u003e\n\n        \u003cProCard title={`Badges Normales con Borde (Modo: ${mode})`} className=\"mb-8\"\u003e\n          {renderBadgeSet(false, true)}\n        \u003c/ProCard\u003e\n\n        \u003cProCard title={`Badges Sutiles (Modo: ${mode})`} className=\"mb-8\"\u003e\n          {renderBadgeSet(true)}\n        \u003c/ProCard\u003e\n\n        \u003cProCard title={`Badges Sutiles con Borde (Modo: ${mode})`} className=\"mb-8\"\u003e\n          {renderBadgeSet(true, true)}\n        \u003c/ProCard\u003e\n      \u003c/div\u003e\n    \u003c/PageBackground\u003e\n  )\n}\n4b:T4c56,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState } from \"react\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { CustomButton } from \"@/components/ui/custom-button\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\n// Añadir un nuevo import para los iconos\nimport { Check, ChevronRight, Download, Mail, Plus, Trash, X } from \"lucide-react\"\n\nexport default function ShowroomButtonPage() {\n  const [loading, setLoading] = useState(false)\n  // Añadir un nuevo estado para el resultado de la acción\n  const [actionResult, setActionResult] = useState\u003c\"success\" | \"error\" | null\u003e(null)\n\n  const handleLoadingDemo = () =\u003e {\n    setLoading(true)\n    setTimeout(() =\u003e setLoading(false), 2000)\n  }\n\n  // Añadir una nueva función para simular una acción con resultado\n  const handleActionWithResult = (result: \"success\" | \"error\") =\u003e {\n    setLoading(true)\n    setActionResult(null)\n\n    setTimeout(() =\u003e {\n      setLoading(false)\n      setActionResult(result)\n\n      // Resetear después de mostrar el resultado\n      setTimeout(() =\u003e {\n        setActionResult(null)\n      }, 2000)\n    }, 2000)\n  }\n\n  return (\n    \u003cdiv className=\"container py-10\"\u003e\n      \u003ch1 className=\"text-3xl font-bold mb-6\"\u003eShowroom de Botones\u003c/h1\u003e\n      \u003cp className=\"text-muted-foreground mb-8\"\u003e\n        Esta página muestra todas las variantes y funcionalidades del componente CustomButton.\n      \u003c/p\u003e\n\n      \u003cTabs defaultValue=\"variants\"\u003e\n        \u003cTabsList className=\"mb-8\"\u003e\n          \u003cTabsTrigger value=\"variants\"\u003eVariantes\u003c/TabsTrigger\u003e\n          \u003cTabsTrigger value=\"sizes\"\u003eTamaños\u003c/TabsTrigger\u003e\n          \u003cTabsTrigger value=\"colors\"\u003eColores\u003c/TabsTrigger\u003e\n          \u003cTabsTrigger value=\"features\"\u003eCaracterísticas\u003c/TabsTrigger\u003e\n        \u003c/TabsList\u003e\n\n        \u003cTabsContent value=\"variants\"\u003e\n          \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-8\"\u003e\n            \u003cCard\u003e\n              \u003cCardHeader\u003e\n                \u003cCardTitle\u003eVariantes básicas\u003c/CardTitle\u003e\n                \u003cCardDescription\u003eDiferentes estilos visuales para el botón\u003c/CardDescription\u003e\n              \u003c/CardHeader\u003e\n              \u003cCardContent className=\"flex flex-col gap-4\"\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eSolid (Default)\u003c/h3\u003e\n                  \u003cCustomButton\u003eBotón Solid\u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eOutline\u003c/h3\u003e\n                  \u003cCustomButton variant=\"outline\"\u003eBotón Outline\u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eGhost\u003c/h3\u003e\n                  \u003cCustomButton variant=\"ghost\"\u003eBotón Ghost\u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eLink\u003c/h3\u003e\n                  \u003cCustomButton variant=\"link\"\u003eBotón Link\u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eSubtle\u003c/h3\u003e\n                  \u003cCustomButton variant=\"subtle\"\u003eBotón Subtle\u003c/CustomButton\u003e\n                \u003c/div\u003e\n              \u003c/CardContent\u003e\n            \u003c/Card\u003e\n\n            \u003cCard\u003e\n              \u003cCardHeader\u003e\n                \u003cCardTitle\u003eEstados\u003c/CardTitle\u003e\n                \u003cCardDescription\u003eDiferentes estados del botón\u003c/CardDescription\u003e\n              \u003c/CardHeader\u003e\n              \u003cCardContent className=\"flex flex-col gap-4\"\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eNormal\u003c/h3\u003e\n                  \u003cCustomButton\u003eBotón Normal\u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eDisabled\u003c/h3\u003e\n                  \u003cCustomButton disabled\u003eBotón Deshabilitado\u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eLoading\u003c/h3\u003e\n                  \u003cCustomButton loading={loading} onClick={handleLoadingDemo}\u003e\n                    {loading ? \"Cargando...\" : \"Click para cargar\"}\n                  \u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eLoading con texto personalizado\u003c/h3\u003e\n                  \u003cCustomButton loading={loading} loadingText=\"Procesando...\" onClick={handleLoadingDemo}\u003e\n                    Click para procesar\n                  \u003c/CustomButton\u003e\n                \u003c/div\u003e\n              \u003c/CardContent\u003e\n            \u003c/Card\u003e\n          \u003c/div\u003e\n        \u003c/TabsContent\u003e\n\n        \u003cTabsContent value=\"sizes\"\u003e\n          \u003cCard\u003e\n            \u003cCardHeader\u003e\n              \u003cCardTitle\u003eTamaños\u003c/CardTitle\u003e\n              \u003cCardDescription\u003eDiferentes tamaños disponibles para el botón\u003c/CardDescription\u003e\n            \u003c/CardHeader\u003e\n            \u003cCardContent className=\"flex flex-wrap items-end gap-4\"\u003e\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-sm font-medium mb-2\"\u003eXS\u003c/h3\u003e\n                \u003cCustomButton size=\"xs\"\u003eBotón XS\u003c/CustomButton\u003e\n              \u003c/div\u003e\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-sm font-medium mb-2\"\u003eSM\u003c/h3\u003e\n                \u003cCustomButton size=\"sm\"\u003eBotón SM\u003c/CustomButton\u003e\n              \u003c/div\u003e\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-sm font-medium mb-2\"\u003eMD (Default)\u003c/h3\u003e\n                \u003cCustomButton size=\"md\"\u003eBotón MD\u003c/CustomButton\u003e\n              \u003c/div\u003e\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-sm font-medium mb-2\"\u003eLG\u003c/h3\u003e\n                \u003cCustomButton size=\"lg\"\u003eBotón LG\u003c/CustomButton\u003e\n              \u003c/div\u003e\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-sm font-medium mb-2\"\u003eXL\u003c/h3\u003e\n                \u003cCustomButton size=\"xl\"\u003eBotón XL\u003c/CustomButton\u003e\n              \u003c/div\u003e\n            \u003c/CardContent\u003e\n          \u003c/Card\u003e\n\n          \u003cCard className=\"mt-8\"\u003e\n            \u003cCardHeader\u003e\n              \u003cCardTitle\u003eBotones con iconos\u003c/CardTitle\u003e\n              \u003cCardDescription\u003eDiferentes tamaños con iconos\u003c/CardDescription\u003e\n            \u003c/CardHeader\u003e\n            \u003cCardContent className=\"flex flex-wrap items-end gap-4\"\u003e\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-sm font-medium mb-2\"\u003eCon icono izquierdo\u003c/h3\u003e\n                \u003cCustomButton leftIcon={\u003cMail /\u003e}\u003eEnviar email\u003c/CustomButton\u003e\n              \u003c/div\u003e\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-sm font-medium mb-2\"\u003eCon icono derecho\u003c/h3\u003e\n                \u003cCustomButton rightIcon={\u003cChevronRight /\u003e}\u003eContinuar\u003c/CustomButton\u003e\n              \u003c/div\u003e\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-sm font-medium mb-2\"\u003eSolo icono (XS)\u003c/h3\u003e\n                \u003cCustomButton size=\"xs\" iconOnly\u003e\n                  \u003cPlus /\u003e\n                \u003c/CustomButton\u003e\n              \u003c/div\u003e\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-sm font-medium mb-2\"\u003eSolo icono (SM)\u003c/h3\u003e\n                \u003cCustomButton size=\"sm\" iconOnly\u003e\n                  \u003cPlus /\u003e\n                \u003c/CustomButton\u003e\n              \u003c/div\u003e\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-sm font-medium mb-2\"\u003eSolo icono (MD)\u003c/h3\u003e\n                \u003cCustomButton size=\"md\" iconOnly\u003e\n                  \u003cPlus /\u003e\n                \u003c/CustomButton\u003e\n              \u003c/div\u003e\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-sm font-medium mb-2\"\u003eSolo icono (LG)\u003c/h3\u003e\n                \u003cCustomButton size=\"lg\" iconOnly\u003e\n                  \u003cPlus /\u003e\n                \u003c/CustomButton\u003e\n              \u003c/div\u003e\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-sm font-medium mb-2\"\u003eSolo icono (XL)\u003c/h3\u003e\n                \u003cCustomButton size=\"xl\" iconOnly\u003e\n                  \u003cPlus /\u003e\n                \u003c/CustomButton\u003e\n              \u003c/div\u003e\n            \u003c/CardContent\u003e\n          \u003c/Card\u003e\n        \u003c/TabsContent\u003e\n\n        \u003cTabsContent value=\"colors\"\u003e\n          \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-8\"\u003e\n            \u003cCard\u003e\n              \u003cCardHeader\u003e\n                \u003cCardTitle\u003eColores (Solid)\u003c/CardTitle\u003e\n                \u003cCardDescription\u003eDiferentes colores para la variante solid\u003c/CardDescription\u003e\n              \u003c/CardHeader\u003e\n              \u003cCardContent className=\"flex flex-col gap-4\"\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eDefault\u003c/h3\u003e\n                  \u003cCustomButton color=\"default\"\u003eBotón Default\u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003ePrimary\u003c/h3\u003e\n                  \u003cCustomButton color=\"primary\"\u003eBotón Primary\u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eSecondary\u003c/h3\u003e\n                  \u003cCustomButton color=\"secondary\"\u003eBotón Secondary\u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eTertiary\u003c/h3\u003e\n                  \u003cCustomButton color=\"tertiary\"\u003eBotón Tertiary\u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eAccent\u003c/h3\u003e\n                  \u003cCustomButton color=\"accent\"\u003eBotón Accent\u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eSuccess\u003c/h3\u003e\n                  \u003cCustomButton color=\"success\" leftIcon={\u003cCheck /\u003e}\u003e\n                    Botón Success\n                  \u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eWarning\u003c/h3\u003e\n                  \u003cCustomButton color=\"warning\"\u003eBotón Warning\u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eDanger\u003c/h3\u003e\n                  \u003cCustomButton color=\"danger\" leftIcon={\u003cTrash /\u003e}\u003e\n                    Botón Danger\n                  \u003c/CustomButton\u003e\n                \u003c/div\u003e\n              \u003c/CardContent\u003e\n            \u003c/Card\u003e\n\n            \u003cCard\u003e\n              \u003cCardHeader\u003e\n                \u003cCardTitle\u003eColores (Outline)\u003c/CardTitle\u003e\n                \u003cCardDescription\u003eDiferentes colores para la variante outline\u003c/CardDescription\u003e\n              \u003c/CardHeader\u003e\n              \u003cCardContent className=\"flex flex-col gap-4\"\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eDefault\u003c/h3\u003e\n                  \u003cCustomButton variant=\"outline\" color=\"default\"\u003e\n                    Botón Default\n                  \u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003ePrimary\u003c/h3\u003e\n                  \u003cCustomButton variant=\"outline\" color=\"primary\"\u003e\n                    Botón Primary\n                  \u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eSecondary\u003c/h3\u003e\n                  \u003cCustomButton variant=\"outline\" color=\"secondary\"\u003e\n                    Botón Secondary\n                  \u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eTertiary\u003c/h3\u003e\n                  \u003cCustomButton variant=\"outline\" color=\"tertiary\"\u003e\n                    Botón Tertiary\n                  \u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eAccent\u003c/h3\u003e\n                  \u003cCustomButton variant=\"outline\" color=\"accent\"\u003e\n                    Botón Accent\n                  \u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eSuccess\u003c/h3\u003e\n                  \u003cCustomButton variant=\"outline\" color=\"success\" leftIcon={\u003cCheck /\u003e}\u003e\n                    Botón Success\n                  \u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eWarning\u003c/h3\u003e\n                  \u003cCustomButton variant=\"outline\" color=\"warning\"\u003e\n                    Botón Warning\n                  \u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eDanger\u003c/h3\u003e\n                  \u003cCustomButton variant=\"outline\" color=\"danger\" leftIcon={\u003cTrash /\u003e}\u003e\n                    Botón Danger\n                  \u003c/CustomButton\u003e\n                \u003c/div\u003e\n              \u003c/CardContent\u003e\n            \u003c/Card\u003e\n          \u003c/div\u003e\n        \u003c/TabsContent\u003e\n\n        \u003cTabsContent value=\"features\"\u003e\n          \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-8\"\u003e\n            \u003cCard\u003e\n              \u003cCardHeader\u003e\n                \u003cCardTitle\u003eCaracterísticas adicionales\u003c/CardTitle\u003e\n                \u003cCardDescription\u003eFuncionalidades adicionales del botón\u003c/CardDescription\u003e\n              \u003c/CardHeader\u003e\n              \u003cCardContent className=\"flex flex-col gap-4\"\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eFull Width\u003c/h3\u003e\n                  \u003cCustomButton fullWidth\u003eBotón de ancho completo\u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eGradient\u003c/h3\u003e\n                  \u003cCustomButton gradient\u003eBotón con gradiente\u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eElevated\u003c/h3\u003e\n                  \u003cCustomButton elevated\u003eBotón con elevación\u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eGradient + Elevated\u003c/h3\u003e\n                  \u003cCustomButton gradient elevated\u003e\n                    Botón con gradiente y elevación\n                  \u003c/CustomButton\u003e\n                \u003c/div\u003e\n              \u003c/CardContent\u003e\n            \u003c/Card\u003e\n\n            \u003cCard\u003e\n              \u003cCardHeader\u003e\n                \u003cCardTitle\u003eBordes redondeados\u003c/CardTitle\u003e\n                \u003cCardDescription\u003eDiferentes niveles de redondeo para los bordes\u003c/CardDescription\u003e\n              \u003c/CardHeader\u003e\n              \u003cCardContent className=\"flex flex-col gap-4\"\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eNone\u003c/h3\u003e\n                  \u003cCustomButton rounded=\"none\"\u003eBotón sin redondeo\u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eSmall\u003c/h3\u003e\n                  \u003cCustomButton rounded=\"sm\"\u003eBotón con redondeo pequeño\u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eMedium (Default)\u003c/h3\u003e\n                  \u003cCustomButton rounded=\"md\"\u003eBotón con redondeo medio\u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eLarge\u003c/h3\u003e\n                  \u003cCustomButton rounded=\"lg\"\u003eBotón con redondeo grande\u003c/CustomButton\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-sm font-medium mb-2\"\u003eFull\u003c/h3\u003e\n                  \u003cCustomButton rounded=\"full\"\u003eBotón completamente redondeado\u003c/CustomButton\u003e\n                \u003c/div\u003e\n              \u003c/CardContent\u003e\n            \u003c/Card\u003e\n\n            \u003cCard className=\"md:col-span-2 mt-8\"\u003e\n              \u003cCardHeader\u003e\n                \u003cCardTitle\u003eBotones con estados de acción\u003c/CardTitle\u003e\n                \u003cCardDescription\u003eEjemplos de botones que muestran el resultado de una acción\u003c/CardDescription\u003e\n              \u003c/CardHeader\u003e\n              \u003cCardContent\u003e\n                \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n                  \u003cdiv className=\"space-y-4\"\u003e\n                    \u003ch3 className=\"text-lg font-medium\"\u003eAcción con resultado\u003c/h3\u003e\n                    \u003cdiv className=\"flex flex-col gap-2\"\u003e\n                      {actionResult === \"success\" ? (\n                        \u003cCustomButton color=\"success\" leftIcon={\u003cCheck /\u003e}\u003e\n                          ¡Acción completada!\n                        \u003c/CustomButton\u003e\n                      ) : actionResult === \"error\" ? (\n                        \u003cCustomButton color=\"danger\" leftIcon={\u003cX /\u003e}\u003e\n                          Error al procesar\n                        \u003c/CustomButton\u003e\n                      ) : (\n                        \u003cCustomButton\n                          loading={loading}\n                          onClick={() =\u003e handleActionWithResult(\"success\")}\n                          color=\"primary\"\n                        \u003e\n                          {loading ? \"Procesando...\" : \"Acción exitosa\"}\n                        \u003c/CustomButton\u003e\n                      )}\n\n                      \u003cdiv className=\"mt-2\"\u003e\n                        \u003cCustomButton\n                          variant=\"outline\"\n                          color=\"danger\"\n                          onClick={() =\u003e handleActionWithResult(\"error\")}\n                          disabled={loading || actionResult !== null}\n                        \u003e\n                          Simular error\n                        \u003c/CustomButton\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n\n                  \u003cdiv className=\"space-y-4\"\u003e\n                    \u003ch3 className=\"text-lg font-medium\"\u003eBotón con confirmación\u003c/h3\u003e\n                    \u003cdiv className=\"flex flex-wrap gap-2\"\u003e\n                      {actionResult === \"success\" ? (\n                        \u003cCustomButton color=\"success\" variant=\"subtle\" leftIcon={\u003cCheck /\u003e}\u003e\n                          Archivo guardado\n                        \u003c/CustomButton\u003e\n                      ) : (\n                        \u003cCustomButton\n                          loading={loading}\n                          loadingText=\"Guardando...\"\n                          onClick={() =\u003e handleActionWithResult(\"success\")}\n                          leftIcon={\u003cDownload /\u003e}\n                          color=\"secondary\"\n                        \u003e\n                          Guardar archivo\n                        \u003c/CustomButton\u003e\n                      )}\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n              \u003c/CardContent\u003e\n            \u003c/Card\u003e\n\n            \u003cCard className=\"md:col-span-2\"\u003e\n              \u003cCardHeader\u003e\n                \u003cCardTitle\u003eEjemplos de uso común\u003c/CardTitle\u003e\n                \u003cCardDescription\u003eEjemplos de botones en contextos comunes\u003c/CardDescription\u003e\n              \u003c/CardHeader\u003e\n              \u003cCardContent\u003e\n                \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n                  \u003cdiv className=\"space-y-4\"\u003e\n                    \u003ch3 className=\"text-lg font-medium\"\u003eFormulario de contacto\u003c/h3\u003e\n                    \u003cdiv className=\"flex flex-col gap-2\"\u003e\n                      \u003cCustomButton leftIcon={\u003cMail /\u003e} color=\"primary\"\u003e\n                        Enviar mensaje\n                      \u003c/CustomButton\u003e\n                      \u003cCustomButton variant=\"outline\" color=\"default\"\u003e\n                        Cancelar\n                      \u003c/CustomButton\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n\n                  \u003cdiv className=\"space-y-4\"\u003e\n                    \u003ch3 className=\"text-lg font-medium\"\u003eAcciones de documento\u003c/h3\u003e\n                    \u003cdiv className=\"flex flex-wrap gap-2\"\u003e\n                      \u003cCustomButton leftIcon={\u003cDownload /\u003e} size=\"sm\"\u003e\n                        Descargar\n                      \u003c/CustomButton\u003e\n                      \u003cCustomButton variant=\"outline\" size=\"sm\" leftIcon={\u003cPlus /\u003e}\u003e\n                        Nuevo\n                      \u003c/CustomButton\u003e\n                      \u003cCustomButton variant=\"ghost\" size=\"sm\" color=\"danger\" leftIcon={\u003cTrash /\u003e}\u003e\n                        Eliminar\n                      \u003c/CustomButton\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n              \u003c/CardContent\u003e\n            \u003c/Card\u003e\n          \u003c/div\u003e\n        \u003c/TabsContent\u003e\n      \u003c/Tabs\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"4c:Ta427,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState } from \"react\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { CustomButton } from \"@/components/ui/custom-button\"\nimport { PageBackground } from \"@/components/ui/page-background\"\nimport { ProCard } from \"@/components/ui/pro-card\"\nimport { Text } from \"@/components/ui/text\"\nimport { Divider } from \"@/components/ui/divider\"\nimport {\n  AlertCircle,\n  ArrowRight,\n  Check,\n  ChevronRight,\n  Download,\n  Edit,\n  FileText,\n  Mail,\n  Plus,\n  Save,\n  Send,\n  Settings,\n  Trash,\n  Upload,\n} from \"lucide-react\"\n\nexport default function ShowroomButtons() {\n  const [isLoading, setIsLoading] = useState(false)\n\n  const handleLoadingDemo = () =\u003e {\n    setIsLoading(true)\n    setTimeout(() =\u003e setIsLoading(false), 2000)\n  }\n\n  return (\n    \u003cPageBackground variant=\"gradient\" className=\"py-10\"\u003e\n      \u003cdiv className=\"container\"\u003e\n        \u003cText as=\"h1\" variant=\"heading\" size=\"3xl\" gradient=\"primary\" className=\"mb-2\" fontType=\"heading\"\u003e\n          Showroom de Botones\n        \u003c/Text\u003e\n        \u003cText variant=\"subtitle\" size=\"lg\" color=\"neutral\" className=\"mb-8\" fontType=\"body\"\u003e\n          Esta página muestra todas las variantes y funcionalidades del componente CustomButton.\n        \u003c/Text\u003e\n\n        \u003cTabs defaultValue=\"variants\"\u003e\n          \u003cTabsList className=\"mb-4\"\u003e\n            \u003cTabsTrigger value=\"variants\"\u003eVariantes\u003c/TabsTrigger\u003e\n            \u003cTabsTrigger value=\"sizes\"\u003eTamaños\u003c/TabsTrigger\u003e\n            \u003cTabsTrigger value=\"colors\"\u003eColores\u003c/TabsTrigger\u003e\n            \u003cTabsTrigger value=\"icons\"\u003eIconos\u003c/TabsTrigger\u003e\n            \u003cTabsTrigger value=\"states\"\u003eEstados\u003c/TabsTrigger\u003e\n            \u003cTabsTrigger value=\"special\"\u003eCaracterísticas Especiales\u003c/TabsTrigger\u003e\n            \u003cTabsTrigger value=\"examples\"\u003eEjemplos de Uso\u003c/TabsTrigger\u003e\n          \u003c/TabsList\u003e\n\n          {/* Sección de Variantes */}\n          \u003cTabsContent value=\"variants\"\u003e\n            \u003cProCard variant=\"neutral\" border=\"top\" className=\"overflow-hidden\"\u003e\n              \u003cProCard.Header\u003e\n                \u003cProCard.Title fontType=\"heading\"\u003eVariantes de Botones\u003c/ProCard.Title\u003e\n                \u003cProCard.Subtitle fontType=\"body\"\u003e\n                  Las diferentes variantes visuales disponibles para los botones.\n                \u003c/ProCard.Subtitle\u003e\n              \u003c/ProCard.Header\u003e\n              \u003cProCard.Content\u003e\n                \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4\"\u003e\n                  \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                    \u003cCustomButton color=\"primary\" variant=\"solid\"\u003e\n                      Solid Button\n                    \u003c/CustomButton\u003e\n                    \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                      Solid\n                    \u003c/Text\u003e\n                  \u003c/div\u003e\n                  \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                    \u003cCustomButton color=\"primary\" variant=\"outline\"\u003e\n                      Outline Button\n                    \u003c/CustomButton\u003e\n                    \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                      Outline\n                    \u003c/Text\u003e\n                  \u003c/div\u003e\n                  \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                    \u003cCustomButton color=\"primary\" variant=\"ghost\"\u003e\n                      Ghost Button\n                    \u003c/CustomButton\u003e\n                    \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                      Ghost\n                    \u003c/Text\u003e\n                  \u003c/div\u003e\n                  \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                    \u003cCustomButton color=\"primary\" variant=\"link\"\u003e\n                      Link Button\n                    \u003c/CustomButton\u003e\n                    \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                      Link\n                    \u003c/Text\u003e\n                  \u003c/div\u003e\n                  \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                    \u003cCustomButton color=\"primary\" variant=\"subtle\"\u003e\n                      Subtle Button\n                    \u003c/CustomButton\u003e\n                    \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                      Subtle\n                    \u003c/Text\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n              \u003c/ProCard.Content\u003e\n            \u003c/ProCard\u003e\n          \u003c/TabsContent\u003e\n\n          {/* Sección de Tamaños */}\n          \u003cTabsContent value=\"sizes\"\u003e\n            \u003cProCard variant=\"neutral\" border=\"top\" className=\"overflow-hidden\"\u003e\n              \u003cProCard.Header\u003e\n                \u003cProCard.Title fontType=\"heading\"\u003eTamaños de Botones\u003c/ProCard.Title\u003e\n                \u003cProCard.Subtitle fontType=\"body\"\u003e\n                  Los diferentes tamaños disponibles para los botones.\n                \u003c/ProCard.Subtitle\u003e\n              \u003c/ProCard.Header\u003e\n              \u003cProCard.Content\u003e\n                \u003cdiv className=\"space-y-8\"\u003e\n                  \u003cdiv\u003e\n                    \u003cText variant=\"label\" size=\"lg\" className=\"mb-4\" fontType=\"heading\"\u003e\n                      Variante Solid\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"flex flex-wrap items-center gap-4\"\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"primary\" size=\"xs\"\u003e\n                          Extra Small\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          XS\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"primary\" size=\"sm\"\u003e\n                          Small\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          SM\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"primary\" size=\"md\"\u003e\n                          Medium\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          MD\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"primary\" size=\"lg\"\u003e\n                          Large\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          LG\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"primary\" size=\"xl\"\u003e\n                          Extra Large\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          XL\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n\n                  \u003cDivider variant=\"subtle\" className=\"my-6\" /\u003e\n\n                  \u003cdiv\u003e\n                    \u003cText variant=\"label\" size=\"lg\" className=\"mb-4\" fontType=\"heading\"\u003e\n                      Variante Outline\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"flex flex-wrap items-center gap-4\"\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"secondary\" variant=\"outline\" size=\"xs\"\u003e\n                          Extra Small\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          XS\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"secondary\" variant=\"outline\" size=\"sm\"\u003e\n                          Small\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          SM\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"secondary\" variant=\"outline\" size=\"md\"\u003e\n                          Medium\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          MD\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"secondary\" variant=\"outline\" size=\"lg\"\u003e\n                          Large\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          LG\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"secondary\" variant=\"outline\" size=\"xl\"\u003e\n                          Extra Large\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          XL\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n              \u003c/ProCard.Content\u003e\n            \u003c/ProCard\u003e\n          \u003c/TabsContent\u003e\n\n          {/* Sección de Colores */}\n          \u003cTabsContent value=\"colors\"\u003e\n            \u003cProCard variant=\"neutral\" border=\"top\" className=\"overflow-hidden\"\u003e\n              \u003cProCard.Header\u003e\n                \u003cProCard.Title fontType=\"heading\"\u003eColores de Botones\u003c/ProCard.Title\u003e\n                \u003cProCard.Subtitle fontType=\"body\"\u003eLa paleta de colores disponible para los botones.\u003c/ProCard.Subtitle\u003e\n              \u003c/ProCard.Header\u003e\n              \u003cProCard.Content\u003e\n                \u003cdiv className=\"space-y-8\"\u003e\n                  \u003cdiv\u003e\n                    \u003cText variant=\"label\" size=\"lg\" className=\"mb-4\" fontType=\"heading\"\u003e\n                      Variante Solid\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"grid grid-cols-2 md:grid-cols-4 gap-4\"\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"primary\"\u003ePrimary\u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          Primary\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"secondary\"\u003eSecondary\u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          Secondary\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"tertiary\"\u003eTertiary\u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          Tertiary\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"accent\"\u003eAccent\u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          Accent\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"success\"\u003eSuccess\u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          Success\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"warning\"\u003eWarning\u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          Warning\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"danger\"\u003eDanger\u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          Danger\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"default\"\u003eDefault\u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          Default\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n\n                  \u003cDivider variant=\"subtle\" className=\"my-6\" /\u003e\n\n                  \u003cdiv\u003e\n                    \u003cText variant=\"label\" size=\"lg\" className=\"mb-4\" fontType=\"heading\"\u003e\n                      Variante Outline\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"grid grid-cols-2 md:grid-cols-4 gap-4\"\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"primary\" variant=\"outline\"\u003e\n                          Primary\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          Primary\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"secondary\" variant=\"outline\"\u003e\n                          Secondary\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          Secondary\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"tertiary\" variant=\"outline\"\u003e\n                          Tertiary\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          Tertiary\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"accent\" variant=\"outline\"\u003e\n                          Accent\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          Accent\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"success\" variant=\"outline\"\u003e\n                          Success\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          Success\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"warning\" variant=\"outline\"\u003e\n                          Warning\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          Warning\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"danger\" variant=\"outline\"\u003e\n                          Danger\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          Danger\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"default\" variant=\"outline\"\u003e\n                          Default\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          Default\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n              \u003c/ProCard.Content\u003e\n            \u003c/ProCard\u003e\n          \u003c/TabsContent\u003e\n\n          {/* Sección de Iconos */}\n          \u003cTabsContent value=\"icons\"\u003e\n            \u003cProCard variant=\"neutral\" border=\"top\" className=\"overflow-hidden\"\u003e\n              \u003cProCard.Header\u003e\n                \u003cProCard.Title fontType=\"heading\"\u003eBotones con Iconos\u003c/ProCard.Title\u003e\n                \u003cProCard.Subtitle fontType=\"body\"\u003eDiferentes formas de usar iconos en los botones.\u003c/ProCard.Subtitle\u003e\n              \u003c/ProCard.Header\u003e\n              \u003cProCard.Content\u003e\n                \u003cdiv className=\"space-y-8\"\u003e\n                  \u003cdiv\u003e\n                    \u003cText variant=\"label\" size=\"lg\" className=\"mb-4\" fontType=\"heading\"\u003e\n                      Iconos a la Izquierda\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"flex flex-wrap gap-4\"\u003e\n                      \u003cCustomButton color=\"primary\" leftIcon={\u003cMail /\u003e}\u003e\n                        Enviar Email\n                      \u003c/CustomButton\u003e\n                      \u003cCustomButton color=\"success\" leftIcon={\u003cSave /\u003e}\u003e\n                        Guardar\n                      \u003c/CustomButton\u003e\n                      \u003cCustomButton color=\"warning\" leftIcon={\u003cAlertCircle /\u003e}\u003e\n                        Advertencia\n                      \u003c/CustomButton\u003e\n                      \u003cCustomButton color=\"danger\" leftIcon={\u003cTrash /\u003e}\u003e\n                        Eliminar\n                      \u003c/CustomButton\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n\n                  \u003cDivider variant=\"subtle\" className=\"my-6\" /\u003e\n\n                  \u003cdiv\u003e\n                    \u003cText variant=\"label\" size=\"lg\" className=\"mb-4\" fontType=\"heading\"\u003e\n                      Iconos a la Derecha\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"flex flex-wrap gap-4\"\u003e\n                      \u003cCustomButton color=\"primary\" rightIcon={\u003cArrowRight /\u003e}\u003e\n                        Continuar\n                      \u003c/CustomButton\u003e\n                      \u003cCustomButton color=\"secondary\" rightIcon={\u003cChevronRight /\u003e}\u003e\n                        Siguiente\n                      \u003c/CustomButton\u003e\n                      \u003cCustomButton color=\"tertiary\" rightIcon={\u003cSend /\u003e}\u003e\n                        Enviar\n                      \u003c/CustomButton\u003e\n                      \u003cCustomButton color=\"accent\" rightIcon={\u003cDownload /\u003e}\u003e\n                        Descargar\n                      \u003c/CustomButton\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n\n                  \u003cDivider variant=\"subtle\" className=\"my-6\" /\u003e\n\n                  \u003cdiv\u003e\n                    \u003cText variant=\"label\" size=\"lg\" className=\"mb-4\" fontType=\"heading\"\u003e\n                      Solo Iconos\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"flex flex-wrap gap-4\"\u003e\n                      \u003cCustomButton color=\"primary\" iconOnly aria-label=\"Editar\"\u003e\n                        \u003cEdit /\u003e\n                      \u003c/CustomButton\u003e\n                      \u003cCustomButton color=\"secondary\" iconOnly aria-label=\"Configuración\"\u003e\n                        \u003cSettings /\u003e\n                      \u003c/CustomButton\u003e\n                      \u003cCustomButton color=\"success\" iconOnly aria-label=\"Añadir\"\u003e\n                        \u003cPlus /\u003e\n                      \u003c/CustomButton\u003e\n                      \u003cCustomButton color=\"danger\" iconOnly aria-label=\"Eliminar\"\u003e\n                        \u003cTrash /\u003e\n                      \u003c/CustomButton\u003e\n                      \u003cCustomButton color=\"warning\" iconOnly variant=\"outline\" aria-label=\"Advertencia\"\u003e\n                        \u003cAlertCircle /\u003e\n                      \u003c/CustomButton\u003e\n                      \u003cCustomButton color=\"accent\" iconOnly variant=\"ghost\" aria-label=\"Documento\"\u003e\n                        \u003cFileText /\u003e\n                      \u003c/CustomButton\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n\n                  \u003cDivider variant=\"subtle\" className=\"my-6\" /\u003e\n\n                  \u003cdiv\u003e\n                    \u003cText variant=\"label\" size=\"lg\" className=\"mb-4\" fontType=\"heading\"\u003e\n                      Tamaños de Iconos\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"flex flex-wrap items-center gap-4\"\u003e\n                      \u003cCustomButton color=\"primary\" size=\"xs\" iconOnly aria-label=\"Añadir pequeño\"\u003e\n                        \u003cPlus /\u003e\n                      \u003c/CustomButton\u003e\n                      \u003cCustomButton color=\"primary\" size=\"sm\" iconOnly aria-label=\"Añadir pequeño\"\u003e\n                        \u003cPlus /\u003e\n                      \u003c/CustomButton\u003e\n                      \u003cCustomButton color=\"primary\" size=\"md\" iconOnly aria-label=\"Añadir mediano\"\u003e\n                        \u003cPlus /\u003e\n                      \u003c/CustomButton\u003e\n                      \u003cCustomButton color=\"primary\" size=\"lg\" iconOnly aria-label=\"Añadir grande\"\u003e\n                        \u003cPlus /\u003e\n                      \u003c/CustomButton\u003e\n                      \u003cCustomButton color=\"primary\" size=\"xl\" iconOnly aria-label=\"Añadir extra grande\"\u003e\n                        \u003cPlus /\u003e\n                      \u003c/CustomButton\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n              \u003c/ProCard.Content\u003e\n            \u003c/ProCard\u003e\n          \u003c/TabsContent\u003e\n\n          {/* Sección de Estados */}\n          \u003cTabsContent value=\"states\"\u003e\n            \u003cProCard variant=\"neutral\" border=\"top\" className=\"overflow-hidden\"\u003e\n              \u003cProCard.Header\u003e\n                \u003cProCard.Title fontType=\"heading\"\u003eEstados de Botones\u003c/ProCard.Title\u003e\n                \u003cProCard.Subtitle fontType=\"body\"\u003e\n                  Los diferentes estados que pueden tener los botones.\n                \u003c/ProCard.Subtitle\u003e\n              \u003c/ProCard.Header\u003e\n              \u003cProCard.Content\u003e\n                \u003cdiv className=\"space-y-8\"\u003e\n                  \u003cdiv\u003e\n                    \u003cText variant=\"label\" size=\"lg\" className=\"mb-4\" fontType=\"heading\"\u003e\n                      Estados Básicos\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"grid grid-cols-1 md:grid-cols-3 gap-4\"\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"primary\"\u003eEstado Normal\u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          Normal\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"primary\" disabled\u003e\n                          Estado Deshabilitado\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          Deshabilitado\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"primary\" loading\u003e\n                          Estado Cargando\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          Cargando\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n\n                  \u003cDivider variant=\"subtle\" className=\"my-6\" /\u003e\n\n                  \u003cdiv\u003e\n                    \u003cText variant=\"label\" size=\"lg\" className=\"mb-4\" fontType=\"heading\"\u003e\n                      Ejemplo Interactivo\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"flex flex-col items-center gap-4\"\u003e\n                      \u003cCustomButton\n                        color=\"primary\"\n                        loading={isLoading}\n                        onClick={handleLoadingDemo}\n                        loadingText=\"Procesando...\"\n                      \u003e\n                        {isLoading ? \"Procesando...\" : \"Haz clic para ver estado de carga\"}\n                      \u003c/CustomButton\u003e\n                      \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                        Haz clic en el botón para ver el estado de carga durante 2 segundos\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n\n                  \u003cDivider variant=\"subtle\" className=\"my-6\" /\u003e\n\n                  \u003cdiv\u003e\n                    \u003cText variant=\"label\" size=\"lg\" className=\"mb-4\" fontType=\"heading\"\u003e\n                      Estados con Iconos\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"grid grid-cols-1 md:grid-cols-3 gap-4\"\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"success\" leftIcon={\u003cCheck /\u003e}\u003e\n                          Completado\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          Éxito\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"warning\" leftIcon={\u003cAlertCircle /\u003e}\u003e\n                          Advertencia\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          Advertencia\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"danger\" leftIcon={\u003cAlertCircle /\u003e} disabled\u003e\n                          Error Deshabilitado\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          Error\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n              \u003c/ProCard.Content\u003e\n            \u003c/ProCard\u003e\n          \u003c/TabsContent\u003e\n\n          {/* Sección de Características Especiales */}\n          \u003cTabsContent value=\"special\"\u003e\n            \u003cProCard variant=\"neutral\" border=\"top\" className=\"overflow-hidden\"\u003e\n              \u003cProCard.Header\u003e\n                \u003cProCard.Title fontType=\"heading\"\u003eCaracterísticas Especiales\u003c/ProCard.Title\u003e\n                \u003cProCard.Subtitle fontType=\"body\"\u003e\n                  Funcionalidades adicionales y personalizaciones para los botones.\n                \u003c/ProCard.Subtitle\u003e\n              \u003c/ProCard.Header\u003e\n              \u003cProCard.Content\u003e\n                \u003cdiv className=\"space-y-8\"\u003e\n                  \u003cdiv\u003e\n                    \u003cText variant=\"label\" size=\"lg\" className=\"mb-4\" fontType=\"heading\"\u003e\n                      Bordes Redondeados\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"flex flex-wrap gap-4\"\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"primary\" rounded=\"none\"\u003e\n                          Sin Redondeo\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          none\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"primary\" rounded=\"sm\"\u003e\n                          Redondeo Pequeño\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          sm\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"primary\" rounded=\"md\"\u003e\n                          Redondeo Medio\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          md\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"primary\" rounded=\"lg\"\u003e\n                          Redondeo Grande\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          lg\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"primary\" rounded=\"full\"\u003e\n                          Redondeo Completo\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          full\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n\n                  \u003cDivider variant=\"subtle\" className=\"my-6\" /\u003e\n\n                  \u003cdiv\u003e\n                    \u003cText variant=\"label\" size=\"lg\" className=\"mb-4\" fontType=\"heading\"\u003e\n                      Efectos Visuales\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"flex flex-wrap gap-4\"\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"primary\" gradient\u003e\n                          Con Gradiente\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          gradient\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"primary\" elevated\u003e\n                          Con Elevación\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          elevated\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"primary\" gradient elevated\u003e\n                          Gradiente + Elevación\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          gradient + elevated\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n\n                  \u003cDivider variant=\"subtle\" className=\"my-6\" /\u003e\n\n                  \u003cdiv\u003e\n                    \u003cText variant=\"label\" size=\"lg\" className=\"mb-4\" fontType=\"heading\"\u003e\n                      Opciones de Ancho\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"space-y-4\"\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"primary\"\u003eAncho Automático\u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          auto width\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2 w-full\"\u003e\n                        \u003cCustomButton color=\"primary\" fullWidth\u003e\n                          Ancho Completo\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          fullWidth\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n\n                  \u003cDivider variant=\"subtle\" className=\"my-6\" /\u003e\n\n                  \u003cdiv\u003e\n                    \u003cText variant=\"label\" size=\"lg\" className=\"mb-4\" fontType=\"heading\"\u003e\n                      Combinaciones Avanzadas\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\"\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"primary\" gradient elevated rounded=\"full\" leftIcon={\u003cUpload /\u003e}\u003e\n                          Subir Archivo\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          Combinación 1\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"accent\" variant=\"outline\" rounded=\"lg\" rightIcon={\u003cArrowRight /\u003e}\u003e\n                          Continuar\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          Combinación 2\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv className=\"flex flex-col items-center gap-2\"\u003e\n                        \u003cCustomButton color=\"success\" variant=\"subtle\" size=\"lg\" leftIcon={\u003cCheck /\u003e}\u003e\n                          Completado\n                        \u003c/CustomButton\u003e\n                        \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                          Combinación 3\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n              \u003c/ProCard.Content\u003e\n            \u003c/ProCard\u003e\n          \u003c/TabsContent\u003e\n\n          {/* Sección de Ejemplos de Uso */}\n          \u003cTabsContent value=\"examples\"\u003e\n            \u003cProCard variant=\"neutral\" border=\"top\" className=\"overflow-hidden\"\u003e\n              \u003cProCard.Header\u003e\n                \u003cProCard.Title fontType=\"heading\"\u003eEjemplos de Uso\u003c/ProCard.Title\u003e\n                \u003cProCard.Subtitle fontType=\"body\"\u003e\n                  Ejemplos prácticos de cómo utilizar los botones en diferentes contextos.\n                \u003c/ProCard.Subtitle\u003e\n              \u003c/ProCard.Header\u003e\n              \u003cProCard.Content\u003e\n                \u003cdiv className=\"space-y-12\"\u003e\n                  {/* Ejemplo de Formulario */}\n                  \u003cdiv\u003e\n                    \u003cText variant=\"label\" size=\"xl\" className=\"mb-4\" fontType=\"heading\"\u003e\n                      Formulario\n                    \u003c/Text\u003e\n                    \u003cProCard variant=\"secondary\" border=\"left\" className=\"p-6\"\u003e\n                      \u003cdiv className=\"space-y-4\"\u003e\n                        \u003cdiv\u003e\n                          \u003cText as=\"label\" variant=\"label\" size=\"sm\" className=\"block mb-1\" fontType=\"heading\"\u003e\n                            Nombre\n                          \u003c/Text\u003e\n                          \u003cinput type=\"text\" className=\"w-full p-2 border rounded-md\" placeholder=\"Ingresa tu nombre\" /\u003e\n                        \u003c/div\u003e\n                        \u003cdiv\u003e\n                          \u003cText as=\"label\" variant=\"label\" size=\"sm\" className=\"block mb-1\" fontType=\"heading\"\u003e\n                            Email\n                          \u003c/Text\u003e\n                          \u003cinput type=\"email\" className=\"w-full p-2 border rounded-md\" placeholder=\"Ingresa tu email\" /\u003e\n                        \u003c/div\u003e\n                        \u003cdiv className=\"flex justify-end gap-3 pt-4\"\u003e\n                          \u003cCustomButton color=\"default\" variant=\"ghost\"\u003e\n                            Cancelar\n                          \u003c/CustomButton\u003e\n                          \u003cCustomButton color=\"primary\"\u003eEnviar\u003c/CustomButton\u003e\n                        \u003c/div\u003e\n                      \u003c/div\u003e\n                    \u003c/ProCard\u003e\n                  \u003c/div\u003e\n\n                  {/* Ejemplo de Acciones de Documento */}\n                  \u003cdiv\u003e\n                    \u003cText variant=\"label\" size=\"xl\" className=\"mb-4\" fontType=\"heading\"\u003e\n                      Acciones de Documento\n                    \u003c/Text\u003e\n                    \u003cProCard variant=\"primary\" border=\"left\" className=\"p-6\"\u003e\n                      \u003cdiv className=\"flex flex-wrap justify-between items-center\"\u003e\n                        \u003cdiv className=\"flex items-center gap-2\"\u003e\n                          \u003cFileText className=\"text-primary\" size={24} /\u003e\n                          \u003cText variant=\"default\" fontType=\"heading\" weight=\"medium\"\u003e\n                            documento.pdf\n                          \u003c/Text\u003e\n                        \u003c/div\u003e\n                        \u003cdiv className=\"flex flex-wrap gap-2 mt-4 sm:mt-0\"\u003e\n                          \u003cCustomButton color=\"default\" variant=\"outline\" leftIcon={\u003cDownload /\u003e}\u003e\n                            Descargar\n                          \u003c/CustomButton\u003e\n                          \u003cCustomButton color=\"primary\" leftIcon={\u003cEdit /\u003e}\u003e\n                            Editar\n                          \u003c/CustomButton\u003e\n                          \u003cCustomButton color=\"danger\" variant=\"ghost\" leftIcon={\u003cTrash /\u003e}\u003e\n                            Eliminar\n                          \u003c/CustomButton\u003e\n                        \u003c/div\u003e\n                      \u003c/div\u003e\n                    \u003c/ProCard\u003e\n                  \u003c/div\u003e\n\n                  {/* Ejemplo de Navegación por Pasos */}\n                  \u003cdiv\u003e\n                    \u003cText variant=\"label\" size=\"xl\" className=\"mb-4\" fontType=\"heading\"\u003e\n                      Navegación por Pasos\n                    \u003c/Text\u003e\n                    \u003cProCard variant=\"tertiary\" border=\"left\" className=\"p-6\"\u003e\n                      \u003cdiv className=\"space-y-6\"\u003e\n                        \u003cdiv className=\"flex justify-between\"\u003e\n                          \u003cText variant=\"default\" fontType=\"heading\" weight=\"medium\"\u003e\n                            Paso 2 de 4: Información Personal\n                          \u003c/Text\u003e\n                          \u003cText variant=\"muted\" size=\"sm\" fontType=\"body\"\u003e\n                            50% completado\n                          \u003c/Text\u003e\n                        \u003c/div\u003e\n                        \u003cdiv className=\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2\"\u003e\n                          \u003cdiv className=\"bg-blue-600 h-2 rounded-full w-1/2\"\u003e\u003c/div\u003e\n                        \u003c/div\u003e\n                        \u003cdiv className=\"flex justify-between pt-4\"\u003e\n                          \u003cCustomButton\n                            color=\"default\"\n                            variant=\"outline\"\n                            leftIcon={\u003cArrowRight className=\"rotate-180\" /\u003e}\n                          \u003e\n                            Anterior\n                          \u003c/CustomButton\u003e\n                          \u003cCustomButton color=\"primary\" rightIcon={\u003cArrowRight /\u003e}\u003e\n                            Siguiente\n                          \u003c/CustomButton\u003e\n                        \u003c/div\u003e\n                      \u003c/div\u003e\n                    \u003c/ProCard\u003e\n                  \u003c/div\u003e\n\n                  {/* Ejemplo de Barra de Herramientas */}\n                  \u003cdiv\u003e\n                    \u003cText variant=\"label\" size=\"xl\" className=\"mb-4\" fontType=\"heading\"\u003e\n                      Barra de Herramientas\n                    \u003c/Text\u003e\n                    \u003cProCard variant=\"accent\" border=\"left\" className=\"p-4\"\u003e\n                      \u003cdiv className=\"flex flex-wrap gap-2\"\u003e\n                        \u003cCustomButton color=\"default\" variant=\"ghost\" iconOnly aria-label=\"Negrita\"\u003e\n                          \u003cspan className=\"font-bold\"\u003eB\u003c/span\u003e\n                        \u003c/CustomButton\u003e\n                        \u003cCustomButton color=\"default\" variant=\"ghost\" iconOnly aria-label=\"Cursiva\"\u003e\n                          \u003cspan className=\"italic\"\u003eI\u003c/span\u003e\n                        \u003c/CustomButton\u003e\n                        \u003cCustomButton color=\"default\" variant=\"ghost\" iconOnly aria-label=\"Subrayado\"\u003e\n                          \u003cspan className=\"underline\"\u003eU\u003c/span\u003e\n                        \u003c/CustomButton\u003e\n                        \u003cDivider variant=\"subtle\" size=\"xs\" className=\"h-6\" /\u003e\n                        \u003cCustomButton color=\"default\" variant=\"ghost\" iconOnly aria-label=\"Alinear a la izquierda\"\u003e\n                          \u003cspan\u003e≡\u003c/span\u003e\n                        \u003c/CustomButton\u003e\n                        \u003cDivider variant=\"subtle\" size=\"xs\" className=\"h-6\" /\u003e\n                        \u003cCustomButton color=\"default\" variant=\"ghost\" iconOnly aria-label=\"Centrar\"\u003e\n                          \u003cspan\u003e≡\u003c/span\u003e\n                        \u003c/CustomButton\u003e\n                        \u003cDivider variant=\"subtle\" size=\"xs\" className=\"h-6\" /\u003e\n                        \u003cCustomButton color=\"default\" variant=\"ghost\" iconOnly aria-label=\"Alinear a la derecha\"\u003e\n                          \u003cspan\u003e≡\u003c/span\u003e\n                        \u003c/CustomButton\u003e\n                        \u003cDivider variant=\"subtle\" size=\"xs\" className=\"h-6\" /\u003e\n                        \u003cCustomButton color=\"primary\" size=\"sm\"\u003e\n                          Publicar\n                        \u003c/CustomButton\u003e\n                      \u003c/div\u003e\n                    \u003c/ProCard\u003e\n                  \u003c/div\u003e\n\n                  {/* Ejemplo de Página de Llamada a la Acción */}\n                  \u003cdiv\u003e\n                    \u003cText variant=\"label\" size=\"xl\" className=\"mb-4\" fontType=\"heading\"\u003e\n                      Llamada a la Acción\n                    \u003c/Text\u003e\n                    \u003cProCard variant=\"success\" border=\"left\" className=\"p-6\"\u003e\n                      \u003cdiv className=\"text-center space-y-4\"\u003e\n                        \u003cText as=\"h4\" variant=\"heading\" size=\"xl\" fontType=\"heading\"\u003e\n                          ¡Únete a nuestra comunidad!\n                        \u003c/Text\u003e\n                        \u003cText variant=\"muted\" fontType=\"body\"\u003e\n                          Obtén acceso a contenido exclusivo y conecta con otros miembros.\n                        \u003c/Text\u003e\n                        \u003cdiv className=\"pt-4 flex flex-col sm:flex-row justify-center gap-4\"\u003e\n                          \u003cCustomButton color=\"default\" variant=\"outline\"\u003e\n                            Saber más\n                          \u003c/CustomButton\u003e\n                          \u003cCustomButton color=\"primary\" size=\"lg\" elevated\u003e\n                            Registrarse Ahora\n                          \u003c/CustomButton\u003e\n                        \u003c/div\u003e\n                      \u003c/div\u003e\n                    \u003c/ProCard\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n              \u003c/ProCard.Content\u003e\n            \u003c/ProCard\u003e\n          \u003c/TabsContent\u003e\n        \u003c/Tabs\u003e\n      \u003c/div\u003e\n    \u003c/PageBackground\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"4d:T12c8,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { ProCard } from \"@/components/ui/pro-card\"\n// import type { ProCardVariant, ProCardBorderStyle } from \"@/components/ui/pro-card\"; // Antigua importación\nimport type { ProCardVariant } from \"@/lib/theme/ColorToken\" // Corregido: Importar ProCardVariant desde ColorToken\nimport type { ProCardBorderStyle } from \"@/components/ui/pro-card\" // ProCardBorderStyle probablemente sí se exporta desde pro-card o necesita ser definido globalmente\nimport { Text } from \"@/components/ui/text\"\n// import { ThemeProviderWrapper } from \"@/app/theme-provider-wrapper\"; // Eliminado temporalmente, asumir ThemeProvider en layout superior\nimport { Separator } from \"@/components/ui/separator\"\n\nconst cardVariants: ProCardVariant[] = [\n  \"primary\",\n  \"secondary\",\n  \"tertiary\",\n  \"accent\",\n  \"success\",\n  \"warning\",\n  \"danger\",\n  \"neutral\",\n  \"white\",\n]\n\nconst borderStyles: ProCardBorderStyle[] = [\"none\", \"normal\", \"top\", \"left\"]\n\nexport default function ProCardShowroomPage() {\n  return (\n    // \u003cThemeProviderWrapper\u003e\n    \u003cdiv className=\"p-4 md:p-8 space-y-8 bg-neutral-bg min-h-screen text-neutral-text\"\u003e\n      \u003cText variant=\"heading\" size=\"h1\" as=\"h1\" className=\"text-center mb-12 text-primary-text\"\u003e\n        ProCard Component Showroom\n      \u003c/Text\u003e\n\n      {cardVariants.map((mainVariant) =\u003e (\n        \u003csection key={mainVariant} className=\"space-y-6 p-6 bg-neutral-bgDark rounded-lg shadow-lg\"\u003e\n          \u003cText variant=\"heading\" size=\"h2\" as=\"h2\" className=\"capitalize text-accent-text\"\u003e\n            Variant: {mainVariant}\n          \u003c/Text\u003e\n\n          {borderStyles.map((borderStyle) =\u003e (\n            \u003cdiv key={borderStyle} className=\"space-y-4\"\u003e\n              \u003cText variant=\"label\" size=\"lg\" as=\"h3\" className=\"capitalize text-secondary-text\"\u003e\n                Border Style: {borderStyle}\n              \u003c/Text\u003e\n              \u003cSeparator className=\"bg-neutral-pureShade\" /\u003e\n\n              {borderStyle === \"none\" ? (\n                \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\"\u003e\n                  \u003cProCard variant={mainVariant} border=\"none\"\u003e\n                    \u003cProCard.Header\u003e\n                      \u003cProCard.Title\u003eCard (None)\u003c/ProCard.Title\u003e\n                      \u003cProCard.Subtitle\u003eVariant: {mainVariant}\u003c/ProCard.Subtitle\u003e\n                    \u003c/ProCard.Header\u003e\n                    \u003cProCard.Content\u003e\n                      \u003cp\u003eThis is a ProCard with no border.\u003c/p\u003e\n                    \u003c/ProCard.Content\u003e\n                  \u003c/ProCard\u003e\n                  \u003cProCard variant={mainVariant} border=\"none\" selected\u003e\n                    \u003cProCard.Header\u003e\n                      \u003cProCard.Title\u003eSelected (None)\u003c/ProCard.Title\u003e\n                      \u003cProCard.Subtitle\u003eVariant: {mainVariant}\u003c/ProCard.Subtitle\u003e\n                    \u003c/ProCard.Header\u003e\n                    \u003cProCard.Content\u003e\n                      \u003cp\u003eThis card is selected.\u003c/p\u003e\n                    \u003c/ProCard.Content\u003e\n                  \u003c/ProCard\u003e\n                \u003c/div\u003e\n              ) : (\n                cardVariants.map((borderVariantCombo) =\u003e (\n                  \u003cdiv key={`${borderStyle}-${borderVariantCombo}`} className=\"mb-6\"\u003e\n                    \u003cText variant=\"default\" size=\"md\" as=\"h4\" className=\"capitalize mb-2 text-tertiary-text\"\u003e\n                      Border Variant: {borderVariantCombo}\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\"\u003e\n                      \u003cProCard variant={mainVariant} border={borderStyle} borderVariant={borderVariantCombo}\u003e\n                        \u003cProCard.Header\u003e\n                          \u003cProCard.Title\u003eCard\u003c/ProCard.Title\u003e\n                          \u003cProCard.Subtitle\u003e\n                            Main: {mainVariant}, Border: {borderVariantCombo}\n                          \u003c/ProCard.Subtitle\u003e\n                        \u003c/ProCard.Header\u003e\n                        \u003cProCard.Content\u003e\n                          \u003cp\u003eContent for card.\u003c/p\u003e\n                        \u003c/ProCard.Content\u003e\n                      \u003c/ProCard\u003e\n                      \u003cProCard variant={mainVariant} border={borderStyle} borderVariant={borderVariantCombo} selected\u003e\n                        \u003cProCard.Header\u003e\n                          \u003cProCard.Title\u003eSelected Card\u003c/ProCard.Title\u003e\n                          \u003cProCard.Subtitle\u003e\n                            Main: {mainVariant}, Border: {borderVariantCombo}\n                          \u003c/ProCard.Subtitle\u003e\n                        \u003c/ProCard.Header\u003e\n                        \u003cProCard.Content\u003e\n                          \u003cp\u003eThis card is selected.\u003c/p\u003e\n                        \u003c/ProCard.Content\u003e\n                      \u003c/ProCard\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n                ))\n              )}\n            \u003c/div\u003e\n          ))}\n        \u003c/section\u003e\n      ))}\n    \u003c/div\u003e\n    // \u003c/ThemeProviderWrapper\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"4e:T353d,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState } from \"react\"\nimport { ProCard } from \"@/components/ui/pro-card\" // Asegúrate que la ruta sea correcta\nimport { Button } from \"@/components/ui/button\" // Asegúrate que la ruta sea correcta\nimport { Text } from \"@/components/ui/text\" // Asegúrate que la ruta sea correcta\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\" // Asegúrate que la ruta sea correcta\nimport { ImageIcon, Package, AlertTriangle } from \"lucide-react\"\nimport { AnimatePresence, motion } from \"framer-motion\" // Framer Motion\n\n// Definir las variantes como un array de solo lectura para seguridad de tipos\nconst cardVariantOptions = [\"primary\", \"secondary\", \"tertiary\", \"success\", \"warning\", \"danger\", \"neutral\"] as const\ntype CardVariantTuple = typeof cardVariantOptions\ntype CardVariantKey = CardVariantTuple[number] // Tipos para las variantes: \"primary\" | \"secondary\" | ...\n\nexport default function ShowroomCardProPage() {\n  // Renombrado para evitar conflicto con el componente\n  const [selectedCardBasic, setSelectedCardBasic] = useState\u003cstring | null\u003e(null)\n  const [selectedVariantCards, setSelectedVariantCards] = useState\u003cRecord\u003cCardVariantKey, boolean\u003e\u003e(\n    cardVariantOptions.reduce((acc, variant) =\u003e ({ ...acc, [variant]: false }), {} as Record\u003cCardVariantKey, boolean\u003e),\n  )\n  const [activeTab, setActiveTab] = useState(\"basic\")\n\n  const handleCardBasicClick = (id: string) =\u003e {\n    setSelectedCardBasic(selectedCardBasic === id ? null : id)\n  }\n\n  const handleVariantCardSelection = (variant: CardVariantKey, isSelected: boolean) =\u003e {\n    setSelectedVariantCards((prev) =\u003e ({ ...prev, [variant]: isSelected }))\n  }\n\n  // Variantes de animación para el contenedor de las tarjetas (stagger)\n  const gridContainerVariants = {\n    hidden: { opacity: 1 }, // El contenedor en sí no se desvanece, solo sus hijos\n    visible: {\n      opacity: 1,\n      transition: {\n        staggerChildren: 0.07, // Pequeño retraso entre la aparición de cada tarjeta\n      },\n    },\n  }\n\n  // Variantes para cada tarjeta individual (usadas por ProCard por defecto si animateEntrance=true)\n  // ProCard ya tiene { opacity: 0, y: 15 } y { opacity: 1, y: 0 } por defecto\n  // Si queremos sobrescribir, lo haríamos en el componente ProCard o pasando props\n  // pero aquí solo necesitamos el contenedor para el stagger.\n\n  return (\n    \u003cdiv className=\"container mx-auto py-10 px-4\"\u003e\n      \u003cdiv className=\"mb-12 text-center\"\u003e\n        \u003cText variant=\"heading\" gradient=\"primary\" className=\"mb-3 font-bold\"\u003e\n          ProCard Showroom\n        \u003c/Text\u003e\n        \u003cText variant=\"default\" size=\"lg\" color=\"neutral\" className=\"max-w-2xl mx-auto\"\u003e\n          Explora las capacidades del componente ProCard, incluyendo animaciones, estados, variantes y subcomponentes\n          personalizables.\n        \u003c/Text\u003e\n      \u003c/div\u003e\n\n      \u003cTabs defaultValue=\"basic\" className=\"w-full\" onValueChange={setActiveTab}\u003e\n        \u003cTabsList className=\"grid w-full grid-cols-2 sm:grid-cols-3 md:grid-cols-5 mb-8\"\u003e\n          \u003cTabsTrigger value=\"basic\"\u003eBásico\u003c/TabsTrigger\u003e\n          \u003cTabsTrigger value=\"variants\"\u003eVariantes\u003c/TabsTrigger\u003e\n          \u003cTabsTrigger value=\"sections\"\u003eSecciones\u003c/TabsTrigger\u003e\n          \u003cTabsTrigger value=\"states\"\u003eEstados\u003c/TabsTrigger\u003e\n          \u003cTabsTrigger value=\"examples\"\u003eEjemplos\u003c/TabsTrigger\u003e\n        \u003c/TabsList\u003e\n\n        \u003cAnimatePresence mode=\"wait\"\u003e\n          {\" \"}\n          {/* Para animar la salida/entrada de TabsContent */}\n          {/* Sección Básica */}\n          {activeTab === \"basic\" \u0026\u0026 (\n            \u003cTabsContent forceMount value=\"basic\" asChild\u003e\n              \u003cmotion.div\n                key=\"basic\"\n                initial={{ opacity: 0, x: -20 }}\n                animate={{ opacity: 1, x: 0 }}\n                exit={{ opacity: 0, x: 20 }}\n                transition={{ duration: 0.3 }}\n                className=\"space-y-8\"\n              \u003e\n                \u003cmotion.div\n                  className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\n                  variants={gridContainerVariants}\n                  initial=\"hidden\"\n                  animate=\"visible\" // Animar cuando esta pestaña se monta/muestra\n                \u003e\n                  \u003cdiv\u003e\n                    {\" \"}\n                    {/* No necesita motion.div si ProCard maneja su propia animación */}\n                    \u003cText variant=\"heading\" size=\"xl\" className=\"mb-4\"\u003e\n                      ProCard Básico\n                    \u003c/Text\u003e\n                    \u003cProCard animateEntrance\u003e\n                      \u003cText\u003eContenido básico\u003c/Text\u003e\n                    \u003c/ProCard\u003e\n                  \u003c/div\u003e\n                  \u003cdiv\u003e\n                    \u003cText variant=\"heading\" size=\"xl\" className=\"mb-4\"\u003e\n                      Con borde\n                    \u003c/Text\u003e\n                    \u003cProCard border=\"normal\" animateEntrance\u003e\n                      \u003cText\u003eTarjeta con borde normal\u003c/Text\u003e\n                    \u003c/ProCard\u003e\n                  \u003c/div\u003e\n                  \u003cdiv\u003e\n                    \u003cText variant=\"heading\" size=\"xl\" className=\"mb-4\"\u003e\n                      Borde superior\n                    \u003c/Text\u003e\n                    \u003cProCard variant=\"primary\" border=\"top\" animateEntrance\u003e\n                      \u003cProCard.Title\u003eBorde Superior\u003c/ProCard.Title\u003e\n                      \u003cProCard.Content\u003e\n                        \u003cText\u003eContenido...\u003c/Text\u003e\n                      \u003c/ProCard.Content\u003e\n                    \u003c/ProCard\u003e\n                  \u003c/div\u003e\n                  \u003cdiv\u003e\n                    \u003cText variant=\"heading\" size=\"xl\" className=\"mb-4\"\u003e\n                      Borde izquierdo\n                    \u003c/Text\u003e\n                    \u003cProCard border=\"left\" variant=\"secondary\" animateEntrance\u003e\n                      \u003cProCard.Title\u003eBorde Izquierdo\u003c/ProCard.Title\u003e\n                      \u003cProCard.Content\u003e\n                        \u003cText\u003eContenido...\u003c/Text\u003e\n                      \u003c/ProCard.Content\u003e\n                    \u003c/ProCard\u003e\n                  \u003c/div\u003e\n                \u003c/motion.div\u003e\n              \u003c/motion.div\u003e\n            \u003c/TabsContent\u003e\n          )}\n          {/* Variantes */}\n          {activeTab === \"variants\" \u0026\u0026 (\n            \u003cTabsContent forceMount value=\"variants\" asChild\u003e\n              \u003cmotion.div\n                key=\"variants\"\n                initial={{ opacity: 0, x: -20 }}\n                animate={{ opacity: 1, x: 0 }}\n                exit={{ opacity: 0, x: 20 }}\n                transition={{ duration: 0.3 }}\n              \u003e\n                \u003cmotion.div\n                  className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\"\n                  variants={gridContainerVariants}\n                  initial=\"hidden\"\n                  animate=\"visible\"\n                \u003e\n                  {cardVariantOptions.map((variantKey) =\u003e (\n                    \u003cProCard\n                      key={variantKey}\n                      variant={variantKey}\n                      selected={selectedVariantCards[variantKey]}\n                      showSelectionCheckbox\n                      onSelectionChange={(isSelected) =\u003e handleVariantCardSelection(variantKey, isSelected)}\n                      animateEntrance // La animación de entrada está por defecto en ProCard\n                      className=\"min-h-[150px]\" // Para dar algo de altura\n                    \u003e\n                      \u003cProCard.Header\u003e\n                        \u003cProCard.Title className=\"capitalize\"\u003e{variantKey}\u003c/ProCard.Title\u003e\n                      \u003c/ProCard.Header\u003e\n                      \u003cProCard.Content\u003e\n                        \u003cText\u003eTarjeta con variante {variantKey}.\u003c/Text\u003e\n                      \u003c/ProCard.Content\u003e\n                    \u003c/ProCard\u003e\n                  ))}\n                \u003c/motion.div\u003e\n                {/* ... (Otras tarjetas de ejemplo de variantes si las tienes) ... */}\n              \u003c/motion.div\u003e\n            \u003c/TabsContent\u003e\n          )}\n          {/* Secciones */}\n          {activeTab === \"sections\" \u0026\u0026 (\n            \u003cTabsContent forceMount value=\"sections\" asChild\u003e\n              \u003cmotion.div /* ... animaciones de TabsContent ... */ className=\"space-y-8\"\u003e\n                \u003cmotion.div /* ... gridContainerVariants ... */ className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n                  \u003cdiv\u003e\n                    \u003cText variant=\"heading\" size=\"xl\" className=\"mb-4\"\u003e\n                      Todas las secciones\n                    \u003c/Text\u003e\n                    \u003cProCard animateEntrance\u003e\n                      \u003cProCard.Header\u003e\n                        \u003cProCard.Title\u003eTítulo\u003c/ProCard.Title\u003e\n                        \u003cProCard.Subtitle\u003eSubtítulo\u003c/ProCard.Subtitle\u003e\n                      \u003c/ProCard.Header\u003e\n                      \u003cProCard.Media\u003e\n                        \u003cdiv className=\"h-32 bg-slate-200 dark:bg-slate-700 rounded flex items-center justify-center\"\u003e\n                          \u003cImageIcon /\u003e\n                        \u003c/div\u003e\n                      \u003c/ProCard.Media\u003e\n                      \u003cProCard.Content\u003e\n                        \u003cText\u003eContenido principal.\u003c/Text\u003e\n                      \u003c/ProCard.Content\u003e\n                      \u003cProCard.Actions\u003e\n                        \u003cButton size=\"sm\"\u003eAcción\u003c/Button\u003e\n                      \u003c/ProCard.Actions\u003e\n                      \u003cProCard.Footer\u003e\n                        \u003cText size=\"xs\"\u003ePie de tarjeta.\u003c/Text\u003e\n                      \u003c/ProCard.Footer\u003e\n                    \u003c/ProCard\u003e\n                  \u003c/div\u003e\n                  {/* ... Más ejemplos de secciones ... */}\n                \u003c/motion.div\u003e\n              \u003c/motion.div\u003e\n            \u003c/TabsContent\u003e\n          )}\n          {/* Estados */}\n          {activeTab === \"states\" \u0026\u0026 (\n            \u003cTabsContent forceMount value=\"states\" asChild\u003e\n              \u003cmotion.div /* ... animaciones de TabsContent ... */ className=\"space-y-8\"\u003e\n                \u003cmotion.div /* ... gridContainerVariants ... */ className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n                  \u003cdiv\u003e\n                    \u003cText variant=\"heading\" size=\"xl\" className=\"mb-4\"\u003e\n                      Estado seleccionado (Click)\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"space-y-4\"\u003e\n                      \u003cProCard\n                        selected={selectedCardBasic === \"card1_state\"}\n                        onClick={() =\u003e handleCardBasicClick(\"card1_state\")}\n                        className=\"cursor-pointer\"\n                        animateEntrance\n                      \u003e\n                        \u003cProCard.Title\u003eSeleccionable 1\u003c/ProCard.Title\u003e\n                        \u003cProCard.Content\u003e\n                          \u003cText\u003eHaz clic para seleccionar.\u003c/Text\u003e\n                        \u003c/ProCard.Content\u003e\n                      \u003c/ProCard\u003e\n                      \u003cProCard\n                        selected={selectedCardBasic === \"card2_state\"}\n                        onClick={() =\u003e handleCardBasicClick(\"card2_state\")}\n                        className=\"cursor-pointer\"\n                        animateEntrance\n                      \u003e\n                        \u003cProCard.Title\u003eSeleccionable 2\u003c/ProCard.Title\u003e\n                        \u003cProCard.Content\u003e\n                          \u003cText\u003eHaz clic para seleccionar.\u003c/Text\u003e\n                        \u003c/ProCard.Content\u003e\n                      \u003c/ProCard\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n                  \u003cdiv\u003e\n                    \u003cText variant=\"heading\" size=\"xl\" className=\"mb-4\"\u003e\n                      Estado de carga\n                    \u003c/Text\u003e\n                    \u003cProCard loading animateEntrance\u003e\n                      \u003cProCard.Title\u003eCargando...\u003c/ProCard.Title\u003e\n                      {/* El contenido no se verá */}\n                    \u003c/ProCard\u003e\n                  \u003c/div\u003e\n                \u003c/motion.div\u003e\n              \u003c/motion.div\u003e\n            \u003c/TabsContent\u003e\n          )}\n          {/* Ejemplos */}\n          {activeTab === \"examples\" \u0026\u0026 (\n            \u003cTabsContent forceMount value=\"examples\" asChild\u003e\n              \u003cmotion.div /* ... animaciones de TabsContent ... */\u003e\n                \u003cmotion.div /* ... gridContainerVariants ... */ className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n                  {/* Aquí irían tus tarjetas de ejemplo, cada una como ProCard */}\n                  {/* Ejemplo: */}\n                  \u003cProCard animateEntrance border=\"normal\"\u003e\n                    \u003cProCard.Media\u003e\n                      \u003cdiv className=\"h-40 bg-blue-100 dark:bg-blue-900 rounded flex items-center justify-center\"\u003e\n                        \u003cPackage /\u003e\n                      \u003c/div\u003e\n                    \u003c/ProCard.Media\u003e\n                    \u003cProCard.Header\u003e\n                      \u003cProCard.Title\u003eTarjeta de Producto\u003c/ProCard.Title\u003e\n                    \u003c/ProCard.Header\u003e\n                    \u003cProCard.Content\u003e\n                      \u003cText\u003eDescripción del producto...\u003c/Text\u003e\n                    \u003c/ProCard.Content\u003e\n                    \u003cProCard.Actions\u003e\n                      \u003cButton\u003eComprar\u003c/Button\u003e\n                    \u003c/ProCard.Actions\u003e\n                  \u003c/ProCard\u003e\n                  \u003cProCard animateEntrance variant=\"warning\" border=\"left\"\u003e\n                    \u003cProCard.Header\u003e\n                      \u003cProCard.Title\u003e\n                        \u003cAlertTriangle className=\"inline mr-2\" /\u003e\n                        Notificación\n                      \u003c/ProCard.Title\u003e\n                    \u003c/ProCard.Header\u003e\n                    \u003cProCard.Content\u003e\n                      \u003cText\u003eMensaje importante...\u003c/Text\u003e\n                    \u003c/ProCard.Content\u003e\n                  \u003c/ProCard\u003e\n                  {/* ... más ejemplos ... */}\n                \u003c/motion.div\u003e\n              \u003c/motion.div\u003e\n            \u003c/TabsContent\u003e\n          )}\n        \u003c/AnimatePresence\u003e\n      \u003c/Tabs\u003e\n\n      {/* ... (Referencia de API sin cambios, si la tienes) ... */}\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"4f:T1ac6,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState } from \"react\"\nimport { PageBackground } from \"@/components/ui/page-background\"\nimport { ProCard } from \"@/components/ui/pro-card\"\nimport { CustomCheck } from \"@/components/ui/custom-check\"\nimport { Text } from \"@/components/ui/text\"\nimport { Divider } from \"@/components/ui/divider\"\nimport { useTheme } from \"@/app/theme-provider\"\n\nexport default function CheckShowroom() {\n  const { colorScheme, mode } = useTheme()\n  const [isChecked, setIsChecked] = useState(false)\n  const [isIndeterminate, setIsIndeterminate] = useState(false)\n\n  const variants = [\"primary\", \"secondary\", \"tertiary\", \"accent\", \"success\", \"warning\", \"danger\", \"neutral\"] as const\n  const sizes = [\"xs\", \"sm\", \"md\", \"lg\", \"xl\"] as const\n  const visualVariants = [\"default\", \"outline\", \"subtle\", \"solid\"] as const\n\n  return (\n    \u003cPageBackground variant=\"gradient\"\u003e\n      \u003cdiv className=\"container mx-auto py-8 space-y-8\"\u003e\n        \u003cProCard border=\"none\" className=\"p-6\"\u003e\n          \u003cProCard.Header\u003e\n            \u003cProCard.Title fontType=\"heading\" size=\"3xl\"\u003e\n              Custom Check Showroom\n            \u003c/ProCard.Title\u003e\n          \u003c/ProCard.Header\u003e\n          \u003cProCard.Content\u003e\n            \u003cText as=\"p\" size=\"lg\" className=\"mb-6\"\u003e\n              Explora las diferentes variantes y opciones del componente CustomCheck\n            \u003c/Text\u003e\n\n            \u003cDivider className=\"my-6\" /\u003e\n\n            {/* Sección interactiva */}\n            \u003cText as=\"h2\" size=\"xl\" fontType=\"heading\" className=\"mb-4\"\u003e\n              Prueba interactiva\n            \u003c/Text\u003e\n            \u003cdiv className=\"flex flex-col gap-4 mb-6\"\u003e\n              \u003cdiv className=\"flex gap-4 items-center\"\u003e\n                \u003cCustomCheck\n                  checked={isChecked}\n                  indeterminate={isIndeterminate}\n                  onChange={(e) =\u003e setIsChecked(e.target.checked)}\n                  label=\"Checkbox interactivo\"\n                  description=\"Prueba las diferentes opciones\"\n                /\u003e\n                \u003cdiv className=\"flex gap-2\"\u003e\n                  \u003cbutton\n                    onClick={() =\u003e {\n                      setIsChecked(!isChecked)\n                      setIsIndeterminate(false)\n                    }}\n                    className=\"px-3 py-1 bg-blue-500 text-white rounded\"\n                  \u003e\n                    Toggle Checked\n                  \u003c/button\u003e\n                  \u003cbutton\n                    onClick={() =\u003e {\n                      setIsIndeterminate(!isIndeterminate)\n                      setIsChecked(false)\n                    }}\n                    className=\"px-3 py-1 bg-purple-500 text-white rounded\"\n                  \u003e\n                    Toggle Indeterminate\n                  \u003c/button\u003e\n                \u003c/div\u003e\n              \u003c/div\u003e\n            \u003c/div\u003e\n\n            \u003cDivider className=\"my-6\" /\u003e\n\n            {/* Variantes de color */}\n            \u003cText as=\"h2\" size=\"xl\" fontType=\"heading\" className=\"mb-4\"\u003e\n              Variantes de color\n            \u003c/Text\u003e\n            \u003cdiv className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\"\u003e\n              {variants.map((variant) =\u003e (\n                \u003cCustomCheck key={variant} variant={variant} label={`Variante ${variant}`} defaultChecked /\u003e\n              ))}\n            \u003c/div\u003e\n\n            \u003cDivider className=\"my-6\" /\u003e\n\n            {/* Tamaños */}\n            \u003cText as=\"h2\" size=\"xl\" fontType=\"heading\" className=\"mb-4\"\u003e\n              Tamaños\n            \u003c/Text\u003e\n            \u003cdiv className=\"flex flex-col gap-4 mb-6\"\u003e\n              {sizes.map((size) =\u003e (\n                \u003cCustomCheck\n                  key={size}\n                  size={size}\n                  label={`Tamaño ${size}`}\n                  description={`Este es un checkbox de tamaño ${size}`}\n                  defaultChecked\n                /\u003e\n              ))}\n            \u003c/div\u003e\n\n            \u003cDivider className=\"my-6\" /\u003e\n\n            {/* Variantes visuales */}\n            \u003cText as=\"h2\" size=\"xl\" fontType=\"heading\" className=\"mb-4\"\u003e\n              Variantes visuales\n            \u003c/Text\u003e\n            \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\"\u003e\n              {visualVariants.map((visualVariant) =\u003e (\n                \u003cdiv key={visualVariant} className=\"space-y-2\"\u003e\n                  \u003cText as=\"h3\" size=\"lg\" fontType=\"heading\" className=\"mb-2\"\u003e\n                    {visualVariant}\n                  \u003c/Text\u003e\n                  \u003cdiv className=\"flex flex-col gap-2\"\u003e\n                    \u003cCustomCheck visualVariant={visualVariant} label={`${visualVariant} - unchecked`} /\u003e\n                    \u003cCustomCheck visualVariant={visualVariant} label={`${visualVariant} - checked`} defaultChecked /\u003e\n                    \u003cCustomCheck\n                      visualVariant={visualVariant}\n                      label={`${visualVariant} - indeterminate`}\n                      indeterminate\n                    /\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n              ))}\n            \u003c/div\u003e\n\n            \u003cDivider className=\"my-6\" /\u003e\n\n            {/* Estados */}\n            \u003cText as=\"h2\" size=\"xl\" fontType=\"heading\" className=\"mb-4\"\u003e\n              Estados\n            \u003c/Text\u003e\n            \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\"\u003e\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText as=\"h3\" size=\"lg\" fontType=\"heading\" className=\"mb-2\"\u003e\n                  Normal\n                \u003c/Text\u003e\n                \u003cdiv className=\"flex flex-col gap-2\"\u003e\n                  \u003cCustomCheck label=\"Unchecked\" /\u003e\n                  \u003cCustomCheck label=\"Checked\" defaultChecked /\u003e\n                  \u003cCustomCheck label=\"Indeterminate\" indeterminate /\u003e\n                \u003c/div\u003e\n              \u003c/div\u003e\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText as=\"h3\" size=\"lg\" fontType=\"heading\" className=\"mb-2\"\u003e\n                  Disabled\n                \u003c/Text\u003e\n                \u003cdiv className=\"flex flex-col gap-2\"\u003e\n                  \u003cCustomCheck label=\"Disabled unchecked\" disabled /\u003e\n                  \u003cCustomCheck label=\"Disabled checked\" defaultChecked disabled /\u003e\n                  \u003cCustomCheck label=\"Disabled indeterminate\" indeterminate disabled /\u003e\n                \u003c/div\u003e\n              \u003c/div\u003e\n            \u003c/div\u003e\n\n            \u003cDivider className=\"my-6\" /\u003e\n\n            {/* Con error */}\n            \u003cText as=\"h2\" size=\"xl\" fontType=\"heading\" className=\"mb-4\"\u003e\n              Con error\n            \u003c/Text\u003e\n            \u003cdiv className=\"flex flex-col gap-2 mb-6\"\u003e\n              \u003cCustomCheck error label=\"Checkbox con error\" description=\"Este checkbox tiene un estado de error\" /\u003e\n              \u003cCustomCheck\n                error\n                label=\"Checkbox con error (checked)\"\n                description=\"Este checkbox tiene un estado de error\"\n                defaultChecked\n              /\u003e\n            \u003c/div\u003e\n          \u003c/ProCard.Content\u003e\n        \u003c/ProCard\u003e\n      \u003c/div\u003e\n    \u003c/PageBackground\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"50:T3e05,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Text } from \"@/components/ui/text\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { Button } from \"@/components/ui/button\"\nimport { Switch } from \"@/components/ui/switch\"\nimport { Label } from \"@/components/ui/label\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Divider } from \"@/components/ui/divider\"\nimport { colorTokens } from \"@/lib/theme/color-tokens\"\nimport { useTheme } from \"next-themes\"\nimport { PageBackground } from \"@/components/ui/page-background\"\n\nexport default function ShowroomDivider() {\n  const { setTheme, theme } = useTheme()\n  const [mounted, setMounted] = useState(false)\n  const [isDarkMode, setIsDarkMode] = useState(false)\n\n  // Evitar problemas de hidratación\n  useEffect(() =\u003e {\n    setMounted(true)\n    setIsDarkMode(theme === \"dark\")\n  }, [theme])\n\n  // Cambiar tema\n  const handleThemeChange = (newTheme: string) =\u003e {\n    setTheme(newTheme)\n  }\n\n  // Cambiar modo claro/oscuro\n  const handleDarkModeChange = (checked: boolean) =\u003e {\n    setIsDarkMode(checked)\n    setTheme(checked ? \"dark\" : \"light\")\n  }\n\n  if (!mounted) return null\n\n  return (\n    \u003cPageBackground variant=\"default\" className=\"p-6\"\u003e\n      \u003cdiv className=\"max-w-5xl mx-auto\"\u003e\n        \u003cdiv className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4\"\u003e\n          \u003cdiv\u003e\n            \u003cText as=\"h1\" variant=\"heading\" size=\"3xl\" className=\"mb-2\"\u003e\n              Divider Component Showroom\n            \u003c/Text\u003e\n            \u003cText variant=\"subtitle\" className=\"text-muted-foreground\"\u003e\n              Visualización y prueba del componente Divider con todas sus variantes y tamaños\n            \u003c/Text\u003e\n          \u003c/div\u003e\n          \u003cdiv className=\"flex items-center gap-4\"\u003e\n            \u003cdiv className=\"flex gap-2\"\u003e\n              \u003cButton\n                variant={theme === \"blue\" ? \"default\" : \"outline\"}\n                size=\"sm\"\n                onClick={() =\u003e handleThemeChange(\"blue\")}\n              \u003e\n                Azul\n              \u003c/Button\u003e\n              \u003cButton\n                variant={theme === \"green\" ? \"default\" : \"outline\"}\n                size=\"sm\"\n                onClick={() =\u003e handleThemeChange(\"green\")}\n              \u003e\n                Verde\n              \u003c/Button\u003e\n              \u003cButton\n                variant={theme === \"orange\" ? \"default\" : \"outline\"}\n                size=\"sm\"\n                onClick={() =\u003e handleThemeChange(\"orange\")}\n              \u003e\n                Naranja\n              \u003c/Button\u003e\n            \u003c/div\u003e\n            \u003cdiv className=\"flex items-center space-x-2\"\u003e\n              \u003cSwitch id=\"dark-mode\" checked={isDarkMode} onCheckedChange={handleDarkModeChange} /\u003e\n              \u003cLabel htmlFor=\"dark-mode\"\u003eModo oscuro\u003c/Label\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n\n        \u003cTabs defaultValue=\"variants\"\u003e\n          \u003cTabsList className=\"mb-4\"\u003e\n            \u003cTabsTrigger value=\"variants\"\u003eVariantes\u003c/TabsTrigger\u003e\n            \u003cTabsTrigger value=\"sizes\"\u003eTamaños\u003c/TabsTrigger\u003e\n            \u003cTabsTrigger value=\"examples\"\u003eEjemplos de uso\u003c/TabsTrigger\u003e\n            \u003cTabsTrigger value=\"api\"\u003eAPI\u003c/TabsTrigger\u003e\n          \u003c/TabsList\u003e\n\n          \u003cTabsContent value=\"variants\" className=\"space-y-8\"\u003e\n            \u003cCard\u003e\n              \u003cCardHeader\u003e\n                \u003cCardTitle\u003eVariantes de Divider\u003c/CardTitle\u003e\n              \u003c/CardHeader\u003e\n              \u003cCardContent className=\"space-y-8\"\u003e\n                \u003cdiv className=\"space-y-6\"\u003e\n                  \u003cText variant=\"subtitle\" className=\"font-semibold\"\u003e\n                    Gradient (default)\n                  \u003c/Text\u003e\n                  \u003cdiv className=\"py-4 flex flex-col items-center\"\u003e\n                    \u003cDivider variant=\"gradient\" /\u003e\n                    \u003cText variant=\"muted\" className=\"mt-4\"\u003e\n                      Gradiente: primary → accent → secondary\n                    \u003c/Text\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n\n                \u003cdiv className=\"space-y-6\"\u003e\n                  \u003cText variant=\"subtitle\" className=\"font-semibold\"\u003e\n                    Solid\n                  \u003c/Text\u003e\n                  \u003cdiv className=\"py-4 flex flex-col items-center\"\u003e\n                    \u003cDivider variant=\"solid\" /\u003e\n                    \u003cText variant=\"muted\" className=\"mt-4\"\u003e\n                      Color sólido: primary\n                    \u003c/Text\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n\n                \u003cdiv className=\"space-y-6\"\u003e\n                  \u003cText variant=\"subtitle\" className=\"font-semibold\"\u003e\n                    Subtle\n                  \u003c/Text\u003e\n                  \u003cdiv className=\"py-4 flex flex-col items-center\"\u003e\n                    \u003cDivider variant=\"subtle\" /\u003e\n                    \u003cText variant=\"muted\" className=\"mt-4\"\u003e\n                      Color sutil: primary con opacidad\n                    \u003c/Text\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n              \u003c/CardContent\u003e\n            \u003c/Card\u003e\n          \u003c/TabsContent\u003e\n\n          \u003cTabsContent value=\"sizes\" className=\"space-y-8\"\u003e\n            \u003cCard\u003e\n              \u003cCardHeader\u003e\n                \u003cCardTitle\u003eTamaños disponibles\u003c/CardTitle\u003e\n              \u003c/CardHeader\u003e\n              \u003cCardContent className=\"space-y-8\"\u003e\n                \u003cdiv className=\"space-y-6\"\u003e\n                  \u003cText variant=\"subtitle\" className=\"font-semibold\"\u003e\n                    Extra Small (xs)\n                  \u003c/Text\u003e\n                  \u003cdiv className=\"py-2 flex flex-col items-center\"\u003e\n                    \u003cDivider variant=\"gradient\" size=\"xs\" /\u003e\n                    \u003cText variant=\"muted\" className=\"mt-2\"\u003e\n                      Altura: 2px, Ancho: 60px\n                    \u003c/Text\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n\n                \u003cdiv className=\"space-y-6\"\u003e\n                  \u003cText variant=\"subtitle\" className=\"font-semibold\"\u003e\n                    Small (sm)\n                  \u003c/Text\u003e\n                  \u003cdiv className=\"py-2 flex flex-col items-center\"\u003e\n                    \u003cDivider variant=\"gradient\" size=\"sm\" /\u003e\n                    \u003cText variant=\"muted\" className=\"mt-2\"\u003e\n                      Altura: 2px, Ancho: 100px\n                    \u003c/Text\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n\n                \u003cdiv className=\"space-y-6\"\u003e\n                  \u003cText variant=\"subtitle\" className=\"font-semibold\"\u003e\n                    Medium (md) - Default\n                  \u003c/Text\u003e\n                  \u003cdiv className=\"py-2 flex flex-col items-center\"\u003e\n                    \u003cDivider variant=\"gradient\" size=\"md\" /\u003e\n                    \u003cText variant=\"muted\" className=\"mt-2\"\u003e\n                      Altura: 3px, Ancho: 150px\n                    \u003c/Text\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n\n                \u003cdiv className=\"space-y-6\"\u003e\n                  \u003cText variant=\"subtitle\" className=\"font-semibold\"\u003e\n                    Large (lg)\n                  \u003c/Text\u003e\n                  \u003cdiv className=\"py-2 flex flex-col items-center\"\u003e\n                    \u003cDivider variant=\"gradient\" size=\"lg\" /\u003e\n                    \u003cText variant=\"muted\" className=\"mt-2\"\u003e\n                      Altura: 4px, Ancho: 200px\n                    \u003c/Text\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n\n                \u003cdiv className=\"space-y-6\"\u003e\n                  \u003cText variant=\"subtitle\" className=\"font-semibold\"\u003e\n                    Extra Large (xl)\n                  \u003c/Text\u003e\n                  \u003cdiv className=\"py-2 flex flex-col items-center\"\u003e\n                    \u003cDivider variant=\"gradient\" size=\"xl\" /\u003e\n                    \u003cText variant=\"muted\" className=\"mt-2\"\u003e\n                      Altura: 5px, Ancho: 250px\n                    \u003c/Text\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n              \u003c/CardContent\u003e\n            \u003c/Card\u003e\n          \u003c/TabsContent\u003e\n\n          \u003cTabsContent value=\"examples\" className=\"space-y-8\"\u003e\n            \u003cCard\u003e\n              \u003cCardHeader\u003e\n                \u003cCardTitle\u003eEjemplos de uso\u003c/CardTitle\u003e\n              \u003c/CardHeader\u003e\n              \u003cCardContent className=\"space-y-12\"\u003e\n                \u003cdiv className=\"space-y-6\"\u003e\n                  \u003cText variant=\"subtitle\" className=\"font-semibold\"\u003e\n                    Separador de secciones\n                  \u003c/Text\u003e\n                  \u003cdiv className=\"py-4 flex flex-col items-center text-center\"\u003e\n                    \u003cText variant=\"heading\" size=\"2xl\"\u003e\n                      Título de sección\n                    \u003c/Text\u003e\n                    \u003cDivider variant=\"gradient\" size=\"md\" className=\"my-4\" /\u003e\n                    \u003cText variant=\"default\"\u003e\n                      Contenido de la sección que viene después del separador. El divider ayuda a crear una separación\n                      visual clara entre el título y el contenido.\n                    \u003c/Text\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n\n                \u003cdiv className=\"space-y-6\"\u003e\n                  \u003cText variant=\"subtitle\" className=\"font-semibold\"\u003e\n                    Decoración en encabezados\n                  \u003c/Text\u003e\n                  \u003cdiv className=\"py-4 flex flex-col items-center text-center\"\u003e\n                    \u003cText\n                      variant=\"label\"\n                      color=\"primary\"\n                      colorVariant=\"pure\"\n                      className=\"uppercase tracking-wider mb-4 font-bold\"\n                    \u003e\n                      Universidad Católica de Chile\n                    \u003c/Text\u003e\n                    \u003cDivider variant=\"gradient\" size=\"md\" className=\"mb-6\" /\u003e\n                    \u003cText as=\"h1\" variant=\"heading\" size=\"3xl\" gradient=\"primary\" className=\"mb-4\"\u003e\n                      Ayudas Técnicas\n                    \u003c/Text\u003e\n                    \u003cText as=\"h2\" variant=\"subheading\" size=\"xl\" gradient=\"secondary\" className=\"mb-6\"\u003e\n                      Escuela de Trabajo Social\n                    \u003c/Text\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n\n                \u003cdiv className=\"space-y-6\"\u003e\n                  \u003cText variant=\"subtitle\" className=\"font-semibold\"\u003e\n                    Separador sutil entre elementos de lista\n                  \u003c/Text\u003e\n                  \u003cdiv className=\"py-4 max-w-md mx-auto\"\u003e\n                    \u003cdiv className=\"space-y-4\"\u003e\n                      \u003cdiv\u003e\n                        \u003cText variant=\"title\"\u003eElemento 1\u003c/Text\u003e\n                        \u003cText variant=\"default\" size=\"sm\"\u003e\n                          Descripción del primer elemento de la lista\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cDivider variant=\"subtle\" size=\"sm\" className=\"my-2\" /\u003e\n                      \u003cdiv\u003e\n                        \u003cText variant=\"title\"\u003eElemento 2\u003c/Text\u003e\n                        \u003cText variant=\"default\" size=\"sm\"\u003e\n                          Descripción del segundo elemento de la lista\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cDivider variant=\"subtle\" size=\"sm\" className=\"my-2\" /\u003e\n                      \u003cdiv\u003e\n                        \u003cText variant=\"title\"\u003eElemento 3\u003c/Text\u003e\n                        \u003cText variant=\"default\" size=\"sm\"\u003e\n                          Descripción del tercer elemento de la lista\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n              \u003c/CardContent\u003e\n            \u003c/Card\u003e\n          \u003c/TabsContent\u003e\n\n          \u003cTabsContent value=\"api\" className=\"space-y-8\"\u003e\n            \u003cCard\u003e\n              \u003cCardHeader\u003e\n                \u003cCardTitle\u003eAPI del componente Divider\u003c/CardTitle\u003e\n              \u003c/CardHeader\u003e\n              \u003cCardContent className=\"space-y-6\"\u003e\n                \u003cdiv\u003e\n                  \u003cText variant=\"subtitle\" className=\"font-semibold mb-2\"\u003e\n                    Props\n                  \u003c/Text\u003e\n                  \u003cdiv className=\"overflow-x-auto\"\u003e\n                    \u003ctable className=\"w-full border-collapse\"\u003e\n                      \u003cthead\u003e\n                        \u003ctr className=\"border-b\"\u003e\n                          \u003cth className=\"text-left py-2 px-4\"\u003eProp\u003c/th\u003e\n                          \u003cth className=\"text-left py-2 px-4\"\u003eTipo\u003c/th\u003e\n                          \u003cth className=\"text-left py-2 px-4\"\u003eDefault\u003c/th\u003e\n                          \u003cth className=\"text-left py-2 px-4\"\u003eDescripción\u003c/th\u003e\n                        \u003c/tr\u003e\n                      \u003c/thead\u003e\n                      \u003ctbody\u003e\n                        \u003ctr className=\"border-b\"\u003e\n                          \u003ctd className=\"py-2 px-4 font-mono text-sm\"\u003evariant\u003c/td\u003e\n                          \u003ctd className=\"py-2 px-4 font-mono text-sm\"\u003e'gradient' | 'solid' | 'subtle'\u003c/td\u003e\n                          \u003ctd className=\"py-2 px-4 font-mono text-sm\"\u003e'gradient'\u003c/td\u003e\n                          \u003ctd className=\"py-2 px-4\"\u003eEstilo visual del divider\u003c/td\u003e\n                        \u003c/tr\u003e\n                        \u003ctr className=\"border-b\"\u003e\n                          \u003ctd className=\"py-2 px-4 font-mono text-sm\"\u003esize\u003c/td\u003e\n                          \u003ctd className=\"py-2 px-4 font-mono text-sm\"\u003e'xs' | 'sm' | 'md' | 'lg' | 'xl'\u003c/td\u003e\n                          \u003ctd className=\"py-2 px-4 font-mono text-sm\"\u003e'md'\u003c/td\u003e\n                          \u003ctd className=\"py-2 px-4\"\u003eTamaño del divider\u003c/td\u003e\n                        \u003c/tr\u003e\n                        \u003ctr className=\"border-b\"\u003e\n                          \u003ctd className=\"py-2 px-4 font-mono text-sm\"\u003eclassName\u003c/td\u003e\n                          \u003ctd className=\"py-2 px-4 font-mono text-sm\"\u003estring\u003c/td\u003e\n                          \u003ctd className=\"py-2 px-4 font-mono text-sm\"\u003e-\u003c/td\u003e\n                          \u003ctd className=\"py-2 px-4\"\u003eClases CSS adicionales\u003c/td\u003e\n                        \u003c/tr\u003e\n                      \u003c/tbody\u003e\n                    \u003c/table\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n\n                \u003cdiv\u003e\n                  \u003cText variant=\"subtitle\" className=\"font-semibold mb-2\"\u003e\n                    Ejemplo de código\n                  \u003c/Text\u003e\n                  \u003cpre className=\"bg-muted p-4 rounded-md overflow-x-auto\"\u003e\n                    \u003ccode className=\"text-sm\"\u003e\n                      {`import { Divider } from \"@/components/ui/divider\"\n\n// Divider básico con gradiente\n\u003cDivider /\u003e\n\n// Divider con variante sólida y tamaño grande\n\u003cDivider variant=\"solid\" size=\"lg\" /\u003e\n\n// Divider con clases personalizadas\n\u003cDivider variant=\"subtle\" size=\"sm\" className=\"my-4\" /\u003e`}\n                    \u003c/code\u003e\n                  \u003c/pre\u003e\n                \u003c/div\u003e\n\n                \u003cdiv\u003e\n                  \u003cText variant=\"subtitle\" className=\"font-semibold mb-2\"\u003e\n                    Tokens utilizados\n                  \u003c/Text\u003e\n                  \u003cdiv className=\"bg-muted p-4 rounded-md\"\u003e\n                    \u003cText variant=\"default\" size=\"sm\"\u003e\n                      El componente Divider utiliza los siguientes tokens del sistema de diseño:\n                    \u003c/Text\u003e\n                    \u003cul className=\"list-disc list-inside mt-2 space-y-1\"\u003e\n                      \u003cli className=\"text-sm\"\u003e\n                        \u003cspan className=\"font-mono\"\u003ecolorTokens.component.divider.variants\u003c/span\u003e - Estilos para cada\n                        variante\n                      \u003c/li\u003e\n                      \u003cli className=\"text-sm\"\u003e\n                        \u003cspan className=\"font-mono\"\u003ecolorTokens.component.divider.sizes\u003c/span\u003e - Dimensiones para cada\n                        tamaño\n                      \u003c/li\u003e\n                    \u003c/ul\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n              \u003c/CardContent\u003e\n            \u003c/Card\u003e\n          \u003c/TabsContent\u003e\n        \u003c/Tabs\u003e\n\n        \u003cdiv className=\"mt-8 p-4 bg-muted rounded-lg\"\u003e\n          \u003cText variant=\"subtitle\" className=\"font-semibold mb-2\"\u003e\n            Estado de los tokens\n          \u003c/Text\u003e\n          \u003cdiv className=\"text-sm\"\u003e\n            \u003cpre className=\"overflow-x-auto\"\u003e\n              {JSON.stringify(colorTokens.component?.divider || \"Tokens no disponibles\", null, 2)}\n            \u003c/pre\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/PageBackground\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"51:T3205,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState } from \"react\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { SelectCustom } from \"@/components/ui/select-custom\"\nimport { FormField } from \"@/components/ui/form-field\"\nimport { Text } from \"@/components/ui/text\"\nimport { ProCard } from \"@/components/ui/pro-card\"\nimport { CustomButton } from \"@/components/ui/custom-button\"\nimport { CustomCheck } from \"@/components/ui/custom-check\"\nimport { Mail, User, Edit, Globe, Building, Send, Save, Star, Heart, Settings, AlertCircle } from \"lucide-react\"\n\nexport default function ShowroomForm() {\n  const [name, setName] = useState(\"\")\n  const [email, setEmail] = useState(\"\")\n  const [message, setMessage] = useState(\"\")\n  const [country, setCountry] = useState(\"\")\n  const [company, setCompany] = useState(\"\")\n  const [nameError, setNameError] = useState(\"\")\n  const [emailSuccess, setEmailSuccess] = useState(false)\n  const [isEditing, setIsEditing] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const [acceptTerms, setAcceptTerms] = useState(false)\n  const [savePreferences, setSavePreferences] = useState(false)\n\n  const validateName = (value: string) =\u003e {\n    if (value.length \u003c 3) {\n      setNameError(\"El nombre debe tener al menos 3 caracteres\")\n    } else {\n      setNameError(\"\")\n    }\n  }\n\n  const validateEmail = (value: string) =\u003e {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n    if (emailRegex.test(value)) {\n      setEmailSuccess(true)\n    } else {\n      setEmailSuccess(false)\n    }\n  }\n\n  const handleSubmit = () =\u003e {\n    setLoading(true)\n    setTimeout(() =\u003e {\n      setLoading(false)\n    }, 2000)\n  }\n\n  const countryOptions = [\n    { value: \"\", label: \"Selecciona país\" },\n    { value: \"mx\", label: \"México\", icon: Globe },\n    { value: \"us\", label: \"Estados Unidos\", icon: User },\n    { value: \"ca\", label: \"Canadá\", icon: Building },\n    { value: \"es\", label: \"España\", icon: Mail },\n    { value: \"ar\", label: \"Argentina\", icon: Edit },\n  ]\n\n  const companyOptions = [\n    {\n      value: \"small\",\n      label: \"Pequeña\",\n      description: \"1-50 empleados\",\n      icon: Building,\n    },\n    {\n      value: \"medium\",\n      label: \"Mediana\",\n      description: \"51-250 empleados\",\n      icon: User,\n    },\n    {\n      value: \"large\",\n      label: \"Grande\",\n      description: \"251+ empleados\",\n      icon: Globe,\n    },\n    {\n      value: \"noicon\",\n      label: \"Sin icono\",\n      description: \"Sin icono para probar padding\",\n    },\n  ]\n\n  return (\n    \u003cdiv className=\"container mx-auto py-10\"\u003e\n      \u003cProCard className=\"max-w-2xl mx-auto\"\u003e\n        \u003cProCard.Header\u003e\n          \u003cText variant=\"heading\" size=\"2xl\" color=\"primary\"\u003e\n            Showroom de Formularios\n          \u003c/Text\u003e\n        \u003c/ProCard.Header\u003e\n\n        \u003cProCard.Content className=\"space-y-6\"\u003e\n          \u003cText variant=\"default\" color=\"neutral\" className=\"mb-6\"\u003e\n            Este showroom muestra los componentes de formulario con diferentes estados y cómo el Label cambia de color\n            cuando el componente está enfocado.\n          \u003c/Text\u003e\n\n          {/* Input normal */}\n          \u003cFormField label=\"Nombre\" htmlFor=\"name-input\" error={nameError}\u003e\n            \u003cInput\n              value={name}\n              onChange={(e) =\u003e {\n                setName(e.target.value)\n                validateName(e.target.value)\n              }}\n              leadingIcon={User}\n              placeholder=\"Ingresa tu nombre\"\n              error={nameError}\n            /\u003e\n          \u003c/FormField\u003e\n\n          {/* Input con éxito */}\n          \u003cFormField label=\"Correo electrónico\" htmlFor=\"email-input\" hint={emailSuccess ? \"Correo válido\" : undefined}\u003e\n            \u003cInput\n              value={email}\n              onChange={(e) =\u003e {\n                setEmail(e.target.value)\n                validateEmail(e.target.value)\n              }}\n              leadingIcon={Mail}\n              placeholder=\"correo@ejemplo.com\"\n              success={emailSuccess}\n            /\u003e\n          \u003c/FormField\u003e\n\n          {/* Ejemplos de inputs con diferentes variantes de color */}\n          \u003cText variant=\"heading\" size=\"lg\" color=\"primary\" className=\"mt-8 mb-4\"\u003e\n            Inputs con diferentes variantes de color\n          \u003c/Text\u003e\n\n          \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-4\"\u003e\n            \u003cFormField label=\"Primary (default)\" htmlFor=\"primary-input\"\u003e\n              \u003cInput leadingIcon={Star} placeholder=\"Variante primary\" variant=\"primary\" /\u003e\n            \u003c/FormField\u003e\n\n            \u003cFormField label=\"Secondary\" htmlFor=\"secondary-input\"\u003e\n              \u003cInput leadingIcon={Heart} placeholder=\"Variante secondary\" variant=\"secondary\" /\u003e\n            \u003c/FormField\u003e\n\n            \u003cFormField label=\"Tertiary\" htmlFor=\"tertiary-input\"\u003e\n              \u003cInput leadingIcon={Settings} placeholder=\"Variante tertiary\" variant=\"tertiary\" /\u003e\n            \u003c/FormField\u003e\n\n            \u003cFormField label=\"Accent\" htmlFor=\"accent-input\"\u003e\n              \u003cInput leadingIcon={AlertCircle} placeholder=\"Variante accent\" variant=\"accent\" /\u003e\n            \u003c/FormField\u003e\n\n            \u003cFormField label=\"Neutral\" htmlFor=\"neutral-input\"\u003e\n              \u003cInput leadingIcon={Building} placeholder=\"Variante neutral\" variant=\"neutral\" /\u003e\n            \u003c/FormField\u003e\n          \u003c/div\u003e\n\n          {/* Ejemplos de selects con diferentes variantes de color */}\n          \u003cText variant=\"heading\" size=\"lg\" color=\"primary\" className=\"mt-8 mb-4\"\u003e\n            Selects con diferentes variantes de color\n          \u003c/Text\u003e\n\n          \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-4\"\u003e\n            \u003cFormField label=\"Primary (default)\" htmlFor=\"primary-select\"\u003e\n              \u003cSelectCustom\n                id=\"primary-select\"\n                placeholder=\"Variante primary\"\n                options={countryOptions}\n                leadingIcon={Star}\n                variant=\"primary\"\n              /\u003e\n            \u003c/FormField\u003e\n\n            \u003cFormField label=\"Secondary\" htmlFor=\"secondary-select\"\u003e\n              \u003cSelectCustom\n                id=\"secondary-select\"\n                placeholder=\"Variante secondary\"\n                options={countryOptions}\n                leadingIcon={Heart}\n                variant=\"secondary\"\n              /\u003e\n            \u003c/FormField\u003e\n\n            \u003cFormField label=\"Tertiary\" htmlFor=\"tertiary-select\"\u003e\n              \u003cSelectCustom\n                id=\"tertiary-select\"\n                placeholder=\"Variante tertiary\"\n                options={countryOptions}\n                leadingIcon={Settings}\n                variant=\"tertiary\"\n              /\u003e\n            \u003c/FormField\u003e\n\n            \u003cFormField label=\"Accent\" htmlFor=\"accent-select\"\u003e\n              \u003cSelectCustom\n                id=\"accent-select\"\n                placeholder=\"Variante accent\"\n                options={countryOptions}\n                leadingIcon={AlertCircle}\n                variant=\"accent\"\n              /\u003e\n            \u003c/FormField\u003e\n\n            \u003cFormField label=\"Neutral\" htmlFor=\"neutral-select\"\u003e\n              \u003cSelectCustom\n                id=\"neutral-select\"\n                placeholder=\"Variante neutral\"\n                options={countryOptions}\n                leadingIcon={Building}\n                variant=\"neutral\"\n              /\u003e\n            \u003c/FormField\u003e\n          \u003c/div\u003e\n\n          {/* Select normal */}\n          \u003cFormField label=\"País\" htmlFor=\"country-select\"\u003e\n            \u003cSelectCustom\n              id=\"country-select\"\n              placeholder=\"Selecciona tu país\"\n              options={countryOptions}\n              value={country}\n              onChange={(value) =\u003e {\n                setCountry(value as string)\n                console.log(\"País seleccionado:\", value)\n              }}\n            /\u003e\n          \u003c/FormField\u003e\n\n          {/* Select con descripción */}\n          \u003cFormField label=\"Tamaño de empresa\" htmlFor=\"company-select\"\u003e\n            \u003cSelectCustom\n              id=\"company-select\"\n              placeholder=\"Selecciona el tamaño de tu empresa\"\n              options={companyOptions}\n              value={company}\n              onChange={(value) =\u003e setCompany(value as string)}\n            /\u003e\n          \u003c/FormField\u003e\n\n          {/* Input en modo edición */}\n          \u003cFormField label=\"Perfil\" htmlFor=\"profile-input\"\u003e\n            \u003cInput\n              value=\"Usuario123\"\n              leadingIcon={Edit}\n              isEditing={isEditing}\n              onFocus={() =\u003e setIsEditing(true)}\n              onBlur={() =\u003e setIsEditing(false)}\n            /\u003e\n          \u003c/FormField\u003e\n\n          {/* Textarea */}\n          \u003cFormField label=\"Mensaje\" htmlFor=\"message-textarea\"\u003e\n            \u003cTextarea\n              value={message}\n              onChange={(e) =\u003e setMessage(e.target.value)}\n              placeholder=\"Escribe tu mensaje aquí\"\n              showCharacterCount\n              maxLength={200}\n            /\u003e\n          \u003c/FormField\u003e\n\n          {/* Textarea con error */}\n          \u003cFormField label=\"Comentarios\" htmlFor=\"comments-textarea\" error=\"Este campo es obligatorio\"\u003e\n            \u003cTextarea placeholder=\"Escribe tus comentarios\" error=\"Este campo es obligatorio\" /\u003e\n          \u003c/FormField\u003e\n\n          {/* Textarea con éxito */}\n          \u003cFormField label=\"Retroalimentación\" htmlFor=\"feedback-textarea\" hint=\"Tu retroalimentación ha sido guardada\"\u003e\n            \u003cTextarea value=\"¡Excelente trabajo!\" isSuccess={true} /\u003e\n          \u003c/FormField\u003e\n\n          {/* Textarea en modo edición */}\n          \u003cFormField label=\"Notas\" htmlFor=\"notes-textarea\" hint=\"Modo edición activado\"\u003e\n            \u003cTextarea value=\"Estas son mis notas personales.\" isEditing={true} /\u003e\n          \u003c/FormField\u003e\n\n          {/* Checkbox examples */}\n          \u003cFormField label=\"Opciones\" htmlFor=\"checkbox-section\"\u003e\n            \u003cdiv className=\"space-y-3\"\u003e\n              \u003cCustomCheck\n                id=\"terms-checkbox\"\n                label=\"Acepto los términos y condiciones\"\n                description=\"Debes aceptar para continuar\"\n                checked={acceptTerms}\n                onChange={(e) =\u003e setAcceptTerms(e.target.checked)}\n              /\u003e\n\n              \u003cCustomCheck\n                id=\"preferences-checkbox\"\n                label=\"Guardar mis preferencias\"\n                description=\"Nos permite recordar tus ajustes\"\n                variant=\"secondary\"\n                visualVariant=\"outline\"\n                checked={savePreferences}\n                onChange={(e) =\u003e setSavePreferences(e.target.checked)}\n              /\u003e\n\n              \u003cCustomCheck\n                id=\"newsletter-checkbox\"\n                label=\"Suscribirme al newsletter\"\n                description=\"Recibe noticias y actualizaciones\"\n                variant=\"success\"\n              /\u003e\n\n              \u003cCustomCheck\n                id=\"disabled-checkbox\"\n                label=\"Opción no disponible\"\n                description=\"Esta opción no está disponible ahora\"\n                disabled\n              /\u003e\n            \u003c/div\u003e\n          \u003c/FormField\u003e\n\n          {/* Buttons section */}\n          \u003cdiv className=\"flex flex-col gap-4 pt-4\"\u003e\n            \u003cText variant=\"heading\" size=\"lg\" color=\"primary\" className=\"mb-2\"\u003e\n              Botones\n            \u003c/Text\u003e\n\n            \u003cdiv className=\"flex gap-3\"\u003e\n              \u003cCustomButton\n                color=\"primary\"\n                leftIcon={\u003cSend /\u003e}\n                loading={loading}\n                loadingText=\"Enviando...\"\n                onClick={handleSubmit}\n              \u003e\n                Enviar\n              \u003c/CustomButton\u003e\n\n              \u003cCustomButton variant=\"outline\" color=\"default\"\u003e\n                Cancelar\n              \u003c/CustomButton\u003e\n            \u003c/div\u003e\n\n            \u003cdiv className=\"flex gap-3 mt-2\"\u003e\n              \u003cCustomButton color=\"success\" leftIcon={\u003cSave /\u003e} size=\"sm\"\u003e\n                Guardar\n              \u003c/CustomButton\u003e\n\n              \u003cCustomButton variant=\"ghost\" color=\"danger\" size=\"sm\"\u003e\n                Eliminar\n              \u003c/CustomButton\u003e\n\n              \u003cCustomButton variant=\"subtle\" color=\"secondary\" size=\"sm\"\u003e\n                Opcional\n              \u003c/CustomButton\u003e\n            \u003c/div\u003e\n\n            \u003cdiv className=\"flex gap-3 mt-2\"\u003e\n              \u003cCustomButton size=\"xs\" color=\"accent\"\u003e\n                Extra pequeño\n              \u003c/CustomButton\u003e\n\n              \u003cCustomButton size=\"lg\" color=\"tertiary\" rounded=\"full\"\u003e\n                Grande\n              \u003c/CustomButton\u003e\n\n              \u003cCustomButton iconOnly size=\"md\" color=\"primary\" rounded=\"full\"\u003e\n                \u003cSave /\u003e\n              \u003c/CustomButton\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n        \u003c/ProCard.Content\u003e\n\n        \u003cProCard.Footer\u003e\n          \u003cText variant=\"default\" size=\"sm\" color=\"neutral\"\u003e\n            Todos los campos marcados con * son obligatorios\n          \u003c/Text\u003e\n        \u003c/ProCard.Footer\u003e\n      \u003c/ProCard\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"52:T1c23,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState } from \"react\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\"\nimport { Label } from \"@/components/ui/label\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { Loader2 } from \"lucide-react\"\n\n// Abstracts de ejemplo\nconst abstracts = [\n  {\n    id: \"abstract1\",\n    title: \"Artificial Intelligence in Healthcare\",\n    text: \"Recent advances in artificial intelligence (AI) have shown promising results in healthcare applications. This paper reviews the current state of AI in medical diagnosis, treatment planning, and patient monitoring. We discuss the challenges of implementing AI systems in clinical settings, including issues of data privacy, algorithm transparency, and integration with existing workflows. Our findings suggest that while AI has the potential to significantly improve healthcare outcomes, careful consideration must be given to ethical implications and regulatory frameworks.\",\n  },\n  {\n    id: \"abstract2\",\n    title: \"Climate Change Adaptation Strategies\",\n    text: \"This study examines various adaptation strategies implemented by coastal communities in response to climate change impacts. Through a mixed-methods approach combining quantitative assessments and qualitative interviews, we identify key factors that influence the effectiveness of adaptation measures. Results indicate that community-based approaches that incorporate local knowledge and address social equity concerns tend to be more successful than top-down interventions. We propose a framework for evaluating adaptation strategies that considers both technical feasibility and social acceptance.\",\n  },\n]\n\nexport default function ShowroomGemini() {\n  const [selectedModel, setSelectedModel] = useState(\"pro\")\n  const [selectedAbstract, setSelectedAbstract] = useState(abstracts[0].id)\n  const [translation, setTranslation] = useState(\"\")\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState\u003cstring | null\u003e(null)\n\n  // Obtener el abstract seleccionado\n  const currentAbstract = abstracts.find((abstract) =\u003e abstract.id === selectedAbstract) || abstracts[0]\n\n  // Función para traducir el texto\n  const translateText = async () =\u003e {\n    setIsLoading(true)\n    setError(null)\n\n    try {\n      const response = await fetch(\"/api/showroomGemini\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          text: currentAbstract.text,\n          model: selectedModel,\n        }),\n      })\n\n      const data = await response.json()\n\n      if (!response.ok) {\n        throw new Error(data.error || \"Error al traducir el texto\")\n      }\n\n      setTranslation(data.translation)\n    } catch (err: any) {\n      console.error(\"Error:\", err)\n      setError(err.message || \"Error al traducir el texto\")\n      setTranslation(\"\")\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    \u003cdiv className=\"container mx-auto py-8\"\u003e\n      \u003ch1 className=\"text-2xl font-bold mb-6\"\u003eShowroom Gemini - Traductor de Abstracts\u003c/h1\u003e\n\n      \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n        \u003cCard\u003e\n          \u003cCardHeader\u003e\n            \u003cCardTitle\u003eConfiguración\u003c/CardTitle\u003e\n          \u003c/CardHeader\u003e\n          \u003cCardContent\u003e\n            \u003cdiv className=\"space-y-6\"\u003e\n              {/* Selección de modelo */}\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-sm font-medium mb-3\"\u003eSelecciona el modelo de Gemini:\u003c/h3\u003e\n                \u003cRadioGroup value={selectedModel} onValueChange={setSelectedModel} className=\"flex flex-col space-y-2\"\u003e\n                  \u003cdiv className=\"flex items-center space-x-2\"\u003e\n                    \u003cRadioGroupItem value=\"pro\" id=\"model-pro\" /\u003e\n                    \u003cLabel htmlFor=\"model-pro\"\u003eGemini 2.5 Pro\u003c/Label\u003e\n                  \u003c/div\u003e\n                  \u003cdiv className=\"flex items-center space-x-2\"\u003e\n                    \u003cRadioGroupItem value=\"flash\" id=\"model-flash\" /\u003e\n                    \u003cLabel htmlFor=\"model-flash\"\u003eGemini 2.5 Flash\u003c/Label\u003e\n                  \u003c/div\u003e\n                \u003c/RadioGroup\u003e\n              \u003c/div\u003e\n\n              {/* Selección de abstract */}\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-sm font-medium mb-3\"\u003eSelecciona un abstract:\u003c/h3\u003e\n                \u003cTabs value={selectedAbstract} onValueChange={setSelectedAbstract}\u003e\n                  \u003cTabsList className=\"grid grid-cols-2 mb-4\"\u003e\n                    \u003cTabsTrigger value=\"abstract1\"\u003eAbstract 1\u003c/TabsTrigger\u003e\n                    \u003cTabsTrigger value=\"abstract2\"\u003eAbstract 2\u003c/TabsTrigger\u003e\n                  \u003c/TabsList\u003e\n\n                  \u003cTabsContent value=\"abstract1\" className=\"border rounded-md p-4 bg-gray-50\"\u003e\n                    \u003ch4 className=\"font-medium\"\u003e{abstracts[0].title}\u003c/h4\u003e\n                    \u003cp className=\"mt-2 text-sm\"\u003e{abstracts[0].text}\u003c/p\u003e\n                  \u003c/TabsContent\u003e\n\n                  \u003cTabsContent value=\"abstract2\" className=\"border rounded-md p-4 bg-gray-50\"\u003e\n                    \u003ch4 className=\"font-medium\"\u003e{abstracts[1].title}\u003c/h4\u003e\n                    \u003cp className=\"mt-2 text-sm\"\u003e{abstracts[1].text}\u003c/p\u003e\n                  \u003c/TabsContent\u003e\n                \u003c/Tabs\u003e\n              \u003c/div\u003e\n\n              {/* Botón de traducción */}\n              \u003cButton onClick={translateText} disabled={isLoading} className=\"w-full\"\u003e\n                {isLoading ? (\n                  \u003c\u003e\n                    \u003cLoader2 className=\"mr-2 h-4 w-4 animate-spin\" /\u003e\n                    Traduciendo...\n                  \u003c/\u003e\n                ) : (\n                  \"Traducir al Español\"\n                )}\n              \u003c/Button\u003e\n            \u003c/div\u003e\n          \u003c/CardContent\u003e\n        \u003c/Card\u003e\n\n        \u003cCard\u003e\n          \u003cCardHeader\u003e\n            \u003cCardTitle\u003eResultado de la Traducción\u003c/CardTitle\u003e\n          \u003c/CardHeader\u003e\n          \u003cCardContent\u003e\n            {error ? (\n              \u003cdiv className=\"p-4 bg-red-50 border border-red-200 rounded-md text-red-600\"\u003e{error}\u003c/div\u003e\n            ) : translation ? (\n              \u003cdiv className=\"border rounded-md p-4 bg-gray-50\"\u003e\n                \u003ch4 className=\"font-medium\"\u003e{currentAbstract.title} (Traducido)\u003c/h4\u003e\n                \u003cp className=\"mt-2 text-sm\"\u003e{translation}\u003c/p\u003e\n              \u003c/div\u003e\n            ) : (\n              \u003cdiv className=\"flex items-center justify-center h-40 border rounded-md bg-gray-50 text-gray-400\"\u003e\n                La traducción aparecerá aquí\n              \u003c/div\u003e\n            )}\n          \u003c/CardContent\u003e\n        \u003c/Card\u003e\n      \u003c/div\u003e\n\n      \u003cdiv className=\"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-md\"\u003e\n        \u003ch2 className=\"text-lg font-medium text-blue-800 mb-2\"\u003eInformación del Showroom\u003c/h2\u003e\n        \u003cp className=\"text-sm text-blue-700\"\u003e\n          Este showroom demuestra cómo crear un route handler en Next.js y cómo utilizar la API de Gemini para traducir\n          texto. Utiliza la biblioteca oficial \u003ccode className=\"bg-blue-100 px-1 rounded\"\u003e@google/generative-ai\u003c/code\u003e{\" \"}\n          para interactuar con los modelos de Gemini.\n        \u003c/p\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"53:T10ff,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { GradientStrokeElement } from \"@/components/ui/gradient-stroke-element\"\nimport { Text } from \"@/components/ui/text\"\n\nexport default function GradientStrokeShowroom() {\n  return (\n    \u003cdiv className=\"container mx-auto py-12 space-y-12\"\u003e\n      \u003cdiv className=\"text-center mb-8\"\u003e\n        \u003cText as=\"h1\" variant=\"heading\" size=\"3xl\" className=\"mb-4\"\u003e\n          Elementos con Gradiente y Contorno Inverso\n        \u003c/Text\u003e\n        \u003cText variant=\"subheading\" size=\"lg\" className=\"max-w-2xl mx-auto\"\u003e\n          Demostración de elementos con gradiente de relleno y contorno inverso para resaltar formas internas\n        \u003c/Text\u003e\n      \u003c/div\u003e\n\n      \u003cdiv className=\"grid grid-cols-1 md:grid-cols-3 gap-8\"\u003e\n        {/* Ejemplos básicos con diferentes variantes */}\n        \u003cGradientStrokeElement variant=\"primary\" className=\"aspect-square\"\u003e\n          \u003cText as=\"h3\" variant=\"heading\" size=\"xl\" className=\"text-white\"\u003e\n            Primario\n          \u003c/Text\u003e\n        \u003c/GradientStrokeElement\u003e\n\n        \u003cGradientStrokeElement variant=\"secondary\" className=\"aspect-square\"\u003e\n          \u003cText as=\"h3\" variant=\"heading\" size=\"xl\" className=\"text-white\"\u003e\n            Secundario\n          \u003c/Text\u003e\n        \u003c/GradientStrokeElement\u003e\n\n        \u003cGradientStrokeElement variant=\"accent\" className=\"aspect-square\"\u003e\n          \u003cText as=\"h3\" variant=\"heading\" size=\"xl\" className=\"text-white\"\u003e\n            Acento\n          \u003c/Text\u003e\n        \u003c/GradientStrokeElement\u003e\n      \u003c/div\u003e\n\n      \u003cdiv className=\"grid grid-cols-1 md:grid-cols-3 gap-8\"\u003e\n        {/* Ejemplos con diferentes grosores de contorno */}\n        \u003cGradientStrokeElement variant=\"success\" strokeWidth={1} className=\"aspect-square\"\u003e\n          \u003cText as=\"h3\" variant=\"heading\" size=\"xl\" className=\"text-white\"\u003e\n            Contorno 1px\n          \u003c/Text\u003e\n        \u003c/GradientStrokeElement\u003e\n\n        \u003cGradientStrokeElement variant=\"success\" strokeWidth={4} className=\"aspect-square\"\u003e\n          \u003cText as=\"h3\" variant=\"heading\" size=\"xl\" className=\"text-white\"\u003e\n            Contorno 4px\n          \u003c/Text\u003e\n        \u003c/GradientStrokeElement\u003e\n\n        \u003cGradientStrokeElement variant=\"success\" strokeWidth={8} className=\"aspect-square\"\u003e\n          \u003cText as=\"h3\" variant=\"heading\" size=\"xl\" className=\"text-white\"\u003e\n            Contorno 8px\n          \u003c/Text\u003e\n        \u003c/GradientStrokeElement\u003e\n      \u003c/div\u003e\n\n      \u003cdiv className=\"grid grid-cols-1 md:grid-cols-3 gap-8\"\u003e\n        {/* Ejemplos con diferentes bordes redondeados */}\n        \u003cGradientStrokeElement variant=\"warning\" rounded=\"sm\" className=\"aspect-square\"\u003e\n          \u003cText as=\"h3\" variant=\"heading\" size=\"xl\" className=\"text-white\"\u003e\n            Borde SM\n          \u003c/Text\u003e\n        \u003c/GradientStrokeElement\u003e\n\n        \u003cGradientStrokeElement variant=\"warning\" rounded=\"lg\" className=\"aspect-square\"\u003e\n          \u003cText as=\"h3\" variant=\"heading\" size=\"xl\" className=\"text-white\"\u003e\n            Borde LG\n          \u003c/Text\u003e\n        \u003c/GradientStrokeElement\u003e\n\n        \u003cGradientStrokeElement variant=\"warning\" rounded=\"full\" className=\"aspect-square\"\u003e\n          \u003cText as=\"h3\" variant=\"heading\" size=\"xl\" className=\"text-white\"\u003e\n            Borde Circular\n          \u003c/Text\u003e\n        \u003c/GradientStrokeElement\u003e\n      \u003c/div\u003e\n\n      \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-8\"\u003e\n        {/* Comparación de contorno inverso vs no inverso */}\n        \u003cGradientStrokeElement variant=\"danger\" inverseStroke={true} className=\"aspect-square\"\u003e\n          \u003cText as=\"h3\" variant=\"heading\" size=\"xl\" className=\"text-white\"\u003e\n            Contorno Inverso\n          \u003c/Text\u003e\n        \u003c/GradientStrokeElement\u003e\n\n        \u003cGradientStrokeElement variant=\"danger\" inverseStroke={false} className=\"aspect-square\"\u003e\n          \u003cText as=\"h3\" variant=\"heading\" size=\"xl\" className=\"text-white\"\u003e\n            Contorno No Inverso\n          \u003c/Text\u003e\n        \u003c/GradientStrokeElement\u003e\n      \u003c/div\u003e\n\n      {/* Ejemplo de botón con este efecto */}\n      \u003cdiv className=\"flex justify-center mt-12\"\u003e\n        \u003cGradientStrokeElement\n          variant=\"primary\"\n          strokeWidth={3}\n          rounded=\"full\"\n          className=\"px-8 py-2 h-auto cursor-pointer hover:scale-105 transition-transform\"\n        \u003e\n          \u003cText as=\"span\" variant=\"heading\" size=\"lg\" className=\"text-white\"\u003e\n            Botón con Gradiente y Contorno\n          \u003c/Text\u003e\n        \u003c/GradientStrokeElement\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"54:T2b59,"])</script><script>self.__next_f.push([1,"import {\n  Home,\n  Bell,\n  Settings,\n  User,\n  Mail,\n  Calendar,\n  Search,\n  Heart,\n  Star,\n  Zap,\n  Shield,\n  Award,\n} from \"@/components/ui/lucide-icons\"\nimport { Icon } from \"@/components/ui/icon\"\nimport { PageBackground } from \"@/components/ui/page-background\" // Asegúrese que la ruta es correcta\nimport { ProCard } from \"@/components/ui/pro-card\" // Asegúrese que la ruta es correcta\n\nexport default function IconShowroom() {\n  // Lista de colores disponibles\n  const colors: Array\u003c{ name: string; value: any }\u003e = [\n    { name: \"default\", value: \"default\" },\n    { name: \"primary\", value: \"primary\" },\n    { name: \"secondary\", value: \"secondary\" },\n    { name: \"tertiary\", value: \"tertiary\" },\n    { name: \"accent\", value: \"accent\" },\n    // { name: \"muted\", value: \"muted\" }, // Muted no es un IconColor estándar, considerar si se debe incluir o mapear\n    { name: \"success\", value: \"success\" },\n    { name: \"warning\", value: \"warning\" },\n    { name: \"danger\", value: \"danger\" },\n    { name: \"neutral\", value: \"neutral\" },\n    { name: \"white\", value: \"white\" },\n  ]\n\n  // Lista de variantes de color actualizada\n  const colorVariants: Array\u003c{ name: string; value: \"pure\" | \"text\" | \"shade\" | \"bg\" }\u003e = [\n    { name: \"Pure\", value: \"pure\" },\n    { name: \"Text\", value: \"text\" },\n    { name: \"Shade\", value: \"shade\" }, // Actualizado de \"Dark\" a \"Shade\"\n    { name: \"Background\", value: \"bg\" },\n  ]\n\n  // Lista de tamaños disponibles\n  const sizes: Array\u003c{ name: string; value: any }\u003e = [\n    { name: \"xs\", value: \"xs\" },\n    { name: \"sm\", value: \"sm\" },\n    { name: \"md\", value: \"md\" },\n    { name: \"lg\", value: \"lg\" },\n    { name: \"xl\", value: \"xl\" },\n    { name: \"2xl\", value: \"2xl\" },\n  ]\n\n  // Lista de iconos para mostrar\n  const icons = [\n    { name: \"Home\", Component: Home },\n    { name: \"Bell\", Component: Bell },\n    { name: \"Settings\", Component: Settings },\n    { name: \"User\", Component: User },\n    { name: \"Mail\", Component: Mail },\n    { name: \"Calendar\", Component: Calendar },\n    { name: \"Search\", Component: Search },\n    { name: \"Heart\", Component: Heart },\n    { name: \"Star\", Component: Star },\n    { name: \"Zap\", Component: Zap },\n    { name: \"Shield\", Component: Shield },\n    { name: \"Award\", Component: Award },\n  ]\n\n  return (\n    \u003cPageBackground\u003e\n      \u003cdiv className=\"container mx-auto py-10 px-4\"\u003e\n        {\" \"}\n        {/* Añadido px-4 para padding horizontal */}\n        \u003cProCard\n          title=\"Sistema de Iconos\"\n          className=\"w-full\" // Asegura que ProCard ocupe el ancho disponible\n        \u003e\n          \u003csection className=\"mb-12\"\u003e\n            \u003ch2 className=\"text-2xl font-semibold mb-6 pt-4\"\u003e\n              {\" \"}\n              {/* Añadido pt-4 para espacio superior */}\n              Todas las Variantes de Color\n            \u003c/h2\u003e\n            \u003cdiv className=\"grid grid-cols-1 gap-8\"\u003e\n              {\" \"}\n              {/* Aumentado gap */}\n              {colorVariants.map((variant) =\u003e (\n                \u003cdiv key={variant.name} className=\"p-6 border rounded-lg shadow-sm\"\u003e\n                  {\" \"}\n                  {/* Añadido shadow-sm */}\n                  \u003ch3 className=\"text-xl font-medium mb-6\"\u003e\n                    {\" \"}\n                    {/* Aumentado mb */}\n                    Variante: {variant.name}\n                  \u003c/h3\u003e\n                  \u003cdiv className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8\"\u003e\n                    {\" \"}\n                    {/* Ajustado grid y gap */}\n                    {colors.map((color) =\u003e (\n                      \u003cdiv key={color.name} className=\"p-4 border rounded-md\"\u003e\n                        {\" \"}\n                        {/* Cambiado a rounded-md */}\n                        \u003ch4 className=\"text-lg font-medium mb-4 capitalize\"\u003e\n                          {\" \"}\n                          {/* Aumentado mb */}\n                          {color.name}\n                        \u003c/h4\u003e\n                        \u003cdiv className=\"flex flex-wrap gap-x-6 gap-y-4\"\u003e\n                          {\" \"}\n                          {/* Ajustado gap */}\n                          {icons.slice(0, 4).map(\n                            (\n                              { name, Component }, // Reducido a 4 iconos por simplicidad\n                            ) =\u003e (\n                              \u003cdiv key={name} className=\"flex flex-col items-center text-center\"\u003e\n                                \u003cIcon\n                                  color={color.value}\n                                  colorVariant={variant.value} // El tipo ya es correcto\n                                  size=\"md\"\n                                \u003e\n                                  \u003cComponent /\u003e\n                                \u003c/Icon\u003e\n                                \u003cspan className=\"text-xs mt-2\"\u003e{name}\u003c/span\u003e\n                              \u003c/div\u003e\n                            ),\n                          )}\n                        \u003c/div\u003e\n                      \u003c/div\u003e\n                    ))}\n                  \u003c/div\u003e\n                \u003c/div\u003e\n              ))}\n            \u003c/div\u003e\n          \u003c/section\u003e\n\n          \u003csection className=\"mb-12\"\u003e\n            \u003ch2 className=\"text-2xl font-semibold mb-6\"\u003eIconos con Gradiente\u003c/h2\u003e\n            \u003cdiv className=\"grid grid-cols-1 gap-8\"\u003e\n              {/* Gradiente con contorno inverso (predeterminado) */}\n              \u003cdiv className=\"p-6 border rounded-lg shadow-sm\"\u003e\n                \u003ch3 className=\"text-xl font-medium mb-4\"\u003eGradiente con Contorno Inverso (Predeterminado)\u003c/h3\u003e\n                \u003cp className=\"text-sm text-muted-foreground mb-6\"\u003e\n                  Aplica un gradiente al relleno y un gradiente inverso al contorno.\n                \u003c/p\u003e\n                \u003cdiv className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8\"\u003e\n                  {colors\n                    .filter((c) =\u003e c.name !== \"accent\" \u0026\u0026 c.name !== \"white\" \u0026\u0026 c.name !== \"default\") // Evitar combinaciones menos visibles\n                    .slice(0, 3)\n                    .map((color) =\u003e (\n                      \u003cdiv key={color.name} className=\"p-4 border rounded-md\"\u003e\n                        \u003ch4 className=\"text-lg font-medium mb-4 capitalize\"\u003e{color.name} + Accent\u003c/h4\u003e\n                        \u003cdiv className=\"flex flex-wrap gap-x-6 gap-y-4\"\u003e\n                          {icons.slice(0, 2).map(({ name, Component }) =\u003e (\n                            \u003cdiv key={name} className=\"flex flex-col items-center text-center\"\u003e\n                              \u003cIcon color={color.value} size=\"xl\" gradient={true} gradientWith=\"accent\"\u003e\n                                \u003cComponent /\u003e\n                              \u003c/Icon\u003e\n                              \u003cspan className=\"text-xs mt-2\"\u003e{name}\u003c/span\u003e\n                            \u003c/div\u003e\n                          ))}\n                        \u003c/div\u003e\n                      \u003c/div\u003e\n                    ))}\n                \u003c/div\u003e\n              \u003c/div\u003e\n\n              {/* Gradiente clásico (opcional) */}\n              \u003cdiv className=\"p-6 border rounded-lg shadow-sm\"\u003e\n                \u003ch3 className=\"text-xl font-medium mb-4\"\u003eGradiente Clásico (Opcional: inverseStroke=false)\u003c/h3\u003e\n                \u003cp className=\"text-sm text-muted-foreground mb-6\"\u003eMismo gradiente para relleno y contorno.\u003c/p\u003e\n                \u003cdiv className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8\"\u003e\n                  {colors\n                    .filter((c) =\u003e c.name !== \"accent\" \u0026\u0026 c.name !== \"white\" \u0026\u0026 c.name !== \"default\")\n                    .slice(0, 3)\n                    .map((color) =\u003e (\n                      \u003cdiv key={color.name} className=\"p-4 border rounded-md\"\u003e\n                        \u003ch4 className=\"text-lg font-medium mb-4 capitalize\"\u003e{color.name} + Accent\u003c/h4\u003e\n                        \u003cdiv className=\"flex flex-wrap gap-x-6 gap-y-4\"\u003e\n                          {icons.slice(2, 4).map(({ name, Component }) =\u003e (\n                            \u003cdiv key={name} className=\"flex flex-col items-center text-center\"\u003e\n                              \u003cIcon\n                                color={color.value}\n                                size=\"xl\"\n                                gradient={true}\n                                gradientWith=\"accent\"\n                                inverseStroke={false}\n                              \u003e\n                                \u003cComponent /\u003e\n                              \u003c/Icon\u003e\n                              \u003cspan className=\"text-xs mt-2\"\u003e{name}\u003c/span\u003e\n                            \u003c/div\u003e\n                          ))}\n                        \u003c/div\u003e\n                      \u003c/div\u003e\n                    ))}\n                \u003c/div\u003e\n              \u003c/div\u003e\n\n              {/* Gradiente solo en el borde */}\n              \u003cdiv className=\"p-6 border rounded-lg shadow-sm\"\u003e\n                \u003ch3 className=\"text-xl font-medium mb-4\"\u003eGradiente Solo en Borde (strokeOnly=true)\u003c/h3\u003e\n                \u003cdiv className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8\"\u003e\n                  {colors\n                    .filter((c) =\u003e c.name !== \"accent\" \u0026\u0026 c.name !== \"white\" \u0026\u0026 c.name !== \"default\")\n                    .slice(0, 3)\n                    .map((color) =\u003e (\n                      \u003cdiv key={color.name} className=\"p-4 border rounded-md\"\u003e\n                        \u003ch4 className=\"text-lg font-medium mb-4 capitalize\"\u003e{color.name} + Accent\u003c/h4\u003e\n                        \u003cdiv className=\"flex flex-wrap gap-x-6 gap-y-4\"\u003e\n                          {icons.slice(4, 6).map(({ name, Component }) =\u003e (\n                            \u003cdiv key={name} className=\"flex flex-col items-center text-center\"\u003e\n                              \u003cIcon\n                                color={color.value}\n                                size=\"xl\" // 'lg' es un buen tamaño para strokeOnly también\n                                gradient={true}\n                                gradientWith=\"accent\"\n                                strokeOnly={true}\n                              \u003e\n                                \u003cComponent /\u003e\n                              \u003c/Icon\u003e\n                              \u003cspan className=\"text-xs mt-2\"\u003e{name}\u003c/span\u003e\n                            \u003c/div\u003e\n                          ))}\n                        \u003c/div\u003e\n                      \u003c/div\u003e\n                    ))}\n                \u003c/div\u003e\n              \u003c/div\u003e\n            \u003c/div\u003e\n          \u003c/section\u003e\n\n          \u003csection className=\"mb-12\"\u003e\n            \u003ch2 className=\"text-2xl font-semibold mb-6\"\u003eTamaños de Iconos\u003c/h2\u003e\n            \u003cdiv className=\"p-6 border rounded-lg shadow-sm\"\u003e\n              \u003cdiv className=\"flex flex-wrap items-end gap-x-8 gap-y-6\"\u003e\n                {\" \"}\n                {/* Ajustado gap */}\n                {sizes.map((size) =\u003e (\n                  \u003cdiv key={size.name} className=\"flex flex-col items-center text-center\"\u003e\n                    \u003cIcon color=\"primary\" size={size.value}\u003e\n                      \u003cHome /\u003e\n                    \u003c/Icon\u003e\n                    \u003cspan className=\"text-xs mt-2\"\u003e{size.name.toUpperCase()}\u003c/span\u003e\n                  \u003c/div\u003e\n                ))}\n              \u003c/div\u003e\n            \u003c/div\u003e\n          \u003c/section\u003e\n        \u003c/ProCard\u003e\n      \u003c/div\u003e\n    \u003c/PageBackground\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"55:T2acd,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport type React from \"react\"\nimport { useState } from \"react\"\nimport { Input } from \"@/components/ui/input\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { Search, Mail, User, Lock, AlertCircle, Info, CheckCircle, CreditCard, Calendar } from \"lucide-react\"\nimport { Text } from \"@/components/ui/text\"\nimport { ThemeSwitcher } from \"@/components/ui/theme-switcher\"\nimport { FontThemeSwitcher } from \"@/components/ui/font-theme-switcher\"\nimport { Divider } from \"@/components/ui/divider\"\n\nexport default function ShowroomInput() {\n  const [values, setValues] = useState({\n    default: \"\",\n    withIcon: \"\",\n    withError: \"Error example\",\n    withSuccess: \"Success example\",\n    withHint: \"\",\n    withCounter: \"\",\n    disabled: \"Disabled input\",\n    clearable: \"Clear me\",\n  })\n\n  const handleChange = (key: keyof typeof values) =\u003e (e: React.ChangeEvent\u003cHTMLInputElement\u003e) =\u003e {\n    setValues((prev) =\u003e ({ ...prev, [key]: e.target.value }))\n  }\n\n  const handleClear = (key: keyof typeof values) =\u003e () =\u003e {\n    setValues((prev) =\u003e ({ ...prev, [key]: \"\" }))\n  }\n\n  const variants = [\"default\", \"primary\", \"secondary\", \"tertiary\", \"accent\", \"neutral\"] as const\n  const sizes = [\"sm\", \"md\", \"lg\"] as const\n\n  return (\n    \u003cdiv className=\"container mx-auto py-10\"\u003e\n      \u003cdiv className=\"flex justify-between items-center mb-8\"\u003e\n        \u003cText variant=\"heading\"\u003eInput Showroom\u003c/Text\u003e\n        \u003cdiv className=\"flex gap-4\"\u003e\n          \u003cThemeSwitcher /\u003e\n          \u003cFontThemeSwitcher /\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n\n      \u003cTabs defaultValue=\"variants\"\u003e\n        \u003cTabsList className=\"mb-4\"\u003e\n          \u003cTabsTrigger value=\"variants\"\u003eVariants\u003c/TabsTrigger\u003e\n          \u003cTabsTrigger value=\"sizes\"\u003eSizes\u003c/TabsTrigger\u003e\n          \u003cTabsTrigger value=\"states\"\u003eStates\u003c/TabsTrigger\u003e\n          \u003cTabsTrigger value=\"examples\"\u003eExamples\u003c/TabsTrigger\u003e\n        \u003c/TabsList\u003e\n\n        \u003cTabsContent value=\"variants\"\u003e\n          \u003cCard\u003e\n            \u003cCardHeader\u003e\n              \u003cCardTitle\u003eInput Variants\u003c/CardTitle\u003e\n              \u003cCardDescription\u003eDifferent visual styles for the Input component\u003c/CardDescription\u003e\n            \u003c/CardHeader\u003e\n            \u003cCardContent className=\"grid gap-6\"\u003e\n              {variants.map((variant) =\u003e (\n                \u003cdiv key={variant} className=\"space-y-2\"\u003e\n                  \u003cText variant=\"label\" className=\"capitalize\"\u003e\n                    {variant}\n                  \u003c/Text\u003e\n                  \u003cInput\n                    variant={variant}\n                    placeholder={`${variant} input`}\n                    value={values.default}\n                    onChange={handleChange(\"default\")}\n                  /\u003e\n                \u003c/div\u003e\n              ))}\n            \u003c/CardContent\u003e\n          \u003c/Card\u003e\n        \u003c/TabsContent\u003e\n\n        \u003cTabsContent value=\"sizes\"\u003e\n          \u003cCard\u003e\n            \u003cCardHeader\u003e\n              \u003cCardTitle\u003eInput Sizes\u003c/CardTitle\u003e\n              \u003cCardDescription\u003eDifferent size options for the Input component\u003c/CardDescription\u003e\n            \u003c/CardHeader\u003e\n            \u003cCardContent className=\"grid gap-6\"\u003e\n              {sizes.map((size) =\u003e (\n                \u003cdiv key={size} className=\"space-y-2\"\u003e\n                  \u003cText variant=\"label\" className=\"capitalize\"\u003e\n                    {size}\n                  \u003c/Text\u003e\n                  \u003cInput\n                    size={size}\n                    placeholder={`${size} input`}\n                    value={values.default}\n                    onChange={handleChange(\"default\")}\n                  /\u003e\n                \u003c/div\u003e\n              ))}\n\n              \u003cDivider /\u003e\n\n              \u003cText variant=\"subtitle\"\u003eWith Icons\u003c/Text\u003e\n              \u003cdiv className=\"grid gap-6\"\u003e\n                {sizes.map((size) =\u003e (\n                  \u003cdiv key={`${size}-icon`} className=\"space-y-2\"\u003e\n                    \u003cText variant=\"label\" className=\"capitalize\"\u003e\n                      {size} with icons\n                    \u003c/Text\u003e\n                    \u003cInput\n                      size={size}\n                      placeholder={`${size} input with icons`}\n                      value={values.withIcon}\n                      onChange={handleChange(\"withIcon\")}\n                      leadingIcon={Search}\n                      trailingIcon={Info}\n                    /\u003e\n                  \u003c/div\u003e\n                ))}\n              \u003c/div\u003e\n            \u003c/CardContent\u003e\n          \u003c/Card\u003e\n        \u003c/TabsContent\u003e\n\n        \u003cTabsContent value=\"states\"\u003e\n          \u003cCard\u003e\n            \u003cCardHeader\u003e\n              \u003cCardTitle\u003eInput States\u003c/CardTitle\u003e\n              \u003cCardDescription\u003eDifferent states of the Input component\u003c/CardDescription\u003e\n            \u003c/CardHeader\u003e\n            \u003cCardContent className=\"grid gap-6\"\u003e\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003eDefault\u003c/Text\u003e\n                \u003cInput placeholder=\"Default input\" value={values.default} onChange={handleChange(\"default\")} /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003eWith Error\u003c/Text\u003e\n                \u003cInput\n                  placeholder=\"Input with error\"\n                  value={values.withError}\n                  onChange={handleChange(\"withError\")}\n                  error=\"This field has an error\"\n                /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003eWith Success\u003c/Text\u003e\n                \u003cInput\n                  placeholder=\"Input with success\"\n                  value={values.withSuccess}\n                  onChange={handleChange(\"withSuccess\")}\n                  success\n                  successMessage=\"This field is valid\"\n                /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003eWith Hint\u003c/Text\u003e\n                \u003cInput\n                  placeholder=\"Input with hint\"\n                  value={values.withHint}\n                  onChange={handleChange(\"withHint\")}\n                  hint=\"This is a helpful hint\"\n                /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003eDisabled\u003c/Text\u003e\n                \u003cInput\n                  placeholder=\"Disabled input\"\n                  value={values.disabled}\n                  onChange={handleChange(\"disabled\")}\n                  disabled\n                /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003eDisabled with Icon\u003c/Text\u003e\n                \u003cInput\n                  placeholder=\"Disabled input with icon\"\n                  value={values.disabled}\n                  onChange={handleChange(\"disabled\")}\n                  disabled\n                  leadingIcon={Lock}\n                /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003eIs Editing\u003c/Text\u003e\n                \u003cInput\n                  placeholder=\"Input in editing mode\"\n                  value={values.default}\n                  onChange={handleChange(\"default\")}\n                  isEditing\n                /\u003e\n              \u003c/div\u003e\n            \u003c/CardContent\u003e\n          \u003c/Card\u003e\n        \u003c/TabsContent\u003e\n\n        \u003cTabsContent value=\"examples\"\u003e\n          \u003cCard\u003e\n            \u003cCardHeader\u003e\n              \u003cCardTitle\u003eInput Examples\u003c/CardTitle\u003e\n              \u003cCardDescription\u003eCommon use cases for the Input component\u003c/CardDescription\u003e\n            \u003c/CardHeader\u003e\n            \u003cCardContent className=\"grid gap-6\"\u003e\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003eWith Leading Icon\u003c/Text\u003e\n                \u003cInput\n                  placeholder=\"Search...\"\n                  value={values.withIcon}\n                  onChange={handleChange(\"withIcon\")}\n                  leadingIcon={Search}\n                /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003eWith Trailing Icon\u003c/Text\u003e\n                \u003cInput\n                  placeholder=\"Enter information\"\n                  value={values.withIcon}\n                  onChange={handleChange(\"withIcon\")}\n                  trailingIcon={Info}\n                /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003eWith Character Count\u003c/Text\u003e\n                \u003cInput\n                  placeholder=\"Limited to 50 characters\"\n                  value={values.withCounter}\n                  onChange={handleChange(\"withCounter\")}\n                  maxLength={50}\n                  showCharacterCount\n                /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003eClearable Input\u003c/Text\u003e\n                \u003cInput\n                  placeholder=\"Type something...\"\n                  value={values.clearable}\n                  onChange={handleChange(\"clearable\")}\n                  onClear={handleClear(\"clearable\")}\n                /\u003e\n              \u003c/div\u003e\n\n              \u003cDivider /\u003e\n\n              \u003cText variant=\"subtitle\"\u003eForm Examples\u003c/Text\u003e\n\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003eEmail Input\u003c/Text\u003e\n                \u003cInput type=\"email\" placeholder=\"Enter your email\" leadingIcon={Mail} /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003eUsername Input\u003c/Text\u003e\n                \u003cInput placeholder=\"Enter username\" leadingIcon={User} /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003ePassword Input\u003c/Text\u003e\n                \u003cInput type=\"password\" placeholder=\"Enter password\" leadingIcon={Lock} /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003eError with Icon\u003c/Text\u003e\n                \u003cInput\n                  placeholder=\"Invalid input\"\n                  value=\"Invalid value\"\n                  error=\"This field is required\"\n                  leadingIcon={AlertCircle}\n                /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003eSuccess with Icon\u003c/Text\u003e\n                \u003cInput\n                  placeholder=\"Valid input\"\n                  value=\"Valid value\"\n                  success\n                  successMessage=\"This field is valid\"\n                  leadingIcon={CheckCircle}\n                /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003eCredit Card Input\u003c/Text\u003e\n                \u003cInput placeholder=\"1234 5678 9012 3456\" leadingIcon={CreditCard} variant=\"primary\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003eDate Input\u003c/Text\u003e\n                \u003cInput type=\"date\" leadingIcon={Calendar} variant=\"secondary\" /\u003e\n              \u003c/div\u003e\n            \u003c/CardContent\u003e\n          \u003c/Card\u003e\n        \u003c/TabsContent\u003e\n      \u003c/Tabs\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"56:T11eb,"])</script><script>self.__next_f.push([1,"// app/showroom/lineclamp/page.tsx\n\"use client\"\n\nimport type React from \"react\"\n\nimport { PageWrapper } from \"@/components/ui/page-wrapper\" // Ajusta la ruta si es necesario\nimport { Text } from \"@/components/ui/text\" // Ajusta la ruta\n\nconst longText =\n  \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. \".repeat(\n    3,\n  )\n\nconst LineClampShowcasePage: React.FC = () =\u003e {\n  const bgColor = \"bg-white dark:bg-gray-800\" // Color de fondo de ejemplo\n  const textColor = \"text-gray-900 dark:text-gray-100\" // Color de texto de ejemplo\n\n  return (\n    \u003cPageWrapper title=\"Prueba de Line Clamp y Fade\" className=\"container mx-auto px-4 py-8 space-y-6\"\u003e\n      \u003cText variant=\"heading\"\u003ePrueba de Line Clamp y Efecto Fade\u003c/Text\u003e\n\n      \u003cText\u003e\n        Esta página prueba la funcionalidad de \u003ccode\u003e@tailwindcss/line-clamp\u003c/code\u003e y el efecto de disolución (fade out)\n        en texto truncado. Asegúrate de haber reiniciado el servidor después de instalar el plugin.\n      \u003c/Text\u003e\n\n      {/* Prueba 1: Line Clamp 1 sin Fade */}\n      \u003cdiv\u003e\n        \u003cText variant=\"label\" className=\"mb-2 block\"\u003e\n          Line Clamp 1 (Sin Fade)\n        \u003c/Text\u003e\n        \u003cdiv className={`p-4 rounded border ${bgColor} ${textColor}`}\u003e\n          \u003cText className=\"line-clamp-1\"\u003e{longText}\u003c/Text\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n\n      {/* Prueba 2: Line Clamp 3 con Fade */}\n      \u003cdiv\u003e\n        \u003cText variant=\"label\" className=\"mb-2 block\"\u003e\n          Line Clamp 3 (Con Fade)\n        \u003c/Text\u003e\n        \u003cdiv className={`p-4 rounded border ${bgColor} ${textColor}`}\u003e\n          \u003cdiv\n            className=\"relative\" // Contenedor relativo para el fade\n            // Variable CSS para el color de fondo del fade\n            style={\n              {\n                \"--cell-bg-for-fade\": \"hsl(var(--background))\",\n              } as React.CSSProperties\n            }\n          \u003e\n            \u003cText className=\"line-clamp-3\"\u003e{longText}\u003c/Text\u003e\n            {/* Elemento Fade */}\n            \u003cdiv\n              className=\"absolute bottom-0 right-0 w-full h-[1.5em] pointer-events-none\"\n              style={{\n                background: `linear-gradient(to right, transparent 0%, var(--cell-bg-for-fade) 70%, var(--cell-bg-for-fade) 100%)`,\n              }}\n              aria-hidden=\"true\" // Ocultar a lectores de pantalla\n            /\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n        \u003cText variant=\"caption\" className=\"mt-1 text-muted-foreground\"\u003e\n          El texto debería truncarse a 3 líneas y tener un degradado al final.\n        \u003c/Text\u003e\n      \u003c/div\u003e\n\n      {/* Prueba 3: Line Clamp 5 con Fade y Color de Fondo Diferente */}\n      \u003cdiv\u003e\n        \u003cText variant=\"label\" className=\"mb-2 block\"\u003e\n          Line Clamp 5 (Con Fade, Fondo Azul Claro)\n        \u003c/Text\u003e\n        \u003cdiv className=\"p-4 rounded border bg-blue-100 dark:bg-blue-900 text-blue-900 dark:text-blue-100\"\u003e\n          \u003cdiv\n            className=\"relative\"\n            // Usar un color explícito o un token si tienes tokens para azul claro\n            style={\n              {\n                \"--cell-bg-for-fade\": \"rgb(219 234 254)\" /* bg-blue-100 */,\n              } as React.CSSProperties\n            }\n            // Para modo oscuro, necesitarías detectar el modo y cambiar el color\n            // data-theme=\"dark\" style={{ \"--cell-bg-for-fade\": \"rgb(30 58 138)\" /* bg-blue-900 */ }}\n          \u003e\n            \u003cText className=\"line-clamp-5\"\u003e{longText}\u003c/Text\u003e\n            {/* Elemento Fade */}\n            \u003cdiv\n              className=\"absolute bottom-0 right-0 w-2/3 h-[1.5em] pointer-events-none\" // Fade más corto (w-2/3)\n              style={{\n                background: `linear-gradient(to right, transparent 0%, var(--cell-bg-for-fade) 80%, var(--cell-bg-for-fade) 100%)`, // Fade más rápido\n              }}\n              aria-hidden=\"true\"\n            /\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n\n      {/* Prueba 4: Sin Line Clamp (para comparar) */}\n      \u003cdiv\u003e\n        \u003cText variant=\"label\" className=\"mb-2 block\"\u003e\n          Sin Line Clamp\n        \u003c/Text\u003e\n        \u003cdiv className={`p-4 rounded border ${bgColor} ${textColor}`}\u003e\n          \u003cText\u003e{longText}\u003c/Text\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/PageWrapper\u003e\n  )\n}\n\nexport default LineClampShowcasePage\n"])</script><script>self.__next_f.push([1,"57:T252f,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState } from \"react\"\nimport { PageBackground } from \"@/components/ui/page-background\"\nimport { ProCard } from \"@/components/ui/pro-card\"\nimport { Text } from \"@/components/ui/text\"\nimport { Divider } from \"@/components/ui/divider\"\nimport { SustratoLoadingLogo } from \"@/components/ui/sustrato-loading-logo\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Switch } from \"@/components/ui/switch\"\nimport { Label } from \"@/components/ui/label\"\n\nexport default function ShowroomLoadingLogo() {\n  const [variant, setVariant] = useState\u003c\"spin\" | \"pulse\" | \"spin-pulse\" | \"dash\" | \"progress\"\u003e(\"spin\")\n  const [speed, setSpeed] = useState\u003c\"slow\" | \"normal\" | \"fast\"\u003e(\"normal\")\n  const [showText, setShowText] = useState(false)\n  const [size, setSize] = useState\u003cnumber\u003e(64)\n  const [breathingEffect, setBreathingEffect] = useState(true)\n  const [colorTransition, setColorTransition] = useState(true)\n\n  return (\n    \u003cPageBackground variant=\"gradient\"\u003e\n      \u003cdiv className=\"container mx-auto py-8 px-4\"\u003e\n        \u003cText as=\"h1\" size=\"3xl\" weight=\"bold\" className=\"mb-6 text-center\"\u003e\n          Sustrato Loading Logo\n        \u003c/Text\u003e\n\n        \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\"\u003e\n          \u003cProCard border=\"soft\" className=\"p-6\"\u003e\n            \u003cText as=\"h2\" size=\"xl\" weight=\"semibold\" className=\"mb-4\"\u003e\n              Personalización\n            \u003c/Text\u003e\n            \u003cdiv className=\"space-y-4\"\u003e\n              \u003cdiv className=\"flex flex-col space-y-2\"\u003e\n                \u003cLabel htmlFor=\"variant\"\u003eVariante\u003c/Label\u003e\n                \u003cSelect value={variant} onValueChange={(v) =\u003e setVariant(v as any)}\u003e\n                  \u003cSelectTrigger id=\"variant\"\u003e\n                    \u003cSelectValue placeholder=\"Selecciona una variante\" /\u003e\n                  \u003c/SelectTrigger\u003e\n                  \u003cSelectContent\u003e\n                    \u003cSelectItem value=\"spin\"\u003eRotación\u003c/SelectItem\u003e\n                    \u003cSelectItem value=\"pulse\"\u003ePulso\u003c/SelectItem\u003e\n                    \u003cSelectItem value=\"spin-pulse\"\u003eRotación y Pulso\u003c/SelectItem\u003e\n                    \u003cSelectItem value=\"dash\"\u003eTrazo Animado\u003c/SelectItem\u003e\n                    \u003cSelectItem value=\"progress\"\u003eProgreso\u003c/SelectItem\u003e\n                  \u003c/SelectContent\u003e\n                \u003c/Select\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"flex flex-col space-y-2\"\u003e\n                \u003cLabel htmlFor=\"speed\"\u003eVelocidad\u003c/Label\u003e\n                \u003cSelect value={speed} onValueChange={(v) =\u003e setSpeed(v as any)}\u003e\n                  \u003cSelectTrigger id=\"speed\"\u003e\n                    \u003cSelectValue placeholder=\"Selecciona una velocidad\" /\u003e\n                  \u003c/SelectTrigger\u003e\n                  \u003cSelectContent\u003e\n                    \u003cSelectItem value=\"slow\"\u003eLenta\u003c/SelectItem\u003e\n                    \u003cSelectItem value=\"normal\"\u003eNormal\u003c/SelectItem\u003e\n                    \u003cSelectItem value=\"fast\"\u003eRápida\u003c/SelectItem\u003e\n                  \u003c/SelectContent\u003e\n                \u003c/Select\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"flex flex-col space-y-2\"\u003e\n                \u003cLabel htmlFor=\"size\"\u003eTamaño\u003c/Label\u003e\n                \u003cSelect value={size.toString()} onValueChange={(v) =\u003e setSize(Number.parseInt(v))}\u003e\n                  \u003cSelectTrigger id=\"size\"\u003e\n                    \u003cSelectValue placeholder=\"Selecciona un tamaño\" /\u003e\n                  \u003c/SelectTrigger\u003e\n                  \u003cSelectContent\u003e\n                    \u003cSelectItem value=\"32\"\u003ePequeño (32px)\u003c/SelectItem\u003e\n                    \u003cSelectItem value=\"64\"\u003eMediano (64px)\u003c/SelectItem\u003e\n                    \u003cSelectItem value=\"96\"\u003eGrande (96px)\u003c/SelectItem\u003e\n                    \u003cSelectItem value=\"128\"\u003eExtra Grande (128px)\u003c/SelectItem\u003e\n                  \u003c/SelectContent\u003e\n                \u003c/Select\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"flex items-center space-x-2\"\u003e\n                \u003cSwitch id=\"show-text\" checked={showText} onCheckedChange={setShowText} /\u003e\n                \u003cLabel htmlFor=\"show-text\"\u003eMostrar texto\u003c/Label\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"flex items-center space-x-2\"\u003e\n                \u003cSwitch id=\"breathing-effect\" checked={breathingEffect} onCheckedChange={setBreathingEffect} /\u003e\n                \u003cLabel htmlFor=\"breathing-effect\"\u003eEfecto de respiración\u003c/Label\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"flex items-center space-x-2\"\u003e\n                \u003cSwitch id=\"color-transition\" checked={colorTransition} onCheckedChange={setColorTransition} /\u003e\n                \u003cLabel htmlFor=\"color-transition\"\u003eTransición de color\u003c/Label\u003e\n              \u003c/div\u003e\n            \u003c/div\u003e\n          \u003c/ProCard\u003e\n\n          \u003cProCard border=\"soft\" className=\"p-6 flex items-center justify-center\"\u003e\n            \u003cdiv className=\"flex flex-col items-center\"\u003e\n              \u003cSustratoLoadingLogo\n                variant={variant}\n                speed={speed}\n                size={size}\n                showText={showText}\n                breathingEffect={breathingEffect}\n                colorTransition={colorTransition}\n              /\u003e\n              \u003cText as=\"p\" size=\"sm\" className=\"mt-4 text-center\"\u003e\n                Vista previa con la configuración actual\n              \u003c/Text\u003e\n            \u003c/div\u003e\n          \u003c/ProCard\u003e\n        \u003c/div\u003e\n\n        \u003cDivider className=\"my-8\" /\u003e\n\n        \u003cText as=\"h2\" size=\"2xl\" weight=\"semibold\" className=\"mb-6 text-center\"\u003e\n          Efectos especiales\n        \u003c/Text\u003e\n\n        \u003cdiv className=\"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-8\"\u003e\n          \u003cProCard border=\"soft\" className=\"p-4 flex flex-col items-center\"\u003e\n            \u003cSustratoLoadingLogo variant=\"spin\" breathingEffect={true} colorTransition={false} /\u003e\n            \u003cText as=\"p\" size=\"sm\" className=\"mt-4 text-center\"\u003e\n              Solo efecto de respiración\n            \u003c/Text\u003e\n          \u003c/ProCard\u003e\n\n          \u003cProCard border=\"soft\" className=\"p-4 flex flex-col items-center\"\u003e\n            \u003cSustratoLoadingLogo variant=\"spin\" breathingEffect={false} colorTransition={true} /\u003e\n            \u003cText as=\"p\" size=\"sm\" className=\"mt-4 text-center\"\u003e\n              Solo transición de color\n            \u003c/Text\u003e\n          \u003c/ProCard\u003e\n\n          \u003cProCard border=\"soft\" className=\"p-4 flex flex-col items-center\"\u003e\n            \u003cSustratoLoadingLogo variant=\"spin\" breathingEffect={true} colorTransition={true} /\u003e\n            \u003cText as=\"p\" size=\"sm\" className=\"mt-4 text-center\"\u003e\n              Ambos efectos combinados\n            \u003c/Text\u003e\n          \u003c/ProCard\u003e\n        \u003c/div\u003e\n\n        \u003cDivider className=\"my-8\" /\u003e\n\n        \u003cText as=\"h2\" size=\"2xl\" weight=\"semibold\" className=\"mb-6 text-center\"\u003e\n          Todas las variantes con efectos\n        \u003c/Text\u003e\n\n        \u003cdiv className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6\"\u003e\n          \u003cProCard border=\"soft\" className=\"p-4 flex flex-col items-center\"\u003e\n            \u003cSustratoLoadingLogo variant=\"spin\" breathingEffect={true} colorTransition={true} /\u003e\n            \u003cText as=\"p\" size=\"sm\" className=\"mt-4 text-center\"\u003e\n              Rotación\n            \u003c/Text\u003e\n          \u003c/ProCard\u003e\n\n          \u003cProCard border=\"soft\" className=\"p-4 flex flex-col items-center\"\u003e\n            \u003cSustratoLoadingLogo variant=\"pulse\" breathingEffect={true} colorTransition={true} /\u003e\n            \u003cText as=\"p\" size=\"sm\" className=\"mt-4 text-center\"\u003e\n              Pulso\n            \u003c/Text\u003e\n          \u003c/ProCard\u003e\n\n          \u003cProCard border=\"soft\" className=\"p-4 flex flex-col items-center\"\u003e\n            \u003cSustratoLoadingLogo variant=\"spin-pulse\" breathingEffect={true} colorTransition={true} /\u003e\n            \u003cText as=\"p\" size=\"sm\" className=\"mt-4 text-center\"\u003e\n              Rotación y Pulso\n            \u003c/Text\u003e\n          \u003c/ProCard\u003e\n\n          \u003cProCard border=\"soft\" className=\"p-4 flex flex-col items-center\"\u003e\n            \u003cSustratoLoadingLogo variant=\"dash\" breathingEffect={true} colorTransition={true} /\u003e\n            \u003cText as=\"p\" size=\"sm\" className=\"mt-4 text-center\"\u003e\n              Trazo Animado\n            \u003c/Text\u003e\n          \u003c/ProCard\u003e\n\n          \u003cProCard border=\"soft\" className=\"p-4 flex flex-col items-center\"\u003e\n            \u003cSustratoLoadingLogo variant=\"progress\" breathingEffect={true} colorTransition={true} /\u003e\n            \u003cText as=\"p\" size=\"sm\" className=\"mt-4 text-center\"\u003e\n              Progreso\n            \u003c/Text\u003e\n          \u003c/ProCard\u003e\n        \u003c/div\u003e\n\n        \u003cDivider className=\"my-8\" /\u003e\n\n        \u003cText as=\"h2\" size=\"2xl\" weight=\"semibold\" className=\"mb-6 text-center\"\u003e\n          Diferentes velocidades\n        \u003c/Text\u003e\n\n        \u003cdiv className=\"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-8\"\u003e\n          \u003cProCard border=\"soft\" className=\"p-4 flex flex-col items-center\"\u003e\n            \u003cSustratoLoadingLogo variant=\"spin\" speed=\"slow\" breathingEffect={true} colorTransition={true} /\u003e\n            \u003cText as=\"p\" size=\"sm\" className=\"mt-4 text-center\"\u003e\n              Velocidad lenta\n            \u003c/Text\u003e\n          \u003c/ProCard\u003e\n\n          \u003cProCard border=\"soft\" className=\"p-4 flex flex-col items-center\"\u003e\n            \u003cSustratoLoadingLogo variant=\"spin\" speed=\"normal\" breathingEffect={true} colorTransition={true} /\u003e\n            \u003cText as=\"p\" size=\"sm\" className=\"mt-4 text-center\"\u003e\n              Velocidad normal\n            \u003c/Text\u003e\n          \u003c/ProCard\u003e\n\n          \u003cProCard border=\"soft\" className=\"p-4 flex flex-col items-center\"\u003e\n            \u003cSustratoLoadingLogo variant=\"spin\" speed=\"fast\" breathingEffect={true} colorTransition={true} /\u003e\n            \u003cText as=\"p\" size=\"sm\" className=\"mt-4 text-center\"\u003e\n              Velocidad rápida\n            \u003c/Text\u003e\n          \u003c/ProCard\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/PageBackground\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"58:T3281,"])</script><script>self.__next_f.push([1,"\"use client\";\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { ProTable } from \"@/components/ui/pro-table\"; // Asegúrate que la ruta sea correcta\nimport type { ColumnDef } from \"@tanstack/react-table\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { PageWrapper } from \"@/components/ui/page-wrapper\";\nimport { Text } from \"@/components/ui/text\";\nimport { Button } from \"@/components/ui/button\";\n// import { AnimatePresence, motion } from \"framer-motion\"; // No se usa directamente aquí, ProTable lo maneja\nimport { CheckCircle2, XCircle } from \"lucide-react\";\n\n// Datos para el nuevo showroom\ninterface TestData {\n  id: string;\n  title: string;\n  description: string;\n  priority: \"high\" | \"medium\" | \"low\";\n  status: \"completed\" | \"pending\" | \"cancelled\";\n  tags: string[];\n  progress: number;\n  subRows?: TestData[];\n}\n\nconst getLongText = (numParagraphs: number) =\u003e {\n  const base =\n    \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam at justo vel libero venenatis fringilla. Donec euismod, nisl eget aliquam ultricies, nunc nisl ultricies nunc, quis ultricies nisl nisl eget aliquam. \";\n  return Array(numParagraphs).fill(base).join(\" \").trim();\n};\n\nconst testData: TestData[] = [\n  {\n    id: \"1\",\n    title: \"Tarea con 1 línea máxima en celda\",\n    description: getLongText(5), // Hacerlo más largo para probar tooltip\n    priority: \"high\",\n    status: \"pending\",\n    tags: [\"frontend\", \"urgente\"],\n    progress: 25,\n    subRows: [\n      {\n        id: \"1-1\",\n        title: \"Subtarea 1\",\n        description: \"Subtarea con descripción corta\",\n        priority: \"medium\",\n        status: \"completed\",\n        tags: [\"research\"],\n        progress: 100,\n      },\n    ],\n  },\n  {\n    id: \"2\",\n    title: \"Tarea con 3 líneas máximas en celda\",\n    description: getLongText(10), // Hacerlo más largo\n    priority: \"medium\",\n    status: \"completed\",\n    tags: [\"backend\", \"database\"],\n    progress: 100,\n  },\n  {\n    id: \"3\",\n    title: \"Tarea con 5 líneas máximas en celda\",\n    description: getLongText(15), // Hacerlo más largo\n    priority: \"low\",\n    status: \"pending\",\n    tags: [\"design\", \"ui\"],\n    progress: 60,\n    subRows: [\n      {\n        id: \"3-1\",\n        title: \"Subtarea A\",\n        description:\n          \"Primera subtarea con descripción mediana que ocupa al menos dos líneas para ver cómo queda. Esta es una prueba para el tooltip de contenido largo.\",\n        priority: \"medium\",\n        status: \"pending\",\n        tags: [\"wireframes\"],\n        progress: 40,\n      },\n      {\n        id: \"3-2\",\n        title: \"Subtarea B\",\n        description: \"Segunda subtarea con descripción corta\",\n        priority: \"low\",\n        status: \"cancelled\",\n        tags: [\"mockups\"],\n        progress: 20,\n      },\n    ],\n  },\n  {\n    id: \"4\",\n    title: \"Tarea con celda de éxito\",\n    description: \"Esta tarea tiene una celda con estilo 'success' en Prioridad.\",\n    priority: \"low\", // Cambiado para que coincida con cellVariant 'success'\n    status: \"completed\",\n    tags: [\"deployment\", \"testing\"],\n    progress: 95,\n  },\n  {\n    id: \"5\",\n    title: \"Tarea con celda de advertencia\",\n    description: \"Esta tarea tiene una celda con estilo 'warning' en Prioridad.\",\n    priority: \"medium\", // Coincide con cellVariant 'warning'\n    status: \"pending\",\n    tags: [\"optimization\"],\n    progress: 50,\n  },\n  {\n    id: \"6\",\n    title: \"Tarea con celda de peligro\",\n    description: \"Esta tarea tiene una celda con estilo 'danger' en Prioridad.\",\n    priority: \"high\", // Coincide con cellVariant 'danger'\n    status: \"cancelled\",\n    tags: [\"security\", \"fixes\"],\n    progress: 10,\n  },\n];\n\n// Componentes personalizados para selección de columnas\nconst CustomCheck = ({\n  checked,\n  onChange,\n}: {\n  checked: boolean;\n  onChange: () =\u003e void;\n}) =\u003e {\n  return (\n    \u003cdiv\n      onClick={onChange}\n      className=\"cursor-pointer flex items-center justify-center w-5 h-5\" // Asegurar centrado\n      role=\"checkbox\"\n      aria-checked={checked}\n      tabIndex={0} // Hacerlo enfocable\n      onKeyDown={(e) =\u003e { if (e.key === ' ' || e.key === 'Enter') { e.preventDefault(); onChange(); }}} // Permitir activación con teclado\n    \u003e\n      {checked ? (\n        \u003cCheckCircle2 className=\"h-5 w-5 text-primary\" /\u003e\n      ) : (\n        \u003cXCircle className=\"h-5 w-5 text-muted-foreground\" /\u003e\n      )}\n    \u003c/div\u003e\n  );\n};\n\nconst TableShowcaseSimple: React.FC = () =\u003e {\n  const scrollRef = useRef\u003cHTMLDivElement\u003e(null);\n  const [isScrolling, setIsScrolling] = useState(false);\n\n  useEffect(() =\u003e {\n    let scrollTimer: NodeJS.Timeout;\n    const handleScroll = () =\u003e {\n      setIsScrolling(true);\n      clearTimeout(scrollTimer);\n      scrollTimer = setTimeout(() =\u003e setIsScrolling(false), 150); // Reducir delay\n    };\n\n    const div = scrollRef.current;\n    if (div) {\n      div.addEventListener(\"scroll\", handleScroll, { passive: true }); // Mejorar rendimiento\n      return () =\u003e {\n        div.removeEventListener(\"scroll\", handleScroll);\n        clearTimeout(scrollTimer);\n      };\n    }\n  }, []);\n\n  const columns: ColumnDef\u003cTestData, any\u003e[] = [\n    // MEJORA: Añadir columna expander\n    {\n      id: 'expander',\n      header: () =\u003e null, // Opcional: puedes poner un header si lo necesitas\n      size: 45, // Ancho adecuado para el ícono circular\n      minSize: 40,\n      maxSize: 50,\n      cell: ({ row }) =\u003e {\n        // ProTable se encargará de renderizar el ExpandIconComponent aquí\n        // basado en row.getCanExpand() y row.getIsExpanded()\n        // Así que esta celda puede estar \"vacía\" en la definición,\n        // ProTable lo llenará.\n        return null;\n      },\n    },\n    {\n      accessorKey: \"title\",\n      header: \"Título\",\n      cell: (info) =\u003e info.getValue(),\n      meta: {\n        lineClamp: 1, // ProTable usará esto para aplicar la clase line-clamp-1\n        enableTooltip: true, // Habilitar tooltip si el título es largo\n      },\n    },\n    {\n      accessorKey: \"description\",\n      header: \"Descripción\",\n      // La lógica de line-clamp dinámico por celda es interesante.\n      // ProTable aplicará `meta.lineClamp` (que es 2) globalmente a esta columna.\n      // Si necesitas anularlo por celda, el estilo en línea es una forma.\n      // Alternativamente, podrías hacer que ProTable acepte lineClamp en `cellContext.cell.column.columnDef.meta`\n      // que pueda ser una función y leerlo desde ahí.\n      cell: (info) =\u003e {\n        const row = info.row.original;\n        // El lineClamp base de ProTable (meta.lineClamp=2) se aplicará.\n        // Si quieres un line-clamp específico para estas filas, podrías\n        // aplicar estilos en línea o clases específicas aquí.\n        // Por ahora, ProTable usará el meta.lineClamp de la columna.\n        // Si el lineClamp de la celda es más importante, mantenemos tu lógica:\n        let lineClampForCell = info.column.columnDef.meta?.lineClamp || 2; // Valor por defecto de la columna\n        if (row.id === \"1\") lineClampForCell = 1;\n        else if (row.id === \"2\") lineClampForCell = 3;\n        else if (row.id === \"3\") lineClampForCell = 5;\n\n        const style: React.CSSProperties = lineClampForCell \u003e 0 ? {\n            display: \"-webkit-box\",\n            WebkitBoxOrient: \"vertical\",\n            WebkitLineClamp: lineClampForCell,\n            overflow: \"hidden\",\n            // textOverflow: \"ellipsis\", // Opcional\n          } : {};\n\n        return \u003cdiv style={style}\u003e{info.getValue() as string}\u003c/div\u003e;\n      },\n      meta: {\n        enableTooltip: true,\n        isLongContent: true, // Indica que el contenido puede ser muy largo para el tooltip grande\n        lineClamp: 2, // Fallback lineClamp para la columna si no se especifica en la celda\n      },\n    },\n    {\n      accessorKey: \"priority\",\n      header: \"Prioridad\",\n      cell: (info) =\u003e {\n        const priority = info.getValue() as TestData[\"priority\"];\n        const variants: Record\u003c\n          TestData[\"priority\"],\n          { color: string; label: string }\n        \u003e = {\n          high: { color: \"destructive\", label: \"Alta\" },\n          medium: { color: \"default\", label: \"Media\" }, // Cambiado a 'default' para Badge, cellVariant controlará el fondo\n          low: { color: \"secondary\", label: \"Baja\" },  // Cambiado a 'secondary' para Badge\n        };\n        return (\n          \u003cBadge\n            variant={variants[priority].color as any} // Usar los colores de Badge para el texto/borde del badge\n            className=\"capitalize\"\n          \u003e\n            {variants[priority].label}\n          \u003c/Badge\u003e\n        );\n      },\n      meta: {\n        // El cellVariant determinará el fondo de la celda según la lógica de ProTable\n        cellVariant: (info) =\u003e {\n          const priority = info.getValue() as TestData[\"priority\"];\n          if (priority === \"high\") return \"danger\";\n          if (priority === \"medium\") return \"warning\";\n          if (priority === \"low\") return \"success\";\n          return undefined;\n        },\n      },\n    },\n    {\n      accessorKey: \"status\",\n      header: \"Estado\",\n      cell: (info) =\u003e {\n        const status = info.getValue() as TestData[\"status\"];\n        return (\n          \u003cdiv className=\"font-medium\"\u003e\n            {status === \"completed\"\n              ? \"Completado\"\n              : status === \"pending\"\n              ? \"Pendiente\"\n              : \"Cancelado\"}\n          \u003c/div\u003e\n        );\n      },\n    },\n    {\n      accessorKey: \"tags\",\n      header: \"Etiquetas\",\n      cell: (info) =\u003e {\n        const tags = info.getValue() as string[];\n        return (\n          \u003cdiv className=\"flex flex-wrap gap-1\"\u003e\n            {tags.map((tag) =\u003e (\n              \u003cBadge key={tag} variant=\"outline\" className=\"text-xs\"\u003e\n                {tag}\n              \u003c/Badge\u003e\n            ))}\n          \u003c/div\u003e\n        );\n      },\n      meta: {\n        enableTooltip: true, // Si la lista de tags puede ser larga\n      }\n    },\n    {\n      id: \"actions\",\n      header: \"Acciones\",\n      cell: ({ row }) =\u003e (\n        \u003cdiv className=\"flex items-center justify-center space-x-2\"\u003e\n          \u003cButton variant=\"outline\" size=\"sm\"\u003e\n            Ver\n          \u003c/Button\u003e\n          \u003cButton variant=\"ghost\" size=\"sm\" className=\"text-red-600 hover:text-red-700\"\u003e {/* Añadido hover */}\n            Eliminar\n          \u003c/Button\u003e\n        \u003c/div\u003e\n      ),\n      meta: {\n        type: \"actions\",\n        isFixed: true,\n      },\n    },\n  ];\n\n  const getRowStatus = (row: TestData) =\u003e {\n    // Para esta demo, no usamos getRowStatus para colorear filas enteras,\n    // el color se maneja por celda con cellVariant.\n    return null;\n  };\n\n  return (\n    \u003cPageWrapper\n      title=\"ProTable Simplificado\"\n      className=\"container mx-auto px-4 py-8\"\n    \u003e\n                                             // o si ProTable debe scrollear internamente.\n                                             // Si el scroll es de la PÁGINA, ProTable no necesita el ref.\n  \n      \u003cText variant=\"heading\" as=\"h1\" className=\"mb-4\"\u003e\n        Versión Simplificada de ProTable\n      \u003c/Text\u003e\n\n      \u003cText variant=\"default\" className=\"mb-6\"\u003e\n        Esta versión se enfoca en demostrar:\n      \u003c/Text\u003e\n\n      \u003cul className=\"list-disc list-inside mb-6 space-y-1\"\u003e\n        \u003cli\u003eColumna de expansión automática con ícono estilizado.\u003c/li\u003e\n        \u003cli\u003eTextos largos con diferentes alturas máximas (controlado por celda).\u003c/li\u003e\n        \u003cli\u003eCeldas con fondos de color específicos (vía `meta.cellVariant`).\u003c/li\u003e\n        \u003cli\u003eEfecto \"hundido\" para subfilas.\u003c/li\u003e\n        \u003cli\u003eControles personalizados para selección de columnas.\u003c/li\u003e\n        \u003cli\u003eOcultamiento del popup de selección de columnas al hacer scroll en la página.\u003c/li\u003e\n      \u003c/ul\u003e\n\n      {/* El div con ref para scroll se quita si ProTable maneja su propio scroll\n          o si el scroll es de la página completa y hideMenuOnScroll se basa en eso.\n          Si es para el scroll de la página, PageWrapper debería tener el ref.\n          Para este ejemplo, asumimos que hideMenuOnScroll se refiere al scroll de la ventana.\n      */}\n      \u003cdiv ref={scrollRef}\u003e {/* Mantener si es para detectar scroll DEL CONTENEDOR de la tabla */}\n        \u003cProTable\u003cTestData\u003e\n          data={testData}\n          columns={columns}\n          enableTooltips={true}\n          enableSorting={true}\n          showColumnSelector={true}\n          placeholder=\"Buscar en la tabla...\"\n          getRowStatus={getRowStatus}\n          lineClamp={2} // lineClamp general para columnas que no lo especifiquen\n          // maxVisibleLines={3} // No está en la interfaz de ProTable actual\n          stickyHeader={true}\n          className=\"mt-4 border rounded-lg shadow-lg\" // Quitar overflow-hidden si ProTable maneja su scroll\n          renderCustomCheck={(props) =\u003e \u003cCustomCheck {...props} /\u003e}\n          hideMenuOnScroll={isScrolling} // hideMenuOnScroll se activa si scrollRef (o window) hace scroll\n        /\u003e\n      \u003c/div\u003e\n    \u003c/PageWrapper\u003e\n  );\n};\n\nexport default TableShowcaseSimple;\n"])</script><script>self.__next_f.push([1,"59:T3269,"])</script><script>self.__next_f.push([1,"// --- START OF FILE Copia de page.txt (CON MEJORAS Y CORRECCIONES) ---\n\n\"use client\"\n\nimport type React from \"react\"\nimport { useState, useEffect, useRef } from \"react\"\nimport { ProTable } from \"@/components/ui/pro-table\" // Asegúrate que la ruta sea correcta\nimport type { ColumnDef } from \"@tanstack/react-table\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { PageWrapper } from \"@/components/ui/page-wrapper\"\nimport { Text } from \"@/components/ui/text\"\nimport { Button } from \"@/components/ui/button\"\n// import { AnimatePresence, motion } from \"framer-motion\"; // No se usa directamente aquí, ProTable lo maneja\nimport { CheckCircle2, XCircle } from \"lucide-react\"\n\n// Datos para el nuevo showroom\ninterface TestData {\n  id: string\n  title: string\n  description: string\n  priority: \"high\" | \"medium\" | \"low\"\n  status: \"completed\" | \"pending\" | \"cancelled\"\n  tags: string[]\n  progress: number\n  subRows?: TestData[]\n}\n\nconst getLongText = (numParagraphs: number) =\u003e {\n  const base =\n    \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam at justo vel libero venenatis fringilla. Donec euismod, nisl eget aliquam ultricies, nunc nisl ultricies nunc, quis ultricies nisl nisl eget aliquam. \"\n  return Array(numParagraphs).fill(base).join(\" \").trim()\n}\n\nconst testData: TestData[] = [\n  {\n    id: \"1\",\n    title: \"Tarea con 1 línea máxima en celda\",\n    description: getLongText(5), // Hacerlo más largo para probar tooltip\n    priority: \"high\",\n    status: \"pending\",\n    tags: [\"frontend\", \"urgente\"],\n    progress: 25,\n    subRows: [\n      {\n        id: \"1-1\",\n        title: \"Subtarea 1\",\n        description: \"Subtarea con descripción corta\",\n        priority: \"medium\",\n        status: \"completed\",\n        tags: [\"research\"],\n        progress: 100,\n      },\n    ],\n  },\n  {\n    id: \"2\",\n    title: \"Tarea con 3 líneas máximas en celda\",\n    description: getLongText(10), // Hacerlo más largo\n    priority: \"medium\",\n    status: \"completed\",\n    tags: [\"backend\", \"database\"],\n    progress: 100,\n  },\n  {\n    id: \"3\",\n    title: \"Tarea con 5 líneas máximas en celda\",\n    description: getLongText(15), // Hacerlo más largo\n    priority: \"low\",\n    status: \"pending\",\n    tags: [\"design\", \"ui\"],\n    progress: 60,\n    subRows: [\n      {\n        id: \"3-1\",\n        title: \"Subtarea A\",\n        description:\n          \"Primera subtarea con descripción mediana que ocupa al menos dos líneas para ver cómo queda. Esta es una prueba para el tooltip de contenido largo.\",\n        priority: \"medium\",\n        status: \"pending\",\n        tags: [\"wireframes\"],\n        progress: 40,\n      },\n      {\n        id: \"3-2\",\n        title: \"Subtarea B\",\n        description: \"Segunda subtarea con descripción corta\",\n        priority: \"low\",\n        status: \"cancelled\",\n        tags: [\"mockups\"],\n        progress: 20,\n      },\n    ],\n  },\n  {\n    id: \"4\",\n    title: \"Tarea con celda de éxito\",\n    description: \"Esta tarea tiene una celda con estilo 'success' en Prioridad.\",\n    priority: \"low\", // Cambiado para que coincida con cellVariant 'success'\n    status: \"completed\",\n    tags: [\"deployment\", \"testing\"],\n    progress: 95,\n  },\n  {\n    id: \"5\",\n    title: \"Tarea con celda de advertencia\",\n    description: \"Esta tarea tiene una celda con estilo 'warning' en Prioridad.\",\n    priority: \"medium\", // Coincide con cellVariant 'warning'\n    status: \"pending\",\n    tags: [\"optimization\"],\n    progress: 50,\n  },\n  {\n    id: \"6\",\n    title: \"Tarea con celda de peligro\",\n    description: \"Esta tarea tiene una celda con estilo 'danger' en Prioridad.\",\n    priority: \"high\", // Coincide con cellVariant 'danger'\n    status: \"cancelled\",\n    tags: [\"security\", \"fixes\"],\n    progress: 10,\n  },\n]\n\n// Componentes personalizados para selección de columnas\nconst CustomCheck = ({\n  checked,\n  onChange,\n}: {\n  checked: boolean\n  onChange: () =\u003e void\n}) =\u003e {\n  return (\n    \u003cdiv\n      onClick={onChange}\n      className=\"cursor-pointer flex items-center justify-center w-5 h-5\" // Asegurar centrado\n      role=\"checkbox\"\n      aria-checked={checked}\n      tabIndex={0} // Hacerlo enfocable\n      onKeyDown={(e) =\u003e {\n        if (e.key === \" \" || e.key === \"Enter\") {\n          e.preventDefault()\n          onChange()\n        }\n      }} // Permitir activación con teclado\n    \u003e\n      {checked ? (\n        \u003cCheckCircle2 className=\"h-5 w-5 text-primary\" /\u003e\n      ) : (\n        \u003cXCircle className=\"h-5 w-5 text-muted-foreground\" /\u003e\n      )}\n    \u003c/div\u003e\n  )\n}\n\nconst TableShowcaseSimple: React.FC = () =\u003e {\n  const scrollRef = useRef\u003cHTMLDivElement\u003e(null)\n  const [isScrolling, setIsScrolling] = useState(false)\n\n  useEffect(() =\u003e {\n    let scrollTimer: NodeJS.Timeout\n    const handleScroll = () =\u003e {\n      setIsScrolling(true)\n      clearTimeout(scrollTimer)\n      scrollTimer = setTimeout(() =\u003e setIsScrolling(false), 150) // Reducir delay\n    }\n\n    const div = scrollRef.current\n    if (div) {\n      div.addEventListener(\"scroll\", handleScroll, { passive: true }) // Mejorar rendimiento\n      return () =\u003e {\n        div.removeEventListener(\"scroll\", handleScroll)\n        clearTimeout(scrollTimer)\n      }\n    }\n  }, [])\n\n  const columns: ColumnDef\u003cTestData, any\u003e[] = [\n    // MEJORA: Añadir columna expander\n    {\n      id: \"expander\",\n      header: () =\u003e null, // Opcional: puedes poner un header si lo necesitas\n      size: 45, // Ancho adecuado para el ícono circular\n      minSize: 40,\n      maxSize: 50,\n      cell: ({ row }) =\u003e {\n        // ProTable se encargará de renderizar el ExpandIconComponent aquí\n        // basado en row.getCanExpand() y row.getIsExpanded()\n        // Así que esta celda puede estar \"vacía\" en la definición,\n        // ProTable lo llenará.\n        return null\n      },\n    },\n    {\n      accessorKey: \"title\",\n      header: \"Título\",\n      cell: (info) =\u003e info.getValue(),\n      meta: {\n        lineClamp: 1,\n        enableTooltip: false,\n      },\n    },\n    {\n      accessorKey: \"description\",\n      header: \"Descripción\",\n      // La lógica de line-clamp dinámico por celda es interesante.\n      // ProTable aplicará `meta.lineClamp` (que es 2) globalmente a esta columna.\n      // Si necesitas anularlo por celda, el estilo en línea es una forma.\n      // Alternativamente, podrías hacer que ProTable acepte lineClamp en `cellContext.cell.column.columnDef.meta`\n      // que pueda ser una función y leerlo desde ahí.\n      cell: (info) =\u003e {\n        const row = info.row.original\n        // El lineClamp base de ProTable (meta.lineClamp=2) se aplicará.\n        // Si quieres un line-clamp específico para estas filas, podrías\n        // aplicar estilos en línea o clases específicas aquí.\n        // Por ahora, ProTable usará el meta.lineClamp de la columna.\n        // Si el lineClamp de la celda es más importante, mantenemos tu lógica:\n        let lineClampForCell = info.column.columnDef.meta?.lineClamp || 2 // Valor por defecto de la columna\n        if (row.id === \"1\") lineClampForCell = 1\n        else if (row.id === \"2\") lineClampForCell = 3\n        else if (row.id === \"3\") lineClampForCell = 5\n\n        const style: React.CSSProperties =\n          lineClampForCell \u003e 0\n            ? {\n                display: \"-webkit-box\",\n                WebkitBoxOrient: \"vertical\",\n                WebkitLineClamp: lineClampForCell,\n                overflow: \"hidden\",\n                // textOverflow: \"ellipsis\", // Opcional\n              }\n            : {}\n\n        return \u003cdiv style={style}\u003e{info.getValue() as string}\u003c/div\u003e\n      },\n      meta: {\n        enableTooltip: true,\n        isLongContent: true, // Indica que el contenido puede ser muy largo para el tooltip grande\n        lineClamp: 2, // Fallback lineClamp para la columna si no se especifica en la celda\n      },\n    },\n    {\n      accessorKey: \"priority\",\n      header: \"Prioridad\",\n      cell: (info) =\u003e {\n        const priority = info.getValue() as TestData[\"priority\"]\n        const variants: Record\u003cTestData[\"priority\"], { color: string; label: string }\u003e = {\n          high: { color: \"destructive\", label: \"Alta\" },\n          medium: { color: \"default\", label: \"Media\" }, // Cambiado a 'default' para Badge, cellVariant controlará el fondo\n          low: { color: \"secondary\", label: \"Baja\" }, // Cambiado a 'secondary' para Badge\n        }\n        return (\n          \u003cBadge\n            variant={variants[priority].color as any} // Usar los colores de Badge para el texto/borde del badge\n            className=\"capitalize\"\n          \u003e\n            {variants[priority].label}\n          \u003c/Badge\u003e\n        )\n      },\n      meta: {\n        // El cellVariant determinará el fondo de la celda según la lógica de ProTable\n        cellVariant: (info) =\u003e {\n          const priority = info.getValue() as TestData[\"priority\"]\n          if (priority === \"high\") return \"danger\"\n          if (priority === \"medium\") return \"warning\"\n          if (priority === \"low\") return \"success\"\n          return undefined\n        },\n        enableTooltip: false,\n      },\n    },\n    {\n      accessorKey: \"status\",\n      header: \"Estado\",\n      cell: (info) =\u003e {\n        const status = info.getValue() as TestData[\"status\"]\n        return (\n          \u003cdiv className=\"font-medium\"\u003e\n            {status === \"completed\" ? \"Completado\" : status === \"pending\" ? \"Pendiente\" : \"Cancelado\"}\n          \u003c/div\u003e\n        )\n      },\n      meta: {\n        enableTooltip: false,\n      },\n    },\n    {\n      accessorKey: \"tags\",\n      header: \"Etiquetas\",\n      cell: (info) =\u003e {\n        const tags = info.getValue() as string[]\n        return (\n          \u003cdiv className=\"flex flex-wrap gap-1\"\u003e\n            {tags.map((tag) =\u003e (\n              \u003cBadge key={tag} variant=\"outline\" className=\"text-xs\"\u003e\n                {tag}\n              \u003c/Badge\u003e\n            ))}\n          \u003c/div\u003e\n        )\n      },\n      meta: {\n        enableTooltip: false,\n      },\n    },\n    {\n      id: \"actions\",\n      header: \"Acciones\",\n      cell: ({ row }) =\u003e (\n        \u003cdiv className=\"flex items-center justify-center space-x-2\"\u003e\n          \u003cButton variant=\"outline\" size=\"sm\"\u003e\n            Ver\n          \u003c/Button\u003e\n          \u003cButton variant=\"ghost\" size=\"sm\" className=\"text-red-600 hover:text-red-700\"\u003e\n            {\" \"}\n            {/* Añadido hover */}\n            Eliminar\n          \u003c/Button\u003e\n        \u003c/div\u003e\n      ),\n      meta: {\n        type: \"actions\",\n        isFixed: true,\n      },\n    },\n  ]\n\n  const getRowStatus = (row: TestData) =\u003e {\n    // Para esta demo, no usamos getRowStatus para colorear filas enteras,\n    // el color se maneja por celda con cellVariant.\n    return null\n  }\n\n  return (\n    \u003cPageWrapper title=\"ProTable Simplificado\" className=\"container mx-auto px-4 py-8\"\u003e\n      // o si ProTable debe scrollear internamente. // Si el scroll es de la PÁGINA, ProTable no necesita el ref.\n      \u003cText variant=\"heading\" as=\"h1\" className=\"mb-4\"\u003e\n        Versión Simplificada de ProTable\n      \u003c/Text\u003e\n      \u003cText variant=\"default\" className=\"mb-6\"\u003e\n        Esta versión se enfoca en demostrar:\n      \u003c/Text\u003e\n      \u003cul className=\"list-disc list-inside mb-6 space-y-1\"\u003e\n        \u003cli\u003eColumna de expansión automática con ícono estilizado.\u003c/li\u003e\n        \u003cli\u003eTextos largos con diferentes alturas máximas (controlado por celda).\u003c/li\u003e\n        \u003cli\u003eCeldas con fondos de color específicos (vía `meta.cellVariant`).\u003c/li\u003e\n        \u003cli\u003eEfecto \"hundido\" para subfilas.\u003c/li\u003e\n        \u003cli\u003eControles personalizados para selección de columnas.\u003c/li\u003e\n        \u003cli\u003eOcultamiento del popup de selección de columnas al hacer scroll en la página.\u003c/li\u003e\n      \u003c/ul\u003e\n      {/* El div con ref para scroll se quita si ProTable maneja su propio scroll\n          o si el scroll es de la página completa y hideMenuOnScroll se basa en eso.\n          Si es para el scroll de la página, PageWrapper debería tener el ref.\n          Para este ejemplo, asumimos que hideMenuOnScroll se refiere al scroll de la ventana.\n      */}\n      \u003cdiv ref={scrollRef}\u003e\n        {\" \"}\n        {/* Mantener si es para detectar scroll DEL CONTENEDOR de la tabla */}\n        \u003cProTable\u003cTestData\u003e\n          data={[...testData, ...testData]}\n          columns={columns}\n          enableTooltips={true}\n          enableSorting={true}\n          showColumnSelector={true}\n          placeholder=\"Buscar en la tabla...\"\n          getRowStatus={getRowStatus}\n          lineClamp={2} // lineClamp general para columnas que no lo especifiquen\n          // maxVisibleLines={3} // No está en la interfaz de ProTable actual\n          stickyHeader={true}\n          className=\"mt-4 border rounded-lg shadow-lg\" // Quitar overflow-hidden si ProTable maneja su scroll\n          renderCustomCheck={(props) =\u003e \u003cCustomCheck {...props} /\u003e}\n          hideMenuOnScroll={isScrolling} // hideMenuOnScroll se activa si scrollRef (o window) hace scroll\n        /\u003e\n      \u003c/div\u003e\n    \u003c/PageWrapper\u003e\n  )\n}\n\nexport default TableShowcaseSimple\n\n// --- END OF FILE ---\n"])</script><script>self.__next_f.push([1,"5a:T2913,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { PageBackground } from \"@/components/ui/page-background\"\nimport { Text } from \"@/components/ui/text\"\nimport { Divider } from \"@/components/ui/divider\"\nimport { Progress } from \"@/components/ui/progress\"\nimport { Button } from \"@/components/ui/button\"\nimport { ProCard } from \"@/components/ui/pro-card\"\nimport { useTheme } from \"@/app/theme-provider\"\n\nexport default function ProgressShowroom() {\n  const { colorScheme } = useTheme()\n  const [progress, setProgress] = useState(0)\n  const [isRunning, setIsRunning] = useState(false)\n\n  // Efecto para simular progreso\n  useEffect(() =\u003e {\n    let interval: NodeJS.Timeout | null = null\n\n    if (isRunning) {\n      interval = setInterval(() =\u003e {\n        setProgress((prev) =\u003e {\n          if (prev \u003e= 100) {\n            setIsRunning(false)\n            return 0\n          }\n          return prev + 1\n        })\n      }, 100)\n    }\n\n    return () =\u003e {\n      if (interval) clearInterval(interval)\n    }\n  }, [isRunning])\n\n  // Función para controlar el progreso\n  const toggleProgress = () =\u003e {\n    setIsRunning((prev) =\u003e !prev)\n    if (progress \u003e= 100) {\n      setProgress(0)\n    }\n  }\n\n  return (\n    \u003cPageBackground variant=\"gradient\"\u003e\n      \u003cdiv className=\"container mx-auto py-8 px-4\"\u003e\n        \u003cText as=\"h1\" size=\"3xl\" weight=\"bold\" className=\"mb-6\"\u003e\n          Componente de Progreso\n        \u003c/Text\u003e\n\n        \u003cText as=\"p\" size=\"lg\" className=\"mb-8\"\u003e\n          Este showroom muestra las diferentes variantes y opciones del componente Progress.\n        \u003c/Text\u003e\n\n        \u003cProCard className=\"mb-8 p-6\"\u003e\n          \u003cProCard.Header\u003e\n            \u003cProCard.Title fontType=\"heading\"\u003eProgreso Interactivo\u003c/ProCard.Title\u003e\n          \u003c/ProCard.Header\u003e\n          \u003cProCard.Content\u003e\n            \u003cProgress value={progress} max={100} className=\"mb-4\" label=\"Progreso simulado\" showValue /\u003e\n\n            \u003cButton onClick={toggleProgress} className=\"mt-2\"\u003e\n              {isRunning ? \"Pausar\" : progress \u003e 0 ? \"Continuar\" : \"Iniciar\"} Progreso\n            \u003c/Button\u003e\n          \u003c/ProCard.Content\u003e\n        \u003c/ProCard\u003e\n\n        \u003cDivider className=\"my-8\" /\u003e\n\n        \u003cProCard className=\"mb-8 p-6\"\u003e\n          \u003cProCard.Header\u003e\n            \u003cProCard.Title fontType=\"heading\"\u003eTermómetro (Rojo a Verde)\u003c/ProCard.Title\u003e\n          \u003c/ProCard.Header\u003e\n          \u003cProCard.Content\u003e\n            \u003cdiv className=\"space-y-6\"\u003e\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Termómetro al 25%\n                \u003c/Text\u003e\n                \u003cProgress value={25} variant=\"termometro\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Termómetro al 50%\n                \u003c/Text\u003e\n                \u003cProgress value={50} variant=\"termometro\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Termómetro al 75%\n                \u003c/Text\u003e\n                \u003cProgress value={75} variant=\"termometro\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Termómetro al 100%\n                \u003c/Text\u003e\n                \u003cProgress value={100} variant=\"termometro\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Termómetro con Acento\n                \u003c/Text\u003e\n                \u003cProgress value={75} variant=\"termometro\" degradadoAccent /\u003e\n              \u003c/div\u003e\n            \u003c/div\u003e\n          \u003c/ProCard.Content\u003e\n        \u003c/ProCard\u003e\n\n        \u003cDivider className=\"my-8\" /\u003e\n\n        \u003cProCard className=\"mb-8 p-6\"\u003e\n          \u003cProCard.Header\u003e\n            \u003cProCard.Title fontType=\"heading\"\u003eDegradados\u003c/ProCard.Title\u003e\n          \u003c/ProCard.Header\u003e\n          \u003cProCard.Content\u003e\n            \u003cdiv className=\"space-y-6\"\u003e\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Primary con Degradado (por defecto)\n                \u003c/Text\u003e\n                \u003cProgress value={70} variant=\"primary\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Primary sin Degradado\n                \u003c/Text\u003e\n                \u003cProgress value={70} variant=\"primary\" degradado={false} /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Primary con Degradado Accent\n                \u003c/Text\u003e\n                \u003cProgress value={70} variant=\"primary\" degradadoAccent /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Success con Degradado\n                \u003c/Text\u003e\n                \u003cProgress value={70} variant=\"success\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Success con Degradado Accent\n                \u003c/Text\u003e\n                \u003cProgress value={70} variant=\"success\" degradadoAccent /\u003e\n              \u003c/div\u003e\n            \u003c/div\u003e\n          \u003c/ProCard.Content\u003e\n        \u003c/ProCard\u003e\n\n        \u003cDivider className=\"my-8\" /\u003e\n\n        \u003cProCard className=\"mb-8 p-6\"\u003e\n          \u003cProCard.Header\u003e\n            \u003cProCard.Title fontType=\"heading\"\u003eVariantes de Color\u003c/ProCard.Title\u003e\n          \u003c/ProCard.Header\u003e\n          \u003cProCard.Content\u003e\n            \u003cdiv className=\"space-y-6\"\u003e\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Primary\n                \u003c/Text\u003e\n                \u003cProgress value={70} variant=\"primary\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Secondary\n                \u003c/Text\u003e\n                \u003cProgress value={70} variant=\"secondary\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Tertiary\n                \u003c/Text\u003e\n                \u003cProgress value={70} variant=\"tertiary\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Accent\n                \u003c/Text\u003e\n                \u003cProgress value={70} variant=\"accent\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Success\n                \u003c/Text\u003e\n                \u003cProgress value={70} variant=\"success\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Warning\n                \u003c/Text\u003e\n                \u003cProgress value={70} variant=\"warning\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Danger\n                \u003c/Text\u003e\n                \u003cProgress value={70} variant=\"danger\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Neutral\n                \u003c/Text\u003e\n                \u003cProgress value={70} variant=\"neutral\" /\u003e\n              \u003c/div\u003e\n            \u003c/div\u003e\n          \u003c/ProCard.Content\u003e\n        \u003c/ProCard\u003e\n\n        \u003cDivider className=\"my-8\" /\u003e\n\n        \u003cProCard className=\"mb-8 p-6\"\u003e\n          \u003cProCard.Header\u003e\n            \u003cProCard.Title fontType=\"heading\"\u003eTamaños\u003c/ProCard.Title\u003e\n          \u003c/ProCard.Header\u003e\n          \u003cProCard.Content\u003e\n            \u003cdiv className=\"space-y-6\"\u003e\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Extra Small (xs)\n                \u003c/Text\u003e\n                \u003cProgress value={70} size=\"xs\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Small (sm)\n                \u003c/Text\u003e\n                \u003cProgress value={70} size=\"sm\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Medium (md - default)\n                \u003c/Text\u003e\n                \u003cProgress value={70} size=\"md\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Large (lg)\n                \u003c/Text\u003e\n                \u003cProgress value={70} size=\"lg\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Extra Large (xl)\n                \u003c/Text\u003e\n                \u003cProgress value={70} size=\"xl\" /\u003e\n              \u003c/div\u003e\n            \u003c/div\u003e\n          \u003c/ProCard.Content\u003e\n        \u003c/ProCard\u003e\n\n        \u003cDivider className=\"my-8\" /\u003e\n\n        \u003cProCard className=\"mb-8 p-6\"\u003e\n          \u003cProCard.Header\u003e\n            \u003cProCard.Title fontType=\"heading\"\u003eProgreso Indeterminado\u003c/ProCard.Title\u003e\n          \u003c/ProCard.Header\u003e\n          \u003cProCard.Content\u003e\n            \u003cdiv className=\"space-y-6\"\u003e\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Primary\n                \u003c/Text\u003e\n                \u003cProgress indeterminate variant=\"primary\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Success\n                \u003c/Text\u003e\n                \u003cProgress indeterminate variant=\"success\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Warning\n                \u003c/Text\u003e\n                \u003cProgress indeterminate variant=\"warning\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Danger\n                \u003c/Text\u003e\n                \u003cProgress indeterminate variant=\"danger\" /\u003e\n              \u003c/div\u003e\n            \u003c/div\u003e\n          \u003c/ProCard.Content\u003e\n        \u003c/ProCard\u003e\n\n        \u003cDivider className=\"my-8\" /\u003e\n\n        \u003cProCard className=\"mb-8 p-6\"\u003e\n          \u003cProCard.Header\u003e\n            \u003cProCard.Title fontType=\"heading\"\u003eSin Animación\u003c/ProCard.Title\u003e\n          \u003c/ProCard.Header\u003e\n          \u003cProCard.Content\u003e\n            \u003cdiv className=\"space-y-6\"\u003e\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Progreso sin animación\n                \u003c/Text\u003e\n                \u003cProgress value={70} animated={false} /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003cText as=\"p\" size=\"sm\" className=\"mb-2\"\u003e\n                  Indeterminado sin animación\n                \u003c/Text\u003e\n                \u003cProgress indeterminate animated={false} /\u003e\n              \u003c/div\u003e\n            \u003c/div\u003e\n          \u003c/ProCard.Content\u003e\n        \u003c/ProCard\u003e\n      \u003c/div\u003e\n    \u003c/PageBackground\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"5b:T244f,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState } from \"react\"\nimport { SelectCustom } from \"@/components/ui/select-custom\"\nimport { ProCard } from \"@/components/ui/pro-card\"\nimport { Text } from \"@/components/ui/text\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { Globe, Building, User, Briefcase } from \"lucide-react\"\n\nexport default function ShowroomSelect() {\n  const [variant, setVariant] = useState(\"default\")\n  const [size, setSize] = useState(\"md\")\n  const [singleValue, setSingleValue] = useState(\"\")\n  const [multiValue, setMultiValue] = useState\u003cstring[]\u003e([])\n  const [errorValue, setErrorValue] = useState(\"\")\n  const [successValue, setSuccessValue] = useState(\"\")\n  const [editingValue, setEditingValue] = useState(\"preset\")\n\n  // Opciones para los ejemplos\n  const countryOptions = [\n    { value: \"mx\", label: \"México\", icon: Globe },\n    { value: \"us\", label: \"Estados Unidos\", icon: Globe },\n    { value: \"ca\", label: \"Canadá\", icon: Globe },\n    { value: \"es\", label: \"España\", icon: Globe },\n    { value: \"ar\", label: \"Argentina\", icon: Globe },\n  ]\n\n  const companyOptions = [\n    {\n      value: \"small\",\n      label: \"Pequeña\",\n      description: \"1-50 empleados\",\n      icon: Building,\n    },\n    {\n      value: \"medium\",\n      label: \"Mediana\",\n      description: \"51-250 empleados\",\n      icon: Building,\n    },\n    {\n      value: \"large\",\n      label: \"Grande\",\n      description: \"251+ empleados\",\n      icon: Building,\n    },\n  ]\n\n  const userOptions = [\n    { value: \"admin\", label: \"Administrador\", icon: User },\n    { value: \"editor\", label: \"Editor\", icon: User },\n    { value: \"viewer\", label: \"Visualizador\", icon: User },\n  ]\n\n  const departmentOptions = [\n    { value: \"it\", label: \"Tecnología\", icon: Briefcase },\n    { value: \"hr\", label: \"Recursos Humanos\", icon: Briefcase },\n    { value: \"sales\", label: \"Ventas\", icon: Briefcase },\n    { value: \"marketing\", label: \"Marketing\", icon: Briefcase },\n  ]\n\n  // Variantes disponibles\n  const variants = [\"default\", \"primary\", \"secondary\", \"tertiary\", \"accent\", \"neutral\"]\n\n  // Tamaños disponibles\n  const sizes = [\"sm\", \"md\", \"lg\"]\n\n  return (\n    \u003cdiv className=\"container mx-auto py-10\"\u003e\n      \u003cProCard variant=\"primary\" border=\"top\"\u003e\n        \u003cProCard.Header\u003e\n          \u003cText variant=\"heading\" size=\"xl\" fontType=\"heading\"\u003e\n            Select\n          \u003c/Text\u003e\n        \u003c/ProCard.Header\u003e\n        \u003cProCard.Content\u003e\n          \u003cText variant=\"default\" color=\"neutral\" className=\"mb-6\"\u003e\n            Este showroom muestra las diferentes variantes y configuraciones del componente SelectCustom.\n          \u003c/Text\u003e\n\n          \u003cTabs defaultValue=\"variants\" className=\"w-full\"\u003e\n            \u003cTabsList className=\"mb-4\"\u003e\n              \u003cTabsTrigger value=\"variants\"\u003eVariantes\u003c/TabsTrigger\u003e\n              \u003cTabsTrigger value=\"sizes\"\u003eTamaños\u003c/TabsTrigger\u003e\n              \u003cTabsTrigger value=\"states\"\u003eEstados\u003c/TabsTrigger\u003e\n              \u003cTabsTrigger value=\"examples\"\u003eEjemplos\u003c/TabsTrigger\u003e\n            \u003c/TabsList\u003e\n\n            {/* Variantes */}\n            \u003cTabsContent value=\"variants\" className=\"space-y-6\"\u003e\n              {variants.map((v) =\u003e (\n                \u003cdiv key={v} className=\"space-y-2\"\u003e\n                  \u003cText variant=\"subtitle\" color=\"neutral\"\u003e\n                    Variante: {v}\n                  \u003c/Text\u003e\n                  \u003cSelectCustom\n                    options={countryOptions}\n                    placeholder={`Selecciona un país (${v})`}\n                    variant={v as any}\n                    leadingIcon={Globe}\n                  /\u003e\n                \u003c/div\u003e\n              ))}\n            \u003c/TabsContent\u003e\n\n            {/* Tamaños */}\n            \u003cTabsContent value=\"sizes\" className=\"space-y-6\"\u003e\n              {sizes.map((s) =\u003e (\n                \u003cdiv key={s} className=\"space-y-2\"\u003e\n                  \u003cText variant=\"subtitle\" color=\"neutral\"\u003e\n                    Tamaño: {s}\n                  \u003c/Text\u003e\n                  \u003cSelectCustom\n                    options={countryOptions}\n                    placeholder={`Selecciona un país (${s})`}\n                    size={s as any}\n                    leadingIcon={Globe}\n                  /\u003e\n                \u003c/div\u003e\n              ))}\n            \u003c/TabsContent\u003e\n\n            {/* Estados */}\n            \u003cTabsContent value=\"states\" className=\"space-y-6\"\u003e\n              {/* Normal */}\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"subtitle\" color=\"neutral\"\u003e\n                  Normal\n                \u003c/Text\u003e\n                \u003cSelectCustom options={countryOptions} placeholder=\"Selecciona un país\" leadingIcon={Globe} /\u003e\n              \u003c/div\u003e\n\n              {/* Con valor */}\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"subtitle\" color=\"neutral\"\u003e\n                  Con valor seleccionado\n                \u003c/Text\u003e\n                \u003cSelectCustom\n                  options={countryOptions}\n                  value=\"mx\"\n                  placeholder=\"Selecciona un país\"\n                  leadingIcon={Globe}\n                /\u003e\n              \u003c/div\u003e\n\n              {/* Con error */}\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"subtitle\" color=\"neutral\"\u003e\n                  Con error\n                \u003c/Text\u003e\n                \u003cSelectCustom\n                  options={countryOptions}\n                  placeholder=\"Selecciona un país\"\n                  leadingIcon={Globe}\n                  error=\"Debes seleccionar un país\"\n                /\u003e\n              \u003c/div\u003e\n\n              {/* Con éxito */}\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"subtitle\" color=\"neutral\"\u003e\n                  Con éxito\n                \u003c/Text\u003e\n                \u003cSelectCustom\n                  options={countryOptions}\n                  value=\"mx\"\n                  placeholder=\"Selecciona un país\"\n                  leadingIcon={Globe}\n                  success\n                  successMessage=\"País seleccionado correctamente\"\n                /\u003e\n              \u003c/div\u003e\n\n              {/* Deshabilitado */}\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"subtitle\" color=\"neutral\"\u003e\n                  Deshabilitado\n                \u003c/Text\u003e\n                \u003cSelectCustom options={countryOptions} placeholder=\"Selecciona un país\" leadingIcon={Globe} disabled /\u003e\n              \u003c/div\u003e\n\n              {/* En edición */}\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"subtitle\" color=\"neutral\"\u003e\n                  En edición\n                \u003c/Text\u003e\n                \u003cSelectCustom\n                  options={countryOptions}\n                  value=\"mx\"\n                  placeholder=\"Selecciona un país\"\n                  leadingIcon={Globe}\n                  isEditing\n                /\u003e\n              \u003c/div\u003e\n            \u003c/TabsContent\u003e\n\n            {/* Ejemplos */}\n            \u003cTabsContent value=\"examples\" className=\"space-y-6\"\u003e\n              {/* Selección única */}\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"subtitle\" color=\"neutral\"\u003e\n                  Selección única\n                \u003c/Text\u003e\n                \u003cSelectCustom\n                  options={countryOptions}\n                  value={singleValue}\n                  onChange={(value) =\u003e setSingleValue(value as string)}\n                  placeholder=\"Selecciona un país\"\n                  leadingIcon={Globe}\n                  clearable\n                /\u003e\n                \u003cText variant=\"caption\" color=\"neutral\"\u003e\n                  Valor seleccionado: {singleValue || \"Ninguno\"}\n                \u003c/Text\u003e\n              \u003c/div\u003e\n\n              {/* Selección múltiple */}\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"subtitle\" color=\"neutral\"\u003e\n                  Selección múltiple\n                \u003c/Text\u003e\n                \u003cSelectCustom\n                  options={departmentOptions}\n                  value={multiValue}\n                  onChange={(value) =\u003e setMultiValue(value as string[])}\n                  placeholder=\"Selecciona departamentos\"\n                  leadingIcon={Briefcase}\n                  multiple\n                  clearable\n                /\u003e\n                \u003cText variant=\"caption\" color=\"neutral\"\u003e\n                  Valores seleccionados: {multiValue.length \u003e 0 ? multiValue.join(\", \") : \"Ninguno\"}\n                \u003c/Text\u003e\n              \u003c/div\u003e\n\n              {/* Con descripciones */}\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"subtitle\" color=\"neutral\"\u003e\n                  Con descripciones\n                \u003c/Text\u003e\n                \u003cSelectCustom\n                  options={companyOptions}\n                  placeholder=\"Selecciona el tamaño de empresa\"\n                  leadingIcon={Building}\n                /\u003e\n              \u003c/div\u003e\n\n              {/* Con etiqueta y pista */}\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cSelectCustom\n                  options={userOptions}\n                  placeholder=\"Selecciona un rol\"\n                  leadingIcon={User}\n                  label=\"Rol de usuario\"\n                  hint=\"El rol determina los permisos del usuario\"\n                /\u003e\n              \u003c/div\u003e\n            \u003c/TabsContent\u003e\n          \u003c/Tabs\u003e\n        \u003c/ProCard.Content\u003e\n      \u003c/ProCard\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"5c:Tdab,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { Simple } from \"@/components/Simple/simple\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { Text } from \"@/components/ui/text\"\n\nexport default function ShowroomSimple() {\n  return (\n    \u003cdiv className=\"container mx-auto py-8\"\u003e\n      \u003ch1 className=\"text-2xl font-bold mb-6\"\u003eShowroom Simple\u003c/h1\u003e\n\n      \u003cTabs defaultValue=\"props\" className=\"w-full\"\u003e\n        \u003cTabsList className=\"mb-4\"\u003e\n          \u003cTabsTrigger value=\"props\"\u003eCon Props\u003c/TabsTrigger\u003e\n          \u003cTabsTrigger value=\"children\"\u003eCon Children\u003c/TabsTrigger\u003e\n          \u003cTabsTrigger value=\"textcontent\"\u003eTextContent\u003c/TabsTrigger\u003e\n        \u003c/TabsList\u003e\n\n        \u003cTabsContent value=\"props\" className=\"space-y-6\"\u003e\n          \u003ch2 className=\"text-xl font-semibold mb-4\"\u003eSimple con texto como props\u003c/h2\u003e\n\n          \u003cSimple\u003e\n            \u003cSimple.Section text=\"Este es un componente extremadamente simple\" /\u003e\n          \u003c/Simple\u003e\n\n          \u003cSimple\u003e\n            \u003cSimple.Section text=\"Solo tiene un componente padre y una sección\" /\u003e\n            \u003cSimple.Section text=\"Puedes añadir múltiples secciones si quieres\" /\u003e\n          \u003c/Simple\u003e\n\n          \u003cSimple\u003e\n            \u003cSimple.Section text=\"Usa el componente Text para renderizar texto\" /\u003e\n          \u003c/Simple\u003e\n        \u003c/TabsContent\u003e\n\n        \u003cTabsContent value=\"children\" className=\"space-y-6\"\u003e\n          \u003ch2 className=\"text-xl font-semibold mb-4\"\u003eSimple con children\u003c/h2\u003e\n\n          \u003cSimple\u003e\n            \u003cSimple.Content\u003e\n              \u003cText variant=\"default\"\u003eEste contenido se pasa como children\u003c/Text\u003e\n            \u003c/Simple.Content\u003e\n          \u003c/Simple\u003e\n\n          \u003cSimple\u003e\n            \u003cSimple.Content\u003e\n              \u003cText variant=\"default\"\u003ePuedes pasar cualquier componente como children\u003c/Text\u003e\n            \u003c/Simple.Content\u003e\n            \u003cSimple.Content\u003e\n              \u003cdiv className=\"flex items-center gap-2\"\u003e\n                \u003cspan className=\"h-4 w-4 rounded-full bg-blue-500\"\u003e\u003c/span\u003e\n                \u003cText variant=\"default\"\u003eIncluso elementos más complejos\u003c/Text\u003e\n              \u003c/div\u003e\n            \u003c/Simple.Content\u003e\n          \u003c/Simple\u003e\n\n          \u003cSimple\u003e\n            \u003cSimple.Content\u003e\n              \u003cText variant=\"heading\" size=\"lg\"\u003e\n                Títulos\n              \u003c/Text\u003e\n              \u003cText variant=\"default\" className=\"mt-2\"\u003e\n                Y párrafos de texto normal\n              \u003c/Text\u003e\n            \u003c/Simple.Content\u003e\n          \u003c/Simple\u003e\n        \u003c/TabsContent\u003e\n\n        \u003cTabsContent value=\"textcontent\" className=\"space-y-6\"\u003e\n          \u003ch2 className=\"text-xl font-semibold mb-4\"\u003eSimple con TextContent\u003c/h2\u003e\n\n          \u003cSimple\u003e\n            \u003cSimple.TextContent\u003e\n              Este componente recibe el texto como children y usa Text internamente\n            \u003c/Simple.TextContent\u003e\n          \u003c/Simple\u003e\n\n          \u003cSimple\u003e\n            \u003cSimple.TextContent variant=\"heading\" size=\"lg\"\u003e\n              Puedes personalizar la variante\n            \u003c/Simple.TextContent\u003e\n            \u003cSimple.TextContent color=\"primary\"\u003eY también el color\u003c/Simple.TextContent\u003e\n          \u003c/Simple\u003e\n\n          \u003cSimple\u003e\n            \u003cSimple.TextContent variant=\"heading\" color=\"primary\"\u003e\n              Título con gradiente\n            \u003c/Simple.TextContent\u003e\n            \u003cSimple.TextContent variant=\"subheading\" color=\"secondary\"\u003e\n              Subtítulo personalizado\n            \u003c/Simple.TextContent\u003e\n            \u003cSimple.TextContent\u003eY texto normal para el contenido\u003c/Simple.TextContent\u003e\n          \u003c/Simple\u003e\n        \u003c/TabsContent\u003e\n      \u003c/Tabs\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"5d:T45b7,"])</script><script>self.__next_f.push([1,"\"use client\";\n\nimport React from \"react\";\nimport { ProTable } from \"@/components/ui/pro-table\";\nimport type { ColumnDef } from \"@tanstack/react-table\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { PageWrapper } from \"@/components/ui/page-wrapper\";\nimport { Text } from \"@/components/ui/text\";\nimport { Button } from \"@/components/ui/button\"; // Para acciones\nimport { ChevronRight } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { motion } from \"framer-motion\";\n\n// Definición de la interfaz Person\ninterface Person {\n  id: string;\n  firstName: string;\n  lastName: string;\n  age: number;\n  visits: number;\n  status: \"relationship\" | \"complicated\" | \"single\";\n  progress: number;\n  email: string;\n  role: \"Admin\" | \"User\" | \"Editor\" | \"Viewer\";\n  department: string;\n  lastLogin: string;\n  notes?: string;\n  subRows?: Person[];\n}\n\n// Datos de ejemplo\nconst defaultData: Person[] = [\n  {\n    id: \"1\",\n    firstName: \"Ana\",\n    lastName: \"García\",\n    age: 34,\n    visits: 120,\n    status: \"relationship\",\n    progress: 85,\n    email: \"ana.garcia@example.com\",\n    role: \"Admin\",\n    department: \"Desarrollo\",\n    lastLogin: \"2023-10-26T10:30:00Z\",\n    notes:\n      \"Líder técnica del equipo de frontend. Amplia experiencia en React y Next.js. Responsable de la arquitectura de la nueva plataforma de usuarios. Esta nota es intencionalmente larga para demostrar cómo el componente ProTable maneja el contenido extenso a través de tooltips y line-clamp, asegurando que la interfaz se mantenga limpia y la información completa sea accesible.\",\n    subRows: [\n      {\n        id: \"1-1\",\n        firstName: \"Carlos\",\n        lastName: \"Ruiz\",\n        age: 28,\n        visits: 30,\n        status: \"single\",\n        progress: 60,\n        email: \"carlos.ruiz@example.com\",\n        role: \"User\",\n        department: \"Desarrollo\",\n        lastLogin: \"2023-10-25T14:00:00Z\",\n        notes: \"Desarrollador Frontend. Especializado en UI/UX.\",\n      },\n      {\n        id: \"1-2\",\n        firstName: \"Laura\",\n        lastName: \"Jiménez\",\n        age: 25,\n        visits: 15,\n        status: \"single\",\n        progress: 40,\n        email: \"laura.jimenez@example.com\",\n        role: \"User\",\n        department: \"Desarrollo\",\n        lastLogin: \"2023-10-24T09:15:00Z\",\n        notes: \"Desarrolladora Junior. Aprendiendo rápido.\",\n      },\n    ],\n  },\n  {\n    id: \"2\",\n    firstName: \"Luis\",\n    lastName: \"Martínez\",\n    age: 42,\n    visits: 250,\n    status: \"complicated\",\n    progress: 30,\n    email: \"luis.martinez@example.com\",\n    role: \"Editor\",\n    department: \"Marketing\",\n    lastLogin: \"2023-09-15T11:00:00Z\",\n    notes:\n      \"Encargado de la estrategia de contenidos. Tiene un blog muy popular sobre marketing digital.\",\n  },\n  {\n    id: \"3\",\n    firstName: \"Sofía\",\n    lastName: \"Hernández\",\n    age: 29,\n    visits: 80,\n    status: \"single\",\n    progress: 70,\n    email: \"sofia.hernandez@example.com\",\n    role: \"User\",\n    department: \"Soporte\",\n    lastLogin: \"2023-10-20T16:45:00Z\",\n    notes: \"Especialista en soporte técnico nivel 2.\",\n  },\n  {\n    id: \"4\",\n    firstName: \"Javier\",\n    lastName: \"López\",\n    age: 50,\n    visits: 180,\n    status: \"relationship\",\n    progress: 95,\n    email: \"javier.lopez@example.com\",\n    role: \"Admin\",\n    department: \"Operaciones\",\n    lastLogin: \"2023-10-26T08:00:00Z\",\n    notes:\n      \"Director de Operaciones. Supervisa múltiples departamentos. Siempre busca optimizar procesos.\",\n  },\n  {\n    id: \"5\",\n    firstName: \"Elena\",\n    lastName: \"Pérez\",\n    age: 22,\n    visits: 5,\n    status: \"single\",\n    progress: 15,\n    email: \"elena.perez@example.com\",\n    role: \"Viewer\",\n    department: \"Ventas\",\n    lastLogin: \"2023-08-01T12:30:00Z\",\n    notes: \"Becaria en el departamento de ventas. Mucho potencial.\",\n  },\n  {\n    id: \"6\",\n    firstName: \"María\",\n    lastName: \"Domínguez\",\n    age: 32,\n    visits: 75,\n    status: \"relationship\",\n    progress: 60,\n    email: \"maria.dominguez@example.com\",\n    role: \"Admin\",\n    department: \"Diseño\",\n    lastLogin: \"2023-10-10T09:30:00Z\",\n    notes: \"Diseñadora principal. Responsable de la identidad visual.\",\n    subRows: [\n      {\n        id: \"6-1\",\n        firstName: \"Pedro\",\n        lastName: \"Sánchez\",\n        age: 28,\n        visits: 20,\n        status: \"single\",\n        progress: 40,\n        email: \"pedro.sanchez@example.com\",\n        role: \"User\",\n        department: \"Diseño\",\n        lastLogin: \"2023-10-05T11:45:00Z\",\n        notes: \"Diseñador UI/UX junior.\",\n      },\n    ],\n  },\n  {\n    id: \"7\",\n    firstName: \"Variante\",\n    lastName: \"Primary\",\n    age: 35,\n    visits: 100,\n    status: \"relationship\",\n    progress: 50,\n    email: \"primary@example.com\",\n    role: \"Admin\",\n    department: \"Desarrollo\",\n    lastLogin: \"2023-10-01T10:00:00Z\",\n    notes: \"Ejemplo de fila con estilo primary\",\n  },\n  {\n    id: \"8\",\n    firstName: \"Variante\",\n    lastName: \"Secondary\",\n    age: 35,\n    visits: 100,\n    status: \"relationship\",\n    progress: 50,\n    email: \"secondary@example.com\",\n    role: \"Admin\",\n    department: \"Desarrollo\",\n    lastLogin: \"2023-10-01T10:00:00Z\",\n    notes: \"Ejemplo de fila con estilo secondary\",\n  },\n  {\n    id: \"9\",\n    firstName: \"Variante\",\n    lastName: \"Tertiary\",\n    age: 35,\n    visits: 100,\n    status: \"relationship\",\n    progress: 50,\n    email: \"tertiary@example.com\",\n    role: \"Admin\",\n    department: \"Desarrollo\",\n    lastLogin: \"2023-10-01T10:00:00Z\",\n    notes: \"Ejemplo de fila con estilo tertiary\",\n  },\n  {\n    id: \"10\",\n    firstName: \"Variante\",\n    lastName: \"Accent\",\n    age: 35,\n    visits: 100,\n    status: \"relationship\",\n    progress: 50,\n    email: \"accent@example.com\",\n    role: \"Admin\",\n    department: \"Desarrollo\",\n    lastLogin: \"2023-10-01T10:00:00Z\",\n    notes: \"Ejemplo de fila con estilo accent\",\n  },\n  {\n    id: \"11\",\n    firstName: \"Variante\",\n    lastName: \"Success\",\n    age: 35,\n    visits: 100,\n    status: \"relationship\",\n    progress: 90,\n    email: \"success@example.com\",\n    role: \"Admin\",\n    department: \"Desarrollo\",\n    lastLogin: \"2023-10-01T10:00:00Z\",\n    notes: \"Ejemplo de fila con estilo success\",\n  },\n  {\n    id: \"12\",\n    firstName: \"Variante\",\n    lastName: \"Warning\",\n    age: 35,\n    visits: 100,\n    status: \"relationship\",\n    progress: 50,\n    email: \"warning@example.com\",\n    role: \"Admin\",\n    department: \"Desarrollo\",\n    lastLogin: \"2023-10-01T10:00:00Z\",\n    notes: \"Ejemplo de fila con estilo warning\",\n  },\n  {\n    id: \"13\",\n    firstName: \"Variante\",\n    lastName: \"Danger\",\n    age: 35,\n    visits: 100,\n    status: \"complicated\",\n    progress: 20,\n    email: \"danger@example.com\",\n    role: \"Admin\",\n    department: \"Desarrollo\",\n    lastLogin: \"2023-10-01T10:00:00Z\",\n    notes: \"Ejemplo de fila con estilo danger\",\n  },\n  {\n    id: \"14\",\n    firstName: \"Ejemplo\",\n    lastName: \"SubFilas\",\n    age: 35,\n    visits: 100,\n    status: \"relationship\",\n    progress: 50,\n    email: \"subfilas@example.com\",\n    role: \"Admin\",\n    department: \"Desarrollo\",\n    lastLogin: \"2023-10-01T10:00:00Z\",\n    notes: \"Ejemplo para probar subfilas\",\n    subRows: [\n      {\n        id: \"14-1\",\n        firstName: \"SubFila\",\n        lastName: \"Uno\",\n        age: 25,\n        visits: 10,\n        status: \"single\",\n        progress: 30,\n        email: \"subfila1@example.com\",\n        role: \"User\",\n        department: \"Desarrollo\",\n        lastLogin: \"2023-10-01T10:00:00Z\",\n        notes: \"Primera subfila de ejemplo\",\n      },\n    ],\n  },\n];\n\n// Función para formatear fechas\nconst formatDate = (dateString: string | undefined) =\u003e {\n  if (!dateString) return \"N/A\";\n  try {\n    return new Date(dateString).toLocaleDateString(\"es-ES\", {\n      year: \"numeric\",\n      month: \"short\",\n      day: \"numeric\",\n      // hour: \"2-digit\", // Descomentar si se quiere hora\n      // minute: \"2-digit\",\n    });\n  } catch (error) {\n    console.error(\"Error formatting date:\", dateString, error);\n    return \"Fecha inválida\";\n  }\n};\n\n// Definición de columnas\nconst columns: ColumnDef\u003cPerson, any\u003e[] = [\n  {\n    id: \"expander\",\n    header: () =\u003e null,\n    cell: ({ row }) =\u003e\n      row.getCanExpand() ? (\n        \u003cdiv className=\"flex items-center justify-center w-full h-full\"\u003e\n          \u003cmotion.div\n            initial={false}\n            animate={{ rotate: row.getIsExpanded() ? 90 : 0 }}\n            transition={{ duration: 0.3, ease: \"easeInOut\" }}\n            className=\"flex items-center justify-center\"\n          \u003e\n            \u003cChevronRight size={18} className=\"text-primary\" /\u003e\n          \u003c/motion.div\u003e\n        \u003c/div\u003e\n      ) : null,\n    meta: {\n      className: \"w-10 text-center\",\n    },\n  },\n  {\n    accessorKey: \"firstName\",\n    header: \"Nombre\",\n    cell: (info) =\u003e info.getValue(),\n    meta: {\n      enableSorting: true,\n      className: \"font-medium\",\n    },\n  },\n  {\n    accessorKey: \"lastName\",\n    header: \"Apellido\",\n    cell: (info) =\u003e info.getValue(),\n    meta: {\n      enableSorting: true,\n    },\n  },\n  {\n    accessorKey: \"age\",\n    header: \"Edad\",\n    cell: (info) =\u003e info.getValue(),\n    meta: {\n      enableSorting: true,\n      className: \"text-center\",\n    },\n  },\n  {\n    accessorKey: \"email\",\n    header: \"Email\",\n    cell: (info) =\u003e (\n      \u003ca\n        href={`mailto:${info.getValue() as string}`}\n        className=\"text-blue-600 hover:text-blue-800 hover:underline\"\n      \u003e\n        {info.getValue() as string}\n      \u003c/a\u003e\n    ),\n    meta: {\n      enableTooltip: true,\n      lineClamp: 1,\n      cellVariant: (info) =\u003e {\n        if (info.getValue() === \"maria.dominguez@example.com\") {\n          return \"accent\";\n        }\n        if (info.getValue() === \"javier.lopez@example.com\") {\n          return \"success\";\n        }\n        return undefined;\n      },\n    },\n  },\n  {\n    accessorKey: \"role\",\n    header: \"Rol\",\n    cell: (info) =\u003e {\n      const role = info.getValue() as Person[\"role\"];\n      let badgeVariant:\n        | \"default\"\n        | \"secondary\"\n        | \"destructive\"\n        | \"outline\"\n        | \"info\"\n        | \"success\"\n        | \"warning\" = \"default\";\n      if (role === \"Admin\") badgeVariant = \"destructive\";\n      else if (role === \"Editor\") badgeVariant = \"info\";\n      else if (role === \"User\") badgeVariant = \"success\";\n      else if (role === \"Viewer\") badgeVariant = \"secondary\";\n      return (\n        \u003cBadge variant={badgeVariant} className=\"capitalize\"\u003e\n          {role}\n        \u003c/Badge\u003e\n      );\n    },\n    meta: {\n      enableSorting: true,\n      className: \"text-center\",\n    },\n  },\n  {\n    accessorKey: \"department\",\n    header: \"Departamento\",\n    cell: (info) =\u003e info.getValue(),\n    meta: {\n      enableSorting: true,\n    },\n  },\n  {\n    accessorKey: \"visits\",\n    header: \"Visitas\",\n    cell: (info) =\u003e (\n      \u003cdiv className=\"text-right\"\u003e{info.getValue() as number}\u003c/div\u003e\n    ),\n    meta: {\n      enableSorting: true,\n      className: \"text-right\",\n    },\n  },\n  {\n    accessorKey: \"status\",\n    header: \"Estado\",\n    cell: (info) =\u003e {\n      const status = info.getValue() as Person[\"status\"];\n      let cellVariant =\n        status === \"relationship\"\n          ? \"primary\"\n          : status === \"complicated\"\n          ? \"danger\"\n          : status === \"single\"\n          ? \"secondary\"\n          : \"neutral\";\n\n      return (\n        \u003cdiv\n          className=\"text-center font-medium\"\n          style={{\n            backgroundColor: info.row.getIsSelected()\n              ? \"rgba(0,0,0,0.1)\"\n              : \"transparent\",\n          }}\n        \u003e\n          {status}\n        \u003c/div\u003e\n      );\n    },\n    meta: {\n      enableSorting: true,\n      className: \"text-center\",\n      cellVariant: (info) =\u003e {\n        const status = info.getValue() as Person[\"status\"];\n        return status === \"relationship\"\n          ? \"primary\"\n          : status === \"complicated\"\n          ? \"danger\"\n          : status === \"single\"\n          ? \"secondary\"\n          : undefined;\n      },\n    },\n  },\n  {\n    accessorKey: \"progress\",\n    header: () =\u003e \u003cdiv className=\"text-center\"\u003eProgreso\u003c/div\u003e,\n    cell: (info) =\u003e {\n      const value = info.getValue() as number;\n      return (\n        \u003cdiv className=\"w-full\"\u003e\n          \u003cProgress value={value} className=\"w-full min-w-[100px]\" /\u003e\n          {value \u003e 0 \u0026\u0026 (\n            \u003cdiv className=\"text-xs mt-1 text-center\"\u003e\n              \u003cBadge\n                variant={\n                  value \u003e 70\n                    ? \"success\"\n                    : value \u003c 30\n                    ? \"destructive\"\n                    : \"default\"\n                }\n                className=\"px-1 py-0\"\n              \u003e\n                {value}%\n              \u003c/Badge\u003e\n            \u003c/div\u003e\n          )}\n        \u003c/div\u003e\n      );\n    },\n    meta: {\n      enableSorting: true,\n      className: \"text-center\",\n    },\n  },\n  {\n    accessorKey: \"lastLogin\",\n    header: \"Último Login\",\n    cell: (info) =\u003e formatDate(info.getValue() as string | undefined),\n    meta: {\n      enableSorting: true,\n      className: \"min-w-[120px]\",\n    },\n  },\n  {\n    accessorKey: \"notes\",\n    header: \"Notas\",\n    // cell: (info) =\u003e \u003cdiv className=\"max-w-xs\"\u003e{info.getValue() as string}\u003c/div\u003e, // ProTable maneja el lineClamp internamente\n    cell: (info) =\u003e info.getValue(),\n    meta: {\n      enableTooltip: true,\n      isLongContent: true,\n      lineClamp: 2, // ProTable usará esto\n      className: \"min-w-[200px] max-w-sm\", // Permite que la columna se expanda un poco\n    },\n  },\n  {\n    id: \"actions\",\n    header: () =\u003e \u003cdiv className=\"text-center\"\u003eAcciones\u003c/div\u003e,\n    cell: ({ row }) =\u003e (\n      \u003cdiv className=\"flex items-center justify-center space-x-1 md:space-x-2\"\u003e\n        \u003cButton\n          variant=\"outline\"\n          size=\"sm\"\n          onClick={() =\u003e alert(`Viendo perfil de: ${row.original.firstName}`)}\n        \u003e\n          Ver\n        \u003c/Button\u003e\n        \u003cButton\n          variant=\"ghost\"\n          size=\"sm\"\n          className=\"text-red-600 hover:text-red-700\"\n          onClick={() =\u003e\n            confirm(\n              `¿Seguro que quieres eliminar a ${row.original.firstName}?`\n            ) \u0026\u0026 alert(`${row.original.firstName} eliminado (simulación).`)\n          }\n        \u003e\n          Eliminar\n        \u003c/Button\u003e\n      \u003c/div\u003e\n    ),\n    meta: {\n      type: \"actions\",\n      enableSorting: false,\n      enableTooltip: false,\n      isFixed: true, // Añadimos esta propiedad para fijar la columna\n      className: \"text-center sticky right-0 bg-background z-[1] shadow-sm\",\n    },\n  },\n];\n\n// Función getRowStatus\nconst getRowStatus = (\n  row: Person\n):\n  | \"success\"\n  | \"warning\"\n  | \"error\"\n  | \"info\"\n  | \"neutral\"\n  | \"danger\"\n  | \"primary\"\n  | \"secondary\"\n  | \"tertiary\"\n  | \"accent\"\n  | null =\u003e {\n  // Solo mostrar log para Sofía\n  if (row.firstName === \"Sofía\") {\n    console.log(\"🔍 getRowStatus para Sofía:\", row);\n  }\n\n  // Variantes específicas basadas en ID\n  if (row.id === \"7\") return \"primary\";\n  if (row.id === \"8\") return \"secondary\";\n  if (row.id === \"9\") return \"tertiary\";\n  if (row.id === \"10\") return \"accent\";\n  if (row.id === \"11\") return \"success\";\n  if (row.id === \"12\") return \"warning\";\n  if (row.id === \"13\") return \"danger\";\n\n  // Mantener la lógica original\n  if (row.progress \u003e 80) return \"success\";\n  if (row.visits \u003c 20 \u0026\u0026 row.age \u003c 25 \u0026\u0026 row.role === \"Viewer\")\n    return \"warning\";\n  if (row.status === \"complicated\") return \"danger\";\n  if (row.role === \"Admin\") return \"info\";\n  return null;\n};\n\nconst ProTableShowroomPage: React.FC = () =\u003e {\n  return (\n    \u003cPageWrapper\n      title=\"Showroom de ProTable\"\n      breadcrumbs={[\n        { label: \"Showroom\", href: \"/showroom\" },\n        { label: \"ProTable\" },\n      ]}\n      className=\"container mx-auto px-4 py-8\"\n    \u003e\n      \u003cText variant=\"heading\" as=\"h1\" className=\"mb-4\"\u003e\n        Demostración Avanzada de \u003ccode\u003eProTable\u003c/code\u003e\n      \u003c/Text\u003e\n\n      \u003cText variant=\"default\" className=\"mb-6 text-lg text-muted-foreground\"\u003e\n        Explora las capacidades del componente \u003ccode\u003eProTable\u003c/code\u003e. Esta tabla\n        interactiva muestra características clave diseñadas para la\n        visualización y gestión eficiente de datos.\n      \u003c/Text\u003e\n\n      \u003cdiv className=\"mb-8 p-4 border rounded-lg bg-card shadow\"\u003e\n        \u003cText variant=\"title\" as=\"h2\" className=\"mb-3\"\u003e\n          Funcionalidades Destacadas:\n        \u003c/Text\u003e\n        \u003cul className=\"list-disc list-inside space-y-1 text-sm text-card-foreground\"\u003e\n          \u003cli\u003eFiltro global para búsquedas rápidas.\u003c/li\u003e\n          \u003cli\u003eSelector de columnas para personalizar la vista.\u003c/li\u003e\n          \u003cli\u003eOrdenación interactiva por múltiples columnas.\u003c/li\u003e\n          \u003cli\u003e\n            Tooltips informativos al pasar el cursor (normales y extensos).\n          \u003c/li\u003e\n          \u003cli\u003e\n            Control de truncamiento de texto con \u003ccode\u003elineClamp\u003c/code\u003e.\n          \u003c/li\u003e\n          \u003cli\u003eSoporte para filas anidadas (sub-filas) expandibles.\u003c/li\u003e\n          \u003cli\u003e\n            Indicadores visuales de estado por fila (\u003ccode\u003egetRowStatus\u003c/code\u003e).\n          \u003c/li\u003e\n          \u003cli\u003eIntegración de componentes UI como Badges y Progress bars.\u003c/li\u003e\n          \u003cli\u003eColumna de acciones con botones interactivos.\u003c/li\u003e\n          \u003cli\u003eRedimensionamiento de columnas arrastrando los bordes.\u003c/li\u003e\n          \u003cli\u003eColumna de acciones fija a la derecha (sticky).\u003c/li\u003e\n        \u003c/ul\u003e\n      \u003c/div\u003e\n\n      \u003cProTable\u003cPerson\u003e\n        data={defaultData}\n        columns={columns}\n        enableTooltips={true}\n        enableSorting={true}\n        showColumnSelector={true}\n        placeholder=\"Buscar en toda la tabla...\"\n        getRowStatus={getRowStatus}\n        lineClamp={1}\n        tooltipDelay={250}\n        stickyHeader={true}\n        maxVisibleLines={2}\n        initialVisibility={{\n          department: false,\n        }}\n        className=\"mt-4 border rounded-lg shadow-lg overflow-hidden max-h-[700px]\"\n      /\u003e\n    \u003c/PageWrapper\u003e\n  );\n};\n\nexport default ProTableShowroomPage;\n"])</script><script>self.__next_f.push([1,"5e:T4353,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport type React from \"react\"\nimport { ProTable } from \"@/components/ui/pro-table\"\nimport type { ColumnDef } from \"@tanstack/react-table\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Progress } from \"@/components/ui/progress\"\nimport { PageWrapper } from \"@/components/ui/page-wrapper\"\nimport { Text } from \"@/components/ui/text\"\nimport { Button } from \"@/components/ui/button\" // Para acciones\nimport { ChevronRight } from \"lucide-react\"\nimport { motion } from \"framer-motion\"\n\n// Definición de la interfaz Person\ninterface Person {\n  id: string\n  firstName: string\n  lastName: string\n  age: number\n  visits: number\n  status: \"relationship\" | \"complicated\" | \"single\"\n  progress: number\n  email: string\n  role: \"Admin\" | \"User\" | \"Editor\" | \"Viewer\"\n  department: string\n  lastLogin: string\n  notes?: string\n  subRows?: Person[]\n}\n\n// Datos de ejemplo\nconst defaultData: Person[] = [\n  {\n    id: \"1\",\n    firstName: \"Ana\",\n    lastName: \"García\",\n    age: 34,\n    visits: 120,\n    status: \"relationship\",\n    progress: 85,\n    email: \"ana.garcia@example.com\",\n    role: \"Admin\",\n    department: \"Desarrollo\",\n    lastLogin: \"2023-10-26T10:30:00Z\",\n    notes:\n      \"Líder técnica del equipo de frontend. Amplia experiencia en React y Next.js. Responsable de la arquitectura de la nueva plataforma de usuarios. Esta nota es intencionalmente larga para demostrar cómo el componente ProTable maneja el contenido extenso a través de tooltips y line-clamp, asegurando que la interfaz se mantenga limpia y la información completa sea accesible.\",\n    subRows: [\n      {\n        id: \"1-1\",\n        firstName: \"Carlos\",\n        lastName: \"Ruiz\",\n        age: 28,\n        visits: 30,\n        status: \"single\",\n        progress: 60,\n        email: \"carlos.ruiz@example.com\",\n        role: \"User\",\n        department: \"Desarrollo\",\n        lastLogin: \"2023-10-25T14:00:00Z\",\n        notes: \"Desarrollador Frontend. Especializado en UI/UX.\",\n      },\n      {\n        id: \"1-2\",\n        firstName: \"Laura\",\n        lastName: \"Jiménez\",\n        age: 25,\n        visits: 15,\n        status: \"single\",\n        progress: 40,\n        email: \"laura.jimenez@example.com\",\n        role: \"User\",\n        department: \"Desarrollo\",\n        lastLogin: \"2023-10-24T09:15:00Z\",\n        notes: \"Desarrolladora Junior. Aprendiendo rápido.\",\n      },\n    ],\n  },\n  {\n    id: \"2\",\n    firstName: \"Luis\",\n    lastName: \"Martínez\",\n    age: 42,\n    visits: 250,\n    status: \"complicated\",\n    progress: 30,\n    email: \"luis.martinez@example.com\",\n    role: \"Editor\",\n    department: \"Marketing\",\n    lastLogin: \"2023-09-15T11:00:00Z\",\n    notes: \"Encargado de la estrategia de contenidos. Tiene un blog muy popular sobre marketing digital.\",\n  },\n  {\n    id: \"3\",\n    firstName: \"Sofía\",\n    lastName: \"Hernández\",\n    age: 29,\n    visits: 80,\n    status: \"single\",\n    progress: 70,\n    email: \"sofia.hernandez@example.com\",\n    role: \"User\",\n    department: \"Soporte\",\n    lastLogin: \"2023-10-20T16:45:00Z\",\n    notes: \"Especialista en soporte técnico nivel 2.\",\n  },\n  {\n    id: \"4\",\n    firstName: \"Javier\",\n    lastName: \"López\",\n    age: 50,\n    visits: 180,\n    status: \"relationship\",\n    progress: 95,\n    email: \"javier.lopez@example.com\",\n    role: \"Admin\",\n    department: \"Operaciones\",\n    lastLogin: \"2023-10-26T08:00:00Z\",\n    notes: \"Director de Operaciones. Supervisa múltiples departamentos. Siempre busca optimizar procesos.\",\n  },\n  {\n    id: \"5\",\n    firstName: \"Elena\",\n    lastName: \"Pérez\",\n    age: 22,\n    visits: 5,\n    status: \"single\",\n    progress: 15,\n    email: \"elena.perez@example.com\",\n    role: \"Viewer\",\n    department: \"Ventas\",\n    lastLogin: \"2023-08-01T12:30:00Z\",\n    notes: \"Becaria en el departamento de ventas. Mucho potencial.\",\n  },\n  {\n    id: \"6\",\n    firstName: \"María\",\n    lastName: \"Domínguez\",\n    age: 32,\n    visits: 75,\n    status: \"relationship\",\n    progress: 60,\n    email: \"maria.dominguez@example.com\",\n    role: \"Admin\",\n    department: \"Diseño\",\n    lastLogin: \"2023-10-10T09:30:00Z\",\n    notes: \"Diseñadora principal. Responsable de la identidad visual.\",\n    subRows: [\n      {\n        id: \"6-1\",\n        firstName: \"Pedro\",\n        lastName: \"Sánchez\",\n        age: 28,\n        visits: 20,\n        status: \"single\",\n        progress: 40,\n        email: \"pedro.sanchez@example.com\",\n        role: \"User\",\n        department: \"Diseño\",\n        lastLogin: \"2023-10-05T11:45:00Z\",\n        notes: \"Diseñador UI/UX junior.\",\n      },\n    ],\n  },\n  {\n    id: \"7\",\n    firstName: \"Variante\",\n    lastName: \"Primary\",\n    age: 35,\n    visits: 100,\n    status: \"relationship\",\n    progress: 50,\n    email: \"primary@example.com\",\n    role: \"Admin\",\n    department: \"Desarrollo\",\n    lastLogin: \"2023-10-01T10:00:00Z\",\n    notes: \"Ejemplo de fila con estilo primary\",\n  },\n  {\n    id: \"8\",\n    firstName: \"Variante\",\n    lastName: \"Secondary\",\n    age: 35,\n    visits: 100,\n    status: \"relationship\",\n    progress: 50,\n    email: \"secondary@example.com\",\n    role: \"Admin\",\n    department: \"Desarrollo\",\n    lastLogin: \"2023-10-01T10:00:00Z\",\n    notes: \"Ejemplo de fila con estilo secondary\",\n  },\n  {\n    id: \"9\",\n    firstName: \"Variante\",\n    lastName: \"Tertiary\",\n    age: 35,\n    visits: 100,\n    status: \"relationship\",\n    progress: 50,\n    email: \"tertiary@example.com\",\n    role: \"Admin\",\n    department: \"Desarrollo\",\n    lastLogin: \"2023-10-01T10:00:00Z\",\n    notes: \"Ejemplo de fila con estilo tertiary\",\n  },\n  {\n    id: \"10\",\n    firstName: \"Variante\",\n    lastName: \"Accent\",\n    age: 35,\n    visits: 100,\n    status: \"relationship\",\n    progress: 50,\n    email: \"accent@example.com\",\n    role: \"Admin\",\n    department: \"Desarrollo\",\n    lastLogin: \"2023-10-01T10:00:00Z\",\n    notes: \"Ejemplo de fila con estilo accent\",\n  },\n  {\n    id: \"11\",\n    firstName: \"Variante\",\n    lastName: \"Success\",\n    age: 35,\n    visits: 100,\n    status: \"relationship\",\n    progress: 90,\n    email: \"success@example.com\",\n    role: \"Admin\",\n    department: \"Desarrollo\",\n    lastLogin: \"2023-10-01T10:00:00Z\",\n    notes: \"Ejemplo de fila con estilo success\",\n  },\n  {\n    id: \"12\",\n    firstName: \"Variante\",\n    lastName: \"Warning\",\n    age: 35,\n    visits: 100,\n    status: \"relationship\",\n    progress: 50,\n    email: \"warning@example.com\",\n    role: \"Admin\",\n    department: \"Desarrollo\",\n    lastLogin: \"2023-10-01T10:00:00Z\",\n    notes: \"Ejemplo de fila con estilo warning\",\n  },\n  {\n    id: \"13\",\n    firstName: \"Variante\",\n    lastName: \"Danger\",\n    age: 35,\n    visits: 100,\n    status: \"complicated\",\n    progress: 20,\n    email: \"danger@example.com\",\n    role: \"Admin\",\n    department: \"Desarrollo\",\n    lastLogin: \"2023-10-01T10:00:00Z\",\n    notes: \"Ejemplo de fila con estilo danger\",\n  },\n  {\n    id: \"14\",\n    firstName: \"Ejemplo\",\n    lastName: \"SubFilas\",\n    age: 35,\n    visits: 100,\n    status: \"relationship\",\n    progress: 50,\n    email: \"subfilas@example.com\",\n    role: \"Admin\",\n    department: \"Desarrollo\",\n    lastLogin: \"2023-10-01T10:00:00Z\",\n    notes: \"Ejemplo para probar subfilas\",\n    subRows: [\n      {\n        id: \"14-1\",\n        firstName: \"SubFila\",\n        lastName: \"Uno\",\n        age: 25,\n        visits: 10,\n        status: \"single\",\n        progress: 30,\n        email: \"subfila1@example.com\",\n        role: \"User\",\n        department: \"Desarrollo\",\n        lastLogin: \"2023-10-01T10:00:00Z\",\n        notes: \"Primera subfila de ejemplo\",\n      },\n    ],\n  },\n]\n\n// Función para formatear fechas\nconst formatDate = (dateString: string | undefined) =\u003e {\n  if (!dateString) return \"N/A\"\n  try {\n    return new Date(dateString).toLocaleDateString(\"es-ES\", {\n      year: \"numeric\",\n      month: \"short\",\n      day: \"numeric\",\n      // hour: \"2-digit\", // Descomentar si se quiere hora\n      // minute: \"2-digit\",\n    })\n  } catch (error) {\n    console.error(\"Error formatting date:\", dateString, error)\n    return \"Fecha inválida\"\n  }\n}\n\n// Definición de columnas\nconst columns: ColumnDef\u003cPerson, any\u003e[] = [\n  {\n    id: \"expander\",\n    header: () =\u003e null,\n    cell: ({ row }) =\u003e\n      row.getCanExpand() ? (\n        \u003cdiv className=\"flex items-center justify-center w-full h-full\"\u003e\n          \u003cmotion.div\n            initial={false}\n            animate={{ rotate: row.getIsExpanded() ? 90 : 0 }}\n            transition={{ duration: 0.3, ease: \"easeInOut\" }}\n            className=\"flex items-center justify-center\"\n          \u003e\n            \u003cChevronRight size={18} className=\"text-primary\" /\u003e\n          \u003c/motion.div\u003e\n        \u003c/div\u003e\n      ) : null,\n    meta: {\n      className: \"w-10 text-center\",\n    },\n  },\n  {\n    accessorKey: \"firstName\",\n    header: \"Nombre\",\n    cell: (info) =\u003e info.getValue(),\n    meta: {\n      enableSorting: true,\n      className: \"font-medium\",\n    },\n  },\n  {\n    accessorKey: \"lastName\",\n    header: \"Apellido\",\n    cell: (info) =\u003e info.getValue(),\n    meta: {\n      enableSorting: true,\n    },\n  },\n  {\n    accessorKey: \"age\",\n    header: \"Edad\",\n    cell: (info) =\u003e info.getValue(),\n    meta: {\n      enableSorting: true,\n      className: \"text-center\",\n    },\n  },\n  {\n    accessorKey: \"email\",\n    header: \"Email\",\n    cell: (info) =\u003e (\n      \u003ca href={`mailto:${info.getValue() as string}`} className=\"text-blue-600 hover:text-blue-800 hover:underline\"\u003e\n        {info.getValue() as string}\n      \u003c/a\u003e\n    ),\n    meta: {\n      enableTooltip: true,\n      lineClamp: 1,\n      cellVariant: (info) =\u003e {\n        if (info.getValue() === \"maria.dominguez@example.com\") {\n          return \"accent\"\n        }\n        if (info.getValue() === \"javier.lopez@example.com\") {\n          return \"success\"\n        }\n        return undefined\n      },\n    },\n  },\n  {\n    accessorKey: \"role\",\n    header: \"Rol\",\n    cell: (info) =\u003e {\n      const role = info.getValue() as Person[\"role\"]\n      let badgeVariant: \"default\" | \"secondary\" | \"destructive\" | \"outline\" | \"info\" | \"success\" | \"warning\" = \"default\"\n      if (role === \"Admin\") badgeVariant = \"destructive\"\n      else if (role === \"Editor\") badgeVariant = \"info\"\n      else if (role === \"User\") badgeVariant = \"success\"\n      else if (role === \"Viewer\") badgeVariant = \"secondary\"\n      return (\n        \u003cBadge variant={badgeVariant} className=\"capitalize\"\u003e\n          {role}\n        \u003c/Badge\u003e\n      )\n    },\n    meta: {\n      enableSorting: true,\n      className: \"text-center\",\n    },\n  },\n  {\n    accessorKey: \"department\",\n    header: \"Departamento\",\n    cell: (info) =\u003e info.getValue(),\n    meta: {\n      enableSorting: true,\n    },\n  },\n  {\n    accessorKey: \"visits\",\n    header: \"Visitas\",\n    cell: (info) =\u003e \u003cdiv className=\"text-right\"\u003e{info.getValue() as number}\u003c/div\u003e,\n    meta: {\n      enableSorting: true,\n      className: \"text-right\",\n    },\n  },\n  {\n    accessorKey: \"status\",\n    header: \"Estado\",\n    cell: (info) =\u003e {\n      const status = info.getValue() as Person[\"status\"]\n      const cellVariant =\n        status === \"relationship\"\n          ? \"primary\"\n          : status === \"complicated\"\n            ? \"danger\"\n            : status === \"single\"\n              ? \"secondary\"\n              : \"neutral\"\n\n      return (\n        \u003cdiv\n          className=\"text-center font-medium\"\n          style={{\n            backgroundColor: info.row.getIsSelected() ? \"rgba(0,0,0,0.1)\" : \"transparent\",\n          }}\n        \u003e\n          {status}\n        \u003c/div\u003e\n      )\n    },\n    meta: {\n      enableSorting: true,\n      className: \"text-center\",\n      cellVariant: (info) =\u003e {\n        const status = info.getValue() as Person[\"status\"]\n        return status === \"relationship\"\n          ? \"primary\"\n          : status === \"complicated\"\n            ? \"danger\"\n            : status === \"single\"\n              ? \"secondary\"\n              : undefined\n      },\n    },\n  },\n  {\n    accessorKey: \"progress\",\n    header: () =\u003e \u003cdiv className=\"text-center\"\u003eProgreso\u003c/div\u003e,\n    cell: (info) =\u003e {\n      const value = info.getValue() as number\n      return (\n        \u003cdiv className=\"w-full\"\u003e\n          \u003cProgress value={value} className=\"w-full min-w-[100px]\" /\u003e\n          {value \u003e 0 \u0026\u0026 (\n            \u003cdiv className=\"text-xs mt-1 text-center\"\u003e\n              \u003cBadge variant={value \u003e 70 ? \"success\" : value \u003c 30 ? \"destructive\" : \"default\"} className=\"px-1 py-0\"\u003e\n                {value}%\n              \u003c/Badge\u003e\n            \u003c/div\u003e\n          )}\n        \u003c/div\u003e\n      )\n    },\n    meta: {\n      enableSorting: true,\n      className: \"text-center\",\n    },\n  },\n  {\n    accessorKey: \"lastLogin\",\n    header: \"Último Login\",\n    cell: (info) =\u003e formatDate(info.getValue() as string | undefined),\n    meta: {\n      enableSorting: true,\n      className: \"min-w-[120px]\",\n    },\n  },\n  {\n    accessorKey: \"notes\",\n    header: \"Notas\",\n    // cell: (info) =\u003e \u003cdiv className=\"max-w-xs\"\u003e{info.getValue() as string}\u003c/div\u003e, // ProTable maneja el lineClamp internamente\n    cell: (info) =\u003e info.getValue(),\n    meta: {\n      enableTooltip: true,\n      isLongContent: true,\n      lineClamp: 2, // ProTable usará esto\n      className: \"min-w-[200px] max-w-sm\", // Permite que la columna se expanda un poco\n    },\n  },\n  {\n    id: \"actions\",\n    header: () =\u003e \u003cdiv className=\"text-center\"\u003eAcciones\u003c/div\u003e,\n    cell: ({ row }) =\u003e (\n      \u003cdiv className=\"flex items-center justify-center space-x-1 md:space-x-2\"\u003e\n        \u003cButton variant=\"outline\" size=\"sm\" onClick={() =\u003e alert(`Viendo perfil de: ${row.original.firstName}`)}\u003e\n          Ver\n        \u003c/Button\u003e\n        \u003cButton\n          variant=\"ghost\"\n          size=\"sm\"\n          className=\"text-red-600 hover:text-red-700\"\n          onClick={() =\u003e\n            confirm(`¿Seguro que quieres eliminar a ${row.original.firstName}?`) \u0026\u0026\n            alert(`${row.original.firstName} eliminado (simulación).`)\n          }\n        \u003e\n          Eliminar\n        \u003c/Button\u003e\n      \u003c/div\u003e\n    ),\n    meta: {\n      type: \"actions\",\n      enableSorting: false,\n      enableTooltip: false,\n      isFixed: true, // Añadimos esta propiedad para fijar la columna\n      className: \"text-center sticky right-0 bg-background z-[1] shadow-sm\",\n    },\n  },\n]\n\n// Función getRowStatus\nconst getRowStatus = (\n  row: Person,\n):\n  | \"success\"\n  | \"warning\"\n  | \"error\"\n  | \"info\"\n  | \"neutral\"\n  | \"danger\"\n  | \"primary\"\n  | \"secondary\"\n  | \"tertiary\"\n  | \"accent\"\n  | null =\u003e {\n  // Solo mostrar log para Sofía\n  if (row.firstName === \"Sofía\") {\n    console.log(\"🔍 getRowStatus para Sofía:\", row)\n  }\n\n  // Variantes específicas basadas en ID\n  if (row.id === \"7\") return \"primary\"\n  if (row.id === \"8\") return \"secondary\"\n  if (row.id === \"9\") return \"tertiary\"\n  if (row.id === \"10\") return \"accent\"\n  if (row.id === \"11\") return \"success\"\n  if (row.id === \"12\") return \"warning\"\n  if (row.id === \"13\") return \"danger\"\n\n  // Mantener la lógica original\n  if (row.progress \u003e 80) return \"success\"\n  if (row.visits \u003c 20 \u0026\u0026 row.age \u003c 25 \u0026\u0026 row.role === \"Viewer\") return \"warning\"\n  if (row.status === \"complicated\") return \"danger\"\n  if (row.role === \"Admin\") return \"info\"\n  return null\n}\n\nconst ProTableShowroomPage: React.FC = () =\u003e {\n  return (\n    \u003cPageWrapper title=\"Showroom de ProTable\" className=\"container mx-auto px-4 py-8\"\u003e\n      \u003cText variant=\"heading\" as=\"h1\" className=\"mb-4\"\u003e\n        Demostración Avanzada de \u003ccode\u003eProTable\u003c/code\u003e\n      \u003c/Text\u003e\n\n      \u003cText variant=\"default\" className=\"mb-6 text-lg text-muted-foreground\"\u003e\n        Explora las capacidades del componente \u003ccode\u003eProTable\u003c/code\u003e. Esta tabla interactiva muestra características\n        clave diseñadas para la visualización y gestión eficiente de datos.\n      \u003c/Text\u003e\n\n      \u003cdiv className=\"mb-8 p-4 border rounded-lg bg-card shadow\"\u003e\n        \u003cText variant=\"title\" as=\"h2\" className=\"mb-3\"\u003e\n          Funcionalidades Destacadas:\n        \u003c/Text\u003e\n        \u003cul className=\"list-disc list-inside space-y-1 text-sm text-card-foreground\"\u003e\n          \u003cli\u003eFiltro global para búsquedas rápidas.\u003c/li\u003e\n          \u003cli\u003eSelector de columnas para personalizar la vista.\u003c/li\u003e\n          \u003cli\u003eOrdenación interactiva por múltiples columnas.\u003c/li\u003e\n          \u003cli\u003eTooltips informativos al pasar el cursor (normales y extensos).\u003c/li\u003e\n          \u003cli\u003e\n            Control de truncamiento de texto con \u003ccode\u003elineClamp\u003c/code\u003e.\n          \u003c/li\u003e\n          \u003cli\u003eSoporte para filas anidadas (sub-filas) expandibles.\u003c/li\u003e\n          \u003cli\u003e\n            Indicadores visuales de estado por fila (\u003ccode\u003egetRowStatus\u003c/code\u003e).\n          \u003c/li\u003e\n          \u003cli\u003eIntegración de componentes UI como Badges y Progress bars.\u003c/li\u003e\n          \u003cli\u003eColumna de acciones con botones interactivos.\u003c/li\u003e\n          \u003cli\u003eRedimensionamiento de columnas arrastrando los bordes.\u003c/li\u003e\n          \u003cli\u003eColumna de acciones fija a la derecha (sticky).\u003c/li\u003e\n        \u003c/ul\u003e\n      \u003c/div\u003e\n\n      \u003cProTable\u003cPerson\u003e\n        data={defaultData}\n        columns={columns}\n        enableTooltips={true}\n        enableSorting={true}\n        showColumnSelector={true}\n        placeholder=\"Buscar en toda la tabla...\"\n        getRowStatus={getRowStatus}\n        lineClamp={1}\n        tooltipDelay={250}\n        stickyHeader={true}\n        initialVisibility={{\n          department: false,\n        }}\n        className=\"mt-4 border rounded-lg shadow-lg overflow-hidden max-h-[700px]\"\n      /\u003e\n    \u003c/PageWrapper\u003e\n  )\n}\n\nexport default ProTableShowroomPage\n"])</script><script>self.__next_f.push([1,"5f:T4791,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport type React from \"react\"\nimport { ProTable } from \"@/components/ui/pro-table\"\nimport type { ColumnDef } from \"@tanstack/react-table\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Progress } from \"@/components/ui/progress\"\nimport { PageWrapper } from \"@/components/ui/page-wrapper\"\nimport { Text } from \"@/components/ui/text\"\nimport { Button } from \"@/components/ui/button\" // Para acciones\nimport { ChevronRight } from \"lucide-react\"\nimport { motion } from \"framer-motion\"\nimport type { CellVariant } from \"@/lib/theme/components/table-tokens\"\n\n// Definición de la interfaz Person\ninterface Person {\n  id: string\n  firstName: string\n  lastName: string\n  age: number\n  visits: number\n  status: \"relationship\" | \"complicated\" | \"single\"\n  progress: number\n  email: string\n  role: \"Admin\" | \"User\" | \"Editor\" | \"Viewer\"\n  department: string\n  lastLogin: string\n  notes?: string\n  subRows?: Person[]\n}\n\n// Datos de ejemplo\nconst getRowTextColorVariantForRow = (row: Person): CellVariant | undefined =\u003e {\n  if (row.firstName === \"Luis\") return \"accent\" // Fila de Luis tendrá texto accent como base\n  return undefined\n}\n\nconst isRowTextBoldForRow = (row: Person): boolean | undefined =\u003e {\n  if (row.status === \"complicated\") return true // Filas \"complicated\" serán negrita como base\n  if (row.firstName === \"Ana\") return false // Fila de Ana no será negrita (incluso si isRowTextBold global fuera true para ella)\n  return undefined\n}\nconst defaultData: Person[] = [\n  {\n    id: \"1\",\n    firstName: \"Ana\",\n    lastName: \"García\",\n    age: 34,\n    visits: 120,\n    status: \"relationship\",\n    progress: 85,\n    email: \"ana.garcia@example.com\",\n    role: \"Admin\",\n    department: \"Desarrollo\",\n    lastLogin: \"2023-10-26T10:30:00Z\",\n    notes:\n      \"Líder técnica del equipo de frontend. Amplia experiencia en React y Next.js. Responsable de la arquitectura de la nueva plataforma de usuarios. Esta nota es intencionalmente larga para demostrar cómo el componente ProTable maneja el contenido extenso a través de tooltips y line-clamp, asegurando que la interfaz se mantenga limpia y la información completa sea accesible.\",\n    subRows: [\n      {\n        id: \"1-1\",\n        firstName: \"Carlos\",\n        lastName: \"Ruiz\",\n        age: 28,\n        visits: 30,\n        status: \"single\",\n        progress: 60,\n        email: \"carlos.ruiz@example.com\",\n        role: \"User\",\n        department: \"Desarrollo\",\n        lastLogin: \"2023-10-25T14:00:00Z\",\n        notes: \"Desarrollador Frontend. Especializado en UI/UX.\",\n      },\n      {\n        id: \"1-2\",\n        firstName: \"Laura\",\n        lastName: \"Jiménez\",\n        age: 25,\n        visits: 15,\n        status: \"single\",\n        progress: 40,\n        email: \"laura.jimenez@example.com\",\n        role: \"User\",\n        department: \"Desarrollo\",\n        lastLogin: \"2023-10-24T09:15:00Z\",\n        notes: \"Desarrolladora Junior. Aprendiendo rápido.\",\n      },\n    ],\n  },\n  {\n    id: \"2\",\n    firstName: \"Luis\",\n    lastName: \"Martínez\",\n    age: 42,\n    visits: 250,\n    status: \"complicated\",\n    progress: 30,\n    email: \"luis.martinez@example.com\",\n    role: \"Editor\",\n    department: \"Marketing\",\n    lastLogin: \"2023-09-15T11:00:00Z\",\n    notes: \"Encargado de la estrategia de contenidos. Tiene un blog muy popular sobre marketing digital.\",\n  },\n  {\n    id: \"3\",\n    firstName: \"Sofía\",\n    lastName: \"Hernández\",\n    age: 29,\n    visits: 80,\n    status: \"single\",\n    progress: 70,\n    email: \"sofia.hernandez@example.com\",\n    role: \"User\",\n    department: \"Soporte\",\n    lastLogin: \"2023-10-20T16:45:00Z\",\n    notes: \"Especialista en soporte técnico nivel 2.\",\n  },\n  {\n    id: \"4\",\n    firstName: \"Javier\",\n    lastName: \"López\",\n    age: 50,\n    visits: 180,\n    status: \"relationship\",\n    progress: 95,\n    email: \"javier.lopez@example.com\",\n    role: \"Admin\",\n    department: \"Operaciones\",\n    lastLogin: \"2023-10-26T08:00:00Z\",\n    notes: \"Director de Operaciones. Supervisa múltiples departamentos. Siempre busca optimizar procesos.\",\n  },\n  {\n    id: \"5\",\n    firstName: \"Elena\",\n    lastName: \"Pérez\",\n    age: 22,\n    visits: 5,\n    status: \"single\",\n    progress: 15,\n    email: \"elena.perez@example.com\",\n    role: \"Viewer\",\n    department: \"Ventas\",\n    lastLogin: \"2023-08-01T12:30:00Z\",\n    notes: \"Becaria en el departamento de ventas. Mucho potencial.\",\n  },\n  {\n    id: \"6\",\n    firstName: \"María\",\n    lastName: \"Domínguez\",\n    age: 32,\n    visits: 75,\n    status: \"relationship\",\n    progress: 60,\n    email: \"maria.dominguez@example.com\",\n    role: \"Admin\",\n    department: \"Diseño\",\n    lastLogin: \"2023-10-10T09:30:00Z\",\n    notes: \"Diseñadora principal. Responsable de la identidad visual.\",\n    subRows: [\n      {\n        id: \"6-1\",\n        firstName: \"Pedro\",\n        lastName: \"Sánchez\",\n        age: 28,\n        visits: 20,\n        status: \"single\",\n        progress: 40,\n        email: \"pedro.sanchez@example.com\",\n        role: \"User\",\n        department: \"Diseño\",\n        lastLogin: \"2023-10-05T11:45:00Z\",\n        notes: \"Diseñador UI/UX junior.\",\n      },\n    ],\n  },\n  {\n    id: \"7\",\n    firstName: \"Variante\",\n    lastName: \"Primary\",\n    age: 35,\n    visits: 100,\n    status: \"relationship\",\n    progress: 50,\n    email: \"primary@example.com\",\n    role: \"Admin\",\n    department: \"Desarrollo\",\n    lastLogin: \"2023-10-01T10:00:00Z\",\n    notes: \"Ejemplo de fila con estilo primary\",\n  },\n  {\n    id: \"8\",\n    firstName: \"Variante\",\n    lastName: \"Secondary\",\n    age: 35,\n    visits: 100,\n    status: \"relationship\",\n    progress: 50,\n    email: \"secondary@example.com\",\n    role: \"Admin\",\n    department: \"Desarrollo\",\n    lastLogin: \"2023-10-01T10:00:00Z\",\n    notes: \"Ejemplo de fila con estilo secondary\",\n  },\n  {\n    id: \"9\",\n    firstName: \"Variante\",\n    lastName: \"Tertiary\",\n    age: 35,\n    visits: 100,\n    status: \"relationship\",\n    progress: 50,\n    email: \"tertiary@example.com\",\n    role: \"Admin\",\n    department: \"Desarrollo\",\n    lastLogin: \"2023-10-01T10:00:00Z\",\n    notes: \"Ejemplo de fila con estilo tertiary\",\n  },\n  {\n    id: \"10\",\n    firstName: \"Variante\",\n    lastName: \"Accent\",\n    age: 35,\n    visits: 100,\n    status: \"relationship\",\n    progress: 50,\n    email: \"accent@example.com\",\n    role: \"Admin\",\n    department: \"Desarrollo\",\n    lastLogin: \"2023-10-01T10:00:00Z\",\n    notes: \"Ejemplo de fila con estilo accent\",\n  },\n  {\n    id: \"11\",\n    firstName: \"Variante\",\n    lastName: \"Success\",\n    age: 35,\n    visits: 100,\n    status: \"relationship\",\n    progress: 90,\n    email: \"success@example.com\",\n    role: \"Admin\",\n    department: \"Desarrollo\",\n    lastLogin: \"2023-10-01T10:00:00Z\",\n    notes: \"Ejemplo de fila con estilo success\",\n  },\n  {\n    id: \"12\",\n    firstName: \"Variante\",\n    lastName: \"Warning\",\n    age: 35,\n    visits: 100,\n    status: \"relationship\",\n    progress: 50,\n    email: \"warning@example.com\",\n    role: \"Admin\",\n    department: \"Desarrollo\",\n    lastLogin: \"2023-10-01T10:00:00Z\",\n    notes: \"Ejemplo de fila con estilo warning\",\n  },\n  {\n    id: \"13\",\n    firstName: \"Variante\",\n    lastName: \"Danger\",\n    age: 35,\n    visits: 100,\n    status: \"complicated\",\n    progress: 20,\n    email: \"danger@example.com\",\n    role: \"Admin\",\n    department: \"Desarrollo\",\n    lastLogin: \"2023-10-01T10:00:00Z\",\n    notes: \"Ejemplo de fila con estilo danger\",\n  },\n  {\n    id: \"14\",\n    firstName: \"Ejemplo\",\n    lastName: \"SubFilas\",\n    age: 35,\n    visits: 100,\n    status: \"relationship\",\n    progress: 50,\n    email: \"subfilas@example.com\",\n    role: \"Admin\",\n    department: \"Desarrollo\",\n    lastLogin: \"2023-10-01T10:00:00Z\",\n    notes: \"Ejemplo para probar subfilas\",\n    subRows: [\n      {\n        id: \"14-1\",\n        firstName: \"SubFila\",\n        lastName: \"Uno\",\n        age: 25,\n        visits: 10,\n        status: \"single\",\n        progress: 30,\n        email: \"subfila1@example.com\",\n        role: \"User\",\n        department: \"Desarrollo\",\n        lastLogin: \"2023-10-01T10:00:00Z\",\n        notes: \"Primera subfila de ejemplo\",\n      },\n    ],\n  },\n]\n\n// Función para formatear fechas\nconst formatDate = (dateString: string | undefined) =\u003e {\n  if (!dateString) return \"N/A\"\n  try {\n    return new Date(dateString).toLocaleDateString(\"es-ES\", {\n      year: \"numeric\",\n      month: \"short\",\n      day: \"numeric\",\n      // hour: \"2-digit\", // Descomentar si se quiere hora\n      // minute: \"2-digit\",\n    })\n  } catch (error) {\n    console.error(\"Error formatting date:\", dateString, error)\n    return \"Fecha inválida\"\n  }\n}\n\n// Definición de columnas\nconst columns: ColumnDef\u003cPerson, any\u003e[] = [\n  {\n    id: \"expander\",\n    header: () =\u003e null,\n    cell: ({ row }) =\u003e\n      row.getCanExpand() ? (\n        \u003cdiv className=\"flex items-center justify-center w-full h-full\"\u003e\n          \u003cmotion.div\n            initial={false}\n            animate={{ rotate: row.getIsExpanded() ? 90 : 0 }}\n            transition={{ duration: 0.3, ease: \"easeInOut\" }}\n            className=\"flex items-center justify-center\"\n          \u003e\n            \u003cChevronRight size={18} className=\"text-primary\" /\u003e\n          \u003c/motion.div\u003e\n        \u003c/div\u003e\n      ) : null,\n    meta: {\n      className: \"w-10 text-center\",\n    },\n  },\n  {\n    accessorKey: \"firstName\",\n    header: \"Nombre\",\n    cell: (info) =\u003e info.getValue(),\n    meta: {\n      enableSorting: true,\n      className: \"font-medium\",\n      isTextBold: (info) =\u003e info.row.original.firstName === \"Ana\",\n      textColorVariant: (info) =\u003e {\n        if (info.row.original.age \u003c 30) return \"accent\" // Elena (22) should be primary text\n      },\n    },\n  },\n  {\n    accessorKey: \"lastName\",\n    header: \"Apellido\",\n    cell: (info) =\u003e info.getValue(),\n    meta: {\n      enableSorting: true,\n      isTextBold: true,\n    },\n  },\n  {\n    accessorKey: \"age\",\n    header: \"Edad\",\n    cell: (info) =\u003e info.getValue(),\n    meta: {\n      enableSorting: true,\n      className: \"text-center\",\n    },\n  },\n  {\n    accessorKey: \"email\",\n    header: \"Email\",\n    cell: (info) =\u003e (\n      \u003ca href={`mailto:${info.getValue() as string}`} className=\"text-blue-600 hover:text-blue-800 hover:underline\"\u003e\n        {info.getValue() as string}\n      \u003c/a\u003e\n    ),\n    meta: {\n      enableTooltip: true,\n      lineClamp: 1,\n      cellVariant: (info) =\u003e {\n        if (info.getValue() === \"maria.dominguez@example.com\") {\n          return \"accent\"\n        }\n        if (info.getValue() === \"javier.lopez@example.com\") {\n          return \"success\"\n        }\n        return undefined\n      },\n    },\n  },\n  {\n    accessorKey: \"role\",\n    header: \"Rol\",\n    cell: (info) =\u003e {\n      const role = info.getValue() as Person[\"role\"]\n      let badgeVariant: \"default\" | \"secondary\" | \"destructive\" | \"outline\" | \"info\" | \"success\" | \"warning\" = \"default\"\n      if (role === \"Admin\") badgeVariant = \"destructive\"\n      else if (role === \"Editor\") badgeVariant = \"info\"\n      else if (role === \"User\") badgeVariant = \"success\"\n      else if (role === \"Viewer\") badgeVariant = \"secondary\"\n      return (\n        \u003cBadge variant={badgeVariant} className=\"capitalize\"\u003e\n          {role}\n        \u003c/Badge\u003e\n      )\n    },\n    meta: {\n      enableSorting: true,\n      className: \"text-center\",\n    },\n  },\n  {\n    accessorKey: \"department\",\n    header: \"Departamento\",\n    cell: (info) =\u003e info.getValue(),\n    meta: {\n      enableSorting: true,\n    },\n  },\n  {\n    accessorKey: \"visits\",\n    header: \"Visitas\",\n    cell: (info) =\u003e \u003cdiv className=\"text-right\"\u003e{info.getValue() as number}\u003c/div\u003e,\n    meta: {\n      enableSorting: true,\n      className: \"text-right\",\n    },\n  },\n  {\n    accessorKey: \"status\",\n    header: \"Estado\",\n    cell: (info) =\u003e {\n      const status = info.getValue() as Person[\"status\"]\n      const cellVariant =\n        status === \"relationship\"\n          ? \"primary\"\n          : status === \"complicated\"\n            ? \"danger\"\n            : status === \"single\"\n              ? \"secondary\"\n              : \"neutral\"\n\n      return (\n        \u003cdiv\n          className=\"text-center font-medium\"\n          style={{\n            backgroundColor: info.row.getIsSelected() ? \"rgba(0,0,0,0.1)\" : \"transparent\",\n          }}\n        \u003e\n          {status}\n        \u003c/div\u003e\n      )\n    },\n    meta: {\n      enableSorting: true,\n      className: \"text-center\",\n      cellVariant: (info) =\u003e {\n        const status = info.getValue() as Person[\"status\"]\n        return status === \"relationship\"\n          ? \"primary\"\n          : status === \"complicated\"\n            ? \"danger\"\n            : status === \"single\"\n              ? \"secondary\"\n              : undefined\n      },\n    },\n  },\n  {\n    accessorKey: \"progress\",\n    header: () =\u003e \u003cdiv className=\"text-center\"\u003eProgreso\u003c/div\u003e,\n    cell: (info) =\u003e {\n      const value = info.getValue() as number\n      return (\n        \u003cdiv className=\"w-full\"\u003e\n          \u003cProgress value={value} className=\"w-full min-w-[100px]\" /\u003e\n          {value \u003e 0 \u0026\u0026 (\n            \u003cdiv className=\"text-xs mt-1 text-center\"\u003e\n              \u003cBadge variant={value \u003e 70 ? \"success\" : value \u003c 30 ? \"destructive\" : \"default\"} className=\"px-1 py-0\"\u003e\n                {value}%\n              \u003c/Badge\u003e\n            \u003c/div\u003e\n          )}\n        \u003c/div\u003e\n      )\n    },\n    meta: {\n      enableSorting: true,\n      className: \"text-center\",\n    },\n  },\n  {\n    accessorKey: \"lastLogin\",\n    header: \"Último Login\",\n    cell: (info) =\u003e formatDate(info.getValue() as string | undefined),\n    meta: {\n      enableSorting: true,\n      className: \"min-w-[120px]\",\n    },\n  },\n  {\n    accessorKey: \"notes\",\n    header: \"Notas\",\n    // cell: (info) =\u003e \u003cdiv className=\"max-w-xs\"\u003e{info.getValue() as string}\u003c/div\u003e, // ProTable maneja el lineClamp internamente\n    cell: (info) =\u003e info.getValue(),\n    meta: {\n      enableTooltip: true,\n      isLongContent: true,\n      lineClamp: 2, // ProTable usará esto\n      className: \"min-w-[200px] max-w-sm\", // Permite que la columna se expanda un poco\n    },\n  },\n  {\n    id: \"actions\",\n    header: () =\u003e \u003cdiv className=\"text-center\"\u003eAcciones\u003c/div\u003e,\n    cell: ({ row }) =\u003e (\n      \u003cdiv className=\"flex items-center justify-center space-x-1 md:space-x-2\"\u003e\n        \u003cButton variant=\"outline\" size=\"sm\" onClick={() =\u003e alert(`Viendo perfil de: ${row.original.firstName}`)}\u003e\n          Ver\n        \u003c/Button\u003e\n        \u003cButton\n          variant=\"ghost\"\n          size=\"sm\"\n          className=\"text-red-600 hover:text-red-700\"\n          onClick={() =\u003e\n            confirm(`¿Seguro que quieres eliminar a ${row.original.firstName}?`) \u0026\u0026\n            alert(`${row.original.firstName} eliminado (simulación).`)\n          }\n        \u003e\n          Eliminar\n        \u003c/Button\u003e\n      \u003c/div\u003e\n    ),\n    meta: {\n      type: \"actions\",\n      enableSorting: false,\n      enableTooltip: false,\n      isFixed: true, // Añadimos esta propiedad para fijar la columna\n      className: \"text-center sticky right-0 bg-background z-[1] shadow-sm\",\n    },\n  },\n]\n\n// Función getRowStatus\nconst getRowStatus = (\n  row: Person,\n):\n  | \"success\"\n  | \"warning\"\n  | \"error\"\n  | \"info\"\n  | \"neutral\"\n  | \"danger\"\n  | \"primary\"\n  | \"secondary\"\n  | \"tertiary\"\n  | \"accent\"\n  | null =\u003e {\n  // Solo mostrar log para Sofía\n  if (row.firstName === \"Sofía\") {\n    console.log(\"🔍 getRowStatus para Sofía:\", row)\n  }\n\n  // Variantes específicas basadas en ID\n  if (row.id === \"7\") return \"primary\"\n  if (row.id === \"8\") return \"secondary\"\n  if (row.id === \"9\") return \"tertiary\"\n  if (row.id === \"10\") return \"accent\"\n  if (row.id === \"11\") return \"success\"\n  if (row.id === \"12\") return \"warning\"\n  if (row.id === \"13\") return \"danger\"\n\n  // Mantener la lógica original\n  if (row.progress \u003e 80) return \"success\"\n  if (row.visits \u003c 20 \u0026\u0026 row.age \u003c 25 \u0026\u0026 row.role === \"Viewer\") return \"warning\"\n  if (row.status === \"complicated\") return \"danger\"\n  if (row.role === \"Admin\") return \"info\"\n  return null\n}\n\nconst ProTableShowroomPage: React.FC = () =\u003e {\n  return (\n    \u003cPageWrapper title=\"Showroom de ProTable\" className=\"container mx-auto px-4 py-8\"\u003e\n      \u003cText variant=\"heading\" as=\"h1\" className=\"mb-4\"\u003e\n        Demostración Avanzada de \u003ccode\u003eProTable\u003c/code\u003e\n      \u003c/Text\u003e\n\n      \u003cText variant=\"default\" className=\"mb-6 text-lg text-muted-foreground\"\u003e\n        Explora las capacidades del componente \u003ccode\u003eProTable\u003c/code\u003e. Esta tabla interactiva muestra características\n        clave diseñadas para la visualización y gestión eficiente de datos.\n      \u003c/Text\u003e\n\n      \u003cdiv className=\"mb-8 p-4 border rounded-lg bg-card shadow\"\u003e\n        \u003cText variant=\"title\" as=\"h2\" className=\"mb-3\"\u003e\n          Funcionalidades Destacadas:\n        \u003c/Text\u003e\n        \u003cul className=\"list-disc list-inside space-y-1 text-sm text-card-foreground\"\u003e\n          \u003cli\u003eFiltro global para búsquedas rápidas.\u003c/li\u003e\n          \u003cli\u003eSelector de columnas para personalizar la vista.\u003c/li\u003e\n          \u003cli\u003eOrdenación interactiva por múltiples columnas.\u003c/li\u003e\n          \u003cli\u003eTooltips informativos al pasar el cursor (normales y extensos).\u003c/li\u003e\n          \u003cli\u003e\n            Control de truncamiento de texto con \u003ccode\u003elineClamp\u003c/code\u003e.\n          \u003c/li\u003e\n          \u003cli\u003eSoporte para filas anidadas (sub-filas) expandibles.\u003c/li\u003e\n          \u003cli\u003e\n            Indicadores visuales de estado por fila (\u003ccode\u003egetRowStatus\u003c/code\u003e).\n          \u003c/li\u003e\n          \u003cli\u003eIntegración de componentes UI como Badges y Progress bars.\u003c/li\u003e\n          \u003cli\u003eColumna de acciones con botones interactivos.\u003c/li\u003e\n          \u003cli\u003eRedimensionamiento de columnas arrastrando los bordes.\u003c/li\u003e\n          \u003cli\u003eColumna de acciones fija a la derecha (sticky).\u003c/li\u003e\n        \u003c/ul\u003e\n      \u003c/div\u003e\n\n      \u003cdiv\n        className=\"relative border rounded-lg shadow-lg overflow-hidden\"\n        style={{\n          height: \"calc(100vh - 120px)\", // 100vh menos el espacio aproximado del navbar + márgenes\n          marginTop: \"1rem\",\n        }}\n      \u003e\n        \u003cProTable\u003cPerson\u003e\n          data={defaultData}\n          columns={columns}\n          enableTooltips={true}\n          enableSorting={true}\n          showColumnSelector={true}\n          placeholder=\"Buscar en toda la tabla...\"\n          getRowStatus={getRowStatus}\n          lineClamp={1}\n          tooltipDelay={250}\n          stickyHeader={true}\n          stickyHeaderOffset={0}\n          initialVisibility={{\n            department: false,\n          }}\n          className=\"h-full\"\n        /\u003e\n      \u003c/div\u003e\n    \u003c/PageWrapper\u003e\n  )\n}\n\nexport default ProTableShowroomPage\n"])</script><script>self.__next_f.push([1,"60:T2464,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport type React from \"react\"\nimport { useState } from \"react\"\nimport { Textarea } from \"@/components/ui/textarea\" // Changed from Input\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { Text } from \"@/components/ui/text\"\nimport { ThemeSwitcher } from \"@/components/ui/theme-switcher\"\nimport { FontThemeSwitcher } from \"@/components/ui/font-theme-switcher\"\nimport type { TextareaVariant, TextareaSize } from \"@/lib/theme/components/textarea-tokens\" // Added Textarea types\n\nexport default function ShowroomTextarea() {\n  // Changed function name\n  const [values, setValues] = useState({\n    default: \"This is some default text in the textarea.\",\n    withError: \"This text might have an error.\",\n    withSuccess: \"This text looks good!\",\n    withHint: \"Enter your bio here...\",\n    withCounter: \"Count my characters!\",\n    disabled: \"This textarea is disabled.\",\n    longText:\n      \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\",\n  })\n\n  const handleChange = (key: keyof typeof values) =\u003e (e: React.ChangeEvent\u003cHTMLTextAreaElement\u003e) =\u003e {\n    setValues((prev) =\u003e ({ ...prev, [key]: e.target.value }))\n  }\n\n  // Textarea variants and sizes from textarea-tokens.ts\n  const variants: TextareaVariant[] = [\n    \"default\",\n    \"primary\",\n    \"secondary\",\n    \"tertiary\",\n    \"neutral\",\n    \"white\",\n    \"success\",\n    \"warning\",\n    \"danger\",\n    \"info\",\n  ]\n  const sizes: TextareaSize[] = [\"sm\", \"md\", \"lg\"]\n\n  return (\n    \u003cdiv className=\"container mx-auto py-10\"\u003e\n      \u003cdiv className=\"flex justify-between items-center mb-8\"\u003e\n        \u003cText variant=\"heading\"\u003eTextarea Showroom\u003c/Text\u003e {/* Changed title */}\n        \u003cdiv className=\"flex gap-4\"\u003e\n          \u003cThemeSwitcher /\u003e\n          \u003cFontThemeSwitcher /\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n\n      \u003cTabs defaultValue=\"variants\"\u003e\n        \u003cTabsList className=\"mb-4\"\u003e\n          \u003cTabsTrigger value=\"variants\"\u003eVariants\u003c/TabsTrigger\u003e\n          \u003cTabsTrigger value=\"sizes\"\u003eSizes\u003c/TabsTrigger\u003e\n          \u003cTabsTrigger value=\"states\"\u003eStates\u003c/TabsTrigger\u003e\n          \u003cTabsTrigger value=\"examples\"\u003eExamples\u003c/TabsTrigger\u003e\n        \u003c/TabsList\u003e\n\n        \u003cTabsContent value=\"variants\"\u003e\n          \u003cCard\u003e\n            \u003cCardHeader\u003e\n              \u003cCardTitle\u003eTextarea Variants\u003c/CardTitle\u003e\n              \u003cCardDescription\u003eDifferent visual styles for the Textarea component\u003c/CardDescription\u003e\n            \u003c/CardHeader\u003e\n            \u003cCardContent className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\"\u003e\n              {variants.map((variant) =\u003e (\n                \u003cdiv key={variant} className=\"space-y-2\"\u003e\n                  \u003cText variant=\"label\" className=\"capitalize\"\u003e\n                    {variant}\n                  \u003c/Text\u003e\n                  \u003cTextarea\n                    variant={variant}\n                    placeholder={`${variant} textarea`}\n                    value={values.default}\n                    onChange={handleChange(\"default\")}\n                  /\u003e\n                \u003c/div\u003e\n              ))}\n            \u003c/CardContent\u003e\n          \u003c/Card\u003e\n        \u003c/TabsContent\u003e\n\n        \u003cTabsContent value=\"sizes\"\u003e\n          \u003cCard\u003e\n            \u003cCardHeader\u003e\n              \u003cCardTitle\u003eTextarea Sizes\u003c/CardTitle\u003e\n              \u003cCardDescription\u003eDifferent size options for the Textarea component\u003c/CardDescription\u003e\n            \u003c/CardHeader\u003e\n            \u003cCardContent className=\"grid gap-6\"\u003e\n              {sizes.map((size) =\u003e (\n                \u003cdiv key={size} className=\"space-y-2\"\u003e\n                  \u003cText variant=\"label\" className=\"capitalize\"\u003e\n                    {size}\n                  \u003c/Text\u003e\n                  \u003cTextarea\n                    size={size}\n                    placeholder={`${size} textarea`}\n                    value={values.default}\n                    onChange={handleChange(\"default\")}\n                  /\u003e\n                \u003c/div\u003e\n              ))}\n            \u003c/CardContent\u003e\n          \u003c/Card\u003e\n        \u003c/TabsContent\u003e\n\n        \u003cTabsContent value=\"states\"\u003e\n          \u003cCard\u003e\n            \u003cCardHeader\u003e\n              \u003cCardTitle\u003eTextarea States\u003c/CardTitle\u003e\n              \u003cCardDescription\u003eDifferent states of the Textarea component\u003c/CardDescription\u003e\n            \u003c/CardHeader\u003e\n            \u003cCardContent className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003eDefault\u003c/Text\u003e\n                \u003cTextarea placeholder=\"Default textarea\" value={values.default} onChange={handleChange(\"default\")} /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003eWith Error\u003c/Text\u003e\n                \u003cTextarea\n                  placeholder=\"Textarea with error\"\n                  value={values.withError}\n                  onChange={handleChange(\"withError\")}\n                  error=\"This field has an error and the message is a bit long to test wrapping.\"\n                /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003eWith Success\u003c/Text\u003e\n                \u003cTextarea\n                  placeholder=\"Textarea with success\"\n                  value={values.withSuccess}\n                  onChange={handleChange(\"withSuccess\")}\n                  isSuccess // Use isSuccess prop\n                  // Textarea doesn't have a successMessage prop, hint can be used or error styling implies success through icon/border\n                  hint=\"This field is valid and looks great!\"\n                /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003eWith Hint\u003c/Text\u003e\n                \u003cTextarea\n                  placeholder=\"Textarea with hint\"\n                  value={values.withHint}\n                  onChange={handleChange(\"withHint\")}\n                  hint=\"This is a helpful hint for the textarea.\"\n                /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003eDisabled\u003c/Text\u003e\n                \u003cTextarea\n                  placeholder=\"Disabled textarea\"\n                  value={values.disabled}\n                  onChange={handleChange(\"disabled\")}\n                  disabled\n                /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003eIs Editing\u003c/Text\u003e\n                \u003cTextarea\n                  placeholder=\"Textarea in editing mode\"\n                  value={values.default}\n                  onChange={handleChange(\"default\")}\n                  isEditing\n                /\u003e\n              \u003c/div\u003e\n            \u003c/CardContent\u003e\n          \u003c/Card\u003e\n        \u003c/TabsContent\u003e\n\n        \u003cTabsContent value=\"examples\"\u003e\n          \u003cCard\u003e\n            \u003cCardHeader\u003e\n              \u003cCardTitle\u003eTextarea Examples\u003c/CardTitle\u003e\n              \u003cCardDescription\u003eCommon use cases for the Textarea component\u003c/CardDescription\u003e\n            \u003c/CardHeader\u003e\n            \u003cCardContent className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003eWith Character Count\u003c/Text\u003e\n                \u003cTextarea\n                  placeholder=\"Limited to 150 characters for a short bio.\"\n                  value={values.withCounter}\n                  onChange={handleChange(\"withCounter\")}\n                  maxLength={150}\n                  showCharacterCount\n                /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003eLong Content\u003c/Text\u003e\n                \u003cTextarea\n                  placeholder=\"Enter a long description or comment...\"\n                  value={values.longText}\n                  onChange={handleChange(\"longText\")}\n                  rows={6} // Suggest a larger initial size\n                /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003ePrimary Variant Example\u003c/Text\u003e\n                \u003cTextarea\n                  variant=\"primary\"\n                  placeholder=\"Primary variant textarea\"\n                  value={values.default}\n                  onChange={handleChange(\"default\")}\n                  hint=\"This textarea uses the primary variant.\"\n                /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"label\"\u003eError State with Max Length\u003c/Text\u003e\n                \u003cTextarea\n                  placeholder=\"Try to exceed 50 chars\"\n                  value={values.withError}\n                  onChange={handleChange(\"withError\")}\n                  maxLength={50}\n                  showCharacterCount\n                  error={\n                    values.withError.length \u003e 50 ? \"Character limit exceeded!\" : \"This field has a warning if too long.\"\n                  }\n                /\u003e\n              \u003c/div\u003e\n            \u003c/CardContent\u003e\n          \u003c/Card\u003e\n        \u003c/TabsContent\u003e\n      \u003c/Tabs\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"61:T1fea,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport type React from \"react\"\n\nimport { useState } from \"react\"\nimport Link from \"next/link\"\nimport { CustomButton } from \"@/components/ui/custom-button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { FormField } from \"@/components/ui/form-field\"\nimport { Text } from \"@/components/ui/text\"\nimport { ProCard } from \"@/components/ui/pro-card\"\nimport { Mail, ArrowRight, Send, Users, Shield } from \"lucide-react\"\nimport { toast } from \"sonner\"\nimport { SustratoLogoWithFixedText } from \"@/components/ui/sustrato-logo-with-fixed-text\"\nimport { SustratoPageBackground } from \"@/components/ui/sustrato-page-background\"\n\nexport default function SignUpPage() {\n  const [name, setName] = useState(\"\")\n  const [email, setEmail] = useState(\"\")\n  const [message, setMessage] = useState(\"\")\n  const [loading, setLoading] = useState(false)\n\n  const handleSubmit = async (e: React.FormEvent) =\u003e {\n    e.preventDefault()\n\n    if (!name || !email || !message) {\n      toast.error(\"Por favor, completa todos los campos\")\n      return\n    }\n\n    setLoading(true)\n\n    try {\n      // Aquí iría la lógica para enviar el formulario de contacto\n      // Por ahora solo simulamos una espera\n      await new Promise((resolve) =\u003e setTimeout(resolve, 1500))\n\n      toast.success(\"Tu solicitud ha sido enviada correctamente. Nos pondremos en contacto contigo pronto.\")\n      setName(\"\")\n      setEmail(\"\")\n      setMessage(\"\")\n    } catch (error) {\n      console.error(\"Error al enviar el formulario:\", error)\n      toast.error(\"Ocurrió un error al enviar tu solicitud. Por favor, intenta nuevamente.\")\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    \u003cSustratoPageBackground variant=\"gradient\" bubbles={true}\u003e\n      \u003cdiv className=\"flex items-center justify-center min-h-screen p-4\"\u003e\n        \u003cProCard className=\"max-w-4xl w-full\" border=\"top\" variant=\"primary\"\u003e\n          \u003cProCard.Header className=\"space-y-2 text-center\"\u003e\n            \u003cdiv className=\"flex justify-center mb-6\"\u003e\n              \u003cSustratoLogoWithFixedText size={70} variant=\"vertical\" speed=\"slow\" initialTheme=\"orange\" /\u003e\n            \u003c/div\u003e\n            \u003cText variant=\"heading\" size=\"2xl\" color=\"primary\" className=\"text-center\"\u003e\n              Beta Privada\n            \u003c/Text\u003e\n            \u003cText variant=\"default\" color=\"neutral\" colorVariant=\"muted\" className=\"text-center max-w-2xl mx-auto\"\u003e\n              Sustrato.ai se encuentra actualmente en fase de beta privada. Si estás interesado en participar, por favor\n              déjanos tus datos y nos pondremos en contacto contigo.\n            \u003c/Text\u003e\n          \u003c/ProCard.Header\u003e\n\n          \u003cProCard.Content\u003e\n            \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-8\"\u003e\n              \u003cdiv className=\"space-y-6\"\u003e\n                \u003cdiv className=\"flex items-start gap-4\"\u003e\n                  \u003cdiv className=\"bg-primary/10 p-3 rounded-full\"\u003e\n                    \u003cShield size={24} className=\"text-primary\" /\u003e\n                  \u003c/div\u003e\n                  \u003cdiv\u003e\n                    \u003cText variant=\"heading\" size=\"lg\" color=\"primary\"\u003e\n                      Acceso exclusivo\n                    \u003c/Text\u003e\n                    \u003cText variant=\"default\" color=\"neutral\" colorVariant=\"muted\" className=\"mt-1\"\u003e\n                      Estamos ofreciendo acceso limitado a nuestra plataforma en esta etapa inicial para garantizar una\n                      experiencia óptima.\n                    \u003c/Text\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n\n                \u003cdiv className=\"flex items-start gap-4\"\u003e\n                  \u003cdiv className=\"bg-primary/10 p-3 rounded-full\"\u003e\n                    \u003cUsers size={24} className=\"text-primary\" /\u003e\n                  \u003c/div\u003e\n                  \u003cdiv\u003e\n                    \u003cText variant=\"heading\" size=\"lg\" color=\"primary\"\u003e\n                      Comunidad de pioneros\n                    \u003c/Text\u003e\n                    \u003cText variant=\"default\" color=\"neutral\" colorVariant=\"muted\" className=\"mt-1\"\u003e\n                      Únete a nuestra comunidad de usuarios pioneros y ayúdanos a moldear el futuro de la plataforma con\n                      tu valioso feedback.\n                    \u003c/Text\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n\n                \u003cProCard className=\"bg-secondary/5 border-secondary/20\"\u003e\n                  \u003cProCard.Content\u003e\n                    \u003cText variant=\"heading\" size=\"md\" color=\"secondary\" className=\"mb-2\"\u003e\n                      ¿Ya tienes una cuenta?\n                    \u003c/Text\u003e\n                    \u003cText variant=\"default\" color=\"neutral\" colorVariant=\"muted\" className=\"mb-4\"\u003e\n                      Si ya cuentas con acceso a nuestra beta, puedes iniciar sesión con tus credenciales.\n                    \u003c/Text\u003e\n                    \u003cLink href=\"/login\"\u003e\n                      \u003cCustomButton\n                        variant=\"outline\"\n                        color=\"secondary\"\n                        className=\"mt-2\"\n                        rightIcon={\u003cArrowRight size={16} /\u003e}\n                      \u003e\n                        Ir a iniciar sesión\n                      \u003c/CustomButton\u003e\n                    \u003c/Link\u003e\n                  \u003c/ProCard.Content\u003e\n                \u003c/ProCard\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003cProCard className=\"shadow-sm\"\u003e\n                  \u003cProCard.Header\u003e\n                    \u003cText variant=\"heading\" size=\"lg\" color=\"primary\"\u003e\n                      Solicitar acceso\n                    \u003c/Text\u003e\n                    \u003cText variant=\"default\" color=\"neutral\" colorVariant=\"muted\"\u003e\n                      Completa el formulario para solicitar acceso a la beta privada.\n                    \u003c/Text\u003e\n                  \u003c/ProCard.Header\u003e\n\n                  \u003cProCard.Content\u003e\n                    \u003cform onSubmit={handleSubmit} className=\"space-y-4\"\u003e\n                      \u003cFormField label=\"Nombre\" htmlFor=\"name\"\u003e\n                        \u003cInput\n                          id=\"name\"\n                          value={name}\n                          onChange={(e) =\u003e setName(e.target.value)}\n                          placeholder=\"Tu nombre completo\"\n                          required\n                        /\u003e\n                      \u003c/FormField\u003e\n\n                      \u003cFormField label=\"Correo electrónico\" htmlFor=\"email\"\u003e\n                        \u003cInput\n                          id=\"email\"\n                          type=\"email\"\n                          leadingIcon={Mail}\n                          value={email}\n                          onChange={(e) =\u003e setEmail(e.target.value)}\n                          placeholder=\"tucorreo@ejemplo.com\"\n                          required\n                        /\u003e\n                      \u003c/FormField\u003e\n\n                      \u003cFormField label=\"Mensaje\" htmlFor=\"message\"\u003e\n                        \u003cTextarea\n                          id=\"message\"\n                          value={message}\n                          onChange={(e) =\u003e setMessage(e.target.value)}\n                          placeholder=\"Cuéntanos por qué estás interesado en participar en nuestra beta\"\n                          required\n                          rows={4}\n                        /\u003e\n                      \u003c/FormField\u003e\n\n                      \u003cCustomButton\n                        type=\"submit\"\n                        fullWidth\n                        loading={loading}\n                        loadingText=\"Enviando solicitud...\"\n                        color=\"primary\"\n                        leftIcon={\u003cSend size={16} /\u003e}\n                        className=\"mt-6\"\n                      \u003e\n                        Enviar solicitud\n                      \u003c/CustomButton\u003e\n                    \u003c/form\u003e\n                  \u003c/ProCard.Content\u003e\n                \u003c/ProCard\u003e\n              \u003c/div\u003e\n            \u003c/div\u003e\n          \u003c/ProCard.Content\u003e\n\n          \u003cProCard.Footer className=\"text-center\"\u003e\n            \u003cText variant=\"default\" size=\"sm\" color=\"neutral\" colorVariant=\"muted\"\u003e\n              Al enviar este formulario, aceptas recibir comunicaciones relacionadas con Sustrato.ai.\n            \u003c/Text\u003e\n          \u003c/ProCard.Footer\u003e\n        \u003c/ProCard\u003e\n      \u003c/div\u003e\n    \u003c/SustratoPageBackground\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"62:T93a,"])</script><script>self.__next_f.push([1,"import { Text } from \"@/components/ui/text\"\n\nexport default function SustratoDemo() {\n  return (\n    \u003cdiv className=\"container mx-auto p-8\"\u003e\n      \u003ch1 className=\"mb-6\"\u003eDemostración del Tema Sustrato\u003c/h1\u003e\n\n      \u003cdiv className=\"grid gap-8\"\u003e\n        \u003csection\u003e\n          \u003ch2 className=\"mb-4\"\u003eEncabezados con Chau Philomene One\u003c/h2\u003e\n          \u003cdiv className=\"space-y-4\"\u003e\n            \u003ch1\u003eEncabezado H1 con Chau Philomene One\u003c/h1\u003e\n            \u003ch2\u003eEncabezado H2 con Chau Philomene One\u003c/h2\u003e\n            \u003ch3\u003eEncabezado H3 con Chau Philomene One\u003c/h3\u003e\n            \u003ch4\u003eEncabezado H4 con Chau Philomene One\u003c/h4\u003e\n            \u003ch5\u003eEncabezado H5 con Chau Philomene One\u003c/h5\u003e\n            \u003ch6\u003eEncabezado H6 con Chau Philomene One\u003c/h6\u003e\n          \u003c/div\u003e\n        \u003c/section\u003e\n\n        \u003csection\u003e\n          \u003ch2 className=\"mb-4\"\u003eTexto con Work Sans\u003c/h2\u003e\n          \u003cdiv className=\"space-y-4\"\u003e\n            \u003cp className=\"text-lg\"\u003e\n              Este es un párrafo con la fuente Work Sans. Work Sans es una fuente sans-serif geométrica con excelente\n              legibilidad que complementa muy bien el estilo distintivo de Chau Philomene One.\n            \u003c/p\u003e\n            \u003cp\u003e\n              Work Sans tiene un diseño limpio y moderno que funciona bien tanto para textos largos como para interfaces\n              de usuario. Su estructura geométrica sutil proporciona un buen contraste con los encabezados más\n              distintivos de Chau Philomene One.\n            \u003c/p\u003e\n            \u003cp className=\"text-sm\"\u003e\n              También funciona bien en tamaños más pequeños, manteniendo su legibilidad y claridad. Esta combinación de\n              fuentes crea una jerarquía visual clara y atractiva.\n            \u003c/p\u003e\n          \u003c/div\u003e\n        \u003c/section\u003e\n\n        \u003csection\u003e\n          \u003ch2 className=\"mb-4\"\u003eComponentes de Texto\u003c/h2\u003e\n          \u003cdiv className=\"space-y-4\"\u003e\n            \u003cText variant=\"h1\"\u003eTexto variante h1\u003c/Text\u003e\n            \u003cText variant=\"h2\"\u003eTexto variante h2\u003c/Text\u003e\n            \u003cText variant=\"h3\"\u003eTexto variante h3\u003c/Text\u003e\n            \u003cText variant=\"p\" size=\"lg\"\u003e\n              Texto variante párrafo grande\n            \u003c/Text\u003e\n            \u003cText variant=\"p\"\u003eTexto variante párrafo normal\u003c/Text\u003e\n            \u003cText variant=\"p\" size=\"sm\"\u003e\n              Texto variante párrafo pequeño\n            \u003c/Text\u003e\n          \u003c/div\u003e\n        \u003c/section\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"63:T5acf,"])</script><script>self.__next_f.push([1,"# Entre algoritmos y humanidad: por qué la IA no es una amenaza para las humanidades, sino una oportunidad ética que no podemos postergar\n\n**I. Introducción: la IA como palabra maldita en los claustros**\n\nEn ciertos espacios académicos, sobre todo aquellos vinculados a las humanidades, mencionar la palabra *inteligencia artificial* provoca una reacción inmediata, casi visceral: miradas que se desvían, cejas que se arquean, una mueca breve de desconfianza. La IA aparece allí como una palabra maldita, un tótem de todo lo que amenaza: la deshumanización, la automatización sin alma, el vaciamiento de la reflexión crítica, la trampa del “todo ya hecho”. Y sin embargo, esta reacción defensiva no es tanto racional como simbólica. Porque lo que se teme no es tanto la IA en sí, sino lo que se cree que representa.\n\nEste gesto —de rechazo elegante o burla intelectual— se repite con una familiaridad inquietante. Hay algo en la IA que incomoda profundamente a quienes han hecho de la palabra, el pensamiento lento y la subjetividad compleja sus herramientas fundamentales. La reacción es entendible: durante décadas, las humanidades han sido desplazadas del centro de la conversación cultural por una lógica tecnocientífica que premia la cuantificación, la automatización y la eficiencia sobre lo simbólico, lo ético y lo ambivalente. Así, la aparición de modelos generativos, capaces de redactar ensayos, sintetizar ideas o imitar estilos, se vive como una nueva amenaza existencial: *¿y si ahora también escriben como nosotros?*\n\nPero aquí es donde comienza el malentendido. Porque la IA, en su estado actual, no “piensa” como los humanos. No “comprende”, en el sentido profundo que se le da a esa palabra en filosofía o semiótica. Lo que hace —y hace con una velocidad y alcance descomunal— es **recorrer patrones**, proponer asociaciones plausibles, generar texto que suena coherente. Lo hace sin intención, sin biografía, sin ideología. Y sin embargo, **lo que genera puede ser profundamente significativo**, especialmente cuando un humano lo lee, lo interpreta y lo resignifica.\n\nEl problema entonces no es la IA. El problema es **no saber cómo entrar en relación con ella sin quedar reducidos ni inflados**. No saber cómo pensarla **sin miedo, sin fe ciega, sin desprecio automático**. Y sobre todo, no comprender que **si el campo humanista no se involucra en su diseño, uso y crítica**, entonces la IA será lo que otros —con otros valores, otras agendas, otras prioridades— decidan que sea.\n\nLo urgente, entonces, no es cerrar la puerta. Lo urgente es **cambiar el tono de la conversación**. No para rendirse, sino para habitar este presente con la altura que se espera de quienes reflexionan sobre el mundo. La IA no es un enemigo. Tampoco es una solución mágica. Es, como toda herramienta histórica, **un espejo y un cincel**: nos refleja y nos moldea, pero solo si decidimos usarlo.\n\nY el primer paso, antes de discutir su ética, sus límites o su aplicación, es simplemente este: **nombrarla sin miedo**, traerla a la mesa sin cinismo, y atreverse a pensar **cómo** queremos que exista en nuestras prácticas, y **con quién** la queremos construir.\n\n**II. La paradoja del intelectual que teme el lenguaje de su época**\n\nHay una imagen que, si no fuese tan triste, resultaría cómica: la de un pensador brillante, formado en la crítica, en la historia de las ideas, en la decodificación de símbolos y discursos... que, al escuchar la palabra *algoritmo*, desvía la conversación hacia cualquier otro lado. La paradoja es profunda: quienes han dedicado su vida a estudiar las grandes transformaciones del pensamiento humano, temen o ignoran precisamente la transformaci��n más radical de nuestro tiempo. Y lo hacen, muchas veces, **en nombre de la profundidad**.\n\nEste fenómeno no es nuevo. La historia del pensamiento está llena de momentos en los que las élites intelectuales resistieron tecnologías que luego transformaron el mundo. Ocurrió con la imprenta, cuando muchos humanistas creían que mecanizar la palabra destruiría su aura sagrada. Ocurrió con el cine, que durante décadas fue visto como un arte menor, “popular”, incapaz de sostener discurso crítico. Ocurrió con la televisión, con los videojuegos, con internet. Y ahora, ocurre con la IA.\n\nLa constante es siempre la misma: **el prejuicio de que lo nuevo es superficial por el solo hecho de ser nuevo**. Como si la profundidad fuese un atributo temporal, reservado solo a lo que ya tiene historia, tradición, libros publicados. Pero la verdadera profundidad no está en el objeto que se estudia, sino en **la mirada que lo aborda**. Un meme puede ser más filosóficamente fértil que un tratado, si se lo interroga con rigor. Una conversación con una IA puede ser más reveladora que una disertación, si se sabe leer entre líneas.\n\nEntonces, ¿por qué el rechazo? Porque esta vez, lo nuevo no solo desafía las formas, sino también **las jerarquías**. La IA no llega a las universidades por el canal tradicional del saber: no viene desde una disciplina, no tiene teoría establecida, ni una escuela, ni bibliografía canónica. Viene desde la ingeniería, desde la industria, desde los márgenes del discurso académico. Y eso, para muchos, es inadmisible. La IA no habla el idioma tradicional del humanismo. Y por eso se la sospecha.\n\nPero aquí está el núcleo de la paradoja: **si el intelectual se niega a aprender el lenguaje de su tiempo, renuncia a su capacidad de intervención real**. Puede seguir escribiendo libros brillantes, sí. Puede seguir denunciando la deshumanización del mundo, la aceleración sin sentido, la pérdida del cuerpo, del aura, del vínculo. Pero lo hará **sin capacidad de incidencia**, como quien grita desde la playa mientras los barcos parten.\n\nAprender el lenguaje de los sistemas, de los modelos, de los datasets, no es traicionar las humanidades. Es **actualizarlas**. Es hacer que puedan seguir siendo lo que fueron: espacios de resistencia, de complejidad, de sentido. Y eso implica entrar a la IA **no como fanáticos ni enemigos**, sino como interlocutores.\n\nPorque el verdadero humanista no es quien repite los gestos del pasado, sino quien se atreve a pensar lo nuevo **sin renunciar a su raíz**. Y hoy, lo nuevo tiene nombre, y lo pronuncia una generación que necesita de quienes saben mirar más allá del uso y del miedo.\n\n**III. La ética no es enemiga de la técnica: es su brújula**\n\nUna de las falsas dicotomías más persistentes en el discurso contemporáneo es la que enfrenta técnica y ética como si fueran planos inconciliables. La técnica, se dice, sería la esfera del hacer, del cálculo, de la eficiencia. La ética, en cambio, la esfera del deber, de los fines, de lo humano. Y por tanto, la tecnología —máxima expresión del hacer sin pausa— parecería estar condenada a escapar de toda brújula moral. Esta idea, aún sostenida en muchos claustros, no resiste ni el peso de la historia ni el pulso del presente.\n\nPorque si algo muestra el devenir técnico del mundo, es que **toda tecnología sin ética se vuelve acumulación sin sentido**, mientras que **toda ética sin técnica se convierte en discurso impotente, que no transforma ni toca la vida real**.\n\nLa IA, en particular, deja esta tensión en carne viva. Nunca antes habíamos creado una herramienta que pudiera replicar tan bien los procesos del lenguaje humano. Nunca antes una tecnología nos había devuelto palabras, ideas, estilos, conversaciones. Y eso obliga a replantear lo ético no como un límite externo (“hasta dónde puede llegar esta tecnología”), sino como **una dimensión interna**: *¿para qué la usamos?, ¿qué valores expresa?, ¿a quién sirve?, ¿a quién deja fuera?*\n\nEs tentador pensar la ética como el freno. Pero lo más valioso que puede hacer la ética no es detener, sino **orientar**. No decir “no se puede”, sino preguntar “¿de qué manera sí?”. Porque el problema no es que existan herramientas poderosas, sino que **no haya quienes sepan pensarlas desde lo humano**. Y eso es lo que sucede cuando las humanidades ceden el terreno.\n\nNo hay ética sin logos. La ética que no se sostiene en razonamiento, se convierte en humo. Reglas sin justificación, indignación sin contexto. Y no hay técnica sin ethos: lo técnico que no se interroga a sí mismo, reproduce modelos de poder, de exclusión, de reproducción ciega. La ética y la técnica no se oponen: se necesitan. **Una es lenguaje. La otra, dirección.**\n\nPor eso es un error, en nombre de la ética, renunciar a la técnica. El desarrollo ético no consiste en marginarse de las herramientas, sino en **entrar en ellas con espíritu crítico y voluntad de transformación**. La pregunta ya no es “¿deberíamos usar IA?”, sino “¿qué IA vale la pena usar, y para qué?”. Lo otro es cederle la herramienta a quienes solo buscan extraer valor, sin importar a quién se lleva por delante.\n\nAsí como no dejamos la educación en manos de la automatización, ni la salud solo en manos de algoritmos, tampoco podemos dejar el desarrollo cultural, creativo, intelectual en manos de la lógica productiva. Y eso solo es posible si **nos apropiamos del instrumento sin perder la mirada que lo interroga**.\n\nEn ese sentido, el lugar ético del académico humanista hoy **no está fuera de la tecnología**, sino **en el centro mismo de su diseño, aplicación y sentido**. Porque sin ética, la IA será solo otra extensión del capital. Pero sin técnica, la ética será otra voz marginal, que nadie escucha cuando más la necesitamos.\n\n\n**IV. El mito del reemplazo y la fantasía de la pureza intelectual**\n\nUna de las narrativas más arraigadas y al mismo tiempo más empobrecedoras en torno a la inteligencia artificial es la del *reemplazo*. Se repite en artículos, conferencias, pasillos académicos: “la IA viene a suplantar al humano”, “pronto los algoritmos escribirán mejor que nosotros”, “ya no hará falta pensar, todo lo hará la máquina”. Bajo esa lógica, cada avance técnico se vive como una pérdida: del rol, del sentido, de la dignidad. Pero esta narrativa es tan simplista como falsa. Y más aún: es peligrosa, porque paraliza.\n\nLo cierto es que la IA no reemplaza lo humano: **reconfigura los bordes de lo que lo humano puede hacer**. Automatiza ciertas tareas, sí. Propone atajos. Mejora la velocidad en muchos procesos. Pero en ningún caso —ni siquiera en los más sofisticados— reemplaza la **singularidad situada, encarnada, afectiva** del pensamiento humano. Un ensayo generado por IA puede parecer coherente, pero carece de biografía, de voz, de tensión vital. Una poesía puede rimar y tener imágenes, pero no tiene memoria ni herida. La IA puede componer, pero **no vive lo que compone**.\n\nY aquí es donde aparece otro mito: el de la *pureza intelectual*. Como si lo verdaderamente humano fuese lo que no se contamina con lo artificial. Como si escribir con IA fuera hacer trampa. Como si usar un modelo generativo invalidara el pensamiento, la creatividad, el rigor. Esta fantasía de pureza, además de ingenua, es ciega al hecho de que **toda producción humana ha estado siempre mediada por herramientas**: desde la pluma hasta el procesador de texto, desde la biblioteca hasta el buscador.\n\nEl verdadero problema no es usar o no usar IA. El verdadero problema es **creer que usarla implica renunciar a lo que nos hace humanos**. Nada más lejos. El uso consciente, crítico, ético y creativo de estas herramientas puede —y debe— **ampliar nuestro rango de pensamiento**, nuestra sensibilidad, nuestra capacidad expresiva. No se trata de delegar el sentido, sino de **dialogar con lo generado, reescribirlo, intervenirlo, traducirlo a nuestra voz**.\n\nRechazar la IA por miedo al reemplazo es no entender que **la diferencia sigue siendo nuestro mayor valor**. La diferencia en estilo, en visión, en sensibilidad. Pero también en el modo de usar la herramienta. Porque no todos usan la IA igual. No todos preguntan lo mismo. No todos saben leer entre líneas, corregir, combinar. Ahí aparece la agencia humana: no en evitar la máquina, sino en **saber hacerla hablar de otra manera**.\n\nY si algo podemos aportar desde las humanidades, es justamente eso: el arte de la diferencia, la sospecha frente a lo obvio, la capacidad de crear desvíos en lo programado. No se trata de imitar lo humano con IA, ni de humanizarnos por imitación tecnológica. Se trata de asumir que **la potencia de lo humano no está en lo que la máquina no puede hacer, sino en lo que la máquina no puede significar**.\n\nAceptar esa diferencia no es resignación, es oportunidad. Es entender que el verdadero diálogo con la IA no ocurre en la obediencia ni en el rechazo, sino en **la sinergia crítica, consciente, situada**. Desde ahí podemos crear, pensar, y sobre todo: **seguir siendo humanos en un mundo que cambia su médula simbólica a cada segundo**.\n\n**V. Co-creación: una práctica, no un eslogan**\n\nEn los últimos años, el término *co-creación* ha empezado a circular en discursos sobre inteligencia artificial como si fuese un bálsamo, una palabra-puente que calma las tensiones entre lo humano y lo tecnológico. Pero en muchos casos, esta noción queda atrapada en el terreno de lo retórico. Se habla de co-creación como si se tratara de un gesto simbólico, una forma de suavizar el impacto de la automatización o de disfrazar el reemplazo con una pátina colaborativa. Sin embargo, **la co-creación real no ocurre en los slogans**. Ocurre en la práctica concreta, en el barro de los proyectos, en el hacer cotidiano con herramientas nuevas que aún no tienen tradición, pero ya tienen consecuencias.\n\nHablar desde la experiencia cambia todo. Porque cuando uno desarrolla herramientas de IA para el ámbito humanista, no desde la teoría, sino desde la construcción viva, se hace evidente que **la IA no reemplaza: expande, traduce, reorganiza y desafía**. En ese hacer se descubre que el verdadero valor está en lo que emerge entre los dos polos —humano y artificial— cuando se los deja dialogar sin miedo ni reverencia.\n\nLa co-creación es, entonces, un acto de presencia: **estar frente a la IA con disposición a dejarse sorprender, pero también con voluntad de intervenir**. No todo lo que la IA produce tiene valor, pero muchas veces, en su torpeza aparente, se abren caminos insospechados. Una frase inesperada, una asociación absurda, una estructura nueva: esas “equivocaciones” son fértiles si el humano sabe leerlas como tal. Es en esa interacción donde aparece la inteligencia extendida: no en la perfección del output, sino en la capacidad humana de **ver sentido donde la máquina solo calcula probabilidad**.\n\nDesde este enfoque, herramientas como Gemini, GPT o Claude dejan de ser motores de texto para convertirse en **espacios de ensayo cognitivo**. Se puede pensar con ellos. Reescribir con ellos. E incluso descubrir ideas que uno no había formulado antes, pero que estaban latentes. La co-creación no es repartir el mérito de una obra entre humano y máquina, sino asumir que **el proceso mismo de creación ha cambiado**: ahora hay más voces, más capas, más alteridad.\n\nEn el contexto académico humanista, esto tiene un impacto decisivo. Porque permite **expandir los modos de producción intelectual**: analizar más textos en menos tiempo, contrastar estilos, mapear ideas, generar esquemas de pensamiento, dinamizar la escritura. Lejos de empobrecer la labor, la IA bien usada **la complejiza, la exige, la acelera en algunas partes y la ralentiza en otras**. Permite experimentar, probar hipótesis, jugar con formas sin perder profundidad.\n\nPero esto solo ocurre si se entra en la co-creación desde la conciencia. Usar IA sin pensar es replicar patrones. Pero usarla críticamente es **introducir sesgo positivo, intención, dirección**. Y ahí es donde el humanista vuelve a ocupar su lugar no como observador marginal, sino como **arquitecto de nuevas formas de sentido**.\n\nCo-crear no es abdicar. Es asumir que el mundo cambió, y que el pensamiento humano se enriquece cuando **dialoga con lo otro**, incluso si ese otro no siente, no comprende, no vive. Porque muchas veces, lo que nos ayuda a pensar no necesita ser consciente. Solo necesita estar bien situado, bien usado, bien intervenido.\n\nY eso —más que cualquier argumento de principio— es lo que transforma el uso de la IA en una práctica ética: **la responsabilidad en el hacer, la apertura en la escucha, y la capacidad de dar forma a lo informe para que algo nuevo emerja**.\n\n\n\n**VI. El costo ético de no participar**\n\nEn los debates académicos sobre inteligencia artificial, mucho se habla de los peligros de su uso: sesgos algorítmicos, desinformación, sustitución de trabajos, deshumanización de procesos educativos. Estas preocupaciones son legítimas y deben estar sobre la mesa. Pero hay un riesgo del que se habla mucho menos, y que sin embargo puede ser más grave a largo plazo: **el costo ético de no participar**.\n\nPorque cuando las humanidades renuncian a involucrarse activamente en el desarrollo, el uso y la reflexión crítica sobre las IA, no están tomando una posición “neutral” ni “prudente”. Están, de hecho, **cediendo el terreno simbólico y cultural** a lógicas que rara vez comparten sus valores. Lógicas empresariales, extractivas, tecnocráticas. Lógicas que optimizan rendimiento, pero no sentido. Que buscan escala, pero no cuidado. Que automatizan decisiones que deberían estar mediadas por la ética, la historia, la diferencia.\n\nCada vez que un comité académico rechaza incorporar IA por temor a banalizar la enseñanza o el pensamiento, **otro sistema la incorpora sin ese cuidado**, en plataformas de consumo masivo, algoritmos de vigilancia o motores de productividad que sí modelan cultura. Cada ausencia deja un vacío. Y ese vacío se llena. No con mejores ideas, sino con las más rápidas. Con las más rentables. Con las menos incómodas.\n\nNo participar en la conversación sobre IA **no nos protege del problema**. Solo **nos excluye de su resolución**.\n\nY aquí el dilema se vuelve nítido: si las humanidades no dialogan con la inteligencia artificial, si no están presentes en su diseño, en sus usos, en sus límites, **¿con qué autoridad reclamarán luego las consecuencias?** ¿Con qué cara criticarán la forma en que se generen saberes, se difunda información o se eduquen generaciones enteras a través de modelos algorítmicos que jamás ayudaron a formar?\n\nNo alcanza con denunciar los riesgos desde fuera. La verdadera ética hoy exige **una ética de la implicación**. No del uso ciego, pero sí del compromiso activo. Porque la ética no es solo un marco de evaluación a posteriori. Es también **una forma de presencia**: estar ahí donde se toman decisiones que afectan lo común, aunque sea incómodo, aunque sea difícil aprender el nuevo lenguaje, aunque implique renunciar a cierta zona de confort intelectual.\n\nDejar la IA en manos de ingenieros sin filósofos, de empresas sin educadores, de tecnólogos sin artistas, no es una posición ética. Es una **irresponsabilidad camuflada de prudencia**.\n\nY es especialmente contradictorio que esto ocurra en espacios que se han definido históricamente como defensores de lo humano, lo crítico, lo complejo. Porque si los humanistas no están donde se juega el sentido del futuro, ¿quién ocupará ese lugar? ¿Quién hablará por la complejidad cuando el algoritmo la aplaste en nombre de la eficiencia?\n\nEl gesto verdaderamente ético, hoy, es comprometerse con la herramienta antes de que sea irrecuperable. Es poner el cuerpo, la palabra, la duda, **justo donde otros solo ven código y oportunidad de negocio**.\n\nLa ética, entonces, no se juega solo en lo que decimos de la IA. Se juega, sobre todo, **en nuestra voluntad de habitarla, tensionarla, transformarla desde dentro**, antes de que sea demasiado tarde.\n\n\n**VII. Hacia un nuevo pacto académico**\n\nTodo lo anterior no conduce a una postura entusiasta, ni a una rendición, ni a una celebración ingenua del avance tecnológico. Conduce, más bien, a una **llamada al coraje**: el coraje de pensar más allá del binarismo, de habitar las paradojas sin temor, de ejercer una crítica que no sea cómoda ni autoindulgente, sino eficaz y situada. Lo que proponemos, desde esta mirada, no es adoptar la inteligencia artificial como fin, ni como moda, ni como destino inevitable. Lo que proponemos es **crear un nuevo pacto académico**, donde las humanidades recuperen su lugar no como guardianas del pasado, sino como **artífices del presente**.\n\nEse pacto no se basa en la obediencia a lo nuevo, sino en la **coherencia con lo que siempre fue el espíritu humanista**: interrogar, imaginar, traducir el mundo, abrir espacios de sentido. Pero para hacerlo hoy, hay que estar dispuestos a aprender lenguajes que no nacieron en las aulas, sino en los centros de datos. Hay que estar dispuestos a convivir con herramientas que no tienen alma, pero que modifican profundamente el modo en que escribimos, pensamos, creamos y enseñamos.\n\nUn nuevo pacto implica reconocer que la IA ya está aquí —en el aula, en el archivo, en el texto, en la investigación— y que su impacto será tan profundo como el de la imprenta o la alfabetización digital. Pero a diferencia de otras revoluciones, **ésta aún está abierta a ser moldeada**. No está cerrada. No está completa. Y ese margen de indeterminación es nuestra oportunidad.\n\n¿Qué pasaría si en vez de replegarnos, decidiéramos usar estos modelos con sensibilidad humanista? ¿Qué pasaría si formáramos a nuestros estudiantes no solo para consumir IA, sino para leerla críticamente, para intervenirla, para imaginar sus usos desde la filosofía, el arte, la historia, la pedagogía, la literatura? ¿Qué pasaría si dejáramos de pensar la IA como un campo ajeno, y comenzáramos a diseñar desde las humanidades herramientas, criterios, marcos y metodologías propias?\n\nLa invitación, entonces, no es a celebrar lo técnico. Es a **cohabitar lo técnico desde lo ético, lo poético, lo simbólico y lo político**. Es a no delegar nuestra voz. A no renunciar a la posibilidad de incidir en cómo esta tecnología será usada, enseñada, comprendida.\n\nNo estamos ante el fin del pensamiento humanista. Estamos ante **una bifurcación histórica**, en la que podemos elegir si queremos ser espectadores de una nueva forma de producir sentido, o coautores de ella.\n\nLa IA no va a esperar a que los comités éticos resuelvan su postura. No va a pedir permiso a los departamentos académicos. No va a detenerse. Pero **todavía podemos decidir con qué rostro, con qué valores, con qué lenguaje se desarrollará en nuestras instituciones**.\n\nEste texto no pide adhesión ciega, ni urgencia irreflexiva. Pide algo más difícil: **responsabilidad activa**. Una ética del presente. Un deseo de hacer puente, no muro. Y una convicción: **que lo humano no se defiende negando lo nuevo, sino creando desde allí algo que todavía no existe**.\n"])</script><script>self.__next_f.push([1,"64:T109e,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { Text } from \"@/components/ui/text\"\nimport { useTheme } from \"@/app/theme-provider\"\nimport { Button } from \"@/components/ui/button\"\nimport { PageBackground } from \"@/components/ui/page-background\"\nimport { PageWrapper } from \"@/components/ui/page-wrapper\"\n\nexport default function TextColorTestPage() {\n  const { colorScheme, setColorScheme, mode, setMode } = useTheme()\n\n  return (\n    \u003cPageWrapper\u003e\n      \u003cPageBackground variant=\"gradient\" /\u003e\n      \u003cdiv className=\"container mx-auto py-8\"\u003e\n        \u003cdiv className=\"mb-8 flex flex-wrap gap-2\"\u003e\n          \u003cButton onClick={() =\u003e setColorScheme(\"blue\")}\u003eTema Azul\u003c/Button\u003e\n          \u003cButton onClick={() =\u003e setColorScheme(\"green\")}\u003eTema Verde\u003c/Button\u003e\n          \u003cButton onClick={() =\u003e setColorScheme(\"orange\")}\u003eTema Naranja\u003c/Button\u003e\n          \u003cButton onClick={() =\u003e setMode(mode === \"light\" ? \"dark\" : \"light\")}\u003e\n            Modo {mode === \"light\" ? \"Oscuro\" : \"Claro\"}\n          \u003c/Button\u003e\n        \u003c/div\u003e\n\n        \u003cdiv className=\"grid gap-8\"\u003e\n          \u003cdiv className=\"rounded-lg bg-white p-6 shadow-md dark:bg-gray-800\"\u003e\n            \u003ch2 className=\"mb-4 text-xl font-bold\"\u003eColores de Texto por Variante\u003c/h2\u003e\n            \u003cdiv className=\"grid gap-4\"\u003e\n              \u003cText variant=\"default\"\u003eTexto Default\u003c/Text\u003e\n              \u003cText variant=\"heading\"\u003eTexto Heading\u003c/Text\u003e\n              \u003cText variant=\"subheading\"\u003eTexto Subheading\u003c/Text\u003e\n              \u003cText variant=\"title\"\u003eTexto Title (Primary)\u003c/Text\u003e\n              \u003cText variant=\"subtitle\"\u003eTexto Subtitle (Secondary)\u003c/Text\u003e\n              \u003cText variant=\"label\"\u003eTexto Label\u003c/Text\u003e\n              \u003cText variant=\"caption\"\u003eTexto Caption (Muted)\u003c/Text\u003e\n              \u003cText variant=\"muted\"\u003eTexto Muted\u003c/Text\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n\n          \u003cdiv className=\"rounded-lg bg-white p-6 shadow-md dark:bg-gray-800\"\u003e\n            \u003ch2 className=\"mb-4 text-xl font-bold\"\u003eColores de Texto Explícitos\u003c/h2\u003e\n            \u003cdiv className=\"grid gap-4\"\u003e\n              \u003cText color=\"default\"\u003eColor Default\u003c/Text\u003e\n              \u003cText color=\"primary\"\u003eColor Primary\u003c/Text\u003e\n              \u003cText color=\"secondary\"\u003eColor Secondary\u003c/Text\u003e\n              \u003cText color=\"tertiary\"\u003eColor Tertiary\u003c/Text\u003e\n              \u003cText color=\"accent\"\u003eColor Accent\u003c/Text\u003e\n              \u003cText color=\"success\"\u003eColor Success\u003c/Text\u003e\n              \u003cText color=\"warning\"\u003eColor Warning\u003c/Text\u003e\n              \u003cText color=\"danger\"\u003eColor Danger\u003c/Text\u003e\n              \u003cText color=\"muted\"\u003eColor Muted\u003c/Text\u003e\n              \u003cText color=\"neutral\"\u003eColor Neutral\u003c/Text\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n\n          \u003cdiv className=\"rounded-lg bg-white p-6 shadow-md dark:bg-gray-800\"\u003e\n            \u003ch2 className=\"mb-4 text-xl font-bold\"\u003eVariantes de Color\u003c/h2\u003e\n            \u003cdiv className=\"grid gap-4\"\u003e\n              \u003cText color=\"primary\" colorVariant=\"pure\"\u003e\n                Primary Pure\n              \u003c/Text\u003e\n              \u003cText color=\"primary\" colorVariant=\"text\"\u003e\n                Primary Text\n              \u003c/Text\u003e\n              \u003cText color=\"primary\" colorVariant=\"dark\"\u003e\n                Primary Dark\n              \u003c/Text\u003e\n\n              \u003cText color=\"secondary\" colorVariant=\"pure\"\u003e\n                Secondary Pure\n              \u003c/Text\u003e\n              \u003cText color=\"secondary\" colorVariant=\"text\"\u003e\n                Secondary Text\n              \u003c/Text\u003e\n              \u003cText color=\"secondary\" colorVariant=\"dark\"\u003e\n                Secondary Dark\n              \u003c/Text\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n\n          \u003cdiv className=\"rounded-lg bg-white p-6 shadow-md dark:bg-gray-800\"\u003e\n            \u003ch2 className=\"mb-4 text-xl font-bold\"\u003eGradientes de Texto\u003c/h2\u003e\n            \u003cdiv className=\"grid gap-4\"\u003e\n              \u003cText gradient\u003eGradiente Default (Primary)\u003c/Text\u003e\n              \u003cText gradient=\"primary\"\u003eGradiente Primary\u003c/Text\u003e\n              \u003cText gradient=\"secondary\"\u003eGradiente Secondary\u003c/Text\u003e\n              \u003cText gradient=\"tertiary\"\u003eGradiente Tertiary\u003c/Text\u003e\n              \u003cText gradient=\"accent\"\u003eGradiente Accent\u003c/Text\u003e\n              \u003cText gradient=\"success\"\u003eGradiente Success\u003c/Text\u003e\n              \u003cText gradient=\"warning\"\u003eGradiente Warning\u003c/Text\u003e\n              \u003cText gradient=\"danger\"\u003eGradiente Danger\u003c/Text\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/PageWrapper\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"65:T1f61,"])</script><script>self.__next_f.push([1,"\"use client\"\nimport { ProCard } from \"@/components/ui/pro-card\"\nimport { Text } from \"@/components/ui/text\"\nimport { Button } from \"@/components/ui/button\"\nimport { useTheme } from \"@/app/theme-provider\"\nimport { useDarkModeText } from \"@/hooks/use-dark-mode-text\"\n\nexport default function TextThemeTestPage() {\n  const { setMode, mode } = useTheme()\n  const isDark = mode === \"dark\"\n\n  const toggleTheme = () =\u003e {\n    setMode(mode === \"dark\" ? \"light\" : \"dark\")\n  }\n\n  // Usar nuestro hook para adaptar los colores en modo oscuro\n  const primaryOptions = useDarkModeText({ color: \"primary\" })\n  const secondaryOptions = useDarkModeText({ color: \"secondary\" })\n  const tertiaryOptions = useDarkModeText({ color: \"tertiary\" })\n\n  return (\n    \u003cdiv className=\"container mx-auto py-8 space-y-8\"\u003e\n      \u003cdiv className=\"flex justify-between items-center\"\u003e\n        \u003ch1 className=\"text-2xl font-bold\"\u003ePrueba de Texto en ProCards\u003c/h1\u003e\n        \u003cButton onClick={toggleTheme}\u003eCambiar a tema {mode === \"dark\" ? \"claro\" : \"oscuro\"}\u003c/Button\u003e\n      \u003c/div\u003e\n\n      \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n        {/* ProCard Neutral */}\n        \u003cdiv className=\"space-y-4\"\u003e\n          \u003ch2 className=\"text-xl font-semibold\"\u003eProCard Neutral\u003c/h2\u003e\n          \u003cProCard variant=\"neutral\" className=\"p-6\"\u003e\n            \u003cdiv className=\"space-y-6\"\u003e\n              \u003cdiv\u003e\n                \u003cText as=\"h3\" size=\"lg\" weight=\"semibold\" className=\"mb-2\"\u003e\n                  Variantes de Color Primary\n                \u003c/Text\u003e\n                \u003cdiv className=\"space-y-3 pl-4\"\u003e\n                  \u003cText color=\"primary\" colorVariant=\"pure\"\u003e\n                    Primary Pure - Universidad Católica de Chile\n                  \u003c/Text\u003e\n                  \u003cText color=\"primary\"\u003ePrimary Text (default) - Universidad Católica de Chile\u003c/Text\u003e\n                  \u003cText color=\"primary\" colorVariant=\"dark\"\u003e\n                    Primary Dark - Universidad Católica de Chile\n                  \u003c/Text\u003e\n                  \u003cText gradient=\"primary\"\u003ePrimary Gradient - Universidad Católica de Chile\u003c/Text\u003e\n                \u003c/div\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003cText as=\"h3\" size=\"lg\" weight=\"semibold\" className=\"mb-2\"\u003e\n                  Variantes de Color Secondary\n                \u003c/Text\u003e\n                \u003cdiv className=\"space-y-3 pl-4\"\u003e\n                  \u003cText color=\"secondary\" colorVariant=\"pure\"\u003e\n                    Secondary Pure - Escuela de Trabajo Social\n                  \u003c/Text\u003e\n                  \u003cText color=\"secondary\"\u003eSecondary Text (default) - Escuela de Trabajo Social\u003c/Text\u003e\n                  \u003cText color=\"secondary\" colorVariant=\"dark\"\u003e\n                    Secondary Dark - Escuela de Trabajo Social\n                  \u003c/Text\u003e\n                  \u003cText gradient=\"secondary\"\u003eSecondary Gradient - Escuela de Trabajo Social\u003c/Text\u003e\n                \u003c/div\u003e\n              \u003c/div\u003e\n            \u003c/div\u003e\n          \u003c/ProCard\u003e\n        \u003c/div\u003e\n\n        {/* ProCard White */}\n        \u003cdiv className=\"space-y-4\"\u003e\n          \u003ch2 className=\"text-xl font-semibold\"\u003eProCard White\u003c/h2\u003e\n          \u003cProCard variant=\"white\" className=\"p-6\"\u003e\n            \u003cdiv className=\"space-y-6\"\u003e\n              \u003cdiv\u003e\n                \u003cText as=\"h3\" size=\"lg\" weight=\"semibold\" className=\"mb-2\"\u003e\n                  Variantes de Color Tertiary\n                \u003c/Text\u003e\n                \u003cdiv className=\"space-y-3 pl-4\"\u003e\n                  \u003cText color=\"tertiary\" colorVariant=\"pure\"\u003e\n                    Tertiary Pure - Ayudas Técnicas\n                  \u003c/Text\u003e\n                  \u003cText color=\"tertiary\"\u003eTertiary Text (default) - Ayudas Técnicas\u003c/Text\u003e\n                  \u003cText color=\"tertiary\" colorVariant=\"dark\"\u003e\n                    Tertiary Dark - Ayudas Técnicas\n                  \u003c/Text\u003e\n                  \u003cText gradient=\"tertiary\"\u003eTertiary Gradient - Ayudas Técnicas\u003c/Text\u003e\n                \u003c/div\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003cText as=\"h3\" size=\"lg\" weight=\"semibold\" className=\"mb-2\"\u003e\n                  Ejemplo Completo\n                \u003c/Text\u003e\n                \u003cdiv className=\"space-y-3 pl-4\"\u003e\n                  \u003cText color=\"primary\" colorVariant=\"pure\" size=\"xl\" weight=\"bold\" className=\"uppercase\"\u003e\n                    Universidad Católica de Chile\n                  \u003c/Text\u003e\n                  \u003cText gradient=\"primary\" size=\"4xl\" weight=\"bold\"\u003e\n                    Ayudas Técnicas\n                  \u003c/Text\u003e\n                  \u003cText gradient=\"secondary\" size=\"2xl\"\u003e\n                    Escuela de Trabajo Social\n                  \u003c/Text\u003e\n                \u003c/div\u003e\n              \u003c/div\u003e\n            \u003c/div\u003e\n          \u003c/ProCard\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n\n      {/* ProCards con bordes */}\n      \u003cdiv className=\"space-y-4\"\u003e\n        \u003ch2 className=\"text-xl font-semibold\"\u003eProCards con Bordes\u003c/h2\u003e\n        \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n          \u003cProCard variant=\"neutral\" border=\"normal\" className=\"p-6\"\u003e\n            \u003cText as=\"h3\" size=\"lg\" weight=\"semibold\" className=\"mb-4\"\u003e\n              ProCard Neutral con Borde Normal\n            \u003c/Text\u003e\n            \u003cText gradient=\"primary\" size=\"xl\"\u003e\n              Ayudas Técnicas\n            \u003c/Text\u003e\n            \u003cText color=\"secondary\" className=\"mt-2\"\u003e\n              Este es un ejemplo de texto en una ProCard neutral con borde normal.\n            \u003c/Text\u003e\n          \u003c/ProCard\u003e\n\n          \u003cProCard variant=\"white\" border=\"left\" className=\"p-6\"\u003e\n            \u003cText as=\"h3\" size=\"lg\" weight=\"semibold\" className=\"mb-4\"\u003e\n              ProCard White con Borde Izquierdo\n            \u003c/Text\u003e\n            \u003cText gradient=\"secondary\" size=\"xl\"\u003e\n              Escuela de Trabajo Social\n            \u003c/Text\u003e\n            \u003cText color=\"tertiary\" className=\"mt-2\"\u003e\n              Este es un ejemplo de texto en una ProCard blanca con borde izquierdo.\n            \u003c/Text\u003e\n          \u003c/ProCard\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n\n      {/* Comparación con/sin adaptación */}\n      \u003cdiv className=\"space-y-4\"\u003e\n        \u003ch2 className=\"text-xl font-semibold\"\u003eComparación: Con/Sin Adaptación para Modo Oscuro\u003c/h2\u003e\n        \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n          \u003cProCard variant=\"neutral\" className=\"p-6\"\u003e\n            \u003cText as=\"h3\" size=\"lg\" weight=\"semibold\" className=\"mb-4\"\u003e\n              Con Adaptación (Por defecto)\n            \u003c/Text\u003e\n            \u003cdiv className=\"space-y-3\"\u003e\n              \u003cText color=\"primary\" colorVariant=\"pure\"\u003e\n                Primary Pure\n              \u003c/Text\u003e\n              \u003cText color=\"primary\"\u003ePrimary Text\u003c/Text\u003e\n              \u003cText color=\"primary\" colorVariant=\"dark\"\u003e\n                Primary Dark\n              \u003c/Text\u003e\n              \u003cText color=\"secondary\"\u003eSecondary Text\u003c/Text\u003e\n              \u003cText color=\"tertiary\"\u003eTertiary Text\u003c/Text\u003e\n              \u003cText gradient=\"primary\"\u003ePrimary Gradient\u003c/Text\u003e\n              \u003cText gradient=\"secondary\"\u003eSecondary Gradient\u003c/Text\u003e\n            \u003c/div\u003e\n          \u003c/ProCard\u003e\n\n          \u003cProCard variant=\"neutral\" className=\"p-6\"\u003e\n            \u003cText as=\"h3\" size=\"lg\" weight=\"semibold\" className=\"mb-4\"\u003e\n              Sin Adaptación\n            \u003c/Text\u003e\n            \u003cdiv className=\"space-y-3\"\u003e\n              \u003cText color=\"primary\" colorVariant=\"pure\" adaptToDarkMode={false}\u003e\n                Primary Pure\n              \u003c/Text\u003e\n              \u003cText color=\"primary\" adaptToDarkMode={false}\u003e\n                Primary Text\n              \u003c/Text\u003e\n              \u003cText color=\"primary\" colorVariant=\"dark\" adaptToDarkMode={false}\u003e\n                Primary Dark\n              \u003c/Text\u003e\n              \u003cText color=\"secondary\" adaptToDarkMode={false}\u003e\n                Secondary Text\n              \u003c/Text\u003e\n              \u003cText color=\"tertiary\" adaptToDarkMode={false}\u003e\n                Tertiary Text\n              \u003c/Text\u003e\n              \u003cText gradient=\"primary\" adaptToDarkMode={false}\u003e\n                Primary Gradient\n              \u003c/Text\u003e\n              \u003cText gradient=\"secondary\" adaptToDarkMode={false}\u003e\n                Secondary Gradient\n              \u003c/Text\u003e\n            \u003c/div\u003e\n          \u003c/ProCard\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"66:T1d2c,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport type React from \"react\"\nimport { createContext, useContext, useEffect, useState } from \"react\"\nimport { AnimatePresence } from \"framer-motion\"\nimport {\n  createColorTokens as createLegacyColorTokens,\n  updateColorTokens as updateLegacyColorTokens,\n  type ColorTokens as LegacyColorTokens,\n  type ColorScheme,\n  type Mode,\n} from \"@/lib/theme/color-tokens\"\n\nimport { createAppColorTokens, updateAppColorTokens, type AppColorTokens } from \"@/lib/theme/ColorToken\"\n\ntype ThemeProviderProps = {\n  children: React.ReactNode\n}\n\ntype ThemeContextType = {\n  colorScheme: ColorScheme\n  mode: Mode\n  setColorScheme: (colorScheme: ColorScheme) =\u003e void\n  setMode: (mode: Mode) =\u003e void\n  legacyColorTokens: LegacyColorTokens\n  appColorTokens: AppColorTokens\n  theme: string\n  setTheme: (theme: string) =\u003e void\n}\n\nexport const ThemeContext = createContext\u003cThemeContextType | undefined\u003e(undefined)\n\nexport function ThemeProvider({ children }: ThemeProviderProps) {\n  const [colorScheme, setColorSchemeInternal] = useState\u003cColorScheme\u003e(\"blue\")\n  const [mode, setModeInternal] = useState\u003cMode\u003e(\"light\")\n  const [mounted, setMounted] = useState(false)\n\n  const [appTokensState, setAppTokensState] = useState\u003cAppColorTokens\u003e(() =\u003e {\n    const initialAppTokens = createAppColorTokens(\"blue\", \"light\")\n    updateAppColorTokens(initialAppTokens)\n    return initialAppTokens\n  })\n\n  const [legacyTokensState, setLegacyTokensState] = useState\u003cLegacyColorTokens\u003e(() =\u003e {\n    const tokens = createLegacyColorTokens(\"blue\", \"light\")\n    updateLegacyColorTokens(tokens)\n    return tokens\n  })\n\n  const theme = mode === \"dark\" ? \"dark\" : colorScheme === \"blue\" ? \"light\" : `theme-${colorScheme}`\n\n  // Evitar problemas de hidratación\n  useEffect(() =\u003e {\n    setMounted(true)\n  }, [])\n\n  const updateAllTokens = (newColorScheme: ColorScheme, newMode: Mode) =\u003e {\n    const newAppTokens = createAppColorTokens(newColorScheme, newMode)\n    setAppTokensState(newAppTokens)\n    updateAppColorTokens(newAppTokens)\n\n    const newLegacyTokens = createLegacyColorTokens(newColorScheme, newMode)\n    setLegacyTokensState(newLegacyTokens)\n    updateLegacyColorTokens(newLegacyTokens)\n  }\n\n  const handleSetColorScheme = (newColorScheme: ColorScheme) =\u003e {\n    setColorSchemeInternal(newColorScheme)\n    updateAllTokens(newColorScheme, mode)\n\n    // Emitir evento para que AuthProvider guarde en la base de datos\n    document.dispatchEvent(\n      new CustomEvent(\"theme-preference-change\", {\n        detail: {\n          theme: newColorScheme,\n          isDarkMode: mode === \"dark\",\n        },\n      }),\n    )\n  }\n\n  const handleSetMode = (newMode: Mode) =\u003e {\n    setModeInternal(newMode)\n    updateAllTokens(colorScheme, newMode)\n\n    // Emitir evento para que AuthProvider guarde en la base de datos\n    document.dispatchEvent(\n      new CustomEvent(\"theme-preference-change\", {\n        detail: {\n          theme: colorScheme,\n          isDarkMode: newMode === \"dark\",\n        },\n      }),\n    )\n  }\n\n  const setTheme = (newTheme: string) =\u003e {\n    let newMode: Mode = mode\n    let newColorScheme: ColorScheme = colorScheme\n\n    if (newTheme === \"dark\") {\n      newMode = \"dark\"\n    } else if (newTheme === \"light\") {\n      newMode = \"light\"\n      newColorScheme = \"blue\"\n    } else if (newTheme === \"theme-green\") {\n      newMode = \"light\"\n      newColorScheme = \"green\"\n    } else if (newTheme === \"theme-orange\") {\n      newMode = \"light\"\n      newColorScheme = \"orange\"\n    }\n    setModeInternal(newMode)\n    setColorSchemeInternal(newColorScheme)\n    updateAllTokens(newColorScheme, newMode)\n\n    // Emitir evento para que AuthProvider guarde en la base de datos\n    document.dispatchEvent(\n      new CustomEvent(\"theme-preference-change\", {\n        detail: {\n          theme: newColorScheme,\n          isDarkMode: newMode === \"dark\",\n        },\n      }),\n    )\n  }\n\n  // Escuchar eventos de cambio de tema desde el AuthProvider\n  useEffect(() =\u003e {\n    if (!mounted) return\n\n    const handleThemeChange = (e: CustomEvent) =\u003e {\n      const { theme, isDarkMode } = e.detail\n      console.log(`📣 Evento theme-change recibido:`, e.detail)\n\n      // Normalizar el tema (eliminar espacios en blanco)\n      const themeNormalized = typeof theme === \"string\" ? theme.trim() : theme\n\n      console.log(`🔄 Tema normalizado: \"${themeNormalized}\"`)\n\n      // Mapear el tema recibido a los valores internos del ThemeProvider\n      let newColorScheme: ColorScheme = \"blue\"\n      if (themeNormalized === \"green\") newColorScheme = \"green\"\n      if (themeNormalized === \"orange\") newColorScheme = \"orange\"\n\n      // Establecer el modo según el valor de isDarkMode\n      const newMode: Mode = isDarkMode ? \"dark\" : \"light\"\n\n      console.log(`✅ Aplicando tema: ${newColorScheme}, modo: ${newMode}`)\n\n      // Actualizar estado y tokens\n      setColorSchemeInternal(newColorScheme)\n      setModeInternal(newMode)\n      updateAllTokens(newColorScheme, newMode)\n    }\n\n    // Añadir el event listener con tipado correcto\n    document.addEventListener(\"theme-change\", handleThemeChange as EventListener)\n\n    // Limpiar el event listener\n    return () =\u003e {\n      document.removeEventListener(\"theme-change\", handleThemeChange as EventListener)\n    }\n  }, [mounted])\n\n  useEffect(() =\u003e {\n    updateAllTokens(colorScheme, mode)\n  }, [colorScheme, mode])\n\n  useEffect(() =\u003e {\n    if (!mounted) return\n\n    let initialColorScheme = \"blue\" as ColorScheme\n    let initialMode = \"light\" as Mode\n\n    try {\n      const storedColorScheme = localStorage.getItem(\"colorScheme\") as ColorScheme\n      const storedMode = localStorage.getItem(\"mode\") as Mode\n\n      if (storedColorScheme \u0026\u0026 [\"blue\", \"green\", \"orange\"].includes(storedColorScheme)) {\n        initialColorScheme = storedColorScheme\n      }\n\n      if (storedMode \u0026\u0026 [\"light\", \"dark\"].includes(storedMode)) {\n        initialMode = storedMode\n      } else if (window.matchMedia(\"(prefers-color-scheme: dark)\").matches) {\n        initialMode = \"dark\"\n      }\n    } catch (error) {\n      console.error(\"Error reading from localStorage:\", error)\n    }\n\n    setColorSchemeInternal(initialColorScheme)\n    setModeInternal(initialMode)\n  }, [mounted])\n\n  useEffect(() =\u003e {\n    if (!mounted) return\n\n    try {\n      const root = window.document.documentElement\n      root.classList.remove(\"dark\", \"theme-blue\", \"theme-green\", \"theme-orange\")\n\n      if (mode === \"dark\") {\n        root.classList.add(\"dark\")\n      }\n\n      if (colorScheme !== \"blue\" || mode === \"light\") {\n        if (colorScheme !== \"blue\") root.classList.add(`theme-${colorScheme}`)\n      }\n\n      localStorage.setItem(\"colorScheme\", colorScheme)\n      localStorage.setItem(\"mode\", mode)\n\n      console.log(`🎉 Tema aplicado completamente: ${colorScheme}, modo: ${mode}`)\n    } catch (error) {\n      console.error(\"Error updating documentElement or localStorage:\", error)\n    }\n  }, [colorScheme, mode, mounted])\n\n  const value = {\n    colorScheme,\n    mode,\n    setColorScheme: handleSetColorScheme,\n    setMode: handleSetMode,\n    legacyColorTokens: legacyTokensState,\n    appColorTokens: appTokensState,\n    theme,\n    setTheme,\n  }\n\n  return (\n    \u003cThemeContext.Provider value={value}\u003e\n      \u003cAnimatePresence mode=\"wait\"\u003e{children}\u003c/AnimatePresence\u003e\n    \u003c/ThemeContext.Provider\u003e\n  )\n}\n\nexport const useTheme = () =\u003e {\n  const context = useContext(ThemeContext)\n  if (context === undefined) {\n    throw new Error(\"useTheme must be used within a ThemeProvider\")\n  }\n  return context\n}\n"])</script><script>self.__next_f.push([1,"67:T4b9,import { CargarTranscripcionForm } from \"@/components/forms/cargar-transcripcion-form\"\nimport { obtenerEntrevistados } from \"@/app/actions/entrevistados-actions\"\nimport { obtenerInvestigadores } from \"@/app/actions/investigadores-actions\"\nimport { redirect } from \"next/navigation\"\n\nexport default async function CargarTranscripcionPage() {\n  const [entrevistadosResult, investigadoresResult] = await Promise.all([\n    obtenerEntrevistados(),\n    obtenerInvestigadores(),\n  ])\n\n  const entrevistados = entrevistadosResult.data || []\n  const investigadores = investigadoresResult.data || []\n\n  // Verificar si hay datos necesarios\n  if (entrevistados.length === 0) {\n    return redirect(\"/entrevistados?error=Debes crear al menos un entrevistado antes de cargar transcripciones\")\n  }\n\n  if (investigadores.length === 0) {\n    return redirect(\n      \"/configuracion/investigadores?error=Debes crear al menos un investigador antes de cargar transcripciones\",\n    )\n  }\n\n  return (\n    \u003cdiv className=\"max-w-4xl mx-auto py-8\"\u003e\n      \u003ch1 className=\"text-3xl font-bold mb-6\"\u003eCargar Transcripción\u003c/h1\u003e\n      \u003cCargarTranscripcionForm entrevistados={entrevistados} investigadores={investigadores} /\u003e\n    \u003c/div\u003e\n  )\n}\n68:T5b3,import { Button } from \"@/components/ui/button\"\nimport Link from \"next/link\"\nimport { obtenerTranscripciones } from \"@/app/actions/transcripciones-actions\"\nimport { TranscripcionesTable } from \"@/components/tables/transcripciones-table\"\n\nexport default async function TranscripcionesPage() {\n  const { data: transcripciones = [], error } = await obtenerTranscripciones()\n\n  return (\n    \u003cdiv className=\"space-y-6\"\u003e\n      \u003cdiv className=\"flex justify-between items-center\"\u003e\n        \u003ch1 className=\"text-3xl font-bold\"\u003eTranscripciones\u003c/h1\u003e\n        \u003cdiv className=\"flex space-x-2\"\u003e\n          \u003cLink href=\"/transcripciones/cargar\"\u003e\n            \u003cButton\u003eCargar Transcripción\u003c/Button\u003e\n          \u003c/Link\u003e\n          \u003cLink href=\"/transcripciones/txt-a-csv\"\u003e\n            \u003cButton variant=\"outline\"\u003eConvertir Texto a CSV\u003c/Button\u003e\n        "])</script><script>self.__next_f.push([1,"  \u003c/Link\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n\n      {error ? (\n        \u003cdiv className=\"p-4 border border-red-300 bg-red-50 text-red-700 rounded-md\"\u003e\n          Error al cargar transcripciones: {error}\n        \u003c/div\u003e\n      ) : transcripciones.length === 0 ? (\n        \u003cdiv className=\"p-8 text-center border rounded-md\"\u003e\n          \u003cp className=\"text-gray-500 mb-4\"\u003eNo hay transcripciones cargadas\u003c/p\u003e\n          \u003cLink href=\"/transcripciones/cargar\"\u003e\n            \u003cButton\u003eCargar primera transcripción\u003c/Button\u003e\n          \u003c/Link\u003e\n        \u003c/div\u003e\n      ) : (\n        \u003cTranscripcionesTable transcripciones={transcripciones} /\u003e\n      )}\n    \u003c/div\u003e\n  )\n}\n69:T1ba7,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport Link from \"next/link\"\n\nexport default function TxtToCsvConverter() {\n  const [inputText, setInputText] = useState(\"\")\n  const [csvContent, setCsvContent] = useState(\"\")\n  const [isConverted, setIsConverted] = useState(false)\n\n  // Reemplazar la función convertToCsv con esta nueva versión:\n  const convertToCsv = () =\u003e {\n    if (!inputText.trim()) {\n      alert(\"Por favor, ingresa el texto a convertir\")\n      return\n    }\n\n    try {\n      // Dividir el texto en líneas\n      const lines = inputText.split(\"\\n\")\n\n      const csvRows = []\n      let currentRole = \"\"\n      let currentContent = []\n      let idCounter = 1 // Contador para el ID autonumérico\n\n      // Agregar encabezados CSV\n      csvRows.push([\"ID\", \"Hablante\", \"Timestamp\", \"Rol\", \"Texto_original\", \"Texto_normalizado\", \"Nivel_confianza\"])\n\n      // Procesar cada línea\n      for (let i = 0; i \u003c lines.length; i++) {\n        const line = lines[i].trim()\n\n        // Si la línea está vacía, continuamos\n        if (!line) continue\n\n        // Verificar si es una línea que indica el rol\n        if (line.includes(\"Entrevistadora:\")) {\n          // Si ya teníamos contenido previo, lo guardamos\n          if (currentRole \u0026\u0026 currentContent.length \u003e 0) {\n            const texto = currentContent.join(\" \")\n            csvRows.push([\n              idCounter++, // ID autonumérico\n              currentRole === \"Entrevistadora\" ? \"entrevistadora\" : \"entrevistado\", // Hablante\n              \"\", // Timestamp (vacío)\n              currentRole === \"Entrevistadora\" ? \"I\" : \"E\", // Rol (I o E)\n              texto, // Texto_original\n              texto, // Texto_normalizado (duplicado)\n              \"5\", // Nivel de confianza\n            ])\n            currentContent = []\n          }\n          currentRole = \"Entrevistadora\"\n          // Capturar el contenido que podría estar en la misma línea\n          const content = line.replace(\"Entrevistadora:\", \"\").trim()\n          if (content) currentContent.push(content)\n        } else if (line.includes(\"Entrevistado:\")) {\n          // Si ya teníamos contenido previo, lo guardamos\n          if (currentRole \u0026\u0026 currentContent.length \u003e 0) {\n            const texto = currentContent.join(\" \")\n            csvRows.push([\n              idCounter++, // ID autonumérico\n              currentRole === \"Entrevistadora\" ? \"entrevistadora\" : \"entrevistado\", // Hablante\n              \"\", // Timestamp (vacío)\n              currentRole === \"Entrevistadora\" ? \"I\" : \"E\", // Rol (I o E)\n              texto, // Texto_original\n              texto, // Texto_normalizado (duplicado)\n              \"5\", // Nivel de confianza\n            ])\n            currentContent = []\n          }\n          currentRole = \"Entrevistado\"\n          // Capturar el contenido que podría estar en la misma línea\n          const content = line.replace(\"Entrevistado:\", \"\").trim()\n          if (content) currentContent.push(content)\n        } else if (currentRole) {\n          // Si ya tenemos un rol definido, agregamos esta línea al contenido actual\n          currentContent.push(line)\n        }\n      }\n\n      // Agregar el último bloque de contenido si existe\n      if (currentRole \u0026\u0026 currentContent.length \u003e 0) {\n        const texto = currentContent.join(\" \")\n        csvRows.push([\n          idCounter++, // ID autonumérico\n          currentRole === \"Entrevistadora\" ? \"entrevistadora\" : \"entrevistado\", // Hablante\n          \"\", // Timestamp (vacío)\n          currentRole === \"Entrevistadora\" ? \"I\" : \"E\", // Rol (I o E)\n          texto, // Texto_original\n          texto, // Texto_normalizado (duplicado)\n          \"5\", // Nivel de confianza\n        ])\n      }\n\n      // Agregar una fila final para el sistema (marca de fin)\n      csvRows.push([\n        idCounter++, // ID autonumérico\n        \"sistema\", // Hablante\n        \"\", // Timestamp (vacío)\n        \"S\", // Rol (S para sistema)\n        \"Fin de la transcripción\", // Texto_original\n        \"Fin de la transcripción\", // Texto_normalizado\n        \"5\", // Nivel de confianza\n      ])\n\n      // Convertir las filas a formato CSV\n      const csvOutput = csvRows\n        .map((row) =\u003e row.map((cell) =\u003e `\"${String(cell).replace(/\"/g, '\"\"')}\"`).join(\",\"))\n        .join(\"\\n\")\n\n      setCsvContent(csvOutput)\n      setIsConverted(true)\n    } catch (error) {\n      console.error(\"Error al convertir:\", error)\n      alert(\"Ocurrió un error al convertir el texto. Por favor, verifica el formato.\")\n    }\n  }\n\n  // Actualizar el nombre del archivo de descarga\n  const downloadCsv = () =\u003e {\n    if (!csvContent) return\n\n    const blob = new Blob([csvContent], { type: \"text/csv;charset=utf-8;\" })\n    const url = URL.createObjectURL(blob)\n    const link = document.createElement(\"a\")\n    link.setAttribute(\"href\", url)\n    link.setAttribute(\"download\", \"transcripcion_formato.csv\")\n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n  }\n\n  return (\n    \u003cdiv className=\"container mx-auto py-8 max-w-4xl\"\u003e\n      \u003cdiv className=\"mb-6 flex justify-between items-center\"\u003e\n        \u003ch1 className=\"text-3xl font-bold\"\u003eConversor de Texto a CSV\u003c/h1\u003e\n        \u003cLink href=\"/transcripciones\"\u003e\n          \u003cButton variant=\"outline\"\u003eVolver a Transcripciones\u003c/Button\u003e\n        \u003c/Link\u003e\n      \u003c/div\u003e\n\n      \u003cCard\u003e\n        \u003cCardHeader\u003e\n          \u003cCardTitle\u003eConversor de Transcripción TXT a CSV (Formato Específico)\u003c/CardTitle\u003e\n          \u003cCardDescription\u003e\n            Convierte transcripciones a formato CSV con campos ID, Hablante, Timestamp, Rol, Texto_original,\n            Texto_normalizado y Nivel_confianza\n          \u003c/CardDescription\u003e\n        \u003c/CardHeader\u003e\n        \u003cCardContent className=\"space-y-4\"\u003e\n          \u003cdiv\u003e\n            \u003clabel htmlFor=\"inputText\" className=\"block text-sm font-medium mb-2\"\u003e\n              Texto de la transcripción:\n            \u003c/label\u003e\n            \u003cTextarea\n              id=\"inputText\"\n              value={inputText}\n              onChange={(e) =\u003e setInputText(e.target.value)}\n              placeholder=\"Pega aquí el texto de la transcripción...\"\n              className=\"min-h-[300px]\"\n            /\u003e\n          \u003c/div\u003e\n\n          {isConverted \u0026\u0026 (\n            \u003cdiv\u003e\n              \u003clabel htmlFor=\"csvOutput\" className=\"block text-sm font-medium mb-2\"\u003e\n                Resultado en formato CSV:\n              \u003c/label\u003e\n              \u003cTextarea id=\"csvOutput\" value={csvContent} readOnly className=\"min-h-[200px] font-mono text-sm\" /\u003e\n            \u003c/div\u003e\n          )}\n        \u003c/CardContent\u003e\n        \u003cCardFooter className=\"flex justify-between\"\u003e\n          \u003cButton onClick={convertToCsv}\u003eConvertir a CSV\u003c/Button\u003e\n          {isConverted \u0026\u0026 (\n            \u003cButton onClick={downloadCsv} variant=\"outline\"\u003e\n              Descargar CSV\n            \u003c/Button\u003e\n          )}\n        \u003c/CardFooter\u003e\n      \u003c/Card\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"6a:T16b1,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { ProCard } from \"@/components/ui/pro-card\"\nimport { Text } from \"@/components/ui/text\"\nimport Link from \"next/link\"\nimport { Button } from \"@/components/ui/button\"\nimport { FileText, BookOpen, ArrowRight, Sparkles } from \"@/components/ui/lucide-icons\"\nimport { BadgeCustom } from \"@/components/ui/badge-custom\"\n\nexport function HomeCards() {\n  return (\n    \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl mx-auto\"\u003e\n      {/* Módulo de Transcripciones - Completamente implementado */}\n      \u003cProCard\n        variant=\"primary\"\n        border=\"top\"\n        className=\"overflow-hidden hover:shadow-md transition-shadow duration-300\"\n      \u003e\n        \u003cProCard.Header\u003e\n          \u003cdiv className=\"flex items-center justify-between\"\u003e\n            \u003cProCard.Title className=\"flex items-center gap-2\" fontType=\"heading\"\u003e\n              \u003cFileText color=\"primary\" size=\"md\" gradient={true} gradientWith=\"accent\" /\u003e\n              Transcripciones\n            \u003c/ProCard.Title\u003e\n            \u003cBadgeCustom variant=\"success\" subtle bordered\u003e\n              Activo\n            \u003c/BadgeCustom\u003e\n          \u003c/div\u003e\n          \u003cProCard.Subtitle color=\"secondary\" colorVariant=\"text\" fontType=\"body\"\u003e\n            Gestión y análisis de transcripciones de entrevistas\n          \u003c/ProCard.Subtitle\u003e\n        \u003c/ProCard.Header\u003e\n\n        \u003cProCard.Content\u003e\n          \u003cText variant=\"default\" size=\"sm\" className=\"mb-6 text-muted-foreground\" fontType=\"body\"\u003e\n            Herramienta para la gestión, análisis y visualización de transcripciones de entrevistas. Permite cargar\n            transcripciones, normalizarlas y organizarlas en una matriz de vaciado.\n          \u003c/Text\u003e\n\n          \u003cProCard variant=\"tertiary\" border=\"none\" className=\"mb-6\"\u003e\n            \u003cProCard.Content\u003e\n              \u003cText variant=\"label\" className=\"mb-2\" fontType=\"heading\" weight=\"semibold\"\u003e\n                Funcionalidades principales:\n              \u003c/Text\u003e\n\n              \u003cul className=\"space-y-1 list-disc list-inside\"\u003e\n                \u003cText as=\"li\" size=\"sm\" fontType=\"body\"\u003e\n                  Gestión de fundaciones y entrevistados\n                \u003c/Text\u003e\n                \u003cText as=\"li\" size=\"sm\" fontType=\"body\"\u003e\n                  Carga y validación de transcripciones\n                \u003c/Text\u003e\n                \u003cText as=\"li\" size=\"sm\" fontType=\"body\"\u003e\n                  Normalización de textos\n                \u003c/Text\u003e\n                \u003cText as=\"li\" size=\"sm\" fontType=\"body\"\u003e\n                  Matriz de vaciado para análisis\n                \u003c/Text\u003e\n              \u003c/ul\u003e\n            \u003c/ProCard.Content\u003e\n          \u003c/ProCard\u003e\n        \u003c/ProCard.Content\u003e\n\n        \u003cProCard.Actions\u003e\n          \u003cLink href=\"/entrevistas\" className=\"w-full\"\u003e\n            \u003cButton className=\"w-full group\"\u003e\n              \u003cText fontType=\"heading\" size=\"sm\"\u003e\n                Acceder al módulo\n              \u003c/Text\u003e\n              \u003cArrowRight\n                color=\"default\"\n                colorVariant=\"pure\"\n                size=\"sm\"\n                className=\"ml-2 transition-transform group-hover:translate-x-1\"\n              /\u003e\n            \u003c/Button\u003e\n          \u003c/Link\u003e\n        \u003c/ProCard.Actions\u003e\n      \u003c/ProCard\u003e\n\n      {/* Módulo de Artículos Académicos - Implementando los componentes */}\n      \u003cProCard\n        variant=\"secondary\"\n        border=\"top\"\n        className=\"overflow-hidden hover:shadow-md transition-shadow duration-300\"\n        selected={true}\n      \u003e\n        \u003cProCard.Header\u003e\n          \u003cdiv className=\"flex items-center justify-between\"\u003e\n            \u003cProCard.Title className=\"flex items-center gap-2\" fontType=\"heading\"\u003e\n              \u003cBookOpen color=\"secondary\" size=\"md\" gradient={true} gradientWith=\"accent\" /\u003e\n              Artículos Académicos\n            \u003c/ProCard.Title\u003e\n            \u003cBadgeCustom variant=\"warning\" bordered subtle\u003e\n              En construcción\n            \u003c/BadgeCustom\u003e\n          \u003c/div\u003e\n          \u003cProCard.Subtitle color=\"tertiary\" colorVariant=\"text\" fontType=\"body\"\u003e\n            Preclasificación de artículos académicos\n          \u003c/ProCard.Subtitle\u003e\n        \u003c/ProCard.Header\u003e\n\n        \u003cProCard.Content\u003e\n          \u003cText variant=\"default\" size=\"sm\" className=\"mb-6 text-muted-foreground\" fontType=\"body\"\u003e\n            Sistema para la preclasificación, categorización y análisis de artículos académicos. Facilita la\n            organización y revisión sistemática de literatura científica.\n          \u003c/Text\u003e\n\n          \u003cProCard variant=\"tertiary\" border=\"none\" shadow=\"none\" disableShadowHover className=\"mb-6\"\u003e\n            \u003cProCard.Content\u003e\n              \u003cText variant=\"label\" className=\"mb-2\" fontType=\"heading\" weight=\"semibold\"\u003e\n                Funcionalidades previstas:\n              \u003c/Text\u003e\n\n              \u003cul className=\"space-y-1 list-disc list-inside\"\u003e\n                \u003cText as=\"li\" size=\"sm\" fontType=\"body\"\u003e\n                  Importación de metadatos de artículos\n                \u003c/Text\u003e\n                \u003cText as=\"li\" size=\"sm\" fontType=\"body\"\u003e\n                  Categorización por temas y relevancia\n                \u003c/Text\u003e\n                \u003cText as=\"li\" size=\"sm\" fontType=\"body\"\u003e\n                  Extracción automática de conceptos clave\n                \u003c/Text\u003e\n                \u003cText as=\"li\" size=\"sm\" fontType=\"body\"\u003e\n                  Generación de reportes de revisión\n                \u003c/Text\u003e\n              \u003c/ul\u003e\n            \u003c/ProCard.Content\u003e\n          \u003c/ProCard\u003e\n        \u003c/ProCard.Content\u003e\n\n        \u003cProCard.Actions\u003e\n          \u003cButton className=\"w-full\" variant=\"secondary\" disabled\u003e\n            \u003cText fontType=\"heading\" size=\"sm\"\u003e\n              Próximamente\n            \u003c/Text\u003e\n            \u003cSparkles color=\"accent\" size=\"sm\" className=\"ml-2\" gradient={true} gradientWith=\"secondary\" /\u003e\n          \u003c/Button\u003e\n        \u003c/ProCard.Actions\u003e\n      \u003c/ProCard\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"6b:T4ff,import type React from \"react\"\nimport { Text } from \"@/components/ui/text\"\n\ninterface SimpleProps {\n  children?: React.ReactNode\n}\n\nexport const Simple = ({ children }: SimpleProps) =\u003e {\n  return \u003cdiv className=\"p-4 border rounded-md\"\u003e{children}\u003c/div\u003e\n}\n\n// Sección que recibe texto como prop\ninterface SimpleSectionProps {\n  text: string\n}\n\nSimple.Section = function SimpleSection({ text }: SimpleSectionProps) {\n  return (\n    \u003cdiv className=\"py-2\"\u003e\n      \u003cText variant=\"default\"\u003e{text}\u003c/Text\u003e\n    \u003c/div\u003e\n  )\n}\n\n// Contenido que recibe children\ninterface SimpleContentProps {\n  children: React.ReactNode\n}\n\nSimple.Content = function SimpleContent({ children }: SimpleContentProps) {\n  return \u003cdiv className=\"py-2\"\u003e{children}\u003c/div\u003e\n}\n\n// TextContent que recibe texto como children y usa Text internamente\ninterface SimpleTextContentProps {\n  children: React.ReactNode\n  variant?: string\n  size?: string\n  color?: string\n}\n\nSimple.TextContent = function SimpleTextContent({\n  children,\n  variant = \"default\",\n  size,\n  color,\n}: SimpleTextContentProps) {\n  // Usamos Text internamente para renderizar el texto recibido como children\n  return (\n    \u003cdiv className=\"py-2\"\u003e\n      \u003cText variant={variant} size={size} color={color}\u003e\n        {children}\n      \u003c/Text\u003e\n    \u003c/div\u003e\n  )\n}\n6c:T3ac6,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { ProTable } from \"@/components/ui/pro-table\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Button } from \"@/components/ui/button\"\nimport { FileText, AlertTriangle, Info } from \"lucide-react\"\nimport type { ColumnDef } from \"@tanstack/react-table\"\nimport { TooltipProvider } from \"@/components/ui/tooltip\"\nimport { useMemo } from \"react\"\n\n// Clase de utilidad para limitar texto a 8 líneas\nconst lineClampClass = \"line-clamp-8 max-h-[192px] overflow-hidden\"\n\ninterface ArticleTableProps {\n  articles: any[]\n  onAbstractClick: (article: any) =\u003e void\n}\n\n// Componente para renderizar una dimensión individual con diseño vertical\nconst DimensionVertical = ({\n  label,\n  value,\n  confidence,\n}: {\n  label: string\n  value: string | null\n  confidence: number | null\n}) =\u003e {\n  const getConfidenceColor = (confidence: number) =\u003e {\n    if (confidence \u003c= 2) return \"bg-red-100 text-red-800\"\n    if (confidence === 3) return \"bg-yellow-100 text-yellow-800\"\n    return \"bg-green-100 text-green-800\"\n  }\n\n  if (!value) {\n    return (\n      \u003cdiv className=\"mb-2 last:mb-0\"\u003e\n        \u003cdiv className=\"text-xs font-medium text-primary\"\u003e{label}\u003c/div\u003e\n        \u003cdiv\u003e\n          \u003cBadge variant=\"outline\" className=\"text-xs\"\u003e\n            Sin datos\n          \u003c/Badge\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    )\n  }\n\n  return (\n    \u003cdiv className=\"mb-2 last:mb-0\"\u003e\n      {/* Primera línea: título de la dimensión en color primary */}\n      \u003cdiv className=\"text-xs font-medium text-primary\"\u003e{label}\u003c/div\u003e\n\n      {/* Segunda línea: valor y chip de confianza */}\n      \u003cdiv className=\"flex items-center mt-1\"\u003e\n        \u003cdiv className=\"text-sm mr-2 break-words\"\u003e{value}\u003c/div\u003e\n        {confidence \u0026\u0026 (\n          \u003cBadge className={`${getConfidenceColor(confidence)} text-xs h-5 min-w-5 px-1.5 flex-shrink-0`}\u003e\n            {confidence}\n          \u003c/Badge\u003e\n        )}\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n\nexport default function ArticleTable({ articles, onAbstractClick }: ArticleTableProps) {\n  // Definición de columnas para ProTable usando useMemo para evitar recreaciones\n  const columns = useMemo\u003cColumnDef\u003cany\u003e[]\u003e(\n    () =\u003e [\n      {\n        id: \"correlativo\",\n        accessorKey: \"correlativo\",\n        header: \"C\",\n        minSize: 50,\n        size: 50,\n        maxSize: 100,\n        enableResizing: true,\n        meta: {\n          enableTooltip: false,\n          enableSorting: true,\n        },\n        cell: ({ row }) =\u003e row.original.correlativo,\n      },\n      {\n        id: \"Title\",\n        accessorKey: \"Title\",\n        header: \"Título\",\n        minSize: 150,\n        size: 200,\n        enableResizing: true,\n        meta: {\n          enableTooltip: false,\n          enableSorting: true,\n          isLongContent: true,\n        },\n        cell: ({ row }) =\u003e (\n          // Aplicamos el mismo lineClampClass que usamos para los otros campos\n          \u003cdiv className={lineClampClass}\u003e{row.original.Title}\u003c/div\u003e\n        ),\n      },\n      {\n        id: \"Authors\",\n        accessorKey: \"Authors\",\n        header: \"Autores\",\n        minSize: 120,\n        size: 150,\n        enableResizing: true,\n        meta: {\n          enableTooltip: false,\n          enableSorting: true,\n        },\n        cell: ({ row }) =\u003e row.original.Authors,\n      },\n      {\n        id: \"Publication_Year\",\n        accessorKey: \"Publication_Year\",\n        header: \"Año\",\n        minSize: 60,\n        size: 80,\n        enableResizing: true,\n        meta: {\n          enableTooltip: false,\n          enableSorting: true,\n        },\n        cell: ({ row }) =\u003e row.original.Publication_Year,\n      },\n      {\n        id: \"Abstract\",\n        accessorKey: \"Abstract\",\n        header: \"Abstract\",\n        minSize: 80,\n        size: 100,\n        enableResizing: true,\n        meta: {\n          enableTooltip: true,\n          enableSorting: false,\n          isLongContent: true,\n        },\n        cell: ({ row }) =\u003e (\n          \u003cButton variant=\"ghost\" size=\"sm\" onClick={() =\u003e onAbstractClick(row.original)}\u003e\n            \u003cFileText className=\"h-4 w-4 mr-1\" /\u003e\n            Ver\n          \u003c/Button\u003e\n        ),\n      },\n      {\n        id: \"article_title_translation\",\n        accessorKey: \"article_title_translation\",\n        header: \"Título Traducido\",\n        minSize: 150,\n        size: 200,\n        enableResizing: true,\n        meta: {\n          enableTooltip: false,\n          enableSorting: false,\n          isLongContent: true,\n        },\n        cell: ({ row }) =\u003e {\n          const translation = row.original.translations?.[0]\n          return translation?.article_title_translation ? (\n            \u003cdiv className={lineClampClass}\u003e{translation.article_title_translation}\u003c/div\u003e\n          ) : (\n            \u003cBadge variant=\"outline\"\u003eSin traducción\u003c/Badge\u003e\n          )\n        },\n      },\n      {\n        id: \"abstract_translation\",\n        accessorKey: \"abstract_translation\",\n        header: \"Abstract Traducido\",\n        minSize: 150,\n        size: 200,\n        enableResizing: true,\n        meta: {\n          enableTooltip: true,\n          enableSorting: false,\n          isLongContent: true,\n        },\n        cell: ({ row }) =\u003e {\n          const translation = row.original.translations?.[0]\n          return translation?.abstract_translation ? (\n            \u003cdiv className={lineClampClass}\u003e{translation.abstract_translation}\u003c/div\u003e\n          ) : (\n            \u003cBadge variant=\"outline\"\u003eSin traducción\u003c/Badge\u003e\n          )\n        },\n      },\n      {\n        id: \"abstract_summary\",\n        accessorKey: \"abstract_summary\",\n        header: \"Resumen IA\",\n        minSize: 150,\n        size: 200,\n        enableResizing: true,\n        meta: {\n          enableTooltip: true,\n          enableSorting: false,\n          isLongContent: true,\n        },\n        cell: ({ row }) =\u003e {\n          const translation = row.original.translations?.[0]\n          return translation?.abstract_summary ? (\n            \u003cdiv className={lineClampClass}\u003e{translation.abstract_summary}\u003c/div\u003e\n          ) : (\n            \u003cBadge variant=\"outline\"\u003eSin resumen\u003c/Badge\u003e\n          )\n        },\n      },\n      // GRUPO 1: Terminología, Función, Contexto\n      {\n        id: \"dimensiones_grupo1\",\n        accessorKey: \"dimensiones_grupo1\",\n        header: \"Dimensiones Conceptuales\",\n        minSize: 250,\n        size: 300,\n        enableResizing: true,\n        meta: {\n          enableTooltip: false,\n          enableSorting: false,\n        },\n        cell: ({ row }) =\u003e {\n          const dimension = row.original.dimensions?.[0]\n          if (!dimension) return \u003cBadge variant=\"outline\"\u003eSin datos\u003c/Badge\u003e\n\n          return (\n            \u003cdiv className=\"py-2 px-2 flex flex-col h-full\"\u003e\n              \u003cDimensionVertical\n                label=\"Terminología\"\n                value={dimension.terminologia_valor}\n                confidence={dimension.terminologia_confianza}\n              /\u003e\n              \u003cDimensionVertical\n                label=\"Función\"\n                value={dimension.funcion_valor}\n                confidence={dimension.funcion_confianza}\n              /\u003e\n              \u003cDimensionVertical\n                label=\"Contexto\"\n                value={dimension.contexto_valor}\n                confidence={dimension.contexto_confianza}\n              /\u003e\n            \u003c/div\u003e\n          )\n        },\n      },\n      // GRUPO 2: Metodología, Tecnología, Adopción\n      {\n        id: \"dimensiones_grupo2\",\n        accessorKey: \"dimensiones_grupo2\",\n        header: \"Dimensiones Metodológicas\",\n        minSize: 250,\n        size: 300,\n        enableResizing: true,\n        meta: {\n          enableTooltip: false,\n          enableSorting: false,\n        },\n        cell: ({ row }) =\u003e {\n          const dimension = row.original.dimensions?.[0]\n          if (!dimension) return \u003cBadge variant=\"outline\"\u003eSin datos\u003c/Badge\u003e\n\n          return (\n            \u003cdiv className=\"py-2 px-2 flex flex-col h-full\"\u003e\n              \u003cDimensionVertical\n                label=\"Metodología\"\n                value={dimension.metodologia_valor}\n                confidence={dimension.metodologia_confianza}\n              /\u003e\n              \u003cDimensionVertical\n                label=\"Tecnología\"\n                value={dimension.tecnologia_valor}\n                confidence={dimension.tecnologia_confianza}\n              /\u003e\n              \u003cDimensionVertical\n                label=\"Adopción\"\n                value={dimension.adopcion_valor}\n                confidence={dimension.adopcion_confianza}\n              /\u003e\n            \u003c/div\u003e\n          )\n        },\n      },\n      // GRUPO 3: Personalización, Histórico, Innovación\n      {\n        id: \"dimensiones_grupo3\",\n        accessorKey: \"dimensiones_grupo3\",\n        header: \"Dimensiones Técnicas\",\n        minSize: 250,\n        size: 300,\n        enableResizing: true,\n        meta: {\n          enableTooltip: false,\n          enableSorting: false,\n        },\n        cell: ({ row }) =\u003e {\n          const dimension = row.original.dimensions?.[0]\n          if (!dimension) return \u003cBadge variant=\"outline\"\u003eSin datos\u003c/Badge\u003e\n\n          return (\n            \u003cdiv className=\"py-2 px-2 flex flex-col h-full\"\u003e\n              \u003cDimensionVertical\n                label=\"Personalización\"\n                value={dimension.personalizacion_valor}\n                confidence={dimension.personalizacion_confianza}\n              /\u003e\n              \u003cDimensionVertical\n                label=\"Histórico\"\n                value={dimension.historico_valor}\n                confidence={dimension.historico_confianza}\n              /\u003e\n              \u003cDimensionVertical\n                label=\"Innovación\"\n                value={dimension.innovacion_valor}\n                confidence={dimension.innovacion_confianza}\n              /\u003e\n            \u003c/div\u003e\n          )\n        },\n      },\n      {\n        id: \"iteracion\",\n        accessorKey: \"iteracion\",\n        header: \"Iteración\",\n        minSize: 80,\n        size: 100,\n        enableResizing: true,\n        meta: {\n          enableTooltip: false,\n          enableSorting: true,\n        },\n        cell: ({ row }) =\u003e {\n          const dimension = row.original.dimensions?.[0]\n          return dimension?.iteracion || \u003cBadge variant=\"outline\"\u003eSin datos\u003c/Badge\u003e\n        },\n      },\n      {\n        id: \"doble_ciego\",\n        accessorKey: \"doble_ciego\",\n        header: \"Doble Ciego\",\n        minSize: 100,\n        size: 120,\n        enableResizing: true,\n        meta: {\n          enableTooltip: false,\n          enableSorting: true,\n        },\n        cell: ({ row }) =\u003e {\n          const dimension = row.original.dimensions?.[0]\n          if (!dimension) return \u003cBadge variant=\"outline\"\u003eSin datos\u003c/Badge\u003e\n          return (\n            \u003cBadge\n              variant={dimension.doble_ciego ? \"default\" : \"outline\"}\n              className={dimension.doble_ciego ? \"bg-blue-100 text-blue-800\" : \"\"}\n            \u003e\n              {dimension.doble_ciego ? \"Sí\" : \"No\"}\n            \u003c/Badge\u003e\n          )\n        },\n      },\n      {\n        id: \"requiere_revision\",\n        accessorKey: \"requiere_revision\",\n        header: \"Requiere Revisión\",\n        minSize: 120,\n        size: 150,\n        enableResizing: true,\n        meta: {\n          enableTooltip: false,\n          enableSorting: true,\n        },\n        cell: ({ row }) =\u003e {\n          const dimension = row.original.dimensions?.[0]\n          if (!dimension) return \u003cBadge variant=\"outline\"\u003eSin datos\u003c/Badge\u003e\n          return (\n            \u003cBadge\n              variant={dimension.requiere_revision ? \"default\" : \"outline\"}\n              className={dimension.requiere_revision ? \"bg-amber-100 text-amber-800\" : \"\"}\n            \u003e\n              {dimension.requiere_revision ? \"Sí\" : \"No\"}\n            \u003c/Badge\u003e\n          )\n        },\n      },\n      {\n        id: \"nota_ai\",\n        accessorKey: \"nota_ai\",\n        header: \"Nota AI\",\n        minSize: 120,\n        size: 150,\n        enableResizing: true,\n        meta: {\n          enableTooltip: true,\n          enableSorting: false,\n          isLongContent: true,\n        },\n        cell: ({ row }) =\u003e {\n          const dimension = row.original.dimensions?.[0]\n          return dimension?.nota_ai ? (\n            \u003cdiv className={lineClampClass}\u003e{dimension.nota_ai}\u003c/div\u003e\n          ) : (\n            \u003cBadge variant=\"outline\"\u003eSin nota\u003c/Badge\u003e\n          )\n        },\n      },\n      {\n        id: \"acciones\",\n        accessorKey: \"acciones\",\n        header: \"Acciones\",\n        minSize: 120,\n        size: 150,\n        enableResizing: true,\n        meta: {\n          enableTooltip: false,\n          enableSorting: false,\n        },\n        cell: ({ row }) =\u003e {\n          const dimension = row.original.dimensions?.[0]\n          return (\n            \u003c\u003e\n              \u003cButton variant=\"outline\" size=\"sm\"\u003e\n                Editar\n              \u003c/Button\u003e\n              {dimension?.requiere_revision \u0026\u0026 (\n                \u003cButton variant=\"ghost\" size=\"icon\" className=\"text-amber-500\"\u003e\n                  \u003cAlertTriangle className=\"h-4 w-4\" /\u003e\n                \u003c/Button\u003e\n              )}\n              {dimension?.nota_ai \u0026\u0026 (\n                \u003cButton variant=\"ghost\" size=\"icon\" className=\"text-blue-500\"\u003e\n                  \u003cInfo className=\"h-4 w-4\" /\u003e\n                \u003c/Button\u003e\n              )}\n            \u003c/\u003e\n          )\n        },\n      },\n    ],\n    [],\n  )\n\n  // Función para obtener el estado de la fila (todas serán neutrales)\n  const getRowStatus = () =\u003e \"neutral\"\n\n  // Definimos las columnas visibles por defecto\n  const defaultColumnVisibility = {\n    correlativo: true,\n    Title: true,\n    Authors: false,\n    Publication_Year: false,\n    Abstract: false,\n    article_title_translation: true,\n    abstract_translation: true,\n    abstract_summary: true,\n    dimensiones_grupo1: true,\n    dimensiones_grupo2: true,\n    dimensiones_grupo3: true,\n    iteracion: false,\n    doble_ciego: false,\n    requiere_revision: false,\n    nota_ai: true,\n    acciones: false,\n  }\n\n  return (\n    \u003cTooltipProvider\u003e\n      \u003cdiv className=\"container mx-auto py-8\"\u003e\n        \u003cdiv className=\"space-y-4\"\u003e\n          \u003cdiv className=\"flex justify-between items-center\"\u003e\n            \u003cdiv className=\"text-sm text-muted-foreground\"\u003e{articles.length} artículos en total\u003c/div\u003e\n            \u003cdiv className=\"flex items-center space-x-2\"\u003e\n              \u003cBadge variant=\"outline\" className=\"bg-red-50 text-red-800\"\u003e\n                1-2: Baja\n              \u003c/Badge\u003e\n              \u003cBadge variant=\"outline\" className=\"bg-yellow-50 text-yellow-800\"\u003e\n                3: Media\n              \u003c/Badge\u003e\n              \u003cBadge variant=\"outline\" className=\"bg-green-50 text-green-800\"\u003e\n                4-5: Alta\n              \u003c/Badge\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n\n          \u003cProTable\n            data={articles}\n            columns={columns}\n            getRowStatus={getRowStatus}\n            className=\"bg-white dark:bg-gray-800\"\n            defaultColumn={{\n              minSize: 100,\n              size: 150,\n              maxSize: 400,\n            }}\n            initialVisibility={defaultColumnVisibility}\n          /\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/TooltipProvider\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"6d:T7e2,\"use client\"\n\nimport { useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\"\nimport { eliminarEntrevista } from \"@/app/actions/entrevistas-actions\"\nimport { toast } from \"sonner\"\nimport { useRouter } from \"next/navigation\"\n\ninterface EliminarEntrevistaButtonProps {\n  id: number\n}\n\nexport function EliminarEntrevistaButton({ id }: EliminarEntrevistaButtonProps) {\n  const [open, setOpen] = useState(false)\n  const [isDeleting, setIsDeleting] = useState(false)\n  const router = useRouter()\n\n  async function handleDelete() {\n    setIsDeleting(true)\n    try {\n      const result = await eliminarEntrevista(id)\n\n      if (result.error) {\n        toast.error(result.error)\n        setOpen(false)\n      } else {\n        toast.success(\"Entrevista eliminada correctamente\")\n        router.push(\"/entrevistas\")\n        router.refresh()\n      }\n    } catch (error) {\n      toast.error(\"Error al eliminar la entrevista\")\n      console.error(error)\n    } finally {\n      setIsDeleting(false)\n    }\n  }\n\n  return (\n    \u003c\u003e\n      \u003cButton variant=\"destructive\" onClick={() =\u003e setOpen(true)}\u003e\n        Eliminar\n      \u003c/Button\u003e\n\n      \u003cDialog open={open} onOpenChange={setOpen}\u003e\n        \u003cDialogContent\u003e\n          \u003cDialogHeader\u003e\n            \u003cDialogTitle\u003e¿Estás seguro?\u003c/DialogTitle\u003e\n            \u003cDialogDescription\u003e\n              Esta acción no se puede deshacer. Esto eliminará permanentemente la entrevista.\n            \u003c/DialogDescription\u003e\n          \u003c/DialogHeader\u003e\n          \u003cDialogFooter\u003e\n            \u003cButton variant=\"outline\" onClick={() =\u003e setOpen(false)} disabled={isDeleting}\u003e\n              Cancelar\n            \u003c/Button\u003e\n            \u003cButton variant=\"destructive\" onClick={handleDelete} disabled={isDeleting}\u003e\n              {isDeleting ? \"Eliminando...\" : \"Eliminar\"}\n            \u003c/Button\u003e\n          \u003c/DialogFooter\u003e\n        \u003c/DialogContent\u003e\n      \u003c/Dialog\u003e\n    \u003c/\u003e\n  )\n}\n6e:T7f6,\"use client\"\n\n"])</script><script>self.__next_f.push([1,"import { useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\"\nimport { eliminarEntrevistado } from \"@/app/actions/entrevistados-actions\"\nimport { toast } from \"sonner\"\nimport { useRouter } from \"next/navigation\"\n\ninterface EliminarEntrevistadoButtonProps {\n  id: number\n}\n\nexport function EliminarEntrevistadoButton({ id }: EliminarEntrevistadoButtonProps) {\n  const [open, setOpen] = useState(false)\n  const [isDeleting, setIsDeleting] = useState(false)\n  const router = useRouter()\n\n  async function handleDelete() {\n    setIsDeleting(true)\n    try {\n      const result = await eliminarEntrevistado(id)\n\n      if (result.error) {\n        toast.error(result.error)\n        setOpen(false)\n      } else {\n        toast.success(\"Entrevistado eliminado correctamente\")\n        router.push(\"/entrevistados\")\n        router.refresh()\n      }\n    } catch (error) {\n      toast.error(\"Error al eliminar el entrevistado\")\n      console.error(error)\n    } finally {\n      setIsDeleting(false)\n    }\n  }\n\n  return (\n    \u003c\u003e\n      \u003cButton variant=\"destructive\" onClick={() =\u003e setOpen(true)}\u003e\n        Eliminar\n      \u003c/Button\u003e\n\n      \u003cDialog open={open} onOpenChange={setOpen}\u003e\n        \u003cDialogContent\u003e\n          \u003cDialogHeader\u003e\n            \u003cDialogTitle\u003e¿Estás seguro?\u003c/DialogTitle\u003e\n            \u003cDialogDescription\u003e\n              Esta acción no se puede deshacer. Esto eliminará permanentemente el entrevistado.\n            \u003c/DialogDescription\u003e\n          \u003c/DialogHeader\u003e\n          \u003cDialogFooter\u003e\n            \u003cButton variant=\"outline\" onClick={() =\u003e setOpen(false)} disabled={isDeleting}\u003e\n              Cancelar\n            \u003c/Button\u003e\n            \u003cButton variant=\"destructive\" onClick={handleDelete} disabled={isDeleting}\u003e\n              {isDeleting ? \"Eliminando...\" : \"Eliminar\"}\n            \u003c/Button\u003e\n          \u003c/DialogFooter\u003e\n        \u003c/DialogContent\u003e\n      \u003c/Dialog\u003e\n    \u003c/\u003e\n  )\n}\n6f:T84c,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\"\nimport { eliminarExpresionPermitida } from \"@/app/actions/expresiones-permitidas-actions\"\nimport { toast } from \"sonner\"\nimport { useRouter } from \"next/navigation\"\n\ninterface EliminarExpresionPermitidaButtonProps {\n  id: number\n}\n\nexport function EliminarExpresionPermitidaButton({ id }: EliminarExpresionPermitidaButtonProps) {\n  const [open, setOpen] = useState(false)\n  const [isDeleting, setIsDeleting] = useState(false)\n  const router = useRouter()\n\n  async function handleDelete() {\n    setIsDeleting(true)\n    try {\n      const result = await eliminarExpresionPermitida(id)\n\n      if (result.error) {\n        toast.error(result.error)\n        setOpen(false)\n      } else {\n        toast.success(\"Expresión permitida eliminada correctamente\")\n        router.push(\"/configuracion/expresiones-permitidas\")\n        router.refresh()\n      }\n    } catch (error) {\n      toast.error(\"Error al eliminar la expresión permitida\")\n      console.error(error)\n    } finally {\n      setIsDeleting(false)\n    }\n  }\n\n  return (\n    \u003c\u003e\n      \u003cButton variant=\"destructive\" onClick={() =\u003e setOpen(true)}\u003e\n        Eliminar\n      \u003c/Button\u003e\n\n      \u003cDialog open={open} onOpenChange={setOpen}\u003e\n        \u003cDialogContent\u003e\n          \u003cDialogHeader\u003e\n            \u003cDialogTitle\u003e¿Estás seguro?\u003c/DialogTitle\u003e\n            \u003cDialogDescription\u003e\n              Esta acción no se puede deshacer. Esto eliminará permanentemente la expresión permitida.\n            \u003c/DialogDescription\u003e\n          \u003c/DialogHeader\u003e\n          \u003cDialogFooter\u003e\n            \u003cButton variant=\"outline\" onClick={() =\u003e setOpen(false)} disabled={isDeleting}\u003e\n              Cancelar\n            \u003c/Button\u003e\n            \u003cButton variant=\"destructive\" onClick={handleDelete} disabled={isDeleting}\u003e\n              {isDeleting ? \"Eliminando...\" : \"Eliminar\"}\n            \u003c/Button\u003e\n          \u003c/DialogFooter\u003e\n        \u003c/DialogContent\u003e\n      \u003c/Dialog\u003e\n    \u003c/\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"70:T7e3,\"use client\"\n\nimport { useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\"\nimport { eliminarFundacion } from \"@/app/actions/fundaciones-actions\"\nimport { toast } from \"sonner\"\nimport { useRouter } from \"next/navigation\"\n\ninterface EliminarFundacionButtonProps {\n  id: number\n}\n\nexport function EliminarFundacionButton({ id }: EliminarFundacionButtonProps) {\n  const [open, setOpen] = useState(false)\n  const [isDeleting, setIsDeleting] = useState(false)\n  const router = useRouter()\n\n  async function handleDelete() {\n    setIsDeleting(true)\n    try {\n      const result = await eliminarFundacion(id)\n\n      if (result.error) {\n        toast.error(result.error)\n        setOpen(false)\n      } else {\n        toast.success(\"Institución eliminada correctamente\")\n        router.push(\"/fundaciones\")\n        router.refresh()\n      }\n    } catch (error) {\n      toast.error(\"Error al eliminar la institución\")\n      console.error(error)\n    } finally {\n      setIsDeleting(false)\n    }\n  }\n\n  return (\n    \u003c\u003e\n      \u003cButton variant=\"destructive\" onClick={() =\u003e setOpen(true)}\u003e\n        Eliminar\n      \u003c/Button\u003e\n\n      \u003cDialog open={open} onOpenChange={setOpen}\u003e\n        \u003cDialogContent\u003e\n          \u003cDialogHeader\u003e\n            \u003cDialogTitle\u003e¿Estás seguro?\u003c/DialogTitle\u003e\n            \u003cDialogDescription\u003e\n              Esta acción no se puede deshacer. Esto eliminará permanentemente la institución.\n            \u003c/DialogDescription\u003e\n          \u003c/DialogHeader\u003e\n          \u003cDialogFooter\u003e\n            \u003cButton variant=\"outline\" onClick={() =\u003e setOpen(false)} disabled={isDeleting}\u003e\n              Cancelar\n            \u003c/Button\u003e\n            \u003cButton variant=\"destructive\" onClick={handleDelete} disabled={isDeleting}\u003e\n              {isDeleting ? \"Eliminando...\" : \"Eliminar\"}\n            \u003c/Button\u003e\n          \u003c/DialogFooter\u003e\n        \u003c/DialogContent\u003e\n      \u003c/Dialog\u003e\n    \u003c/\u003e\n  )\n}\n71:T806,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\"\nimport { eliminarInvestigador } from \"@/app/actions/investigadores-actions\"\nimport { toast } from \"sonner\"\nimport { useRouter } from \"next/navigation\"\n\ninterface EliminarInvestigadorButtonProps {\n  id: number\n}\n\nexport function EliminarInvestigadorButton({ id }: EliminarInvestigadorButtonProps) {\n  const [open, setOpen] = useState(false)\n  const [isDeleting, setIsDeleting] = useState(false)\n  const router = useRouter()\n\n  async function handleDelete() {\n    setIsDeleting(true)\n    try {\n      const result = await eliminarInvestigador(id)\n\n      if (result.error) {\n        toast.error(result.error)\n        setOpen(false)\n      } else {\n        toast.success(\"Investigador eliminado correctamente\")\n        router.push(\"/configuracion/investigadores\")\n        router.refresh()\n      }\n    } catch (error) {\n      toast.error(\"Error al eliminar el investigador\")\n      console.error(error)\n    } finally {\n      setIsDeleting(false)\n    }\n  }\n\n  return (\n    \u003c\u003e\n      \u003cButton variant=\"destructive\" onClick={() =\u003e setOpen(true)}\u003e\n        Eliminar\n      \u003c/Button\u003e\n\n      \u003cDialog open={open} onOpenChange={setOpen}\u003e\n        \u003cDialogContent\u003e\n          \u003cDialogHeader\u003e\n            \u003cDialogTitle\u003e¿Estás seguro?\u003c/DialogTitle\u003e\n            \u003cDialogDescription\u003e\n              Esta acción no se puede deshacer. Esto eliminará permanentemente el investigador.\n            \u003c/DialogDescription\u003e\n          \u003c/DialogHeader\u003e\n          \u003cDialogFooter\u003e\n            \u003cButton variant=\"outline\" onClick={() =\u003e setOpen(false)} disabled={isDeleting}\u003e\n              Cancelar\n            \u003c/Button\u003e\n            \u003cButton variant=\"destructive\" onClick={handleDelete} disabled={isDeleting}\u003e\n              {isDeleting ? \"Eliminando...\" : \"Eliminar\"}\n            \u003c/Button\u003e\n          \u003c/DialogFooter\u003e\n        \u003c/DialogContent\u003e\n      \u003c/Dialog\u003e\n    \u003c/\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"72:T414,import type React from \"react\"\nimport { Text } from \"@/components/ui/text\"\nimport { cn } from \"@/lib/utils\"\nimport type { LucideIcon } from \"lucide-react\"\n\ninterface EmptyStateProps {\n  icon?: LucideIcon\n  title: string\n  description?: string\n  action?: React.ReactNode\n  className?: string\n}\n\nexport function EmptyState({ icon: Icon, title, description, action, className }: EmptyStateProps) {\n  return (\n    \u003cdiv\n      className={cn(\n        \"flex flex-col items-center justify-center rounded-lg border border-dashed p-8 text-center animate-in fade-in-50\",\n        className,\n      )}\n    \u003e\n      {Icon \u0026\u0026 (\n        \u003cdiv className=\"flex h-20 w-20 items-center justify-center rounded-full bg-muted\"\u003e\n          \u003cIcon className=\"h-10 w-10 text-muted-foreground\" /\u003e\n        \u003c/div\u003e\n      )}\n      \u003cText className=\"mt-6 text-xl font-semibold\"\u003e{title}\u003c/Text\u003e\n      {description \u0026\u0026 \u003cText className=\"mt-2 text-center text-sm text-muted-foreground max-w-md\"\u003e{description}\u003c/Text\u003e}\n      {action \u0026\u0026 \u003cdiv className=\"mt-6\"\u003e{action}\u003c/div\u003e}\n    \u003c/div\u003e\n  )\n}\n73:T5709,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport type React from \"react\"\n\nimport { useState, useEffect } from \"react\"\nimport { zodResolver } from \"@hookform/resolvers/zod\"\nimport { useForm } from \"react-hook-form\"\nimport { z } from \"zod\"\nimport { Button } from \"@/components/ui/button\"\nimport { Form, FormControl, FormDescription, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { useRouter } from \"next/navigation\"\nimport { toast } from \"sonner\"\nimport type { Entrevistado, Investigador } from \"@/types/supabase\"\nimport {\n  obtenerSiguienteNumeroEntrevista,\n  crearEntrevistaParaTranscripcion,\n  procesarCSVTranscripcion,\n} from \"@/app/actions/transcripciones-actions\"\nimport { validateCSV } from \"@/lib/utils/csv-validator\"\nimport { CSVValidationResult } from \"@/components/validation/csv-validation-result\"\nimport { AlertCircle, FileText, CheckCircle, Loader2 } from \"lucide-react\"\nimport { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\"\n\nconst transcripcionSchema = z.object({\n  entrevistado_id: z.number({\n    required_error: \"Debes seleccionar un entrevistado\",\n    invalid_type_error: \"Debes seleccionar un entrevistado\",\n  }),\n  investigador_id: z.number({\n    required_error: \"Debes seleccionar un investigador\",\n    invalid_type_error: \"Debes seleccionar un investigador\",\n  }),\n  fecha_entrevista: z.string().optional(),\n  duracion: z.number().optional(),\n  notas: z.string().optional(),\n  idioma: z.string().default(\"es-ES\"),\n})\n\ntype TranscripcionFormValues = z.infer\u003ctypeof transcripcionSchema\u003e\n\ninterface CargarTranscripcionFormProps {\n  entrevistados: Entrevistado[]\n  investigadores: Investigador[]\n}\n\nexport function CargarTranscripcionForm({ entrevistados, investigadores }: CargarTranscripcionFormProps) {\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [selectedEntrevistado, setSelectedEntrevistado] = useState\u003cEntrevistado | null\u003e(null)\n  const [codigoEntrevista, setCodigoEntrevista] = useState(\"\")\n  const [csvFile, setCsvFile] = useState\u003cFile | null\u003e(null)\n  const [csvContent, setCsvContent] = useState\u003cstring | null\u003e(null)\n  const [validationResult, setValidationResult] = useState\u003cany\u003e(null)\n  const [isValidating, setIsValidating] = useState(false)\n  const [showValidationResult, setShowValidationResult] = useState(false)\n  const [processingStatus, setProcessingStatus] = useState\u003c{\n    isProcessing: boolean\n    success?: boolean\n    message?: string\n    error?: string\n  }\u003e({ isProcessing: false })\n  const router = useRouter()\n\n  const form = useForm\u003cTranscripcionFormValues\u003e({\n    resolver: zodResolver(transcripcionSchema),\n    defaultValues: {\n      entrevistado_id: undefined,\n      investigador_id: undefined,\n      fecha_entrevista: \"\",\n      duracion: undefined,\n      notas: \"\",\n      idioma: \"es-ES\",\n    },\n  })\n\n  // Cuando cambia el entrevistado seleccionado, actualizar el código de entrevista\n  useEffect(() =\u003e {\n    const entrevistadoId = form.watch(\"entrevistado_id\")\n    if (entrevistadoId) {\n      const entrevistado = entrevistados.find((e) =\u003e e.id === entrevistadoId)\n      if (entrevistado \u0026\u0026 entrevistado.fundacion) {\n        setSelectedEntrevistado(entrevistado)\n\n        // Generar código base (fundación + entrevistado)\n        const codigoBase = `${entrevistado.fundacion.codigo}${entrevistado.codigo}`\n\n        // Obtener el siguiente número de entrevista\n        obtenerSiguienteNumeroEntrevista(codigoBase).then((result) =\u003e {\n          if (result.success) {\n            setCodigoEntrevista(`${codigoBase}${result.numero}`)\n          } else if (result.error) {\n            toast.error(result.error)\n          }\n        })\n      }\n    } else {\n      setSelectedEntrevistado(null)\n      setCodigoEntrevista(\"\")\n    }\n  }, [form.watch(\"entrevistado_id\"), entrevistados])\n\n  async function onSubmit(data: TranscripcionFormValues) {\n    if (!codigoEntrevista) {\n      toast.error(\"No se pudo generar el código de entrevista\")\n      return\n    }\n\n    if (!selectedEntrevistado || !selectedEntrevistado.fundacion) {\n      toast.error(\"Información de entrevistado o institución incompleta\")\n      return\n    }\n\n    if (!csvFile || !csvContent) {\n      toast.error(\"Debes seleccionar un archivo CSV\")\n      return\n    }\n\n    if (!validationResult || !validationResult.isValid) {\n      toast.error(\"El archivo CSV no ha sido validado o contiene errores\")\n      return\n    }\n\n    setIsSubmitting(true)\n    setProcessingStatus({ isProcessing: true })\n\n    try {\n      // Crear la entrevista primero\n      const entrevistaData = {\n        codigo_entrevista: codigoEntrevista,\n        fundacion_id: selectedEntrevistado.fundacion.id,\n        entrevistado_id: data.entrevistado_id,\n        investigador_id: data.investigador_id,\n        numero_entrevista: Number.parseInt(codigoEntrevista.substring(4), 10),\n        fecha_entrevista: data.fecha_entrevista,\n        duracion: data.duracion,\n        notas: data.notas,\n        idioma: data.idioma,\n      }\n\n      const entrevistaResult = await crearEntrevistaParaTranscripcion(entrevistaData)\n\n      if (entrevistaResult.error) {\n        setProcessingStatus({\n          isProcessing: false,\n          success: false,\n          error: entrevistaResult.error,\n        })\n        toast.error(entrevistaResult.error)\n        return\n      }\n\n      // Procesar el archivo CSV\n      const csvResult = await procesarCSVTranscripcion(entrevistaResult.data.id, csvContent)\n\n      if (csvResult.error) {\n        setProcessingStatus({\n          isProcessing: false,\n          success: false,\n          error: csvResult.error,\n        })\n        toast.error(csvResult.error)\n        return\n      }\n\n      // Todo salió bien\n      setProcessingStatus({\n        isProcessing: false,\n        success: true,\n        message: csvResult.message,\n      })\n      toast.success(csvResult.message)\n\n      // Redirigir después de 2 segundos usando window.location para forzar recarga completa\n      setTimeout(() =\u003e {\n        window.location.href = \"/transcripciones\"\n      }, 2000)\n    } catch (error) {\n      console.error(\"Error en el proceso de carga:\", error)\n      setProcessingStatus({\n        isProcessing: false,\n        success: false,\n        error: \"Error inesperado durante el proceso de carga\",\n      })\n      toast.error(\"Error inesperado durante el proceso de carga\")\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  const handleFileChange = (e: React.ChangeEvent\u003cHTMLInputElement\u003e) =\u003e {\n    if (e.target.files \u0026\u0026 e.target.files.length \u003e 0) {\n      const file = e.target.files[0]\n      setCsvFile(file)\n\n      // Leer el contenido del archivo\n      const reader = new FileReader()\n      reader.onload = (event) =\u003e {\n        if (event.target?.result) {\n          setCsvContent(event.target.result as string)\n        }\n      }\n      reader.readAsText(file)\n\n      // Resetear validación\n      setValidationResult(null)\n      setShowValidationResult(false)\n    }\n  }\n\n  const handleValidateCSV = async () =\u003e {\n    if (!csvContent) {\n      toast.error(\"No hay archivo CSV para validar\")\n      return\n    }\n\n    setIsValidating(true)\n    try {\n      const entrevistado = selectedEntrevistado\n      const investigador = investigadores.find((i) =\u003e i.id === form.getValues(\"investigador_id\"))\n      const idioma = form.getValues(\"idioma\")\n\n      const result = await validateCSV(csvContent, entrevistado || undefined, investigador || undefined, idioma)\n      setValidationResult(result)\n      setShowValidationResult(true)\n\n      if (!result.isValid) {\n        toast.error(\"Se encontraron errores en el archivo CSV\")\n      } else if (result.warnings.length \u003e 0 || result.segmentsWithIssues.length \u003e 0) {\n        toast.warning(\"Se encontraron advertencias en el archivo CSV\")\n      } else {\n        toast.success(\"El archivo CSV es válido\")\n      }\n    } catch (error) {\n      console.error(\"Error al validar CSV:\", error)\n      toast.error(\"Error al validar el archivo CSV\")\n    } finally {\n      setIsValidating(false)\n    }\n  }\n\n  // Si estamos procesando o ya terminamos con éxito, mostrar un estado especial\n  if (processingStatus.isProcessing || processingStatus.success) {\n    return (\n      \u003cCard className=\"w-full\"\u003e\n        \u003cCardHeader\u003e\n          \u003cCardTitle\u003eProcesando Transcripción\u003c/CardTitle\u003e\n          \u003cCardDescription\u003e\n            {processingStatus.isProcessing\n              ? \"Estamos procesando tu archivo de transcripción...\"\n              : \"¡Transcripción cargada con éxito!\"}\n          \u003c/CardDescription\u003e\n        \u003c/CardHeader\u003e\n        \u003cCardContent className=\"flex flex-col items-center justify-center py-10\"\u003e\n          {processingStatus.isProcessing ? (\n            \u003c\u003e\n              \u003cLoader2 className=\"h-16 w-16 text-blue-500 animate-spin mb-4\" /\u003e\n              \u003cp className=\"text-lg font-medium\"\u003eCargando transcripción...\u003c/p\u003e\n              \u003cp className=\"text-sm text-gray-500 mt-2\"\u003e\n                Esto puede tomar unos momentos dependiendo del tamaño del archivo.\n              \u003c/p\u003e\n            \u003c/\u003e\n          ) : (\n            \u003c\u003e\n              \u003cCheckCircle className=\"h-16 w-16 text-green-500 mb-4\" /\u003e\n              \u003cp className=\"text-lg font-medium\"\u003e¡Transcripción cargada correctamente!\u003c/p\u003e\n              \u003cp className=\"text-sm text-gray-500 mt-2\"\u003e{processingStatus.message}\u003c/p\u003e\n              \u003cp className=\"text-sm text-gray-500 mt-1\"\u003eSerás redirigido en unos momentos...\u003c/p\u003e\n            \u003c/\u003e\n          )}\n        \u003c/CardContent\u003e\n      \u003c/Card\u003e\n    )\n  }\n\n  // Si hay un error en el procesamiento, mostrar el error\n  if (processingStatus.error) {\n    return (\n      \u003cCard className=\"w-full\"\u003e\n        \u003cCardHeader\u003e\n          \u003cCardTitle\u003eError al Procesar Transcripción\u003c/CardTitle\u003e\n          \u003cCardDescription\u003eOcurrió un error durante el procesamiento de la transcripción.\u003c/CardDescription\u003e\n        \u003c/CardHeader\u003e\n        \u003cCardContent\u003e\n          \u003cAlert variant=\"destructive\" className=\"mb-6\"\u003e\n            \u003cAlertCircle className=\"h-4 w-4\" /\u003e\n            \u003cAlertTitle\u003eError\u003c/AlertTitle\u003e\n            \u003cAlertDescription\u003e{processingStatus.error}\u003c/AlertDescription\u003e\n          \u003c/Alert\u003e\n\n          \u003cdiv className=\"flex justify-end\"\u003e\n            \u003cButton onClick={() =\u003e setProcessingStatus({ isProcessing: false })} variant=\"outline\"\u003e\n              Volver al formulario\n            \u003c/Button\u003e\n          \u003c/div\u003e\n        \u003c/CardContent\u003e\n      \u003c/Card\u003e\n    )\n  }\n\n  return (\n    \u003cdiv className=\"space-y-8\"\u003e\n      {showValidationResult \u0026\u0026 validationResult ? (\n        \u003cCSVValidationResult\n          validationResult={validationResult}\n          onContinue={() =\u003e setShowValidationResult(false)}\n          onCancel={() =\u003e {\n            setShowValidationResult(false)\n            setCsvFile(null)\n            setCsvContent(null)\n            setValidationResult(null)\n          }}\n        /\u003e\n      ) : (\n        \u003cCard\u003e\n          \u003cCardHeader\u003e\n            \u003cCardTitle\u003eInformación de la Entrevista\u003c/CardTitle\u003e\n            \u003cCardDescription\u003e\n              Selecciona el entrevistado y el investigador para generar el código de entrevista\n            \u003c/CardDescription\u003e\n          \u003c/CardHeader\u003e\n          \u003cCardContent\u003e\n            \u003cForm {...form}\u003e\n              \u003cform onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\"\u003e\n                \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n                  \u003cFormField\n                    control={form.control}\n                    name=\"entrevistado_id\"\n                    render={({ field }) =\u003e (\n                      \u003cFormItem\u003e\n                        \u003cFormLabel\u003eEntrevistado\u003c/FormLabel\u003e\n                        \u003cSelect\n                          onValueChange={(value) =\u003e field.onChange(Number.parseInt(value))}\n                          defaultValue={field.value?.toString()}\n                        \u003e\n                          \u003cFormControl\u003e\n                            \u003cSelectTrigger\u003e\n                              \u003cSelectValue placeholder=\"Selecciona un entrevistado\" /\u003e\n                            \u003c/SelectTrigger\u003e\n                          \u003c/FormControl\u003e\n                          \u003cSelectContent\u003e\n                            {entrevistados.map((entrevistado) =\u003e (\n                              \u003cSelectItem key={entrevistado.id} value={entrevistado.id.toString()}\u003e\n                                {entrevistado.codigo} - {entrevistado.nombre} {entrevistado.apellido}\n                              \u003c/SelectItem\u003e\n                            ))}\n                          \u003c/SelectContent\u003e\n                        \u003c/Select\u003e\n                        \u003cFormDescription\u003ePersona entrevistada\u003c/FormDescription\u003e\n                        \u003cFormMessage /\u003e\n                      \u003c/FormItem\u003e\n                    )}\n                  /\u003e\n\n                  \u003cFormField\n                    control={form.control}\n                    name=\"investigador_id\"\n                    render={({ field }) =\u003e (\n                      \u003cFormItem\u003e\n                        \u003cFormLabel\u003eInvestigador\u003c/FormLabel\u003e\n                        \u003cSelect\n                          onValueChange={(value) =\u003e field.onChange(Number.parseInt(value))}\n                          defaultValue={field.value?.toString()}\n                        \u003e\n                          \u003cFormControl\u003e\n                            \u003cSelectTrigger\u003e\n                              \u003cSelectValue placeholder=\"Selecciona un investigador\" /\u003e\n                            \u003c/SelectTrigger\u003e\n                          \u003c/FormControl\u003e\n                          \u003cSelectContent\u003e\n                            {investigadores.map((investigador) =\u003e (\n                              \u003cSelectItem key={investigador.id} value={investigador.id.toString()}\u003e\n                                {investigador.codigo} - {investigador.nombre} {investigador.apellido}\n                              \u003c/SelectItem\u003e\n                            ))}\n                          \u003c/SelectContent\u003e\n                        \u003c/Select\u003e\n                        \u003cFormDescription\u003eInvestigador que realizó la entrevista\u003c/FormDescription\u003e\n                        \u003cFormMessage /\u003e\n                      \u003c/FormItem\u003e\n                    )}\n                  /\u003e\n                \u003c/div\u003e\n\n                \u003cFormField\n                  control={form.control}\n                  name=\"idioma\"\n                  render={({ field }) =\u003e (\n                    \u003cFormItem\u003e\n                      \u003cFormLabel\u003eIdioma\u003c/FormLabel\u003e\n                      \u003cSelect onValueChange={field.onChange} defaultValue={field.value}\u003e\n                        \u003cFormControl\u003e\n                          \u003cSelectTrigger\u003e\n                            \u003cSelectValue placeholder=\"Selecciona un idioma\" /\u003e\n                          \u003c/SelectTrigger\u003e\n                        \u003c/FormControl\u003e\n                        \u003cSelectContent\u003e\n                          \u003cSelectItem value=\"es-ES\"\u003eEspañol (España)\u003c/SelectItem\u003e\n                          \u003cSelectItem value=\"es-MX\"\u003eEspañol (México)\u003c/SelectItem\u003e\n                          \u003cSelectItem value=\"es-CL\"\u003eEspañol (Chile)\u003c/SelectItem\u003e\n                          \u003cSelectItem value=\"en-US\"\u003eInglés (Estados Unidos)\u003c/SelectItem\u003e\n                        \u003c/SelectContent\u003e\n                      \u003c/Select\u003e\n                      \u003cFormDescription\u003eIdioma de la transcripción\u003c/FormDescription\u003e\n                      \u003cFormMessage /\u003e\n                    \u003c/FormItem\u003e\n                  )}\n                /\u003e\n\n                {selectedEntrevistado \u0026\u0026 selectedEntrevistado.fundacion \u0026\u0026 (\n                  \u003cdiv className=\"p-4 bg-gray-50 rounded-md\"\u003e\n                    \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-4\"\u003e\n                      \u003cdiv\u003e\n                        \u003ch3 className=\"text-sm font-medium text-gray-500\"\u003eInstitución\u003c/h3\u003e\n                        \u003cp className=\"mt-1\"\u003e\n                          {selectedEntrevistado.fundacion.codigo} - {selectedEntrevistado.fundacion.nombre}\n                        \u003c/p\u003e\n                      \u003c/div\u003e\n                      \u003cdiv\u003e\n                        \u003ch3 className=\"text-sm font-medium text-gray-500\"\u003eCódigo de Entrevista\u003c/h3\u003e\n                        \u003cp className=\"mt-1 font-medium\"\u003e{codigoEntrevista}\u003c/p\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n                )}\n\n                \u003cFormField\n                  control={form.control}\n                  name=\"fecha_entrevista\"\n                  render={({ field }) =\u003e (\n                    \u003cFormItem\u003e\n                      \u003cFormLabel\u003eFecha de Entrevista\u003c/FormLabel\u003e\n                      \u003cFormControl\u003e\n                        \u003cInput type=\"date\" {...field} /\u003e\n                      \u003c/FormControl\u003e\n                      \u003cFormDescription\u003eFecha en que se realizó la entrevista (opcional)\u003c/FormDescription\u003e\n                      \u003cFormMessage /\u003e\n                    \u003c/FormItem\u003e\n                  )}\n                /\u003e\n\n                \u003cFormField\n                  control={form.control}\n                  name=\"duracion\"\n                  render={({ field }) =\u003e (\n                    \u003cFormItem\u003e\n                      \u003cFormLabel\u003eDuración (minutos)\u003c/FormLabel\u003e\n                      \u003cFormControl\u003e\n                        \u003cInput\n                          type=\"number\"\n                          placeholder=\"60\"\n                          value={field.value || \"\"}\n                          onChange={(e) =\u003e {\n                            const value = e.target.value\n                            field.onChange(value === \"\" ? undefined : Number.parseInt(value))\n                          }}\n                        /\u003e\n                      \u003c/FormControl\u003e\n                      \u003cFormDescription\u003eDuración de la entrevista en minutos (opcional)\u003c/FormDescription\u003e\n                      \u003cFormMessage /\u003e\n                    \u003c/FormItem\u003e\n                  )}\n                /\u003e\n\n                \u003cFormField\n                  control={form.control}\n                  name=\"notas\"\n                  render={({ field }) =\u003e (\n                    \u003cFormItem\u003e\n                      \u003cFormLabel\u003eNotas\u003c/FormLabel\u003e\n                      \u003cFormControl\u003e\n                        \u003cTextarea\n                          placeholder=\"Notas adicionales sobre la entrevista...\"\n                          className=\"min-h-[120px]\"\n                          {...field}\n                        /\u003e\n                      \u003c/FormControl\u003e\n                      \u003cFormDescription\u003eInformación adicional sobre la entrevista (opcional)\u003c/FormDescription\u003e\n                      \u003cFormMessage /\u003e\n                    \u003c/FormItem\u003e\n                  )}\n                /\u003e\n\n                \u003cdiv className=\"space-y-2\"\u003e\n                  \u003cFormLabel\u003eArchivo CSV de Transcripción\u003c/FormLabel\u003e\n                  \u003cdiv className=\"flex items-center space-x-2\"\u003e\n                    \u003cInput\n                      type=\"file\"\n                      accept=\".csv\"\n                      onChange={handleFileChange}\n                      disabled={isSubmitting || isValidating}\n                    /\u003e\n                    \u003cButton\n                      type=\"button\"\n                      onClick={handleValidateCSV}\n                      disabled={!csvFile || isValidating || isSubmitting}\n                      className=\"whitespace-nowrap\"\n                    \u003e\n                      {isValidating ? \"Validando...\" : \"Validar CSV\"}\n                    \u003c/Button\u003e\n                  \u003c/div\u003e\n                  \u003cFormDescription\u003eSelecciona el archivo CSV con la transcripción de la entrevista\u003c/FormDescription\u003e\n\n                  {csvFile \u0026\u0026 (\n                    \u003cdiv className=\"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-md flex items-start\"\u003e\n                      \u003cFileText className=\"h-5 w-5 text-blue-500 mr-2 mt-0.5\" /\u003e\n                      \u003cdiv\u003e\n                        \u003cp className=\"font-medium text-blue-700\"\u003e{csvFile.name}\u003c/p\u003e\n                        \u003cp className=\"text-sm text-blue-600\"\u003e\n                          {(csvFile.size / 1024).toFixed(2)} KB • {new Date().toLocaleDateString()}\n                        \u003c/p\u003e\n                        {validationResult \u0026\u0026 (\n                          \u003cdiv className=\"mt-1 flex items-center\"\u003e\n                            {validationResult.isValid ? (\n                              \u003c\u003e\n                                \u003cCheckCircle className=\"h-4 w-4 text-green-500 mr-1\" /\u003e\n                                \u003cspan className=\"text-sm text-green-600\"\u003eArchivo validado correctamente\u003c/span\u003e\n                              \u003c/\u003e\n                            ) : (\n                              \u003c\u003e\n                                \u003cAlertCircle className=\"h-4 w-4 text-red-500 mr-1\" /\u003e\n                                \u003cspan className=\"text-sm text-red-600\"\u003eEl archivo contiene errores\u003c/span\u003e\n                              \u003c/\u003e\n                            )}\n                          \u003c/div\u003e\n                        )}\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  )}\n                \u003c/div\u003e\n\n                \u003cdiv className=\"flex justify-end space-x-4\"\u003e\n                  \u003cButton\n                    type=\"button\"\n                    variant=\"outline\"\n                    onClick={() =\u003e router.push(\"/transcripciones\")}\n                    disabled={isSubmitting || isValidating}\n                  \u003e\n                    Cancelar\n                  \u003c/Button\u003e\n                  \u003cButton\n                    type=\"submit\"\n                    disabled={\n                      isSubmitting ||\n                      isValidating ||\n                      !csvFile ||\n                      !validationResult ||\n                      !validationResult.isValid ||\n                      !codigoEntrevista\n                    }\n                  \u003e\n                    {isSubmitting ? (\n                      \u003c\u003e\n                        \u003cLoader2 className=\"mr-2 h-4 w-4 animate-spin\" /\u003e\n                        Guardando...\n                      \u003c/\u003e\n                    ) : (\n                      \"Guardar Transcripción\"\n                    )}\n                  \u003c/Button\u003e\n                \u003c/div\u003e\n              \u003c/form\u003e\n            \u003c/Form\u003e\n          \u003c/CardContent\u003e\n        \u003c/Card\u003e\n      )}\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"74:Tfed,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\nimport { AnimatePresence, motion } from \"framer-motion\"\nimport { AlertCircle } from \"lucide-react\"\n\nexport interface CustomTextareaProps extends React.TextareaHTMLAttributes\u003cHTMLTextAreaElement\u003e {\n  error?: string\n  hint?: string\n  showCharacterCount?: boolean\n}\n\nconst CustomTextarea = React.forwardRef\u003cHTMLTextAreaElement, CustomTextareaProps\u003e(\n  ({ className, error, hint, showCharacterCount, ...props }, ref) =\u003e {\n    // Estados\n    const [isFocused, setIsFocused] = React.useState(false)\n    const [charCount, setCharCount] = React.useState(props.value ? String(props.value).length : 0)\n\n    // Referencia interna\n    const textareaRef = React.useRef\u003cHTMLTextAreaElement\u003e(null)\n\n    // Combinar refs\n    const handleRef = (el: HTMLTextAreaElement | null) =\u003e {\n      textareaRef.current = el || null\n      if (typeof ref === \"function\") ref(el)\n      else if (ref) ref.current = el\n    }\n\n    // Handlers\n    const handleFocus = (e: React.FocusEvent\u003cHTMLTextAreaElement\u003e) =\u003e {\n      setIsFocused(true)\n      props.onFocus?.(e)\n    }\n\n    const handleBlur = (e: React.FocusEvent\u003cHTMLTextAreaElement\u003e) =\u003e {\n      setIsFocused(false)\n      props.onBlur?.(e)\n    }\n\n    const handleChange = (e: React.ChangeEvent\u003cHTMLTextAreaElement\u003e) =\u003e {\n      setCharCount(e.target.value.length)\n      props.onChange?.(e)\n    }\n\n    // Efecto para sincronizar con valor externo\n    React.useEffect(() =\u003e {\n      if (props.value !== undefined) {\n        setCharCount(String(props.value).length)\n      }\n    }, [props.value])\n\n    // Determinar color del contador\n    const getCounterColor = () =\u003e {\n      if (!props.maxLength) return \"text-muted-foreground\"\n      if (charCount === props.maxLength) return \"text-green-500\"\n      if (charCount \u003e props.maxLength) return \"text-red-500\"\n      if (charCount \u003e= props.maxLength * 0.8) return \"text-amber-500\"\n      return \"text-muted-foreground\"\n    }\n\n    return (\n      \u003cdiv className=\"w-full\"\u003e\n        \u003cdiv className=\"relative\"\u003e\n          {/* Contenedor con borde personalizado */}\n          \u003cdiv\n            className={cn(\n              \"relative rounded-md transition-all duration-200\",\n              error ? \"ring-2 ring-red-500\" : isFocused ? \"ring-2 ring-blue-500\" : \"ring-1 ring-gray-300\",\n              isFocused \u0026\u0026 !error \u0026\u0026 \"shadow-[0_0_0_4px_rgba(59,130,246,0.25)]\",\n              error \u0026\u0026 \"shadow-[0_0_0_4px_rgba(239,68,68,0.25)]\",\n            )}\n          \u003e\n            \u003ctextarea\n              {...props}\n              ref={handleRef}\n              className={cn(\n                \"w-full min-h-[80px] px-3 py-2 bg-transparent border-0 outline-none text-sm resize-y\",\n                error \u0026\u0026 \"text-red-900 placeholder:text-red-400\",\n                className,\n              )}\n              onFocus={handleFocus}\n              onBlur={handleBlur}\n              onChange={handleChange}\n            /\u003e\n          \u003c/div\u003e\n\n          {/* Icono de error */}\n          {error \u0026\u0026 (\n            \u003cdiv className=\"absolute right-3 top-3\"\u003e\n              \u003cAlertCircle className=\"h-4 w-4 text-red-500\" /\u003e\n            \u003c/div\u003e\n          )}\n        \u003c/div\u003e\n\n        {/* Área de mensajes y contador */}\n        \u003cdiv className=\"mt-1.5 flex justify-between text-xs\"\u003e\n          \u003cAnimatePresence mode=\"wait\"\u003e\n            {(error || hint) \u0026\u0026 (\n              \u003cmotion.div\n                initial={{ opacity: 0, y: -5 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: -5 }}\n                className={cn(\"text-xs\", error ? \"text-red-500\" : \"text-muted-foreground\")}\n              \u003e\n                {error || hint}\n              \u003c/motion.div\u003e\n            )}\n          \u003c/AnimatePresence\u003e\n\n          {/* Contador de caracteres */}\n          {showCharacterCount \u0026\u0026 props.maxLength \u0026\u0026 (\n            \u003cdiv className={cn(\"ml-auto text-xs\", getCounterColor())}\u003e\n              {charCount}/{props.maxLength}\n            \u003c/div\u003e\n          )}\n        \u003c/div\u003e\n      \u003c/div\u003e\n    )\n  },\n)\n\nCustomTextarea.displayName = \"CustomTextarea\"\n\nexport { CustomTextarea }\n"])</script><script>self.__next_f.push([1,"75:T2b68,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { zodResolver } from \"@hookform/resolvers/zod\"\nimport { useForm } from \"react-hook-form\"\nimport { z } from \"zod\"\nimport { Button } from \"@/components/ui/button\"\nimport { Form, FormControl, FormDescription, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { crearEntrevista } from \"@/app/actions/entrevistas-actions\"\nimport { toast } from \"sonner\"\nimport type { Entrevista, Fundacion, Entrevistado, Investigador } from \"@/types/supabase\"\n\nconst entrevistaSchema = z.object({\n  codigo_entrevista: z.string().min(2, {\n    message: \"El código debe tener al menos 2 caracteres\",\n  }),\n  fundacion_id: z.number({\n    required_error: \"Debes seleccionar una fundación\",\n    invalid_type_error: \"Debes seleccionar una fundación\",\n  }),\n  entrevistado_id: z.number({\n    required_error: \"Debes seleccionar un entrevistado\",\n    invalid_type_error: \"Debes seleccionar un entrevistado\",\n  }),\n  investigador_id: z\n    .number({\n      required_error: \"Debes seleccionar un investigador\",\n      invalid_type_error: \"Debes seleccionar un investigador\",\n    })\n    .optional(),\n  numero_entrevista: z\n    .number({\n      required_error: \"Debes ingresar el número de entrevista\",\n      invalid_type_error: \"Debes ingresar un número válido\",\n    })\n    .int()\n    .positive(),\n  fecha_entrevista: z.string().optional(),\n  duracion: z.number().optional(),\n  notas: z.string().optional(),\n})\n\ntype EntrevistaFormValues = z.infer\u003ctypeof entrevistaSchema\u003e\n\ninterface EntrevistaFormProps {\n  entrevista?: Entrevista\n  fundaciones: Fundacion[]\n  entrevistados: Entrevistado[]\n  investigadores: Investigador[]\n}\n\nexport function EntrevistaForm({ entrevista, fundaciones, entrevistados, investigadores }: EntrevistaFormProps) {\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const router = useRouter()\n  const isEditing = !!entrevista\n\n  // Filtrar entrevistados por fundación seleccionada\n  const [selectedFundacionId, setSelectedFundacionId] = useState\u003cnumber | undefined\u003e(\n    entrevista?.fundacion_id || undefined,\n  )\n\n  const filteredEntrevistados = selectedFundacionId\n    ? entrevistados.filter((e) =\u003e e.fundacion_id === selectedFundacionId)\n    : entrevistados\n\n  const form = useForm\u003cEntrevistaFormValues\u003e({\n    resolver: zodResolver(entrevistaSchema),\n    defaultValues: {\n      codigo_entrevista: entrevista?.codigo_entrevista || \"\",\n      fundacion_id: entrevista?.fundacion_id || undefined,\n      entrevistado_id: entrevista?.entrevistado_id || undefined,\n      investigador_id: entrevista?.investigador_id || undefined,\n      numero_entrevista: entrevista?.numero_entrevista || undefined,\n      fecha_entrevista: entrevista?.fecha_entrevista || \"\",\n      duracion: entrevista?.duracion || undefined,\n      notas: entrevista?.notas || \"\",\n    },\n  })\n\n  async function onSubmit(data: EntrevistaFormValues) {\n    setIsSubmitting(true)\n    try {\n      const result = await crearEntrevista(data)\n\n      if (result.error) {\n        toast.error(result.error)\n      } else {\n        toast.success(\"Entrevista creada correctamente\")\n        router.push(\"/entrevistas\")\n        router.refresh()\n      }\n    } catch (error) {\n      toast.error(\"Error al crear la entrevista\")\n      console.error(error)\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  return (\n    \u003cForm {...form}\u003e\n      \u003cform onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\"\u003e\n        \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n          \u003cFormField\n            control={form.control}\n            name=\"codigo_entrevista\"\n            render={({ field }) =\u003e (\n              \u003cFormItem\u003e\n                \u003cFormLabel\u003eCódigo de Entrevista\u003c/FormLabel\u003e\n                \u003cFormControl\u003e\n                  \u003cInput placeholder=\"ENT001\" {...field} /\u003e\n                \u003c/FormControl\u003e\n                \u003cFormDescription\u003eCódigo único para identificar la entrevista\u003c/FormDescription\u003e\n                \u003cFormMessage /\u003e\n              \u003c/FormItem\u003e\n            )}\n          /\u003e\n\n          \u003cFormField\n            control={form.control}\n            name=\"numero_entrevista\"\n            render={({ field }) =\u003e (\n              \u003cFormItem\u003e\n                \u003cFormLabel\u003eNúmero de Entrevista\u003c/FormLabel\u003e\n                \u003cFormControl\u003e\n                  \u003cInput\n                    type=\"number\"\n                    placeholder=\"1\"\n                    {...field}\n                    onChange={(e) =\u003e field.onChange(e.target.value ? Number.parseInt(e.target.value) : undefined)}\n                  /\u003e\n                \u003c/FormControl\u003e\n                \u003cFormDescription\u003eNúmero secuencial de la entrevista\u003c/FormDescription\u003e\n                \u003cFormMessage /\u003e\n              \u003c/FormItem\u003e\n            )}\n          /\u003e\n        \u003c/div\u003e\n\n        \u003cFormField\n          control={form.control}\n          name=\"fundacion_id\"\n          render={({ field }) =\u003e (\n            \u003cFormItem\u003e\n              \u003cFormLabel\u003eFundación\u003c/FormLabel\u003e\n              \u003cSelect\n                onValueChange={(value) =\u003e {\n                  const numValue = Number.parseInt(value)\n                  field.onChange(numValue)\n                  setSelectedFundacionId(numValue)\n                  // Reset entrevistado selection when fundacion changes\n                  form.setValue(\"entrevistado_id\", undefined as any)\n                }}\n                defaultValue={field.value?.toString()}\n              \u003e\n                \u003cFormControl\u003e\n                  \u003cSelectTrigger\u003e\n                    \u003cSelectValue placeholder=\"Selecciona una fundación\" /\u003e\n                  \u003c/SelectTrigger\u003e\n                \u003c/FormControl\u003e\n                \u003cSelectContent\u003e\n                  {fundaciones.map((fundacion) =\u003e (\n                    \u003cSelectItem key={fundacion.id} value={fundacion.id.toString()}\u003e\n                      {fundacion.codigo} - {fundacion.nombre}\n                    \u003c/SelectItem\u003e\n                  ))}\n                \u003c/SelectContent\u003e\n              \u003c/Select\u003e\n              \u003cFormDescription\u003eFundación relacionada con la entrevista\u003c/FormDescription\u003e\n              \u003cFormMessage /\u003e\n            \u003c/FormItem\u003e\n          )}\n        /\u003e\n\n        \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n          \u003cFormField\n            control={form.control}\n            name=\"entrevistado_id\"\n            render={({ field }) =\u003e (\n              \u003cFormItem\u003e\n                \u003cFormLabel\u003eEntrevistado\u003c/FormLabel\u003e\n                \u003cSelect\n                  onValueChange={(value) =\u003e field.onChange(Number.parseInt(value))}\n                  defaultValue={field.value?.toString()}\n                  disabled={!selectedFundacionId}\n                \u003e\n                  \u003cFormControl\u003e\n                    \u003cSelectTrigger\u003e\n                      \u003cSelectValue\n                        placeholder={\n                          selectedFundacionId ? \"Selecciona un entrevistado\" : \"Primero selecciona una fundación\"\n                        }\n                      /\u003e\n                    \u003c/SelectTrigger\u003e\n                  \u003c/FormControl\u003e\n                  \u003cSelectContent\u003e\n                    {filteredEntrevistados.map((entrevistado) =\u003e (\n                      \u003cSelectItem key={entrevistado.id} value={entrevistado.id.toString()}\u003e\n                        {entrevistado.codigo} - {entrevistado.nombre} {entrevistado.apellido}\n                      \u003c/SelectItem\u003e\n                    ))}\n                  \u003c/SelectContent\u003e\n                \u003c/Select\u003e\n                \u003cFormDescription\u003ePersona entrevistada\u003c/FormDescription\u003e\n                \u003cFormMessage /\u003e\n              \u003c/FormItem\u003e\n            )}\n          /\u003e\n\n          \u003cFormField\n            control={form.control}\n            name=\"investigador_id\"\n            render={({ field }) =\u003e (\n              \u003cFormItem\u003e\n                \u003cFormLabel\u003eInvestigador\u003c/FormLabel\u003e\n                \u003cSelect\n                  onValueChange={(value) =\u003e field.onChange(Number.parseInt(value))}\n                  defaultValue={field.value?.toString()}\n                \u003e\n                  \u003cFormControl\u003e\n                    \u003cSelectTrigger\u003e\n                      \u003cSelectValue placeholder=\"Selecciona un investigador\" /\u003e\n                    \u003c/SelectTrigger\u003e\n                  \u003c/FormControl\u003e\n                  \u003cSelectContent\u003e\n                    {investigadores.map((investigador) =\u003e (\n                      \u003cSelectItem key={investigador.id} value={investigador.id.toString()}\u003e\n                        {investigador.codigo} - {investigador.nombre} {investigador.apellido}\n                      \u003c/SelectItem\u003e\n                    ))}\n                  \u003c/SelectContent\u003e\n                \u003c/Select\u003e\n                \u003cFormDescription\u003eInvestigador que realizó la entrevista\u003c/FormDescription\u003e\n                \u003cFormMessage /\u003e\n              \u003c/FormItem\u003e\n            )}\n          /\u003e\n        \u003c/div\u003e\n\n        \u003cFormField\n          control={form.control}\n          name=\"fecha_entrevista\"\n          render={({ field }) =\u003e (\n            \u003cFormItem\u003e\n              \u003cFormLabel\u003eFecha de Entrevista\u003c/FormLabel\u003e\n              \u003cFormControl\u003e\n                \u003cInput type=\"date\" {...field} /\u003e\n              \u003c/FormControl\u003e\n              \u003cFormDescription\u003eFecha en que se realizó la entrevista (opcional)\u003c/FormDescription\u003e\n              \u003cFormMessage /\u003e\n            \u003c/FormItem\u003e\n          )}\n        /\u003e\n\n        \u003cFormField\n          control={form.control}\n          name=\"duracion\"\n          render={({ field }) =\u003e (\n            \u003cFormItem\u003e\n              \u003cFormLabel\u003eDuración (minutos)\u003c/FormLabel\u003e\n              \u003cFormControl\u003e\n                \u003cInput\n                  type=\"number\"\n                  placeholder=\"60\"\n                  {...field}\n                  onChange={(e) =\u003e field.onChange(e.target.value ? Number.parseInt(e.target.value) : undefined)}\n                /\u003e\n              \u003c/FormControl\u003e\n              \u003cFormDescription\u003eDuración de la entrevista en minutos (opcional)\u003c/FormDescription\u003e\n              \u003cFormMessage /\u003e\n            \u003c/FormItem\u003e\n          )}\n        /\u003e\n\n        \u003cFormField\n          control={form.control}\n          name=\"notas\"\n          render={({ field }) =\u003e (\n            \u003cFormItem\u003e\n              \u003cFormLabel\u003eNotas\u003c/FormLabel\u003e\n              \u003cFormControl\u003e\n                \u003cTextarea placeholder=\"Notas adicionales sobre la entrevista...\" className=\"min-h-[120px]\" {...field} /\u003e\n              \u003c/FormControl\u003e\n              \u003cFormDescription\u003eInformación adicional sobre la entrevista (opcional)\u003c/FormDescription\u003e\n              \u003cFormMessage /\u003e\n            \u003c/FormItem\u003e\n          )}\n        /\u003e\n\n        \u003cdiv className=\"flex justify-end space-x-4\"\u003e\n          \u003cButton type=\"button\" variant=\"outline\" onClick={() =\u003e router.push(\"/entrevistas\")} disabled={isSubmitting}\u003e\n            Cancelar\n          \u003c/Button\u003e\n          \u003cButton type=\"submit\" disabled={isSubmitting}\u003e\n            {isSubmitting ? \"Guardando...\" : \"Guardar Entrevista\"}\n          \u003c/Button\u003e\n        \u003c/div\u003e\n      \u003c/form\u003e\n    \u003c/Form\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"76:T2f48,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { zodResolver } from \"@hookform/resolvers/zod\"\nimport { useForm } from \"react-hook-form\"\nimport { z } from \"zod\"\nimport { Button } from \"@/components/ui/button\"\nimport { Form, FormControl, FormDescription, FormField, FormItem, FormLabel } from \"@/components/ui/form\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { useState, useEffect } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { crearEntrevistado, actualizarEntrevistado } from \"@/app/actions/entrevistados-actions\"\nimport { toast } from \"sonner\"\nimport type { Entrevistado, Fundacion } from \"@/types/supabase\"\nimport { Select } from \"@/components/ui/select.sai\"\n\nconst entrevistadoSchema = z.object({\n  codigo: z\n    .string()\n    .length(2, {\n      message: \"El código debe tener exactamente 2 caracteres\",\n    })\n    .toUpperCase(),\n  nombre: z.string().min(2, {\n    message: \"El nombre debe tener al menos 2 caracteres\",\n  }),\n  apellido: z.string().min(2, {\n    message: \"El apellido debe tener al menos 2 caracteres\",\n  }),\n  cargo: z.string().optional(),\n  fundacion_id: z.number({\n    required_error: \"Debes seleccionar una institución\",\n    invalid_type_error: \"Debes seleccionar una institución\",\n  }),\n  contacto: z.string().optional(),\n  notas: z.string().optional(),\n})\n\ntype EntrevistadoFormValues = z.infer\u003ctypeof entrevistadoSchema\u003e\n\ninterface EntrevistadoFormProps {\n  entrevistado?: Entrevistado\n  fundaciones: Fundacion[]\n}\n\nexport function EntrevistadoForm({ entrevistado, fundaciones }: EntrevistadoFormProps) {\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [formSubmitted, setFormSubmitted] = useState(false)\n  const router = useRouter()\n  const isEditing = !!entrevistado\n\n  // Calcular la altura disponible para el select\n  useEffect(() =\u003e {\n    const calculateSelectHeight = () =\u003e {\n      const viewportHeight = window.innerHeight\n      const selectElements = document.querySelectorAll(\".select-trigger\")\n\n      selectElements.forEach((selectEl) =\u003e {\n        const rect = selectEl.getBoundingClientRect()\n        const topPosition = rect.top\n        const availableHeight = viewportHeight - topPosition - 40 // 40px de padding\n\n        // Establecer una variable CSS personalizada con la altura disponible\n        document.documentElement.style.setProperty(\n          \"--radix-select-content-available-height\",\n          `${Math.min(300, availableHeight)}px`,\n        )\n      })\n    }\n\n    // Calcular al montar y cuando cambie el tamaño de la ventana\n    calculateSelectHeight()\n    window.addEventListener(\"resize\", calculateSelectHeight)\n\n    return () =\u003e {\n      window.removeEventListener(\"resize\", calculateSelectHeight)\n    }\n  }, [])\n\n  const form = useForm\u003cEntrevistadoFormValues\u003e({\n    resolver: zodResolver(entrevistadoSchema),\n    defaultValues: {\n      codigo: entrevistado?.codigo || \"\",\n      nombre: entrevistado?.nombre || \"\",\n      apellido: entrevistado?.apellido || \"\",\n      cargo: entrevistado?.cargo || \"\",\n      fundacion_id: entrevistado?.fundacion_id || undefined,\n      contacto: entrevistado?.contacto || \"\",\n      notas: entrevistado?.notas || \"\",\n    },\n  })\n\n  const formErrors = form.formState.errors\n\n  async function onSubmit(data: EntrevistadoFormValues) {\n    setIsSubmitting(true)\n    setFormSubmitted(true)\n    try {\n      let result\n\n      if (isEditing \u0026\u0026 entrevistado) {\n        result = await actualizarEntrevistado(entrevistado.id, data)\n      } else {\n        result = await crearEntrevistado(data)\n      }\n\n      if (result.error) {\n        toast.error(result.error)\n        setIsSubmitting(false)\n      } else {\n        toast.success(isEditing ? \"Entrevistado actualizado correctamente\" : \"Entrevistado creado correctamente\")\n\n        // Intentamos la redirección con el router de Next.js\n        try {\n          // Usamos setTimeout para dar tiempo al toast para mostrarse\n          setTimeout(() =\u003e {\n            router.push(\"/entrevistados\")\n            router.refresh()\n          }, 800)\n        } catch (e) {\n          console.error(\"Error en router.push:\", e)\n          // Como fallback, usamos window.location\n          setTimeout(() =\u003e {\n            window.location.href = \"/entrevistados\"\n          }, 1000)\n        }\n      }\n    } catch (error) {\n      toast.error(isEditing ? \"Error al actualizar el entrevistado\" : \"Error al crear el entrevistado\")\n      console.error(error)\n      setIsSubmitting(false)\n    }\n  }\n\n  // Función para forzar la redirección en caso de problemas con el router\n  const forceRedirect = (path: string) =\u003e {\n    try {\n      router.push(path)\n      router.refresh()\n    } catch (e) {\n      console.error(\"Error en redirección:\", e)\n      window.location.href = path\n    }\n  }\n\n  // Estilos para los labels con foco\n  const labelStyles = `\n    .custom-form-item:focus-within .custom-form-label {\n      color: hsl(var(--primary));\n    }\n    \n    /* Ocultar los mensajes de error que vienen del FormMessage */\n    .hide-form-message {\n      display: none !important;\n    }\n  `\n\n  return (\n    \u003c\u003e\n      \u003cstyle jsx global\u003e\n        {labelStyles}\n      \u003c/style\u003e\n      \u003cForm {...form}\u003e\n        \u003cform onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\"\u003e\n          \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n            \u003cFormField\n              control={form.control}\n              name=\"codigo\"\n              render={({ field }) =\u003e (\n                \u003cFormItem className=\"custom-form-item\"\u003e\n                  \u003cFormLabel className=\"custom-form-label\"\u003eCódigo\u003c/FormLabel\u003e\n                  \u003cFormControl\u003e\n                    \u003cInput\n                      placeholder=\"GS\"\n                      {...field}\n                      onChange={(e) =\u003e field.onChange(e.target.value.toUpperCase())}\n                      maxLength={2}\n                      showCharacterCount\n                      error={formErrors.codigo?.message}\n                      isEditing={isEditing}\n                    /\u003e\n                  \u003c/FormControl\u003e\n                  \u003cFormDescription\u003eCódigo de 2 caracteres para identificar al entrevistado\u003c/FormDescription\u003e\n                  {/* Ocultamos el FormMessage */}\n                  \u003cdiv className=\"hide-form-message\"\u003e{formErrors.codigo?.message}\u003c/div\u003e\n                \u003c/FormItem\u003e\n              )}\n            /\u003e\n\n            \u003cFormField\n              control={form.control}\n              name=\"fundacion_id\"\n              render={({ field }) =\u003e (\n                \u003cFormItem className=\"custom-form-item\"\u003e\n                  \u003cFormLabel className=\"custom-form-label\"\u003eInstitución\u003c/FormLabel\u003e\n                  \u003cFormControl\u003e\n                    \u003cSelect\n                      options={fundaciones.map((fundacion) =\u003e ({\n                        value: fundacion.id.toString(),\n                        label: `${fundacion.codigo} - ${fundacion.nombre}`,\n                      }))}\n                      value={field.value?.toString()}\n                      onChange={(value) =\u003e field.onChange(Number.parseInt(value as string))}\n                      placeholder=\"Selecciona una institución\"\n                      variant={formErrors.fundacion_id?.message ? \"error\" : isEditing ? \"editing\" : \"default\"}\n                      error={formErrors.fundacion_id?.message}\n                    /\u003e\n                  \u003c/FormControl\u003e\n                  \u003cFormDescription\u003eInstitución a la que pertenece el entrevistado\u003c/FormDescription\u003e\n                  {formErrors.fundacion_id?.message \u0026\u0026 (\n                    \u003cdiv className=\"text-xs text-red-500 mt-1\"\u003e{formErrors.fundacion_id?.message}\u003c/div\u003e\n                  )}\n                \u003c/FormItem\u003e\n              )}\n            /\u003e\n          \u003c/div\u003e\n\n          \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n            \u003cFormField\n              control={form.control}\n              name=\"nombre\"\n              render={({ field }) =\u003e (\n                \u003cFormItem className=\"custom-form-item\"\u003e\n                  \u003cFormLabel className=\"custom-form-label\"\u003eNombre\u003c/FormLabel\u003e\n                  \u003cFormControl\u003e\n                    \u003cInput placeholder=\"Gerardo\" {...field} error={formErrors.nombre?.message} isEditing={isEditing} /\u003e\n                  \u003c/FormControl\u003e\n                  \u003cdiv className=\"hide-form-message\"\u003e{formErrors.nombre?.message}\u003c/div\u003e\n                \u003c/FormItem\u003e\n              )}\n            /\u003e\n\n            \u003cFormField\n              control={form.control}\n              name=\"apellido\"\n              render={({ field }) =\u003e (\n                \u003cFormItem className=\"custom-form-item\"\u003e\n                  \u003cFormLabel className=\"custom-form-label\"\u003eApellido\u003c/FormLabel\u003e\n                  \u003cFormControl\u003e\n                    \u003cInput\n                      placeholder=\"Santibáñez\"\n                      {...field}\n                      error={formErrors.apellido?.message}\n                      isEditing={isEditing}\n                    /\u003e\n                  \u003c/FormControl\u003e\n                  \u003cdiv className=\"hide-form-message\"\u003e{formErrors.apellido?.message}\u003c/div\u003e\n                \u003c/FormItem\u003e\n              )}\n            /\u003e\n          \u003c/div\u003e\n\n          \u003cFormField\n            control={form.control}\n            name=\"cargo\"\n            render={({ field }) =\u003e (\n              \u003cFormItem className=\"custom-form-item\"\u003e\n                \u003cFormLabel className=\"custom-form-label\"\u003eCargo\u003c/FormLabel\u003e\n                \u003cFormControl\u003e\n                  \u003cInput\n                    placeholder=\"Director Ejecutivo\"\n                    {...field}\n                    error={formErrors.cargo?.message}\n                    isEditing={isEditing}\n                  /\u003e\n                \u003c/FormControl\u003e\n                \u003cFormDescription\u003eCargo o posición del entrevistado (opcional)\u003c/FormDescription\u003e\n                \u003cdiv className=\"hide-form-message\"\u003e{formErrors.cargo?.message}\u003c/div\u003e\n              \u003c/FormItem\u003e\n            )}\n          /\u003e\n\n          \u003cFormField\n            control={form.control}\n            name=\"contacto\"\n            render={({ field }) =\u003e (\n              \u003cFormItem className=\"custom-form-item\"\u003e\n                \u003cFormLabel className=\"custom-form-label\"\u003eContacto\u003c/FormLabel\u003e\n                \u003cFormControl\u003e\n                  \u003cInput\n                    placeholder=\"email@ejemplo.com / +56 9 1234 5678\"\n                    {...field}\n                    error={formErrors.contacto?.message}\n                    isEditing={isEditing}\n                  /\u003e\n                \u003c/FormControl\u003e\n                \u003cFormDescription\u003eInformación de contacto del entrevistado (opcional)\u003c/FormDescription\u003e\n                \u003cdiv className=\"hide-form-message\"\u003e{formErrors.contacto?.message}\u003c/div\u003e\n              \u003c/FormItem\u003e\n            )}\n          /\u003e\n\n          \u003cFormField\n            control={form.control}\n            name=\"notas\"\n            render={({ field }) =\u003e (\n              \u003cFormItem className=\"custom-form-item\"\u003e\n                \u003cFormLabel className=\"custom-form-label\"\u003eNotas\u003c/FormLabel\u003e\n                \u003cFormControl\u003e\n                  \u003cTextarea\n                    placeholder=\"Notas adicionales sobre el entrevistado...\"\n                    className=\"min-h-[120px]\"\n                    {...field}\n                    error={formErrors.notas?.message}\n                    isEditing={isEditing}\n                    showCharacterCount\n                  /\u003e\n                \u003c/FormControl\u003e\n                \u003cFormDescription\u003eInformación adicional sobre el entrevistado (opcional)\u003c/FormDescription\u003e\n                \u003cdiv className=\"hide-form-message\"\u003e{formErrors.notas?.message}\u003c/div\u003e\n              \u003c/FormItem\u003e\n            )}\n          /\u003e\n\n          \u003cdiv className=\"flex justify-end space-x-4\"\u003e\n            \u003cButton\n              type=\"button\"\n              variant=\"outline\"\n              onClick={() =\u003e forceRedirect(\"/entrevistados\")}\n              disabled={isSubmitting}\n            \u003e\n              Cancelar\n            \u003c/Button\u003e\n            \u003cButton type=\"submit\" disabled={isSubmitting}\u003e\n              {isSubmitting ? \"Guardando...\" : isEditing ? \"Actualizar Entrevistado\" : \"Guardar Entrevistado\"}\n            \u003c/Button\u003e\n          \u003c/div\u003e\n        \u003c/form\u003e\n      \u003c/Form\u003e\n    \u003c/\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"77:Ta8e,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport type React from \"react\"\n\nimport { useState } from \"react\"\nimport { CustomInput } from \"./custom-input\"\nimport { CustomTextarea } from \"./custom-textarea\"\nimport { Building, Mail } from \"lucide-react\"\n\nexport function ExampleForm() {\n  const [formData, setFormData] = useState({\n    code: \"\",\n    name: \"\",\n    email: \"\",\n    description: \"\",\n  })\n\n  const handleChange = (e: React.ChangeEvent\u003cHTMLInputElement | HTMLTextAreaElement\u003e) =\u003e {\n    const { name, value } = e.target\n    setFormData((prev) =\u003e ({ ...prev, [name]: value }))\n  }\n\n  return (\n    \u003cdiv className=\"space-y-6 max-w-2xl mx-auto p-6\"\u003e\n      \u003ch2 className=\"text-2xl font-bold\"\u003eFormulario de ejemplo\u003c/h2\u003e\n\n      \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n        \u003cdiv\u003e\n          \u003clabel htmlFor=\"code\" className=\"block text-sm font-medium mb-1\"\u003e\n            Código\n          \u003c/label\u003e\n          \u003cCustomInput\n            id=\"code\"\n            name=\"code\"\n            placeholder=\"Ej: FR\"\n            value={formData.code}\n            onChange={handleChange}\n            leadingIcon={\u003cBuilding className=\"h-4 w-4\" /\u003e}\n            hint=\"Código de 2 caracteres para identificar la institución\"\n            maxLength={2}\n            showCharacterCount\n          /\u003e\n        \u003c/div\u003e\n\n        \u003cdiv\u003e\n          \u003clabel htmlFor=\"name\" className=\"block text-sm font-medium mb-1\"\u003e\n            Nombre\n          \u003c/label\u003e\n          \u003cCustomInput\n            id=\"name\"\n            name=\"name\"\n            placeholder=\"Ej: Fundación Las Rosas\"\n            value={formData.name}\n            onChange={handleChange}\n            hint=\"Nombre completo de la institución\"\n          /\u003e\n        \u003c/div\u003e\n\n        \u003cdiv\u003e\n          \u003clabel htmlFor=\"email\" className=\"block text-sm font-medium mb-1\"\u003e\n            Email\n          \u003c/label\u003e\n          \u003cCustomInput\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            placeholder=\"correo@ejemplo.com\"\n            value={formData.email}\n            onChange={handleChange}\n            leadingIcon={\u003cMail className=\"h-4 w-4\" /\u003e}\n            error={formData.email \u0026\u0026 !formData.email.includes(\"@\") ? \"Email inválido\" : undefined}\n          /\u003e\n        \u003c/div\u003e\n\n        \u003cdiv className=\"md:col-span-2\"\u003e\n          \u003clabel htmlFor=\"description\" className=\"block text-sm font-medium mb-1\"\u003e\n            Descripción\n          \u003c/label\u003e\n          \u003cCustomTextarea\n            id=\"description\"\n            name=\"description\"\n            placeholder=\"Describe la institución...\"\n            value={formData.description}\n            onChange={handleChange}\n            maxLength={200}\n            showCharacterCount\n          /\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"78:T1c35,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { zodResolver } from \"@hookform/resolvers/zod\"\nimport { useForm } from \"react-hook-form\"\nimport { z } from \"zod\"\nimport { Button } from \"@/components/ui/button\"\nimport { Form, FormControl, FormDescription, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Checkbox } from \"@/components/ui/checkbox\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport {\n  crearExpresionPermitida,\n  actualizarExpresionPermitida,\n  type ExpresionPermitida,\n} from \"@/app/actions/expresiones-permitidas-actions\"\nimport { toast } from \"sonner\"\n\nconst expresionPermitidaSchema = z.object({\n  expresion_original: z.string().min(1, {\n    message: \"La expresión original es obligatoria\",\n  }),\n  normalizaciones_esperadas_text: z.string().min(1, {\n    message: \"Debes ingresar al menos una normalización esperada\",\n  }),\n  es_permitida_como_normalizacion: z.boolean().default(false),\n  idioma: z.string().min(1, {\n    message: \"Debes seleccionar un idioma\",\n  }),\n})\n\ntype ExpresionPermitidaFormValues = z.infer\u003ctypeof expresionPermitidaSchema\u003e\n\ninterface ExpresionPermitidaFormProps {\n  expresion?: ExpresionPermitida\n}\n\nexport function ExpresionPermitidaForm({ expresion }: ExpresionPermitidaFormProps) {\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const router = useRouter()\n  const isEditing = !!expresion\n\n  const form = useForm\u003cExpresionPermitidaFormValues\u003e({\n    resolver: zodResolver(expresionPermitidaSchema),\n    defaultValues: {\n      expresion_original: expresion?.expresion_original || \"\",\n      normalizaciones_esperadas_text: expresion?.normalizaciones_esperadas\n        ? expresion.normalizaciones_esperadas.join(\", \")\n        : \"\",\n      es_permitida_como_normalizacion: expresion?.es_permitida_como_normalizacion || false,\n      idioma: expresion?.idioma || \"es-ES\",\n    },\n  })\n\n  async function onSubmit(data: ExpresionPermitidaFormValues) {\n    setIsSubmitting(true)\n    try {\n      // Convertir el texto de normalizaciones a un array\n      const normalizaciones_esperadas = data.normalizaciones_esperadas_text\n        .split(\",\")\n        .map((item) =\u003e item.trim())\n        .filter((item) =\u003e item.length \u003e 0)\n\n      const expresionData = {\n        expresion_original: data.expresion_original,\n        normalizaciones_esperadas,\n        es_permitida_como_normalizacion: data.es_permitida_como_normalizacion,\n        idioma: data.idioma,\n      }\n\n      let result\n\n      if (isEditing \u0026\u0026 expresion) {\n        result = await actualizarExpresionPermitida(expresion.id!, expresionData)\n      } else {\n        result = await crearExpresionPermitida(expresionData)\n      }\n\n      if (result.error) {\n        toast.error(result.error)\n      } else {\n        toast.success(\n          isEditing ? \"Expresi��n permitida actualizada correctamente\" : \"Expresión permitida creada correctamente\",\n        )\n        router.push(\"/configuracion/expresiones-permitidas\")\n        router.refresh()\n      }\n    } catch (error) {\n      toast.error(isEditing ? \"Error al actualizar la expresión\" : \"Error al crear la expresión\")\n      console.error(error)\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  return (\n    \u003cForm {...form}\u003e\n      \u003cform onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\"\u003e\n        \u003cFormField\n          control={form.control}\n          name=\"expresion_original\"\n          render={({ field }) =\u003e (\n            \u003cFormItem\u003e\n              \u003cFormLabel\u003eExpresión Original\u003c/FormLabel\u003e\n              \u003cFormControl\u003e\n                \u003cInput placeholder=\"sí\" {...field} /\u003e\n              \u003c/FormControl\u003e\n              \u003cFormDescription\u003e\n                Texto original corto que debe ser normalizado (ej: \"sí\", \"no\", \"hmm\", etc.)\n              \u003c/FormDescription\u003e\n              \u003cFormMessage /\u003e\n            \u003c/FormItem\u003e\n          )}\n        /\u003e\n\n        \u003cFormField\n          control={form.control}\n          name=\"normalizaciones_esperadas_text\"\n          render={({ field }) =\u003e (\n            \u003cFormItem\u003e\n              \u003cFormLabel\u003eNormalizaciones Esperadas\u003c/FormLabel\u003e\n              \u003cFormControl\u003e\n                \u003cTextarea\n                  placeholder=\"Afirmación, Respuesta afirmativa, Confirma\"\n                  className=\"min-h-[100px]\"\n                  {...field}\n                /\u003e\n              \u003c/FormControl\u003e\n              \u003cFormDescription\u003e\n                Lista de posibles normalizaciones separadas por comas (ej: \"Afirmación, Respuesta afirmativa, Confirma\")\n              \u003c/FormDescription\u003e\n              \u003cFormMessage /\u003e\n            \u003c/FormItem\u003e\n          )}\n        /\u003e\n\n        \u003cFormField\n          control={form.control}\n          name=\"idioma\"\n          render={({ field }) =\u003e (\n            \u003cFormItem\u003e\n              \u003cFormLabel\u003eIdioma\u003c/FormLabel\u003e\n              \u003cSelect onValueChange={field.onChange} defaultValue={field.value}\u003e\n                \u003cFormControl\u003e\n                  \u003cSelectTrigger\u003e\n                    \u003cSelectValue placeholder=\"Selecciona un idioma\" /\u003e\n                  \u003c/SelectTrigger\u003e\n                \u003c/FormControl\u003e\n                \u003cSelectContent\u003e\n                  \u003cSelectItem value=\"es-ES\"\u003eEspañol (España)\u003c/SelectItem\u003e\n                  \u003cSelectItem value=\"es-MX\"\u003eEspañol (México)\u003c/SelectItem\u003e\n                  \u003cSelectItem value=\"es-CL\"\u003eEspañol (Chile)\u003c/SelectItem\u003e\n                  \u003cSelectItem value=\"en-US\"\u003eInglés (Estados Unidos)\u003c/SelectItem\u003e\n                \u003c/SelectContent\u003e\n              \u003c/Select\u003e\n              \u003cFormDescription\u003e\n                Idioma al que aplica esta expresión. Cada variante de idioma se trata como un idioma separado.\n              \u003c/FormDescription\u003e\n              \u003cFormMessage /\u003e\n            \u003c/FormItem\u003e\n          )}\n        /\u003e\n\n        \u003cFormField\n          control={form.control}\n          name=\"es_permitida_como_normalizacion\"\n          render={({ field }) =\u003e (\n            \u003cFormItem className=\"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4\"\u003e\n              \u003cFormControl\u003e\n                \u003cCheckbox checked={field.value} onCheckedChange={field.onChange} /\u003e\n              \u003c/FormControl\u003e\n              \u003cdiv className=\"space-y-1 leading-none\"\u003e\n                \u003cFormLabel\u003ePermitida como normalización\u003c/FormLabel\u003e\n                \u003cFormDescription\u003e\n                  Si está marcado, esta expresión puede usarse directamente como texto normalizado sin cambios (ej:\n                  \"Fin.\")\n                \u003c/FormDescription\u003e\n              \u003c/div\u003e\n            \u003c/FormItem\u003e\n          )}\n        /\u003e\n\n        \u003cdiv className=\"flex justify-end space-x-4\"\u003e\n          \u003cButton\n            type=\"button\"\n            variant=\"outline\"\n            onClick={() =\u003e router.push(\"/configuracion/expresiones-permitidas\")}\n            disabled={isSubmitting}\n          \u003e\n            Cancelar\n          \u003c/Button\u003e\n          \u003cButton type=\"submit\" disabled={isSubmitting}\u003e\n            {isSubmitting ? \"Guardando...\" : isEditing ? \"Actualizar Expresión\" : \"Guardar Expresión\"}\n          \u003c/Button\u003e\n        \u003c/div\u003e\n      \u003c/form\u003e\n    \u003c/Form\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"79:T1b1c,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { zodResolver } from \"@hookform/resolvers/zod\"\nimport { useForm } from \"react-hook-form\"\nimport { z } from \"zod\"\nimport { Button } from \"@/components/ui/button\"\nimport { Form, FormControl, FormDescription, FormField, FormItem, FormLabel } from \"@/components/ui/form\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { crearFundacion, actualizarFundacion } from \"@/app/actions/fundaciones-actions\"\nimport { toast } from \"sonner\"\nimport type { Fundacion } from \"@/types/supabase\"\nimport { Building2 } from \"lucide-react\"\n\n// Definimos un estilo personalizado para los labels que cambian de color con foco\nconst labelStyles = `\n.custom-form-item:focus-within .custom-form-label {\n  color: hsl(var(--primary));\n}\n\n/* Ocultar los mensajes de error que vienen del FormMessage */\n.hide-form-message {\n  display: none !important;\n}\n`\n\nconst fundacionSchema = z.object({\n  codigo: z\n    .string()\n    .length(2, {\n      message: \"El código debe tener exactamente 2 caracteres\",\n    })\n    .toUpperCase(),\n  nombre: z.string().min(2, {\n    message: \"El nombre debe tener al menos 2 caracteres\",\n  }),\n  descripcion: z.string().optional(),\n})\n\ntype FundacionFormValues = z.infer\u003ctypeof fundacionSchema\u003e\n\ninterface FundacionFormProps {\n  fundacion?: Fundacion\n}\n\nexport function FundacionForm({ fundacion }: FundacionFormProps) {\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [formSubmitted, setFormSubmitted] = useState(false)\n  const router = useRouter()\n  const isEditing = !!fundacion\n\n  const form = useForm\u003cFundacionFormValues\u003e({\n    resolver: zodResolver(fundacionSchema),\n    defaultValues: {\n      codigo: fundacion?.codigo || \"\",\n      nombre: fundacion?.nombre || \"\",\n      descripcion: fundacion?.descripcion || \"\",\n    },\n    mode: \"onChange\", // Validar al cambiar para mejor UX\n  })\n\n  // Obtener los errores del formulario\n  const formErrors = form.formState.errors\n\n  async function onSubmit(data: FundacionFormValues) {\n    setFormSubmitted(true)\n    setIsSubmitting(true)\n    try {\n      let result\n\n      if (isEditing \u0026\u0026 fundacion) {\n        result = await actualizarFundacion(fundacion.id, data)\n      } else {\n        result = await crearFundacion(data)\n      }\n\n      if (result.error) {\n        toast.error(result.error)\n        setIsSubmitting(false)\n      } else {\n        toast.success(isEditing ? \"Institución actualizada correctamente\" : \"Institución creada correctamente\")\n\n        // Intentamos la redirección con el router de Next.js\n        try {\n          // Usamos setTimeout para dar tiempo al toast para mostrarse\n          setTimeout(() =\u003e {\n            router.push(\"/fundaciones\")\n          }, 800)\n        } catch (e) {\n          console.error(\"Error en router.push:\", e)\n          // Como fallback, usamos window.location\n          setTimeout(() =\u003e {\n            window.location.href = \"/fundaciones\"\n          }, 1000)\n        }\n      }\n    } catch (error) {\n      toast.error(isEditing ? \"Error al actualizar la institución\" : \"Error al crear la institución\")\n      console.error(error)\n      setIsSubmitting(false)\n    }\n  }\n\n  return (\n    \u003c\u003e\n      {/* Inyectamos los estilos CSS personalizados */}\n      \u003cstyle jsx global\u003e\n        {labelStyles}\n      \u003c/style\u003e\n\n      \u003cForm {...form}\u003e\n        \u003cform onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\"\u003e\n          \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n            \u003cFormField\n              control={form.control}\n              name=\"codigo\"\n              render={({ field }) =\u003e (\n                \u003cFormItem className=\"custom-form-item\"\u003e\n                  \u003cFormLabel className=\"custom-form-label\"\u003eCódigo\u003c/FormLabel\u003e\n                  \u003cFormControl\u003e\n                    \u003cInput\n                      placeholder=\"FR\"\n                      {...field}\n                      onChange={(e) =\u003e field.onChange(e.target.value.toUpperCase())}\n                      maxLength={2}\n                      showCharacterCount\n                      error={formErrors.codigo?.message}\n                      isEditing={isEditing}\n                      leadingIcon={\u003cBuilding2 className=\"h-4 w-4\" /\u003e}\n                    /\u003e\n                  \u003c/FormControl\u003e\n                  \u003cFormDescription\u003eCódigo de 2 caracteres para identificar la institución\u003c/FormDescription\u003e\n                  {/* Ocultamos el FormMessage */}\n                  \u003cdiv className=\"hide-form-message\"\u003e{formErrors.codigo?.message}\u003c/div\u003e\n                \u003c/FormItem\u003e\n              )}\n            /\u003e\n\n            \u003cFormField\n              control={form.control}\n              name=\"nombre\"\n              render={({ field }) =\u003e (\n                \u003cFormItem className=\"custom-form-item\"\u003e\n                  \u003cFormLabel className=\"custom-form-label\"\u003eNombre\u003c/FormLabel\u003e\n                  \u003cFormControl\u003e\n                    \u003cInput\n                      placeholder=\"Las Rosas\"\n                      {...field}\n                      error={formErrors.nombre?.message}\n                      isEditing={isEditing}\n                    /\u003e\n                  \u003c/FormControl\u003e\n                  \u003cFormDescription\u003eNombre completo de la institución\u003c/FormDescription\u003e\n                  {/* Ocultamos el FormMessage */}\n                  \u003cdiv className=\"hide-form-message\"\u003e{formErrors.nombre?.message}\u003c/div\u003e\n                \u003c/FormItem\u003e\n              )}\n            /\u003e\n          \u003c/div\u003e\n\n          \u003cFormField\n            control={form.control}\n            name=\"descripcion\"\n            render={({ field }) =\u003e (\n              \u003cFormItem className=\"custom-form-item\"\u003e\n                \u003cFormLabel className=\"custom-form-label\"\u003eDescripción\u003c/FormLabel\u003e\n                \u003cFormControl\u003e\n                  \u003cTextarea\n                    placeholder=\"Descripción de la institución y su misión...\"\n                    className=\"min-h-[120px]\"\n                    {...field}\n                    error={formErrors.descripcion?.message}\n                    isEditing={isEditing}\n                    showCharacterCount\n                  /\u003e\n                \u003c/FormControl\u003e\n                \u003cFormDescription\u003eInformación adicional sobre la institución (opcional)\u003c/FormDescription\u003e\n                {/* Ocultamos el FormMessage */}\n                \u003cdiv className=\"hide-form-message\"\u003e{formErrors.descripcion?.message}\u003c/div\u003e\n              \u003c/FormItem\u003e\n            )}\n          /\u003e\n\n          \u003cdiv className=\"flex justify-end space-x-4\"\u003e\n            \u003cButton type=\"button\" variant=\"outline\" onClick={() =\u003e router.push(\"/fundaciones\")} disabled={isSubmitting}\u003e\n              Cancelar\n            \u003c/Button\u003e\n            \u003cButton type=\"submit\" disabled={isSubmitting}\u003e\n              {isSubmitting ? \"Guardando...\" : isEditing ? \"Actualizar Institución\" : \"Guardar Institución\"}\n            \u003c/Button\u003e\n          \u003c/div\u003e\n        \u003c/form\u003e\n      \u003c/Form\u003e\n    \u003c/\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"7a:T1066,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport type React from \"react\"\n\nimport { useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { Building } from \"lucide-react\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { crearInstitucion } from \"@/app/actions/instituciones-actions\"\n\nexport default function InstitucionForm() {\n  const router = useRouter()\n  const [codigo, setCodigo] = useState(\"\")\n  const [nombre, setNombre] = useState(\"\")\n  const [descripcion, setDescripcion] = useState(\"\")\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [error, setError] = useState(\"\")\n\n  // Estado para rastrear qué campo está enfocado\n  const [focusedField, setFocusedField] = useState\u003cstring | null\u003e(null)\n\n  const handleSubmit = async (e: React.FormEvent) =\u003e {\n    e.preventDefault()\n    setIsSubmitting(true)\n    setError(\"\")\n\n    try {\n      if (!codigo || !nombre) {\n        throw new Error(\"El código y el nombre son obligatorios\")\n      }\n\n      if (codigo.length \u003e 2) {\n        throw new Error(\"El código debe tener máximo 2 caracteres\")\n      }\n\n      await crearInstitucion({\n        codigo,\n        nombre,\n        descripcion,\n      })\n\n      router.push(\"/instituciones\")\n      router.refresh()\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Error al crear la institución\")\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  return (\n    \u003cCard className=\"w-full max-w-3xl mx-auto\"\u003e\n      \u003cCardHeader\u003e\n        \u003cCardTitle className=\"text-2xl\"\u003eNueva Institución\u003c/CardTitle\u003e\n      \u003c/CardHeader\u003e\n      \u003cform onSubmit={handleSubmit}\u003e\n        \u003cCardContent className=\"space-y-6\"\u003e\n          \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n            \u003cdiv\u003e\n              \u003clabel htmlFor=\"codigo\" className=\"text-base font-medium mb-2 block\"\u003e\n                Código\n              \u003c/label\u003e\n              \u003cInput\n                id=\"codigo\"\n                value={codigo}\n                onChange={(e) =\u003e setCodigo(e.target.value.toUpperCase())}\n                maxLength={2}\n                leadingIcon={\u003cBuilding className=\"h-5 w-5\" /\u003e}\n                hint=\"Código de 2 caracteres para identificar la institución\"\n                showCharacterCount\n                onFocus={() =\u003e setFocusedField(\"codigo\")}\n                onBlur={() =\u003e setFocusedField(null)}\n              /\u003e\n            \u003c/div\u003e\n            \u003cdiv\u003e\n              \u003clabel htmlFor=\"nombre\" className=\"text-base font-medium mb-2 block\"\u003e\n                Nombre\n              \u003c/label\u003e\n              \u003cInput\n                id=\"nombre\"\n                value={nombre}\n                onChange={(e) =\u003e setNombre(e.target.value)}\n                hint=\"Nombre completo de la institución\"\n                onFocus={() =\u003e setFocusedField(\"nombre\")}\n                onBlur={() =\u003e setFocusedField(null)}\n              /\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n          \u003cdiv\u003e\n            \u003clabel htmlFor=\"descripcion\" className=\"text-base font-medium mb-2 block\"\u003e\n              Descripción\n            \u003c/label\u003e\n            \u003cTextarea\n              id=\"descripcion\"\n              value={descripcion}\n              onChange={(e) =\u003e setDescripcion(e.target.value)}\n              placeholder=\"Descripción de la institución y su misión...\"\n              className=\"min-h-[150px]\"\n              hint=\"Información adicional sobre la institución (opcional)\"\n              onFocus={() =\u003e setFocusedField(\"descripcion\")}\n              onBlur={() =\u003e setFocusedField(null)}\n            /\u003e\n          \u003c/div\u003e\n          {error \u0026\u0026 \u003cp className=\"text-red-500 text-sm\"\u003e{error}\u003c/p\u003e}\n        \u003c/CardContent\u003e\n        \u003cCardFooter className=\"flex justify-end space-x-4\"\u003e\n          \u003cButton type=\"button\" variant=\"outline\" onClick={() =\u003e router.push(\"/instituciones\")} disabled={isSubmitting}\u003e\n            Cancelar\n          \u003c/Button\u003e\n          \u003cButton type=\"submit\" disabled={isSubmitting}\u003e\n            {isSubmitting ? \"Guardando...\" : \"Guardar\"}\n          \u003c/Button\u003e\n        \u003c/CardFooter\u003e\n      \u003c/form\u003e\n    \u003c/Card\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"7b:T2c31,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { zodResolver } from \"@hookform/resolvers/zod\"\nimport { useForm } from \"react-hook-form\"\nimport { z } from \"zod\"\nimport { Button } from \"@/components/ui/button\"\nimport { Form, FormControl, FormDescription, FormField, FormItem, FormLabel } from \"@/components/ui/form\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { crearInvestigador, actualizarInvestigador } from \"@/app/actions/investigadores-actions\"\nimport { toast } from \"sonner\"\nimport type { Investigador } from \"@/types/supabase\"\n\n// Definimos un estilo personalizado para los labels que cambian de color con foco\nconst labelStyles = `\n.custom-form-item:focus-within .custom-form-label {\n  color: hsl(var(--primary));\n}\n\n/* Ocultar los mensajes de error que vienen del FormMessage */\n.hide-form-message {\n  display: none !important;\n}\n`\n\nconst investigadorSchema = z.object({\n  codigo: z\n    .string()\n    .length(2, {\n      message: \"El código debe tener exactamente 2 caracteres\",\n    })\n    .toUpperCase(),\n  nombre: z.string().min(2, {\n    message: \"El nombre debe tener al menos 2 caracteres\",\n  }),\n  apellido: z.string().min(2, {\n    message: \"El apellido debe tener al menos 2 caracteres\",\n  }),\n  email: z.string().email({ message: \"Debe ser un email válido\" }).optional().or(z.literal(\"\")),\n  telefono: z.string().optional(),\n  institucion: z.string().optional(),\n  cargo: z.string().optional(),\n  notas: z.string().optional(),\n})\n\ntype InvestigadorFormValues = z.infer\u003ctypeof investigadorSchema\u003e\n\ninterface InvestigadorFormProps {\n  investigador?: Investigador\n}\n\nexport function InvestigadorForm({ investigador }: InvestigadorFormProps) {\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [formSubmitted, setFormSubmitted] = useState(false)\n  const router = useRouter()\n  const isEditing = !!investigador\n\n  const form = useForm\u003cInvestigadorFormValues\u003e({\n    resolver: zodResolver(investigadorSchema),\n    defaultValues: {\n      codigo: investigador?.codigo || \"\",\n      nombre: investigador?.nombre || \"\",\n      apellido: investigador?.apellido || \"\",\n      email: investigador?.email || \"\",\n      telefono: investigador?.telefono || \"\",\n      institucion: investigador?.institucion || \"\",\n      cargo: investigador?.cargo || \"\",\n      notas: investigador?.notas || \"\",\n    },\n    mode: \"onChange\", // Validar al cambiar para mejor UX\n  })\n\n  // Obtener los errores del formulario\n  const formErrors = form.formState.errors\n\n  async function onSubmit(data: InvestigadorFormValues) {\n    setFormSubmitted(true)\n    setIsSubmitting(true)\n    try {\n      let result\n\n      if (isEditing \u0026\u0026 investigador) {\n        result = await actualizarInvestigador(investigador.id, data)\n      } else {\n        result = await crearInvestigador(data)\n      }\n\n      if (result.error) {\n        toast.error(result.error)\n        setIsSubmitting(false)\n      } else {\n        toast.success(isEditing ? \"Investigador actualizado correctamente\" : \"Investigador creado correctamente\")\n\n        // Intentamos la redirección con el router de Next.js\n        try {\n          // Usamos setTimeout para dar tiempo al toast para mostrarse\n          setTimeout(() =\u003e {\n            router.push(\"/configuracion/investigadores\")\n            router.refresh()\n          }, 800)\n        } catch (e) {\n          console.error(\"Error en router.push:\", e)\n          // Como fallback, usamos window.location\n          setTimeout(() =\u003e {\n            window.location.href = \"/configuracion/investigadores\"\n          }, 1000)\n        }\n      }\n    } catch (error) {\n      toast.error(isEditing ? \"Error al actualizar el investigador\" : \"Error al crear el investigador\")\n      console.error(error)\n      setIsSubmitting(false)\n    }\n  }\n\n  return (\n    \u003c\u003e\n      {/* Inyectamos los estilos CSS personalizados */}\n      \u003cstyle jsx global\u003e\n        {labelStyles}\n      \u003c/style\u003e\n\n      \u003cForm {...form}\u003e\n        \u003cform onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\"\u003e\n          \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n            \u003cFormField\n              control={form.control}\n              name=\"codigo\"\n              render={({ field }) =\u003e (\n                \u003cFormItem className=\"custom-form-item\"\u003e\n                  \u003cFormLabel className=\"custom-form-label\"\u003eCódigo\u003c/FormLabel\u003e\n                  \u003cFormControl\u003e\n                    \u003cInput\n                      placeholder=\"IN\"\n                      {...field}\n                      onChange={(e) =\u003e field.onChange(e.target.value.toUpperCase())}\n                      maxLength={2}\n                      showCharacterCount\n                      error={formErrors.codigo?.message}\n                      isEditing={isEditing}\n                    /\u003e\n                  \u003c/FormControl\u003e\n                  \u003cFormDescription\u003eCódigo de 2 caracteres para identificar al investigador\u003c/FormDescription\u003e\n                  \u003cdiv className=\"hide-form-message\"\u003e{formErrors.codigo?.message}\u003c/div\u003e\n                \u003c/FormItem\u003e\n              )}\n            /\u003e\n\n            \u003cFormField\n              control={form.control}\n              name=\"institucion\"\n              render={({ field }) =\u003e (\n                \u003cFormItem className=\"custom-form-item\"\u003e\n                  \u003cFormLabel className=\"custom-form-label\"\u003eInstitución\u003c/FormLabel\u003e\n                  \u003cFormControl\u003e\n                    \u003cInput\n                      placeholder=\"Universidad de Chile\"\n                      {...field}\n                      error={formErrors.institucion?.message}\n                      isEditing={isEditing}\n                    /\u003e\n                  \u003c/FormControl\u003e\n                  \u003cFormDescription\u003eInstitución a la que pertenece el investigador (opcional)\u003c/FormDescription\u003e\n                  \u003cdiv className=\"hide-form-message\"\u003e{formErrors.institucion?.message}\u003c/div\u003e\n                \u003c/FormItem\u003e\n              )}\n            /\u003e\n          \u003c/div\u003e\n\n          \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n            \u003cFormField\n              control={form.control}\n              name=\"nombre\"\n              render={({ field }) =\u003e (\n                \u003cFormItem className=\"custom-form-item\"\u003e\n                  \u003cFormLabel className=\"custom-form-label\"\u003eNombre\u003c/FormLabel\u003e\n                  \u003cFormControl\u003e\n                    \u003cInput placeholder=\"María\" {...field} error={formErrors.nombre?.message} isEditing={isEditing} /\u003e\n                  \u003c/FormControl\u003e\n                  \u003cdiv className=\"hide-form-message\"\u003e{formErrors.nombre?.message}\u003c/div\u003e\n                \u003c/FormItem\u003e\n              )}\n            /\u003e\n\n            \u003cFormField\n              control={form.control}\n              name=\"apellido\"\n              render={({ field }) =\u003e (\n                \u003cFormItem className=\"custom-form-item\"\u003e\n                  \u003cFormLabel className=\"custom-form-label\"\u003eApellido\u003c/FormLabel\u003e\n                  \u003cFormControl\u003e\n                    \u003cInput\n                      placeholder=\"González\"\n                      {...field}\n                      error={formErrors.apellido?.message}\n                      isEditing={isEditing}\n                    /\u003e\n                  \u003c/FormControl\u003e\n                  \u003cdiv className=\"hide-form-message\"\u003e{formErrors.apellido?.message}\u003c/div\u003e\n                \u003c/FormItem\u003e\n              )}\n            /\u003e\n          \u003c/div\u003e\n\n          \u003cFormField\n            control={form.control}\n            name=\"cargo\"\n            render={({ field }) =\u003e (\n              \u003cFormItem className=\"custom-form-item\"\u003e\n                \u003cFormLabel className=\"custom-form-label\"\u003eCargo\u003c/FormLabel\u003e\n                \u003cFormControl\u003e\n                  \u003cInput\n                    placeholder=\"Investigador Principal\"\n                    {...field}\n                    error={formErrors.cargo?.message}\n                    isEditing={isEditing}\n                  /\u003e\n                \u003c/FormControl\u003e\n                \u003cFormDescription\u003eCargo o posición del investigador (opcional)\u003c/FormDescription\u003e\n                \u003cdiv className=\"hide-form-message\"\u003e{formErrors.cargo?.message}\u003c/div\u003e\n              \u003c/FormItem\u003e\n            )}\n          /\u003e\n\n          \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n            \u003cFormField\n              control={form.control}\n              name=\"email\"\n              render={({ field }) =\u003e (\n                \u003cFormItem className=\"custom-form-item\"\u003e\n                  \u003cFormLabel className=\"custom-form-label\"\u003eEmail\u003c/FormLabel\u003e\n                  \u003cFormControl\u003e\n                    \u003cInput\n                      placeholder=\"email@ejemplo.com\"\n                      type=\"email\"\n                      {...field}\n                      error={formErrors.email?.message}\n                      isEditing={isEditing}\n                    /\u003e\n                  \u003c/FormControl\u003e\n                  \u003cFormDescription\u003eEmail de contacto (opcional)\u003c/FormDescription\u003e\n                  \u003cdiv className=\"hide-form-message\"\u003e{formErrors.email?.message}\u003c/div\u003e\n                \u003c/FormItem\u003e\n              )}\n            /\u003e\n\n            \u003cFormField\n              control={form.control}\n              name=\"telefono\"\n              render={({ field }) =\u003e (\n                \u003cFormItem className=\"custom-form-item\"\u003e\n                  \u003cFormLabel className=\"custom-form-label\"\u003eTeléfono\u003c/FormLabel\u003e\n                  \u003cFormControl\u003e\n                    \u003cInput\n                      placeholder=\"+56 9 1234 5678\"\n                      {...field}\n                      error={formErrors.telefono?.message}\n                      isEditing={isEditing}\n                    /\u003e\n                  \u003c/FormControl\u003e\n                  \u003cFormDescription\u003eTeléfono de contacto (opcional)\u003c/FormDescription\u003e\n                  \u003cdiv className=\"hide-form-message\"\u003e{formErrors.telefono?.message}\u003c/div\u003e\n                \u003c/FormItem\u003e\n              )}\n            /\u003e\n          \u003c/div\u003e\n\n          \u003cFormField\n            control={form.control}\n            name=\"notas\"\n            render={({ field }) =\u003e (\n              \u003cFormItem className=\"custom-form-item\"\u003e\n                \u003cFormLabel className=\"custom-form-label\"\u003eNotas\u003c/FormLabel\u003e\n                \u003cFormControl\u003e\n                  \u003cTextarea\n                    placeholder=\"Notas adicionales sobre el investigador...\"\n                    className=\"min-h-[120px]\"\n                    {...field}\n                    error={formErrors.notas?.message}\n                    isEditing={isEditing}\n                    showCharacterCount\n                  /\u003e\n                \u003c/FormControl\u003e\n                \u003cFormDescription\u003eInformación adicional sobre el investigador (opcional)\u003c/FormDescription\u003e\n                \u003cdiv className=\"hide-form-message\"\u003e{formErrors.notas?.message}\u003c/div\u003e\n              \u003c/FormItem\u003e\n            )}\n          /\u003e\n\n          \u003cdiv className=\"flex justify-end space-x-4\"\u003e\n            \u003cButton\n              type=\"button\"\n              variant=\"outline\"\n              onClick={() =\u003e router.push(\"/configuracion/investigadores\")}\n              disabled={isSubmitting}\n            \u003e\n              Cancelar\n            \u003c/Button\u003e\n            \u003cButton type=\"submit\" disabled={isSubmitting}\u003e\n              {isSubmitting ? \"Guardando...\" : isEditing ? \"Actualizar Investigador\" : \"Guardar Investigador\"}\n            \u003c/Button\u003e\n          \u003c/div\u003e\n        \u003c/form\u003e\n      \u003c/Form\u003e\n    \u003c/\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"7c:Tddd,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState } from \"react\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n  DialogFooter,\n} from \"@/components/ui/dialog\"\nimport { CustomButton } from \"@/components/ui/custom-button\"\nimport { useToast } from \"@/components/ui/use-toast\"\nimport { Loader2, AlertTriangle } from \"lucide-react\"\nimport { eliminarMiembroDeProyecto, type ProjectMemberDetails } from \"@/lib/actions/member-actions\"\n\ninterface DeleteMiembroDialogProps {\n  open: boolean\n  projectId: string\n  miembro: ProjectMemberDetails | null\n  onClose: (eliminado?: boolean) =\u003e void\n}\n\nexport default function DeleteMiembroDialog({ open, projectId, miembro, onClose }: DeleteMiembroDialogProps) {\n  const { toast } = useToast()\n  const [isDeleting, setIsDeleting] = useState(false)\n\n  if (!miembro) {\n    return null\n  }\n\n  // Función para obtener el nombre del miembro\n  const getNombreMiembro = (): string =\u003e {\n    if (!miembro || !miembro.profile) return \"este miembro\"\n\n    const profile = miembro.profile\n    if (profile.public_display_name) {\n      return profile.public_display_name\n    }\n    if (profile.first_name || profile.last_name) {\n      return `${profile.first_name || \"\"} ${profile.last_name || \"\"}`.trim()\n    }\n    return profile.public_contact_email || \"este miembro\"\n  }\n\n  const handleEliminar = async () =\u003e {\n    if (!projectId || !miembro) {\n      toast({\n        title: \"Error\",\n        description: \"Información incompleta para eliminar el miembro\",\n        variant: \"destructive\",\n      })\n      return\n    }\n\n    setIsDeleting(true)\n    try {\n      const resultado = await eliminarMiembroDeProyecto({\n        projectMemberId: miembro.project_member_id,\n        proyectoId: projectId,\n      })\n\n      if (resultado.success) {\n        toast({\n          title: \"Miembro eliminado\",\n          description: \"El miembro ha sido eliminado del proyecto exitosamente.\",\n        })\n        onClose(true)\n      } else {\n        toast({\n          title: \"Error al eliminar miembro\",\n          description: resultado.error,\n          variant: \"destructive\",\n        })\n      }\n    } catch (error) {\n      console.error(\"Error:\", error)\n      toast({\n        title: \"Error inesperado\",\n        description: \"Ocurrió un error al procesar la solicitud.\",\n        variant: \"destructive\",\n      })\n    } finally {\n      setIsDeleting(false)\n    }\n  }\n\n  return (\n    \u003cDialog open={open} onOpenChange={(open) =\u003e !open \u0026\u0026 onClose()}\u003e\n      \u003cDialogContent className=\"sm:max-w-[425px]\"\u003e\n        \u003cDialogHeader\u003e\n          \u003cDialogTitle className=\"flex items-center gap-2\"\u003e\n            \u003cAlertTriangle className=\"h-5 w-5 text-destructive\" /\u003e\n            Confirmar eliminación\n          \u003c/DialogTitle\u003e\n          \u003cDialogDescription\u003e\n            ¿Estás seguro de que deseas eliminar a {getNombreMiembro()} del proyecto? Esta acción no se puede deshacer.\n          \u003c/DialogDescription\u003e\n        \u003c/DialogHeader\u003e\n\n        \u003cDialogFooter className=\"gap-2 sm:gap-0\"\u003e\n          \u003cCustomButton type=\"button\" variant=\"outline\" onClick={() =\u003e onClose()} disabled={isDeleting}\u003e\n            Cancelar\n          \u003c/CustomButton\u003e\n          \u003cCustomButton\n            type=\"button\"\n            onClick={handleEliminar}\n            disabled={isDeleting}\n            leftIcon={isDeleting ? \u003cLoader2 className=\"h-4 w-4 animate-spin\" /\u003e : undefined}\n            color=\"danger\"\n          \u003e\n            {isDeleting ? \"Eliminando...\" : \"Eliminar miembro\"}\n          \u003c/CustomButton\u003e\n        \u003c/DialogFooter\u003e\n      \u003c/DialogContent\u003e\n    \u003c/Dialog\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"7d:T39b7,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useForm } from \"react-hook-form\"\nimport { z } from \"zod\"\nimport { zodResolver } from \"@hookform/resolvers/zod\"\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter } from \"@/components/ui/dialog\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { SelectCustom } from \"@/components/ui/select-custom\"\nimport { CustomButton } from \"@/components/ui/custom-button\"\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\"\nimport { useToast } from \"@/components/ui/use-toast\"\nimport { Loader2 } from \"lucide-react\"\nimport {\n  agregarMiembroAProyecto,\n  actualizarRolMiembroEnProyecto,\n  obtenerRolesDisponibles,\n  type ProjectMemberDetails,\n} from \"@/lib/actions/member-actions\"\nimport { Text } from \"@/components/ui/text\"\nimport { FormField as CustomFormField } from \"@/components/ui/form-field\"\n\n// Esquema de validación para el formulario\nconst formSchema = z.object({\n  emailUsuario: z.string().email(\"Email inválido\").min(1, \"El email es requerido\"),\n  rolId: z.string().min(1, \"Debe seleccionar un rol\"),\n  firstName: z.string().optional(),\n  lastName: z.string().optional(),\n  displayName: z.string().optional(),\n  institution: z.string().optional(),\n  phone: z.string().optional(),\n  notes: z.string().optional(),\n  language: z.string().optional(),\n  pronouns: z.string().optional(),\n})\n\n// Para el modo de edición, solo permitimos cambiar el rol\nconst editFormSchema = z.object({\n  rolId: z.string().min(1, \"Debe seleccionar un rol\"),\n})\n\n// Tipos para el formulario\ntype MiembroFormValues = z.infer\u003ctypeof formSchema\u003e\ntype MiembroEditFormValues = z.infer\u003ctypeof editFormSchema\u003e\n\n// Propiedades del componente\ninterface MiembroFormDialogProps {\n  open: boolean\n  projectId: string\n  miembroExistente: ProjectMemberDetails | null\n  onClose: (actualizado?: boolean) =\u003e void\n}\n\n// Tipo para las opciones de roles\ninterface RolOption {\n  value: string\n  label: string\n}\n\nexport default function MiembroFormDialog({ open, projectId, miembroExistente, onClose }: MiembroFormDialogProps) {\n  const { toast } = useToast()\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [isLoading, setIsLoading] = useState(true)\n  const [roles, setRoles] = useState\u003cRolOption[]\u003e([])\n  const isEditMode = !!miembroExistente\n\n  // Cargar roles disponibles\n  useEffect(() =\u003e {\n    const cargarRoles = async () =\u003e {\n      setIsLoading(true)\n      try {\n        const resultado = await obtenerRolesDisponibles()\n        if (resultado.success) {\n          const opcionesRoles = resultado.data.map((rol) =\u003e ({\n            value: rol.id,\n            label: rol.role_name,\n          }))\n          setRoles(opcionesRoles)\n        } else {\n          toast({\n            title: \"Error al cargar roles\",\n            description: resultado.error,\n            variant: \"destructive\",\n          })\n        }\n      } catch (error) {\n        console.error(\"Error al cargar roles:\", error)\n        toast({\n          title: \"Error\",\n          description: \"No se pudieron cargar los roles disponibles\",\n          variant: \"destructive\",\n        })\n      } finally {\n        setIsLoading(false)\n      }\n    }\n\n    cargarRoles()\n  }, [toast])\n\n  // Formulario para agregar\n  const formAdd = useForm\u003cMiembroFormValues\u003e({\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      emailUsuario: \"\",\n      rolId: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      displayName: \"\",\n      institution: \"\",\n      phone: \"\",\n      notes: \"\",\n      language: \"\",\n      pronouns: \"\",\n    },\n  })\n\n  // Formulario para editar\n  const formEdit = useForm\u003cMiembroEditFormValues\u003e({\n    resolver: zodResolver(editFormSchema),\n    defaultValues: {\n      rolId: miembroExistente?.project_role_id || \"\",\n    },\n  })\n\n  // Actualizar valores por defecto al cambiar el miembro existente\n  useEffect(() =\u003e {\n    if (miembroExistente \u0026\u0026 isEditMode) {\n      formEdit.reset({\n        rolId: miembroExistente.project_role_id,\n      })\n    }\n  }, [miembroExistente, isEditMode, formEdit])\n\n  // Manejar el envío del formulario de agregar\n  const onSubmitAdd = async (data: MiembroFormValues) =\u003e {\n    if (!projectId) {\n      toast({\n        title: \"Error\",\n        description: \"ID de proyecto no disponible\",\n        variant: \"destructive\",\n      })\n      return\n    }\n\n    setIsSubmitting(true)\n    try {\n      const resultado = await agregarMiembroAProyecto({\n        proyectoId: projectId,\n        emailUsuario: data.emailUsuario,\n        rolId: data.rolId,\n        perfilData: {\n          firstName: data.firstName,\n          lastName: data.lastName,\n          displayName: data.displayName,\n          institution: data.institution,\n          phone: data.phone,\n          notes: data.notes,\n          language: data.language,\n          pronouns: data.pronouns,\n        },\n      })\n\n      if (resultado.success) {\n        toast({\n          title: \"Miembro agregado\",\n          description: \"El miembro ha sido agregado al proyecto exitosamente.\",\n        })\n        onClose(true)\n      } else {\n        let errorMessage = resultado.error\n\n        // Mensajes personalizados para códigos de error específicos\n        if (resultado.errorCode === \"USER_NOT_FOUND\") {\n          errorMessage = `No se encontró un usuario con el email '${data.emailUsuario}'.`\n        } else if (resultado.errorCode === \"ALREADY_MEMBER\") {\n          errorMessage = \"El usuario ya es miembro de este proyecto.\"\n        } else if (resultado.errorCode === \"FORBIDDEN\") {\n          errorMessage = \"No tienes permiso para realizar esta acción.\"\n        }\n\n        toast({\n          title: \"Error al agregar miembro\",\n          description: errorMessage,\n          variant: \"destructive\",\n        })\n      }\n    } catch (error) {\n      console.error(\"Error:\", error)\n      toast({\n        title: \"Error inesperado\",\n        description: \"Ocurrió un error al procesar la solicitud.\",\n        variant: \"destructive\",\n      })\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  // Manejar el envío del formulario de edición\n  const onSubmitEdit = async (data: MiembroEditFormValues) =\u003e {\n    if (!projectId || !miembroExistente) {\n      toast({\n        title: \"Error\",\n        description: \"Datos de miembro no disponibles\",\n        variant: \"destructive\",\n      })\n      return\n    }\n\n    setIsSubmitting(true)\n    try {\n      const resultado = await actualizarRolMiembroEnProyecto({\n        projectMemberId: miembroExistente.project_member_id,\n        nuevoRolId: data.rolId,\n        proyectoId: projectId,\n      })\n\n      if (resultado.success) {\n        toast({\n          title: \"Rol actualizado\",\n          description: \"El rol del miembro ha sido actualizado exitosamente.\",\n        })\n        onClose(true)\n      } else {\n        toast({\n          title: \"Error al actualizar rol\",\n          description: resultado.error,\n          variant: \"destructive\",\n        })\n      }\n    } catch (error) {\n      console.error(\"Error:\", error)\n      toast({\n        title: \"Error inesperado\",\n        description: \"Ocurrió un error al procesar la solicitud.\",\n        variant: \"destructive\",\n      })\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  // Obtener el nombre del miembro para mostrar en el título en modo edición\n  const getNombreMiembro = (): string =\u003e {\n    if (!miembroExistente || !miembroExistente.profile) return \"miembro\"\n\n    const profile = miembroExistente.profile\n    if (profile.public_display_name) {\n      return profile.public_display_name\n    }\n    if (profile.first_name || profile.last_name) {\n      return `${profile.first_name || \"\"} ${profile.last_name || \"\"}`.trim()\n    }\n    return \"miembro\"\n  }\n\n  return (\n    \u003cDialog open={open} onOpenChange={(open) =\u003e !open \u0026\u0026 onClose()}\u003e\n      \u003cDialogContent className=\"sm:max-w-[500px]\"\u003e\n        \u003cDialogHeader\u003e\n          \u003cDialogTitle\u003e{isEditMode ? `Editar rol de ${getNombreMiembro()}` : \"Agregar nuevo miembro\"}\u003c/DialogTitle\u003e\n        \u003c/DialogHeader\u003e\n\n        {isEditMode ? (\n          // Formulario para editar\n          \u003cForm {...formEdit}\u003e\n            \u003cform onSubmit={formEdit.handleSubmit(onSubmitEdit)} className=\"space-y-6\"\u003e\n              \u003cdiv className=\"grid gap-4\"\u003e\n                {miembroExistente?.profile?.public_contact_email \u0026\u0026 (\n                  \u003cdiv\u003e\n                    \u003cText className=\"text-sm font-medium mb-2\"\u003eEmail\u003c/Text\u003e\n                    \u003cText className=\"text-sm text-muted-foreground\"\u003e\n                      {miembroExistente.profile.public_contact_email}\n                    \u003c/Text\u003e\n                  \u003c/div\u003e\n                )}\n\n                \u003cFormField\n                  control={formEdit.control}\n                  name=\"rolId\"\n                  render={({ field }) =\u003e (\n                    \u003cFormItem\u003e\n                      \u003cFormLabel\u003eRol del miembro\u003c/FormLabel\u003e\n                      \u003cFormControl\u003e\n                        {isLoading ? (\n                          \u003cdiv className=\"flex items-center gap-2\"\u003e\n                            \u003cLoader2 className=\"h-4 w-4 animate-spin\" /\u003e\n                            \u003cspan className=\"text-sm text-muted-foreground\"\u003eCargando roles...\u003c/span\u003e\n                          \u003c/div\u003e\n                        ) : (\n                          \u003cSelectCustom options={roles} placeholder=\"Selecciona un rol\" {...field} /\u003e\n                        )}\n                      \u003c/FormControl\u003e\n                      \u003cFormMessage /\u003e\n                    \u003c/FormItem\u003e\n                  )}\n                /\u003e\n              \u003c/div\u003e\n\n              \u003cDialogFooter\u003e\n                \u003cCustomButton type=\"button\" variant=\"outline\" onClick={() =\u003e onClose()} disabled={isSubmitting}\u003e\n                  Cancelar\n                \u003c/CustomButton\u003e\n                \u003cCustomButton\n                  type=\"submit\"\n                  disabled={isSubmitting}\n                  leftIcon={isSubmitting ? \u003cLoader2 className=\"h-4 w-4 animate-spin\" /\u003e : undefined}\n                  color=\"primary\"\n                \u003e\n                  Guardar cambios\n                \u003c/CustomButton\u003e\n              \u003c/DialogFooter\u003e\n            \u003c/form\u003e\n          \u003c/Form\u003e\n        ) : (\n          // Formulario para agregar\n          \u003cForm {...formAdd}\u003e\n            \u003cform onSubmit={formAdd.handleSubmit(onSubmitAdd)} className=\"space-y-6\"\u003e\n              \u003cdiv className=\"grid gap-4\"\u003e\n                \u003cCustomFormField label=\"Email del investigador\" htmlFor=\"emailUsuario\"\u003e\n                  \u003cInput id=\"emailUsuario\" placeholder=\"email@ejemplo.com\" {...formAdd.register(\"emailUsuario\")} /\u003e\n                  {formAdd.formState.errors.emailUsuario \u0026\u0026 (\n                    \u003cText className=\"text-sm text-destructive mt-1\"\u003e\n                      {formAdd.formState.errors.emailUsuario.message}\n                    \u003c/Text\u003e\n                  )}\n                \u003c/CustomFormField\u003e\n\n                \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-4\"\u003e\n                  \u003cCustomFormField label=\"Nombre\" htmlFor=\"firstName\"\u003e\n                    \u003cInput id=\"firstName\" placeholder=\"Nombre\" {...formAdd.register(\"firstName\")} /\u003e\n                  \u003c/CustomFormField\u003e\n\n                  \u003cCustomFormField label=\"Apellido\" htmlFor=\"lastName\"\u003e\n                    \u003cInput id=\"lastName\" placeholder=\"Apellido\" {...formAdd.register(\"lastName\")} /\u003e\n                  \u003c/CustomFormField\u003e\n                \u003c/div\u003e\n\n                \u003cCustomFormField label=\"Nombre público\" htmlFor=\"displayName\"\u003e\n                  \u003cInput\n                    id=\"displayName\"\n                    placeholder=\"Nombre para mostrar públicamente\"\n                    {...formAdd.register(\"displayName\")}\n                  /\u003e\n                \u003c/CustomFormField\u003e\n\n                \u003cCustomFormField label=\"Institución\" htmlFor=\"institution\"\u003e\n                  \u003cInput id=\"institution\" placeholder=\"Institución principal\" {...formAdd.register(\"institution\")} /\u003e\n                \u003c/CustomFormField\u003e\n\n                \u003cCustomFormField label=\"Teléfono de contacto\" htmlFor=\"phone\"\u003e\n                  \u003cInput id=\"phone\" placeholder=\"Teléfono de contacto\" {...formAdd.register(\"phone\")} /\u003e\n                \u003c/CustomFormField\u003e\n\n                \u003cCustomFormField label=\"Idioma preferido\" htmlFor=\"language\"\u003e\n                  \u003cInput\n                    id=\"language\"\n                    placeholder=\"Idioma preferido (ej. Español, English)\"\n                    {...formAdd.register(\"language\")}\n                  /\u003e\n                \u003c/CustomFormField\u003e\n\n                \u003cCustomFormField label=\"Pronombres\" htmlFor=\"pronouns\"\u003e\n                  \u003cInput\n                    id=\"pronouns\"\n                    placeholder=\"Pronombres (ej. él/él, ella/ella)\"\n                    {...formAdd.register(\"pronouns\")}\n                  /\u003e\n                \u003c/CustomFormField\u003e\n\n                \u003cCustomFormField label=\"Notas generales\" htmlFor=\"notes\"\u003e\n                  \u003cTextarea\n                    id=\"notes\"\n                    placeholder=\"Notas adicionales sobre este miembro\"\n                    rows={3}\n                    {...formAdd.register(\"notes\")}\n                  /\u003e\n                \u003c/CustomFormField\u003e\n\n                \u003cCustomFormField label=\"Rol en el proyecto\" htmlFor=\"rolId\"\u003e\n                  {isLoading ? (\n                    \u003cdiv className=\"flex items-center gap-2\"\u003e\n                      \u003cLoader2 className=\"h-4 w-4 animate-spin\" /\u003e\n                      \u003cspan className=\"text-sm text-muted-foreground\"\u003eCargando roles...\u003c/span\u003e\n                    \u003c/div\u003e\n                  ) : (\n                    \u003cSelectCustom\n                      id=\"rolId\"\n                      options={roles}\n                      placeholder=\"Selecciona un rol\"\n                      value={formAdd.watch(\"rolId\")}\n                      onChange={(value) =\u003e formAdd.setValue(\"rolId\", value as string)}\n                    /\u003e\n                  )}\n                  {formAdd.formState.errors.rolId \u0026\u0026 (\n                    \u003cText className=\"text-sm text-destructive mt-1\"\u003e{formAdd.formState.errors.rolId.message}\u003c/Text\u003e\n                  )}\n                \u003c/CustomFormField\u003e\n              \u003c/div\u003e\n\n              \u003cDialogFooter\u003e\n                \u003cCustomButton type=\"button\" variant=\"outline\" onClick={() =\u003e onClose()} disabled={isSubmitting}\u003e\n                  Cancelar\n                \u003c/CustomButton\u003e\n                \u003cCustomButton\n                  type=\"submit\"\n                  disabled={isSubmitting}\n                  leftIcon={isSubmitting ? \u003cLoader2 className=\"h-4 w-4 animate-spin\" /\u003e : undefined}\n                  color=\"primary\"\n                \u003e\n                  Agregar miembro\n                \u003c/CustomButton\u003e\n              \u003c/DialogFooter\u003e\n            \u003c/form\u003e\n          \u003c/Form\u003e\n        )}\n      \u003c/DialogContent\u003e\n    \u003c/Dialog\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"7e:Tec2,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport type React from \"react\"\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter } from \"@/components/ui/dialog\"\nimport { CustomButton } from \"@/components/ui/custom-button\"\nimport { Text } from \"@/components/ui/text\"\nimport { ProCard } from \"@/components/ui/pro-card\"\nimport type { ProjectMemberDetails } from \"@/lib/actions/member-actions\"\nimport { User, Building, Mail, Phone, Globe, MessageSquare, Tag, Clock } from \"lucide-react\"\n\ninterface MiembroViewDialogProps {\n  open: boolean\n  miembro: ProjectMemberDetails | null\n  onClose: () =\u003e void\n}\n\nexport default function MiembroViewDialog({ open, miembro, onClose }: MiembroViewDialogProps) {\n  if (!miembro) {\n    return null\n  }\n\n  const profile = miembro.profile || {}\n\n  // Función para mostrar un campo solo si tiene valor\n  const FieldItem = ({\n    icon: Icon,\n    label,\n    value,\n  }: {\n    icon: React.ElementType\n    label: string\n    value: string | null | undefined\n  }) =\u003e {\n    if (!value) return null\n    return (\n      \u003cdiv className=\"flex items-start gap-3 py-2\"\u003e\n        \u003cdiv className=\"flex-shrink-0 mt-0.5\"\u003e\n          \u003cIcon className=\"h-5 w-5 text-muted-foreground\" /\u003e\n        \u003c/div\u003e\n        \u003cdiv\u003e\n          \u003cText variant=\"small\" className=\"text-muted-foreground\"\u003e\n            {label}\n          \u003c/Text\u003e\n          \u003cText\u003e{value}\u003c/Text\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    )\n  }\n\n  const getNombreCompleto = () =\u003e {\n    if (profile.public_display_name) {\n      return profile.public_display_name\n    }\n    if (profile.first_name || profile.last_name) {\n      return `${profile.first_name || \"\"} ${profile.last_name || \"\"}`.trim()\n    }\n    return \"Miembro sin nombre registrado\"\n  }\n\n  return (\n    \u003cDialog open={open} onOpenChange={(open) =\u003e !open \u0026\u0026 onClose()}\u003e\n      \u003cDialogContent className=\"sm:max-w-[600px]\"\u003e\n        \u003cDialogHeader\u003e\n          \u003cDialogTitle\u003eDetalles del miembro\u003c/DialogTitle\u003e\n        \u003c/DialogHeader\u003e\n\n        \u003cdiv className=\"py-4\"\u003e\n          \u003cProCard\u003e\n            \u003cProCard.Content className=\"space-y-3\"\u003e\n              \u003cdiv className=\"flex flex-col items-center text-center mb-6\"\u003e\n                \u003cdiv className=\"flex h-20 w-20 items-center justify-center rounded-full bg-primary/10 mb-4\"\u003e\n                  \u003cUser className=\"h-10 w-10 text-primary\" /\u003e\n                \u003c/div\u003e\n                \u003cText className=\"text-xl font-semibold\"\u003e{getNombreCompleto()}\u003c/Text\u003e\n                \u003cdiv className=\"inline-flex items-center rounded-full bg-primary/10 px-2.5 py-0.5 text-xs font-semibold text-primary mt-2\"\u003e\n                  {miembro.role_name || \"Sin rol asignado\"}\n                \u003c/div\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"space-y-1\"\u003e\n                \u003cFieldItem icon={Mail} label=\"Correo electrónico\" value={profile.public_contact_email} /\u003e\n                \u003cFieldItem icon={Building} label=\"Institución\" value={profile.primary_institution} /\u003e\n                \u003cFieldItem icon={Phone} label=\"Teléfono\" value={profile.contact_phone} /\u003e\n                \u003cFieldItem icon={Globe} label=\"Idioma preferido\" value={profile.preferred_language} /\u003e\n                \u003cFieldItem icon={Tag} label=\"Pronombres\" value={profile.pronouns} /\u003e\n                \u003cFieldItem icon={MessageSquare} label=\"Notas\" value={profile.general_notes} /\u003e\n                \u003cFieldItem\n                  icon={Clock}\n                  label=\"Miembro desde\"\n                  value={miembro.joined_at ? new Date(miembro.joined_at).toLocaleDateString() : undefined}\n                /\u003e\n              \u003c/div\u003e\n            \u003c/ProCard.Content\u003e\n          \u003c/ProCard\u003e\n        \u003c/div\u003e\n\n        \u003cDialogFooter\u003e\n          \u003cCustomButton type=\"button\" variant=\"outline\" onClick={onClose}\u003e\n            Cerrar\n          \u003c/CustomButton\u003e\n        \u003c/DialogFooter\u003e\n      \u003c/DialogContent\u003e\n    \u003c/Dialog\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"7f:T128d,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport type React from \"react\"\nimport { createContext, useCallback, useContext, useState } from \"react\"\nimport { createPortal } from \"react-dom\"\nimport { motion, AnimatePresence } from \"framer-motion\"\n\ninterface Ripple {\n  x: number\n  y: number\n  color: string\n  id: string\n  scale?: number\n}\n\n// Tipo unión para aceptar tanto eventos de mouse nativos como de React\ntype MouseEventUnion = MouseEvent | React.MouseEvent | TouchEvent | React.TouchEvent\n\n// Función para convertir cualquier formato de color a RGBA\nconst toValidColor = (color = \"#4f46e5\"): string =\u003e {\n  // Si es 'transparent', devolver rgba transparente\n  if (color === \"transparent\") return \"rgba(0, 0, 0, 0)\"\n\n  // Si ya es rgba o rgb, devolverlo tal cual\n  if (color.startsWith(\"rgba(\") || color.startsWith(\"rgb(\")) return color\n\n  try {\n    // Si el formato es #RRGGBBAA\n    if (color.length === 9 \u0026\u0026 color.startsWith(\"#\")) {\n      const r = Number.parseInt(color.slice(1, 3), 16)\n      const g = Number.parseInt(color.slice(3, 5), 16)\n      const b = Number.parseInt(color.slice(5, 7), 16)\n      const a = Number.parseInt(color.slice(7, 9), 16) / 255\n      return `rgba(${r}, ${g}, ${b}, ${a.toFixed(2)})`\n    }\n\n    // Si el formato es #RRGGBB\n    if (color.length === 7 \u0026\u0026 color.startsWith(\"#\")) {\n      const r = Number.parseInt(color.slice(1, 3), 16)\n      const g = Number.parseInt(color.slice(3, 5), 16)\n      const b = Number.parseInt(color.slice(5, 7), 16)\n      return `rgba(${r}, ${g}, ${b}, 1)`\n    }\n\n    // Si el formato es #RGB\n    if (color.length === 4 \u0026\u0026 color.startsWith(\"#\")) {\n      const r = Number.parseInt(color.slice(1, 2), 16) * 17\n      const g = Number.parseInt(color.slice(2, 3), 16) * 17\n      const b = Number.parseInt(color.slice(3, 4), 16) * 17\n      return `rgba(${r}, ${g}, ${b}, 1)`\n    }\n  } catch (error) {\n    console.warn(\"Error al convertir color:\", color)\n    return \"#4f46e5\" // Color por defecto si hay error\n  }\n\n  return color // Devolver el valor original si no coincide con ningún formato\n}\n\n// ——— Contexto ———\n// Actualizamos la firma para aceptar ambos tipos de eventos\nconst RippleContext = createContext\u003c((e: MouseEventUnion, color?: string, scale?: number) =\u003e void) | null\u003e(null)\n\nexport const useRipple = () =\u003e {\n  const context = useContext(RippleContext)\n  if (!context) {\n    throw new Error(\"useRipple debe ser usado dentro de un RippleProvider\")\n  }\n  return context\n}\n\n// ——— Componente Wave (tres ondas) ———\nconst Wave: React.FC\u003c{\n  x: number\n  y: number\n  color: string\n  scale?: number\n}\u003e = ({ x, y, color, scale = 12 }) =\u003e (\n  \u003c\u003e\n    {[0, 1, 2].map((i) =\u003e (\n      \u003cmotion.span\n        key={i}\n        initial={{ scale: 0, opacity: 1 }}\n        animate={{ scale: scale, opacity: 0.0 }}\n        transition={{ duration: 0.7, delay: i * 0.05, ease: \"easeOut\" }}\n        style={{\n          position: \"fixed\",\n          left: x,\n          top: y,\n          width: 16,\n          height: 16,\n          borderRadius: \"9999px\",\n          background: color, // Ya está validado\n          pointerEvents: \"none\",\n          zIndex: 50,\n          transform: \"translate(-50%, -50%)\",\n        }}\n      /\u003e\n    ))}\n  \u003c/\u003e\n)\n\nconst generateId = () =\u003e {\n  return Math.random().toString(36).substring(2) + Date.now().toString(36)\n}\n\n// ——— Provider ———\nexport const RippleProvider: React.FC\u003c{ children: React.ReactNode }\u003e = ({ children }) =\u003e {\n  const [ripples, setRipples] = useState\u003cRipple[]\u003e([])\n\n  const triggerRipple = useCallback((e: MouseEventUnion, color = \"#4f46e5\", scale = 12) =\u003e {\n    try {\n      // Validar y transformar el color a un formato compatible\n      const validColor = toValidColor(color)\n\n      // Extraer las coordenadas del evento, independientemente de su tipo\n      let x = 0\n      let y = 0\n\n      if (\"clientX\" in e \u0026\u0026 \"clientY\" in e) {\n        x = e.clientX\n        y = e.clientY\n      } else if (\"touches\" in e \u0026\u0026 e.touches.length \u003e 0) {\n        x = e.touches[0].clientX\n        y = e.touches[0].clientY\n      }\n\n      const id = generateId()\n      setRipples((r) =\u003e [...r, { x, y, color: validColor, id, scale }])\n      // limpia el estado después de la animación\n      setTimeout(() =\u003e setRipples((r) =\u003e r.filter((rp) =\u003e rp.id !== id)), 800)\n    } catch (error) {\n      console.error(\"Error en el efecto ripple:\", error)\n      // Continuar sin crear el efecto ripple\n    }\n  }, [])\n\n  return (\n    \u003cRippleContext.Provider value={triggerRipple}\u003e\n      {children}\n      {typeof window !== \"undefined\" \u0026\u0026\n        createPortal(\n          \u003cAnimatePresence\u003e\n            {ripples.map((rp) =\u003e (\n              \u003cWave key={rp.id} {...rp} /\u003e\n            ))}\n          \u003c/AnimatePresence\u003e,\n          document.body,\n        )}\n    \u003c/RippleContext.Provider\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"80:T4746,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport type React from \"react\"\nimport { useState, useMemo } from \"react\"\nimport { ProTable } from \"@/components/ui/pro-table\"\nimport type { ColumnDef } from \"@tanstack/react-table\"\nimport { Checkbox } from \"@/components/ui/checkbox\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Switch } from \"@/components/ui/switch\"\nimport { Label } from \"@/components/ui/label\"\n\n// Tipos de datos para el showroom\ninterface ShowroomData {\n  id: number\n  name: string\n  description: string\n  status: \"active\" | \"inactive\" | \"pending\" | \"archived\"\n  priority: \"low\" | \"medium\" | \"high\" | \"critical\"\n  progress: number // 0-100\n  isActive: boolean\n  tags: string[]\n  notes?: string\n  subRows?: ShowroomData[]\n  created_at: string // Fecha en formato ISO\n  updated_at: string // Fecha en formato ISO\n  contact: {\n    email: string\n    phone: string\n  }\n  budget: number\n  currency: \"USD\" | \"EUR\" | \"GBP\"\n}\n\nconst generateRandomDate = (start: Date, end: Date): string =\u003e {\n  return new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime())).toISOString()\n}\n\nconst generateRandomString = (length: number): string =\u003e {\n  const characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789 \"\n  let result = \"\"\n  for (let i = 0; i \u003c length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * characters.length))\n  }\n  return result\n}\n\n// Generador de datos de muestra mejorado\nconst generateSampleData = (count: number): ShowroomData[] =\u003e {\n  const data: ShowroomData[] = []\n  const statuses: ShowroomData[\"status\"][] = [\"active\", \"inactive\", \"pending\", \"archived\"]\n  const priorities: ShowroomData[\"priority\"][] = [\"low\", \"medium\", \"high\", \"critical\"]\n  const currencies: ShowroomData[\"currency\"][] = [\"USD\", \"EUR\", \"GBP\"]\n\n  for (let i = 1; i \u003c= count; i++) {\n    const hasSubRows = Math.random() \u003e 0.7 \u0026\u0026 i \u003c count - 2\n    const subRowCount = hasSubRows ? Math.floor(Math.random() * 3) + 1 : 0\n\n    data.push({\n      id: i,\n      name: `Project ${i} - ${generateRandomString(Math.random() * 10 + 5)}`,\n      description: generateRandomString(Math.random() * 200 + 50),\n      status: statuses[Math.floor(Math.random() * statuses.length)],\n      priority: priorities[Math.floor(Math.random() * priorities.length)],\n      progress: Math.floor(Math.random() * 101),\n      isActive: Math.random() \u003e 0.5,\n      tags: Array.from({ length: Math.floor(Math.random() * 4) + 1 }, () =\u003e\n        generateRandomString(Math.random() * 8 + 3),\n      ),\n      notes: Math.random() \u003e 0.3 ? generateRandomString(Math.random() * 150 + 20) : undefined,\n      created_at: generateRandomDate(new Date(2022, 0, 1), new Date()),\n      updated_at: generateRandomDate(new Date(2023, 0, 1), new Date()),\n      contact: {\n        email: `user${i}@example.com`,\n        phone: `555-01${String(i).padStart(2, \"0\")}`,\n      },\n      budget: Math.floor(Math.random() * 100000) + 5000,\n      currency: currencies[Math.floor(Math.random() * currencies.length)],\n      subRows: hasSubRows\n        ? generateSampleData(subRowCount).map((sr) =\u003e ({\n            ...sr,\n            id: Number.parseFloat(`${i}.${sr.id}`),\n          }))\n        : undefined,\n    })\n  }\n  return data\n}\n\nconst sampleData = generateSampleData(30)\n\nconst ProTableShowroom: React.FC = () =\u003e {\n  const [tableData, setTableData] = useState\u003cShowroomData[]\u003e(sampleData)\n  const [showTooltips, setShowTooltips] = useState(true)\n  const [showSorting, setShowSorting] = useState(true)\n  const [showColSelector, setShowColSelector] = useState(true)\n  const [isStickyHeader, setIsStickyHeader] = useState(true)\n  const [hideMenuOnScroll, setHideMenuOnScroll] = useState(true)\n  const [lineClamp, setLineClamp] = useState(3)\n  const [searchPlaceholder, setSearchPlaceholder] = useState(\"Buscar en la tabla...\")\n\n  const columns = useMemo(\n    (): ColumnDef\u003cShowroomData, any\u003e[] =\u003e [\n      {\n        id: \"expander\",\n        header: () =\u003e null,\n        cell: ({ row }) =\u003e (row.getCanExpand() ? row.getToggleExpandedHandler() : null),\n        meta: {\n          enableTooltip: false,\n          enableSorting: false,\n        },\n      },\n      {\n        accessorKey: \"id\",\n        header: \"ID\",\n        meta: {\n          contentAlignment: \"center\",\n          enableSorting: true,\n        },\n      },\n      {\n        accessorKey: \"name\",\n        header: \"Nombre del Proyecto\",\n        cell: ({ getValue }) =\u003e \u003cspan className=\"font-semibold\"\u003e{getValue\u003cstring\u003e()}\u003c/span\u003e,\n        meta: {\n          isLongContent: true,\n          lineClamp: 2,\n          enableTooltip: true,\n          enableSorting: true,\n          className: \"min-w-[200px] max-w-[300px]\",\n          contentClassName: \"text-blue-600 dark:text-blue-400 hover:underline\",\n        },\n      },\n      {\n        accessorKey: \"description\",\n        header: \"Descripción Detallada\",\n        meta: {\n          isLongContent: true,\n          enableTooltip: true,\n          lineClamp: lineClamp,\n          className: \"min-w-[300px] max-w-[500px]\",\n        },\n      },\n      {\n        accessorKey: \"status\",\n        header: \"Estado\",\n        cell: ({ getValue }) =\u003e {\n          const status = getValue\u003cShowroomData[\"status\"]\u003e()\n          let colorClass = \"\"\n          switch (status) {\n            case \"active\":\n              colorClass = \"bg-green-100 text-green-700 dark:bg-green-700 dark:text-green-100\"\n              break\n            case \"inactive\":\n              colorClass = \"bg-gray-100 text-gray-700 dark:bg-gray-600 dark:text-gray-200\"\n              break\n            case \"pending\":\n              colorClass = \"bg-yellow-100 text-yellow-700 dark:bg-yellow-600 dark:text-yellow-100\"\n              break\n            case \"archived\":\n              colorClass = \"bg-purple-100 text-purple-700 dark:bg-purple-600 dark:text-purple-100\"\n              break\n          }\n          return \u003cspan className={`px-2 py-1 rounded-full text-xs font-medium ${colorClass}`}\u003e{status}\u003c/span\u003e\n        },\n        meta: {\n          contentAlignment: \"center\",\n          enableSorting: true,\n          cellVariant: ({ row }) =\u003e {\n            const status = row.original.status\n            if (status === \"active\") return \"success\"\n            if (status === \"pending\") return \"warning\"\n            if (status === \"archived\") return \"secondary\"\n            return undefined\n          },\n        },\n      },\n      {\n        accessorKey: \"priority\",\n        header: \"Prioridad\",\n        meta: {\n          contentAlignment: \"center\",\n          enableSorting: true,\n          cellVariant: ({ row }) =\u003e {\n            const priority = row.original.priority\n            if (priority === \"critical\") return \"danger\"\n            if (priority === \"high\") return \"danger\"\n            if (priority === \"medium\") return \"secondary\"\n            return \"neutral\"\n          },\n        },\n      },\n      {\n        accessorKey: \"progress\",\n        header: \"Progreso (%)\",\n        cell: ({ getValue }) =\u003e {\n          const progress = getValue\u003cnumber\u003e()\n          return (\n            \u003cdiv className=\"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700 relative\"\u003e\n              \u003cdiv className=\"bg-blue-600 h-2.5 rounded-full\" style={{ width: `${progress}%` }}\u003e\u003c/div\u003e\n              \u003cspan className=\"absolute w-full text-center text-[10px] text-white mix-blend-difference top-[-2px]\"\u003e\n                {progress}%\n              \u003c/span\u003e\n            \u003c/div\u003e\n          )\n        },\n        meta: {\n          contentAlignment: \"center\",\n          enableSorting: true,\n          className: \"min-w-[100px]\",\n        },\n      },\n      {\n        accessorKey: \"isActive\",\n        header: \"Activo\",\n        cell: ({ getValue }) =\u003e (getValue\u003cboolean\u003e() ? \"Sí\" : \"No\"),\n        meta: {\n          contentAlignment: \"center\",\n          enableSorting: true,\n          cellVariant: ({ getValue }) =\u003e (getValue() ? \"success\" : \"neutral\"),\n        },\n      },\n      {\n        accessorKey: \"tags\",\n        header: \"Etiquetas\",\n        cell: ({ getValue }) =\u003e\n          getValue\u003cstring[]\u003e()\n            .map((tag) =\u003e (\n              \u003cspan\n                key={tag}\n                className=\"mr-1 mb-1 inline-block bg-gray-200 dark:bg-gray-700 px-2 py-0.5 rounded text-xs\"\n              \u003e\n                {tag}\n              \u003c/span\u003e\n            ))\n            .slice(0, 3),\n        meta: {\n          isLongContent: true,\n          enableTooltip: true,\n          lineClamp: 1,\n          className: \"min-w-[150px]\",\n        },\n      },\n      {\n        accessorKey: \"notes\",\n        header: \"Notas Adicionales\",\n        meta: {\n          isLongContent: true,\n          lineClamp: 1,\n          enableTooltip: true,\n          className: \"min-w-[200px] max-w-[350px]\",\n        },\n      },\n      {\n        accessorKey: \"contact.email\",\n        header: \"Email Contacto\",\n        meta: {\n          isLongContent: true,\n          enableTooltip: true,\n          contentClassName: \"text-sm italic\",\n        },\n      },\n      {\n        accessorKey: \"budget\",\n        header: \"Presupuesto\",\n        cell: ({ row }) =\u003e {\n          const budget = row.original.budget\n          const currency = row.original.currency\n          return `${new Intl.NumberFormat(\"es-ES\", {\n            style: \"currency\",\n            currency: currency,\n          }).format(budget)}`\n        },\n        meta: {\n          contentAlignment: \"right\",\n          enableSorting: true,\n          className: \"font-mono min-w-[150px]\",\n        },\n      },\n      {\n        accessorKey: \"created_at\",\n        header: \"Fecha Creación\",\n        cell: ({ getValue }) =\u003e new Date(getValue\u003cstring\u003e()).toLocaleDateString(\"es-ES\"),\n        meta: {\n          contentAlignment: \"center\",\n          enableSorting: true,\n          className: \"min-w-[120px]\",\n        },\n      },\n      {\n        id: \"actions\",\n        header: \"Acciones\",\n        cell: ({ row }) =\u003e (\n          \u003cdiv className=\"flex gap-1 justify-center\"\u003e\n            \u003cButton size=\"sm\" variant=\"outline\" onClick={() =\u003e alert(`Editando ${row.original.name}`)}\u003e\n              Editar\n            \u003c/Button\u003e\n            \u003cButton size=\"sm\" variant=\"destructive\" onClick={() =\u003e alert(`Eliminando ${row.original.name}`)}\u003e\n              Borrar\n            \u003c/Button\u003e\n          \u003c/div\u003e\n        ),\n        meta: {\n          type: \"actions\",\n          contentAlignment: \"center\",\n          isFixed: true,\n          className: \"min-w-[150px]\",\n        },\n      },\n    ],\n    [lineClamp],\n  )\n\n  const getRowStatus = (\n    row: ShowroomData,\n  ): \"success\" | \"warning\" | \"danger\" | \"info\" | \"neutral\" | \"primary\" | \"secondary\" | \"tertiary\" | \"accent\" | null =\u003e {\n    if (row.priority === \"critical\") return \"danger\"\n    if (row.progress \u003c 20 \u0026\u0026 row.status !== \"archived\") return \"warning\"\n    if (row.status === \"active\" \u0026\u0026 row.progress \u003e 80) return \"success\"\n    if (row.status === \"archived\") return \"neutral\"\n    if (row.id % 5 === 0) return \"info\"\n    return null\n  }\n\n  const customCheckboxRender = ({\n    checked,\n    onChange,\n  }: {\n    checked: boolean\n    onChange: () =\u003e void\n  }) =\u003e (\n    \u003cdiv className=\"flex items-center space-x-2\"\u003e\n      \u003cCheckbox\n        id={`custom-check-${Math.random()}`}\n        checked={checked}\n        onCheckedChange={onChange}\n        className=\"border-blue-500 data-[state=checked]:bg-blue-500\"\n      /\u003e\n    \u003c/div\u003e\n  )\n\n  return (\n    \u003cdiv className=\"container mx-auto p-4 space-y-6 bg-gray-50 dark:bg-gray-900 min-h-screen\"\u003e\n      \u003ch1 className=\"text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6 text-center\"\u003e\n        Showroom Interactivo de ProTable\n      \u003c/h1\u003e\n\n      \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6 border rounded-lg bg-white dark:bg-gray-800 shadow-lg mb-6\"\u003e\n        \u003cdiv className=\"flex items-center space-x-3\"\u003e\n          \u003cSwitch id=\"tooltips-switch\" checked={showTooltips} onCheckedChange={setShowTooltips} /\u003e\n          \u003cLabel htmlFor=\"tooltips-switch\" className=\"text-gray-700 dark:text-gray-300 font-medium\"\u003e\n            Habilitar Tooltips\n          \u003c/Label\u003e\n        \u003c/div\u003e\n        \u003cdiv className=\"flex items-center space-x-3\"\u003e\n          \u003cSwitch id=\"sorting-switch\" checked={showSorting} onCheckedChange={setShowSorting} /\u003e\n          \u003cLabel htmlFor=\"sorting-switch\" className=\"text-gray-700 dark:text-gray-300 font-medium\"\u003e\n            Habilitar Ordenación\n          \u003c/Label\u003e\n        \u003c/div\u003e\n        \u003cdiv className=\"flex items-center space-x-3\"\u003e\n          \u003cSwitch id=\"colselector-switch\" checked={showColSelector} onCheckedChange={setShowColSelector} /\u003e\n          \u003cLabel htmlFor=\"colselector-switch\" className=\"text-gray-700 dark:text-gray-300 font-medium\"\u003e\n            Selector de Columnas\n          \u003c/Label\u003e\n        \u003c/div\u003e\n        \u003cdiv className=\"flex items-center space-x-3\"\u003e\n          \u003cSwitch id=\"stickyheader-switch\" checked={isStickyHeader} onCheckedChange={setIsStickyHeader} /\u003e\n          \u003cLabel htmlFor=\"stickyheader-switch\" className=\"text-gray-700 dark:text-gray-300 font-medium\"\u003e\n            Cabecera Fija\n          \u003c/Label\u003e\n        \u003c/div\u003e\n        \u003cdiv className=\"flex items-center space-x-3\"\u003e\n          \u003cSwitch id=\"hidemenuscroll-switch\" checked={hideMenuOnScroll} onCheckedChange={setHideMenuOnScroll} /\u003e\n          \u003cLabel htmlFor=\"hidemenuscroll-switch\" className=\"text-gray-700 dark:text-gray-300 font-medium\"\u003e\n            Ocultar Menú al Scroll\n          \u003c/Label\u003e\n        \u003c/div\u003e\n        \u003cdiv className=\"flex items-center space-x-2\"\u003e\n          \u003cLabel htmlFor=\"lineclamp-input\" className=\"text-gray-700 dark:text-gray-300 font-medium whitespace-nowrap\"\u003e\n            Line Clamp (Desc):\n          \u003c/Label\u003e\n          \u003cInput\n            id=\"lineclamp-input\"\n            type=\"number\"\n            value={lineClamp}\n            onChange={(e) =\u003e setLineClamp(Math.max(1, Number.parseInt(e.target.value, 10)))}\n            className=\"w-20 dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600\"\n          /\u003e\n        \u003c/div\u003e\n        \u003cdiv className=\"flex items-center space-x-2 col-span-1 md:col-span-2 lg:col-span-3\"\u003e\n          \u003cLabel htmlFor=\"placeholder-input\" className=\"text-gray-700 dark:text-gray-300 font-medium\"\u003e\n            Placeholder Búsqueda:\n          \u003c/Label\u003e\n          \u003cInput\n            id=\"placeholder-input\"\n            type=\"text\"\n            value={searchPlaceholder}\n            onChange={(e) =\u003e setSearchPlaceholder(e.target.value)}\n            className=\"flex-grow dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600\"\n          /\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n\n      \u003cProTable\u003cShowroomData\u003e\n        data={tableData}\n        columns={columns}\n        className=\"shadow-xl rounded-lg overflow-hidden border dark:border-gray-700\"\n        enableTooltips={showTooltips}\n        enableSorting={showSorting}\n        showColumnSelector={showColSelector}\n        placeholder={searchPlaceholder}\n        getRowStatus={getRowStatus}\n        lineClampForLongContent={3}\n        tooltipDelay={250}\n        stickyHeader={isStickyHeader}\n        renderCustomCheck={customCheckboxRender}\n        hideMenuOnScroll={hideMenuOnScroll}\n        initialVisibility={{\n          notes: false,\n          \"contact.email\": false,\n          updated_at: false,\n          isActive: false,\n        }}\n      /\u003e\n\n      \u003cdiv className=\"mt-10 p-6 border rounded-lg bg-white dark:bg-gray-800 shadow-lg\"\u003e\n        \u003ch2 className=\"text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-100\"\u003eNotas sobre el Showroom:\u003c/h2\u003e\n        \u003cul className=\"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300\"\u003e\n          \u003cli\u003e\n            La columna \u003cstrong\u003e\"Nombre del Proyecto\"\u003c/strong\u003e tiene \u003ccode\u003eisLongContent\u003c/code\u003e y un{\" \"}\n            \u003ccode\u003elineClamp\u003c/code\u003e fijo de 2. Su contenido tiene un estilo especial.\n          \u003c/li\u003e\n          \u003cli\u003e\n            La columna \u003cstrong\u003e\"Descripción Detallada\"\u003c/strong\u003e usa \u003ccode\u003eisLongContent\u003c/code\u003e y su{\" \"}\n            \u003ccode\u003elineClamp\u003c/code\u003e se controla dinámicamente desde el input \"Line Clamp (Desc)\".\n          \u003c/li\u003e\n          \u003cli\u003e\n            La columna \u003cstrong\u003e\"Etiquetas\"\u003c/strong\u003e también usa \u003ccode\u003eisLongContent\u003c/code\u003e para mostrar todas las\n            etiquetas en el tooltip, pero solo 1 línea en la celda (y un máximo de 3 etiquetas visibles).\n          \u003c/li\u003e\n          \u003cli\u003e\n            \u003cstrong\u003e\"Estado\"\u003c/strong\u003e y \u003cstrong\u003e\"Prioridad\"\u003c/strong\u003e usan \u003ccode\u003ecellVariant\u003c/code\u003e para cambiar su\n            apariencia basados en el valor. El estado también tiene un renderizado personalizado con badges de color.\n          \u003c/li\u003e\n          \u003cli\u003e\n            \u003cstrong\u003e\"Progreso\"\u003c/strong\u003e muestra una barra de progreso con el porcentaje superpuesto.\n          \u003c/li\u003e\n          \u003cli\u003e\n            \u003cstrong\u003e\"Email Contacto\"\u003c/strong\u003e demuestra acceso a datos anidados (\u003ccode\u003econtact.email\u003c/code\u003e).\n          \u003c/li\u003e\n          \u003cli\u003e\n            \u003cstrong\u003e\"Presupuesto\"\u003c/strong\u003e usa formato de moneda (EUR, USD, GBP) y alineación derecha.\n          \u003c/li\u003e\n          \u003cli\u003e\n            La columna \u003cstrong\u003e\"Acciones\"\u003c/strong\u003e está configurada como \u003ccode\u003eisFixed: true\u003c/code\u003e para permanecer\n            visible al hacer scroll horizontal.\n          \u003c/li\u003e\n          \u003cli\u003e\n            Algunas filas tienen{\" \"}\n            \u003cstrong\u003e\n              sub-filas (\u003ccode\u003esubRows\u003c/code\u003e)\n            \u003c/strong\u003e{\" \"}\n            para demostrar la funcionalidad de expansión. La ID de las subfilas es un número decimal (ej: 1.1, 1.2).\n          \u003c/li\u003e\n          \u003cli\u003e\n            \u003ccode\u003egetRowStatus\u003c/code\u003e se usa para colorear filas enteras según ciertas condiciones (prioridad crítica,\n            progreso bajo, estado activo con alto progreso, etc.).\n          \u003c/li\u003e\n          \u003cli\u003e\n            Se provee un \u003ccode\u003erenderCustomCheck\u003c/code\u003e para el selector de columnas, usando un Checkbox de ShadCN/UI.\n          \u003c/li\u003e\n          \u003cli\u003e\n            Varias opciones de \u003ccode\u003eProTable\u003c/code\u003e (Tooltips, Ordenación, Selector de Col., Cabecera Fija, etc.) se\n            pueden activar/desactivar con los controles interactivos.\n          \u003c/li\u003e\n          \u003cli\u003e\n            Columnas como \"Notas\", \"Email Contacto\", \"updated_at\" e \"isActive\" están ocultas inicialmente mediante{\" \"}\n            \u003ccode\u003einitialVisibility\u003c/code\u003e.\n          \u003c/li\u003e\n          \u003cli\u003eSe ha añadido soporte básico para modo oscuro en los controles y el fondo general.\u003c/li\u003e\n        \u003c/ul\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n\nexport default ProTableShowroom\n"])</script><script>self.__next_f.push([1,"81:Tc56,"])</script><script>self.__next_f.push([1,"import { Badge } from \"@/components/ui/badge\"\nimport { Button } from \"@/components/ui/button\"\nimport type { Entrevistado } from \"@/types/supabase\"\nimport type { ColumnDef } from \"@tanstack/react-table\"\nimport Link from \"next/link\"\n\nexport const entrevistadosColumns: ColumnDef\u003cEntrevistado\u003e[] = [\n  {\n    id: \"codigo\",\n    accessorKey: \"codigo\",\n    header: \"Código\",\n    minSize: 100,\n    size: 120,\n    enableResizing: true,\n    cell: ({ row }) =\u003e \u003cdiv className=\"font-medium\"\u003e{row.original.codigo}\u003c/div\u003e,\n  },\n  {\n    id: \"nombre\",\n    accessorFn: (row) =\u003e `${row.nombre} ${row.apellido}`,\n    header: \"Nombre\",\n    minSize: 150,\n    size: 200,\n    enableResizing: true,\n    cell: ({ row }) =\u003e \u003cdiv\u003e{`${row.original.nombre} ${row.original.apellido}`}\u003c/div\u003e,\n  },\n  {\n    id: \"institucion\",\n    accessorFn: (row) =\u003e row.fundacion?.nombre || \"-\",\n    header: \"Institución\",\n    minSize: 150,\n    size: 200,\n    enableResizing: true,\n    cell: ({ row }) =\u003e (\n      \u003cdiv\u003e\n        {row.original.fundacion?.nombre ? (\n          row.original.fundacion.nombre\n        ) : (\n          \u003cBadge variant=\"outline\"\u003eSin institución\u003c/Badge\u003e\n        )}\n      \u003c/div\u003e\n    ),\n  },\n  {\n    id: \"cargo\",\n    accessorKey: \"cargo\",\n    header: \"Cargo\",\n    minSize: 150,\n    size: 180,\n    enableResizing: true,\n    cell: ({ row }) =\u003e \u003cdiv\u003e{row.original.cargo || \u003cBadge variant=\"outline\"\u003eSin cargo\u003c/Badge\u003e}\u003c/div\u003e,\n  },\n  {\n    id: \"contacto\",\n    accessorKey: \"contacto\",\n    header: \"Contacto\",\n    minSize: 150,\n    size: 180,\n    enableResizing: true,\n    cell: ({ row }) =\u003e \u003cdiv\u003e{row.original.contacto || \u003cBadge variant=\"outline\"\u003eSin contacto\u003c/Badge\u003e}\u003c/div\u003e,\n  },\n  {\n    id: \"notas\",\n    accessorKey: \"notas\",\n    header: \"Notas\",\n    minSize: 200,\n    size: 250,\n    enableResizing: true,\n    meta: {\n      enableTooltip: true,\n      isLongContent: true,\n    },\n    cell: ({ row }) =\u003e {\n      const notas = row.original.notas\n      return notas ? (\n        \u003cdiv className=\"line-clamp-3 max-h-[72px] overflow-hidden\"\u003e{notas}\u003c/div\u003e\n      ) : (\n        \u003cBadge variant=\"outline\"\u003eSin notas\u003c/Badge\u003e\n      )\n    },\n  },\n  {\n    id: \"acciones\",\n    header: \"Acciones\",\n    enableSorting: false,\n    enableResizing: false,\n    size: 120,\n    cell: ({ row }) =\u003e (\n      \u003cdiv className=\"flex justify-end space-x-2\"\u003e\n        \u003cLink href={`/entrevistados/${row.original.id}`}\u003e\n          \u003cButton variant=\"outline\" size=\"sm\"\u003e\n            Ver\n          \u003c/Button\u003e\n        \u003c/Link\u003e\n        \u003cLink href={`/entrevistados/${row.original.id}/editar`}\u003e\n          \u003cButton variant=\"outline\" size=\"sm\"\u003e\n            Editar\n          \u003c/Button\u003e\n        \u003c/Link\u003e\n      \u003c/div\u003e\n    ),\n  },\n]\n\n// Función para determinar el estado de la fila (opcional, para estilos condicionales)\nexport function getRowStatus(row: Entrevistado) {\n  // Ejemplo: podríamos destacar entrevistados sin institución o sin contacto\n  if (!row.fundacion_id) {\n    return \"warning\"\n  }\n  return \"default\"\n}\n\n// Configuración de visibilidad de columnas por defecto\nexport const initialColumnVisibility = {\n  codigo: true,\n  nombre: true,\n  institucion: true,\n  cargo: true,\n  contacto: false,\n  notas: false,\n  acciones: true,\n}\n"])</script><script>self.__next_f.push([1,"82:T79a,\"use client\"\n\nimport { ProTable } from \"@/components/ui/pro-table\"\nimport type { Entrevistado } from \"@/types/supabase\"\nimport { useState } from \"react\"\nimport { entrevistadosColumns, initialColumnVisibility, getRowStatus } from \"./entrevistados-columns\"\n\ninterface EntrevistadosTableProps {\n  entrevistados: Entrevistado[]\n}\n\nexport function EntrevistadosTable({ entrevistados }: EntrevistadosTableProps) {\n  const [searchTerm, setSearchTerm] = useState(\"\")\n\n  // Filtrar entrevistados basado en el término de búsqueda\n  const filteredEntrevistados = entrevistados.filter(\n    (entrevistado) =\u003e\n      entrevistado.nombre.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      entrevistado.apellido.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      entrevistado.codigo.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      (entrevistado.fundacion?.nombre \u0026\u0026\n        entrevistado.fundacion.nombre.toLowerCase().includes(searchTerm.toLowerCase())) ||\n      (entrevistado.cargo \u0026\u0026 entrevistado.cargo.toLowerCase().includes(searchTerm.toLowerCase())) ||\n      (entrevistado.contacto \u0026\u0026 entrevistado.contacto.toLowerCase().includes(searchTerm.toLowerCase())) ||\n      (entrevistado.notas \u0026\u0026 entrevistado.notas.toLowerCase().includes(searchTerm.toLowerCase())),\n  )\n\n  return (\n    \u003cdiv className=\"space-y-4\"\u003e\n      \u003cProTable\n        data={filteredEntrevistados}\n        columns={entrevistadosColumns}\n        getRowStatus={getRowStatus}\n        initialVisibility={initialColumnVisibility}\n        enableColumnResizing={true}\n        enableColumnVisibility={true}\n        enableSorting={true}\n        enableMultiSort={true}\n        enableGlobalFilter={false} // Usamos nuestro propio filtro\n        enablePagination={true}\n        enableRowSelection={false}\n        defaultColumn={{\n          minSize: 100,\n          size: 150,\n          maxSize: 400,\n        }}\n        className=\"bg-white dark:bg-gray-800\"\n      /\u003e\n    \u003c/div\u003e\n  )\n}\n83:Td92,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\"\nimport { Button } from \"@/components/ui/button\"\nimport type { Entrevista } from \"@/types/supabase\"\nimport Link from \"next/link\"\nimport { useState } from \"react\"\n\ninterface EntrevistasTableProps {\n  entrevistas: Entrevista[]\n}\n\nexport function EntrevistasTable({ entrevistas }: EntrevistasTableProps) {\n  const [searchTerm, setSearchTerm] = useState(\"\")\n\n  const filteredEntrevistas = entrevistas.filter(\n    (entrevista) =\u003e\n      entrevista.codigo_entrevista.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      entrevista.fundacion?.nombre.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      `${entrevista.entrevistado?.nombre} ${entrevista.entrevistado?.apellido}`\n        .toLowerCase()\n        .includes(searchTerm.toLowerCase()) ||\n      (entrevista.investigador \u0026\u0026\n        `${entrevista.investigador.nombre} ${entrevista.investigador.apellido}`\n          .toLowerCase()\n          .includes(searchTerm.toLowerCase())),\n  )\n\n  return (\n    \u003cdiv className=\"space-y-4\"\u003e\n      \u003cdiv className=\"flex items-center\"\u003e\n        \u003cinput\n          type=\"text\"\n          placeholder=\"Buscar entrevista...\"\n          className=\"px-3 py-2 border rounded-md w-full max-w-sm\"\n          value={searchTerm}\n          onChange={(e) =\u003e setSearchTerm(e.target.value)}\n        /\u003e\n      \u003c/div\u003e\n\n      \u003cdiv className=\"border rounded-md\"\u003e\n        \u003cTable\u003e\n          \u003cTableHeader\u003e\n            \u003cTableRow\u003e\n              \u003cTableHead className=\"w-[100px]\"\u003eCódigo\u003c/TableHead\u003e\n              \u003cTableHead\u003eFundación\u003c/TableHead\u003e\n              \u003cTableHead\u003eEntrevistado\u003c/TableHead\u003e\n              \u003cTableHead\u003eInvestigador\u003c/TableHead\u003e\n              \u003cTableHead\u003eFecha\u003c/TableHead\u003e\n              \u003cTableHead\u003eDuración\u003c/TableHead\u003e\n              \u003cTableHead className=\"text-right\"\u003eAcciones\u003c/TableHead\u003e\n            \u003c/TableRow\u003e\n          \u003c/TableHeader\u003e\n          \u003cTableBody\u003e\n            {filteredEntrevistas.map((entrevista) =\u003e (\n              \u003cTableRow key={entrevista.id}\u003e\n                \u003cTableCell className=\"font-medium\"\u003e{entrevista.codigo_entrevista}\u003c/TableCell\u003e\n                \u003cTableCell\u003e{entrevista.fundacion?.nombre || \"-\"}\u003c/TableCell\u003e\n                \u003cTableCell\u003e\n                  {entrevista.entrevistado\n                    ? `${entrevista.entrevistado.nombre} ${entrevista.entrevistado.apellido}`\n                    : \"-\"}\n                \u003c/TableCell\u003e\n                \u003cTableCell\u003e\n                  {entrevista.investigador\n                    ? `${entrevista.investigador.nombre} ${entrevista.investigador.apellido}`\n                    : \"-\"}\n                \u003c/TableCell\u003e\n                \u003cTableCell\u003e\n                  {entrevista.fecha_entrevista\n                    ? new Date(entrevista.fecha_entrevista).toLocaleDateString(\"es-ES\")\n                    : \"-\"}\n                \u003c/TableCell\u003e\n                \u003cTableCell\u003e{entrevista.duracion ? `${entrevista.duracion} min` : \"-\"}\u003c/TableCell\u003e\n                \u003cTableCell className=\"text-right\"\u003e\n                  \u003cdiv className=\"flex justify-end space-x-2\"\u003e\n                    \u003cLink href={`/entrevistas/${entrevista.id}`}\u003e\n                      \u003cButton variant=\"outline\" size=\"sm\"\u003e\n                        Ver\n                      \u003c/Button\u003e\n                    \u003c/Link\u003e\n                  \u003c/div\u003e\n                \u003c/TableCell\u003e\n              \u003c/TableRow\u003e\n            ))}\n          \u003c/TableBody\u003e\n        \u003c/Table\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"84:T1410,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState, useMemo } from \"react\"\nimport Link from \"next/link\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { ProTable } from \"@/components/ui/pro-table\"\nimport type { ColumnDef } from \"@tanstack/react-table\"\nimport type { ExpresionPermitida } from \"@/app/actions/expresiones-permitidas-actions\"\n\ninterface ExpresionesPermitidasTableProps {\n  expresiones: ExpresionPermitida[]\n}\n\nexport function ExpresionesPermitidasTable({ expresiones }: ExpresionesPermitidasTableProps) {\n  const [searchTerm, setSearchTerm] = useState(\"\")\n  const [filtroIdioma, setFiltroIdioma] = useState\u003cstring\u003e(\"\")\n\n  // Obtener lista única de idiomas\n  const idiomas = useMemo(() =\u003e {\n    return Array.from(new Set(expresiones.map((exp) =\u003e exp.idioma)))\n  }, [expresiones])\n\n  // Función para obtener el estado de la fila (todas neutrales)\n  const getRowStatus = () =\u003e \"neutral\"\n\n  // Definición de columnas\n  const columns: ColumnDef\u003cExpresionPermitida\u003e[] = [\n    {\n      id: \"expresion_original\",\n      header: \"Expresión Original\",\n      accessorKey: \"expresion_original\",\n      meta: {\n        enableTooltip: false,\n      },\n    },\n    {\n      id: \"normalizaciones_esperadas\",\n      header: \"Normalizaciones Esperadas\",\n      accessorKey: \"normalizaciones_esperadas\",\n      cell: ({ row }) =\u003e {\n        const normalizaciones = row.original.normalizaciones_esperadas\n        return (\n          \u003cdiv className=\"flex flex-wrap gap-1\"\u003e\n            {normalizaciones.map((norm, index) =\u003e (\n              \u003cBadge key={index} variant=\"outline\" className=\"bg-blue-50\"\u003e\n                {norm}\n              \u003c/Badge\u003e\n            ))}\n          \u003c/div\u003e\n        )\n      },\n      meta: {\n        enableTooltip: false,\n      },\n    },\n    {\n      id: \"idioma\",\n      header: \"Idioma\",\n      accessorKey: \"idioma\",\n      cell: ({ row }) =\u003e {\n        return \u003cBadge\u003e{row.original.idioma}\u003c/Badge\u003e\n      },\n      meta: {\n        enableTooltip: false,\n      },\n    },\n    {\n      id: \"es_permitida_como_normalizacion\",\n      header: \"Permitida como Normalización\",\n      accessorKey: \"es_permitida_como_normalizacion\",\n      cell: ({ row }) =\u003e {\n        return row.original.es_permitida_como_normalizacion ? (\n          \u003cBadge className=\"bg-green-100 text-green-800 hover:bg-green-100\"\u003eSí\u003c/Badge\u003e\n        ) : (\n          \u003cBadge variant=\"outline\" className=\"text-gray-500\"\u003e\n            No\n          \u003c/Badge\u003e\n        )\n      },\n      meta: {\n        enableTooltip: false,\n      },\n    },\n    {\n      id: \"acciones\",\n      header: \"Acciones\",\n      cell: ({ row }) =\u003e {\n        return (\n          \u003cdiv className=\"flex justify-end space-x-2\"\u003e\n            \u003cLink href={`/configuracion/expresiones-permitidas/${row.original.id}`}\u003e\n              \u003cButton variant=\"outline\" size=\"sm\"\u003e\n                Ver\n              \u003c/Button\u003e\n            \u003c/Link\u003e\n            \u003cLink href={`/configuracion/expresiones-permitidas/${row.original.id}/editar`}\u003e\n              \u003cButton variant=\"outline\" size=\"sm\"\u003e\n                Editar\n              \u003c/Button\u003e\n            \u003c/Link\u003e\n          \u003c/div\u003e\n        )\n      },\n      meta: {\n        enableTooltip: false,\n        className: \"border-r-0\",\n      },\n    },\n  ]\n\n  // Filtrar expresiones según los criterios\n  const filteredExpresiones = useMemo(() =\u003e {\n    return expresiones.filter(\n      (expresion) =\u003e\n        (filtroIdioma === \"\" || expresion.idioma === filtroIdioma) \u0026\u0026\n        (expresion.expresion_original.toLowerCase().includes(searchTerm.toLowerCase()) ||\n          expresion.normalizaciones_esperadas.some((norm) =\u003e norm.toLowerCase().includes(searchTerm.toLowerCase())) ||\n          expresion.idioma.toLowerCase().includes(searchTerm.toLowerCase())),\n    )\n  }, [expresiones, filtroIdioma, searchTerm])\n\n  return (\n    \u003cdiv className=\"space-y-4\"\u003e\n      \u003cdiv className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\"\u003e\n        \u003cinput\n          type=\"text\"\n          placeholder=\"Buscar expresión...\"\n          className=\"px-3 py-2 border rounded-md w-full max-w-sm\"\n          value={searchTerm}\n          onChange={(e) =\u003e setSearchTerm(e.target.value)}\n        /\u003e\n\n        \u003cdiv className=\"flex items-center space-x-2\"\u003e\n          \u003cspan className=\"text-sm text-gray-500\"\u003eFiltrar por idioma:\u003c/span\u003e\n          \u003cselect\n            className=\"px-3 py-2 border rounded-md\"\n            value={filtroIdioma}\n            onChange={(e) =\u003e setFiltroIdioma(e.target.value)}\n          \u003e\n            \u003coption value=\"\"\u003eTodos los idiomas\u003c/option\u003e\n            {idiomas.map((idioma) =\u003e (\n              \u003coption key={idioma} value={idioma}\u003e\n                {idioma}\n              \u003c/option\u003e\n            ))}\n          \u003c/select\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n\n      \u003cdiv className=\"border rounded-md\"\u003e\n        \u003cProTable\n          columns={columns}\n          data={filteredExpresiones}\n          getRowStatus={getRowStatus}\n          enableSearch={false} // Desactivamos la búsqueda integrada porque ya tenemos nuestro propio input\n          searchPlaceholder=\"\"\n          noDataMessage=\"No se encontraron expresiones permitidas\"\n        /\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"85:T7d6,\"use client\"\n\nimport { Button } from \"@/components/ui/button\"\nimport type { Fundacion } from \"@/types/supabase\"\nimport Link from \"next/link\"\nimport type { ColumnDef } from \"@tanstack/react-table\"\nimport { TooltipProvider } from \"@/components/ui/tooltip\"\nimport { ProTable } from \"@/components/ui/pro-table\"\n\ninterface FundacionesTableProps {\n  fundaciones: Fundacion[]\n}\n\nexport function FundacionesTable({ fundaciones }: FundacionesTableProps) {\n  // Definición de columnas directamente en el componente\n  const columns: ColumnDef\u003cFundacion\u003e[] = [\n    {\n      id: \"codigo\",\n      header: \"Código\",\n      accessorKey: \"codigo\",\n      size: 120,\n    },\n    {\n      id: \"nombre\",\n      header: \"Nombre\",\n      accessorKey: \"nombre\",\n    },\n    {\n      id: \"descripcion\",\n      header: \"Descripción\",\n      accessorFn: (row) =\u003e row.descripcion || \"-\",\n      cell: ({ getValue }) =\u003e \u003cdiv className=\"max-w-md truncate\"\u003e{getValue() as string}\u003c/div\u003e,\n    },\n    {\n      id: \"acciones\",\n      header: \"Acciones\",\n      meta: {\n        type: \"actions\",\n        className: \"border-r-0\",\n      },\n      cell: ({ row }) =\u003e (\n        \u003cdiv className=\"flex justify-end space-x-2\"\u003e\n          \u003cLink href={`/fundaciones/${row.original.id}`}\u003e\n            \u003cButton variant=\"outline\" size=\"sm\"\u003e\n              Ver\n            \u003c/Button\u003e\n          \u003c/Link\u003e\n          \u003cLink href={`/fundaciones/${row.original.id}/editar`}\u003e\n            \u003cButton variant=\"outline\" size=\"sm\"\u003e\n              Editar\n            \u003c/Button\u003e\n          \u003c/Link\u003e\n        \u003c/div\u003e\n      ),\n    },\n  ]\n\n  // Función para obtener el estado de la fila (todas serán neutrales)\n  const getRowStatus = () =\u003e \"neutral\"\n\n  return (\n    \u003cTooltipProvider\u003e\n      \u003cdiv className=\"space-y-4\"\u003e\n        \u003cProTable\n          data={fundaciones}\n          columns={columns}\n          enableTooltips={false}\n          showColumnSelector={false}\n          placeholder=\"Buscar fundación...\"\n          getRowStatus={getRowStatus}\n        /\u003e\n      \u003c/div\u003e\n    \u003c/TooltipProvider\u003e\n  )\n}\n86:Ta49,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { ProTable } from \"@/components/ui/pro-table\"\nimport { Button } from \"@/components/ui/button\"\nimport type { Investigador } from \"@/types/supabase\"\nimport Link from \"next/link\"\nimport type { ColumnDef } from \"@tanstack/react-table\"\n\ninterface InvestigadoresTableProps {\n  investigadores: Investigador[]\n}\n\nexport function InvestigadoresTable({ investigadores }: InvestigadoresTableProps) {\n  // Definición de columnas directamente en el componente\n  const columns: ColumnDef\u003cInvestigador\u003e[] = [\n    {\n      id: \"codigo\",\n      header: \"Código\",\n      accessorKey: \"codigo\",\n      cell: ({ row }) =\u003e \u003cdiv className=\"font-medium\"\u003e{row.original.codigo}\u003c/div\u003e,\n      meta: {\n        enableTooltip: false,\n      },\n    },\n    {\n      id: \"nombre\",\n      header: \"Nombre\",\n      accessorFn: (row) =\u003e `${row.nombre} ${row.apellido}`,\n      cell: ({ row }) =\u003e \u003cdiv\u003e{`${row.original.nombre} ${row.original.apellido}`}\u003c/div\u003e,\n      meta: {\n        enableTooltip: false,\n      },\n    },\n    {\n      id: \"institucion\",\n      header: \"Institución\",\n      accessorKey: \"institucion\",\n      cell: ({ row }) =\u003e \u003cdiv\u003e{row.original.institucion || \"-\"}\u003c/div\u003e,\n      meta: {\n        enableTooltip: false,\n      },\n    },\n    {\n      id: \"contacto\",\n      header: \"Contacto\",\n      accessorFn: (row) =\u003e row.email || row.telefono || \"-\",\n      cell: ({ row }) =\u003e \u003cdiv\u003e{row.original.email || row.original.telefono || \"-\"}\u003c/div\u003e,\n      meta: {\n        enableTooltip: false,\n      },\n    },\n    {\n      id: \"acciones\",\n      header: \"Acciones\",\n      cell: ({ row }) =\u003e (\n        \u003cdiv className=\"flex justify-end space-x-2\"\u003e\n          \u003cLink href={`/configuracion/investigadores/${row.original.id}`}\u003e\n            \u003cButton variant=\"outline\" size=\"sm\"\u003e\n              Ver\n            \u003c/Button\u003e\n          \u003c/Link\u003e\n          \u003cLink href={`/configuracion/investigadores/${row.original.id}/editar`}\u003e\n            \u003cButton variant=\"outline\" size=\"sm\"\u003e\n              Editar\n            \u003c/Button\u003e\n          \u003c/Link\u003e\n        \u003c/div\u003e\n      ),\n      meta: {\n        className: \"border-r-0\", // Elimina el borde derecho en la última columna\n        enableTooltip: false,\n      },\n    },\n  ]\n\n  // Función para determinar el estado de la fila (todas neutrales)\n  const getRowStatus = () =\u003e \"neutral\"\n\n  return (\n    \u003cdiv className=\"space-y-4\"\u003e\n      \u003cProTable\n        data={investigadores}\n        columns={columns}\n        getRowStatus={getRowStatus}\n        searchPlaceholder=\"Buscar investigador...\"\n        searchFields={[\"nombre\", \"apellido\", \"codigo\", \"institucion\"]}\n        emptyMessage=\"No se encontraron investigadores\"\n      /\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"87:T924,"])</script><script>self.__next_f.push([1,"import type { ColumnDef } from \"@tanstack/react-table\"\nimport { Button } from \"@/components/ui/button\"\nimport Link from \"next/link\"\nimport { format } from \"date-fns\"\nimport { es } from \"date-fns/locale\"\n\n// Tipo para las transcripciones basado en la estructura actual\nexport type Transcripcion = {\n  entrevista: {\n    id: string\n    codigo_entrevista: string\n    fecha_entrevista?: string\n    fundacion?: {\n      nombre: string\n    }\n    entrevistado?: {\n      nombre: string\n      apellido: string\n    }\n    investigador?: {\n      nombre: string\n      apellido: string\n    }\n  }\n  cantidad_segmentos: number\n}\n\n// Definición de columnas para la tabla de transcripciones\nexport const columns: ColumnDef\u003cTranscripcion\u003e[] = [\n  {\n    id: \"codigo\",\n    header: \"Código\",\n    accessorKey: \"entrevista.codigo_entrevista\",\n    size: 120,\n  },\n  {\n    id: \"institucion\",\n    header: \"Institución\",\n    accessorFn: (row) =\u003e row.entrevista.fundacion?.nombre || \"-\",\n  },\n  {\n    id: \"entrevistado\",\n    header: \"Entrevistado\",\n    accessorFn: (row) =\u003e\n      row.entrevista.entrevistado\n        ? `${row.entrevista.entrevistado.nombre} ${row.entrevista.entrevistado.apellido}`\n        : \"-\",\n  },\n  {\n    id: \"investigador\",\n    header: \"Investigador\",\n    accessorFn: (row) =\u003e\n      row.entrevista.investigador\n        ? `${row.entrevista.investigador.nombre} ${row.entrevista.investigador.apellido}`\n        : \"-\",\n  },\n  {\n    id: \"fecha\",\n    header: \"Fecha\",\n    accessorFn: (row) =\u003e\n      row.entrevista.fecha_entrevista\n        ? format(new Date(row.entrevista.fecha_entrevista), \"dd/MM/yyyy\", { locale: es })\n        : \"-\",\n  },\n  {\n    id: \"segmentos\",\n    header: \"Segmentos\",\n    accessorFn: (row) =\u003e `${row.cantidad_segmentos} segmentos`,\n  },\n  {\n    id: \"acciones\",\n    header: \"Acciones\",\n    meta: { type: \"actions\" }, // Marcar como columna de acciones\n    cell: ({ row }) =\u003e (\n      \u003cdiv className=\"flex justify-end space-x-2\"\u003e\n        \u003cLink href={`/entrevistas/${row.original.entrevista.id}/transcripciones`}\u003e\n          \u003cButton variant=\"outline\" size=\"sm\"\u003e\n            Ver Transcripción\n          \u003c/Button\u003e\n        \u003c/Link\u003e\n        \u003cLink href={`/entrevistas/${row.original.entrevista.id}`}\u003e\n          \u003cButton variant=\"outline\" size=\"sm\"\u003e\n            Ver Entrevista\n          \u003c/Button\u003e\n        \u003c/Link\u003e\n      \u003c/div\u003e\n    ),\n  },\n]\n"])</script><script>self.__next_f.push([1,"88:Tcc3,"])</script><script>self.__next_f.push([1,"import type { ColumnDef } from \"@tanstack/react-table\"\nimport { Badge } from \"@/components/ui/badge\"\n\n// Tipo para los segmentos de transcripción\nexport type SegmentoTranscripcion = {\n  id: number\n  id_segmento: number\n  rol: string\n  timestamp: string | null\n  texto_original: string\n  texto_normalizado: string\n  nivel_confianza: number\n}\n\n// Función para obtener el nombre del hablante según el rol\nexport const obtenerNombreHablante = (rol: string, investigadorNombre: string, entrevistadoNombre: string): string =\u003e {\n  switch (rol) {\n    case \"I\":\n      return investigadorNombre\n    case \"E\":\n      return entrevistadoNombre\n    case \"S\":\n      return \"Sistema\"\n    default:\n      return \"Desconocido\"\n  }\n}\n\n// Función para crear las columnas de la tabla de transcripciones\nexport const crearColumnasTranscripciones = (\n  investigadorNombre: string,\n  entrevistadoNombre: string,\n): ColumnDef\u003cSegmentoTranscripcion\u003e[] =\u003e {\n  return [\n    {\n      id: \"id_segmento\",\n      header: \"ID\",\n      accessorKey: \"id_segmento\",\n      size: 80,\n      meta: {\n        className: \"font-medium\",\n      },\n    },\n    {\n      id: \"rol\",\n      header: \"Rol\",\n      accessorKey: \"rol\",\n      size: 100,\n      cell: ({ row }) =\u003e {\n        const rol = row.original.rol\n        return (\n          \u003cBadge\n            className={\n              rol === \"I\"\n                ? \"bg-blue-100 text-blue-800 hover:bg-blue-100\"\n                : rol === \"E\"\n                  ? \"bg-green-100 text-green-800 hover:bg-green-100\"\n                  : \"bg-gray-100 text-gray-800 hover:bg-gray-100\"\n            }\n          \u003e\n            {rol === \"I\" ? \"Investigador\" : rol === \"E\" ? \"Entrevistado\" : \"Sistema\"}\n          \u003c/Badge\u003e\n        )\n      },\n    },\n    {\n      id: \"hablante\",\n      header: \"Hablante\",\n      size: 180,\n      cell: ({ row }) =\u003e {\n        const rol = row.original.rol\n        return obtenerNombreHablante(rol, investigadorNombre, entrevistadoNombre)\n      },\n      meta: {\n        className: \"font-medium\",\n      },\n    },\n    {\n      id: \"timestamp\",\n      header: \"Timestamp\",\n      accessorKey: \"timestamp\",\n      size: 100,\n      cell: ({ row }) =\u003e row.original.timestamp || \"-\",\n    },\n    {\n      id: \"texto_original\",\n      header: \"Texto Original\",\n      accessorKey: \"texto_original\",\n      size: 250,\n      meta: {\n        isLongContent: true,\n        enableTooltip: true,\n      },\n    },\n    {\n      id: \"texto_normalizado\",\n      header: \"Texto Normalizado\",\n      accessorKey: \"texto_normalizado\",\n      size: 250,\n      meta: {\n        isLongContent: true,\n        enableTooltip: true,\n      },\n    },\n    {\n      id: \"nivel_confianza\",\n      header: \"Confianza\",\n      accessorKey: \"nivel_confianza\",\n      size: 100,\n      cell: ({ row }) =\u003e {\n        const nivelConfianza = Number(row.original.nivel_confianza)\n        return (\n          \u003cBadge\n            className={\n              nivelConfianza \u003c= 2\n                ? \"bg-red-100 text-red-800 hover:bg-red-100\"\n                : nivelConfianza === 3\n                  ? \"bg-yellow-100 text-yellow-800 hover:bg-yellow-100\"\n                  : \"bg-green-100 text-green-800 hover:bg-green-100\"\n            }\n          \u003e\n            {nivelConfianza}/5\n          \u003c/Badge\u003e\n        )\n      },\n    },\n  ]\n}\n"])</script><script>self.__next_f.push([1,"89:T48f,\"use client\"\n\nimport { ProTable } from \"@/components/ui/pro-table\"\nimport { columns } from \"./transcripciones-columns\"\nimport { TooltipProvider } from \"@/components/ui/tooltip\"\n\ninterface TranscripcionesTableProps {\n  transcripciones: any[]\n}\n\nexport function TranscripcionesTable({ transcripciones }: TranscripcionesTableProps) {\n  // Add a getRowStatus function to ensure neutral background is applied\n  const getRowStatus = (row: any) =\u003e {\n    // Return neutral for all rows to ensure white background is visible\n    return \"neutral\"\n  }\n\n  return (\n    \u003cTooltipProvider\u003e\n      \u003cdiv className=\"space-y-4\"\u003e\n        {/* Usamos nuestro componente TooltipTable con las columnas definidas */}\n        \u003cProTable\n          data={transcripciones}\n          columns={columns}\n          enableTooltips={false} // Desactivamos tooltips para esta tabla\n          showColumnSelector={false} // Ocultamos el selector de columnas para mantener la interfaz original\n          placeholder=\"Buscar transcripción...\" // Personalizamos el placeholder\n          getRowStatus={getRowStatus} // Add this to ensure neutral background\n        /\u003e\n      \u003c/div\u003e\n    \u003c/TooltipProvider\u003e\n  )\n}\n8a:Tae6a,"])</script><script>self.__next_f.push([1,"// --- START OF FILE ProTable.tsx (FINAL VERSION WITH ALL FIXES \u0026 FADE) ---\n\n\"use client\";\n\nimport React, { useState, useRef, useEffect, useCallback } from \"react\";\nimport {\n  type ColumnDef,\n  flexRender,\n  getCoreRowModel,\n  useReactTable,\n  getFilteredRowModel,\n  getExpandedRowModel,\n  type RowData,\n  getSortedRowModel,\n  type SortingState,\n  type Row,\n  type Column,\n  type Cell,\n} from \"@tanstack/react-table\";\nimport { Input } from \"@/components/ui/input\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { cn } from \"@/lib/utils\";\nimport {\n  ChevronDown,\n  ChevronUp,\n  ChevronsUpDown,\n  ChevronRight,\n} from \"lucide-react\";\nimport { createPortal } from \"react-dom\";\nimport { useColorTokens } from \"@/hooks/use-color-tokens\";\nimport type { CellVariant, TableTokens } from \"@/lib/theme/components/table-tokens\";\nimport { motion } from \"framer-motion\";\n// import tinycolor from \"tinycolor2\"; // No longer needed here\n\ndeclare global {\n  interface Window {\n    mouseX?: number;\n    mouseY?: number;\n  }\n}\n\ndeclare module \"@tanstack/react-table\" {\n  interface ColumnMeta\u003cTData extends RowData, TValue\u003e {\n    type?: string;\n    enableTooltip?: boolean;\n    enableSorting?: boolean;\n    className?: string; // className para el TD\n    contentClassName?: string; // NUEVO: className para el DIV wrapper interno\n    isLongContent?: boolean;\n    lineClamp?: number;\n    cellVariant?:\n      | CellVariant\n      | ((context: {\n          row: Row\u003cTData\u003e;\n          column: Column\u003cTData, TValue\u003e;\n          cell: Cell\u003cTData, TValue\u003e;\n          getValue: () =\u003e TValue;\n        }) =\u003e CellVariant | undefined);\n    isFixed?: boolean;\n    enableTextFade?: boolean;\n  }\n}\n\nexport interface TooltipTableProps\u003cTData extends RowData\u003e {\n  data: TData[];\n  columns: ColumnDef\u003cTData, any\u003e[];\n  initialVisibility?: Record\u003cstring, boolean\u003e;\n  className?: string;\n  enableTooltips?: boolean;\n  enableSorting?: boolean;\n  showColumnSelector?: boolean;\n  placeholder?: string;\n  getRowStatus?: (\n    row: TData\n  ) =\u003e\n    | \"success\"\n    | \"warning\"\n    | \"error\"\n    | \"info\"\n    | \"neutral\"\n    | \"danger\"\n    | \"primary\"\n    | \"secondary\"\n    | \"tertiary\"\n    | \"accent\"\n    | null;\n  lineClamp?: number;\n  tooltipDelay?: number;\n  stickyHeader?: boolean;\n  renderCustomCheck?: (props: {\n    checked: boolean;\n    onChange: () =\u003e void;\n  }) =\u003e React.ReactNode;\n  hideMenuOnScroll?: boolean;\n}\n\ninterface TooltipComponentProps {\n  content: React.ReactNode;\n  isLongContent: boolean;\n  onClose: () =\u003e void;\n  tooltipTokens: TableTokens[\"tooltip\"];\n}\n\nconst Tooltip: React.FC\u003cTooltipComponentProps\u003e = ({\n  content,\n  isLongContent,\n  onClose,\n  tooltipTokens,\n}) =\u003e {\n  const tooltipRef = useRef\u003cHTMLDivElement\u003e(null);\n  const [mounted, setMounted] = useState(false);\n  const [position, setPosition] = useState({ top: 0, left: 0 });\n\n  useEffect(() =\u003e {\n    if (!tooltipRef.current) return;\n    const tooltipRect = tooltipRef.current.getBoundingClientRect();\n    const viewportWidth = window.innerWidth;\n    const viewportHeight = window.innerHeight;\n    let newTop, newLeft;\n    if (isLongContent) {\n      newTop = Math.max(50, Math.min(viewportHeight - tooltipRect.height - 20, viewportHeight / 2 - tooltipRect.height / 2));\n      newLeft = Math.max(20, Math.min(viewportWidth - tooltipRect.width - 20, viewportWidth / 2 - tooltipRect.width / 2));\n    } else {\n      const cursorX = window.mouseX || viewportWidth / 2;\n      const cursorY = window.mouseY || viewportHeight / 2;\n      newTop = cursorY + 10;\n      newLeft = cursorX + 10;\n      if (newTop + tooltipRect.height \u003e viewportHeight) newTop = Math.max(10, cursorY - tooltipRect.height - 10);\n      if (newLeft + tooltipRect.width \u003e viewportWidth) newLeft = Math.max(10, cursorX - tooltipRect.width - 10);\n    }\n    setPosition({ top: newTop, left: newLeft });\n    setMounted(true);\n  }, [isLongContent]);\n\n  useEffect(() =\u003e {\n    const handleClickOutside = (event: MouseEvent) =\u003e {\n      if (tooltipRef.current \u0026\u0026 !tooltipRef.current.contains(event.target as Node)) onClose();\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () =\u003e document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, [onClose]);\n\n  return createPortal(\n    \u003cdiv\n      ref={tooltipRef}\n      className={cn(`custom-tooltip`, isLongContent \u0026\u0026 \"custom-tooltip-large\")}\n      style={{\n        position: \"fixed\",\n        top: `${position.top}px`,\n        left: `${position.left}px`,\n        maxHeight: isLongContent ? \"70vh\" : \"auto\",\n        maxWidth: isLongContent ? \"60vw\" : \"24rem\",\n        overflowY: isLongContent ? \"auto\" : \"visible\",\n        backgroundColor: tooltipTokens.backgroundColor,\n        color: tooltipTokens.foregroundColor,\n        border: `2px solid ${isLongContent ? tooltipTokens.borderColorLongContent : tooltipTokens.borderColor}`,\n        borderRadius: \"0.375rem\",\n        padding: \"0.75rem\",\n        boxShadow: \"0 10px 25px -5px rgba(0, 0, 0, 0.2), 0 10px 10px -5px rgba(0, 0, 0, 0.1)\",\n        zIndex: 9999,\n        width: \"max-content\",\n        whiteSpace: \"pre-line\",\n        pointerEvents: isLongContent ? \"auto\" : \"none\",\n        opacity: mounted ? 1 : 0,\n        transition: \"opacity 0.15s ease-out\",\n      }}\n    \u003e\n      {content}\n    \u003c/div\u003e,\n    document.body\n  );\n};\n\nconst ExpandIconComponent = ({\n  isExpanded,\n  expanderTokens,\n}: {\n  isExpanded: boolean;\n  expanderTokens: TableTokens[\"expander\"];\n}) =\u003e {\n  const circleBg = isExpanded\n    ? expanderTokens.expandedCircleBackground\n    : expanderTokens.circleBackground;\n  const iconColor = isExpanded\n    ? expanderTokens.expandedIconColor\n    : expanderTokens.iconColor;\n\n  return (\n    \u003cdiv className=\"flex items-center justify-center h-full w-full\"\u003e\n      \u003cdiv\n        className=\"flex items-center justify-center w-6 h-6 rounded-full\"\n        style={{\n          backgroundColor: circleBg,\n          border: `1px solid ${expanderTokens.circleBorderColor}`,\n        }}\n      \u003e\n        \u003cmotion.div\n          initial={false}\n          animate={{ rotate: isExpanded ? 90 : 0 }}\n          transition={{ duration: 0.2, ease: \"easeInOut\" }}\n        \u003e\n          \u003cChevronRight size={16} style={{ color: iconColor }} /\u003e\n        \u003c/motion.div\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  );\n};\n\nexport function ProTable\u003cTData extends object\u003e({\n  data,\n  columns,\n  initialVisibility,\n  className,\n  enableTooltips = true,\n  enableSorting = true,\n  showColumnSelector = true,\n  placeholder = \"Buscar…\",\n  getRowStatus,\n  lineClamp: tableLineClamp = 0,\n  tooltipDelay = 300,\n  stickyHeader = false,\n  renderCustomCheck,\n  hideMenuOnScroll = false,\n}: TooltipTableProps\u003cTData\u003e) {\n  const { component: componentTokens } = useColorTokens();\n  const tableTokens = componentTokens.table;\n  const cellVariantTokens = tableTokens.cell.variants;\n\n  const [globalFilter, setGlobalFilter] = useState(\"\");\n  const [columnVisibility, setColumnVisibility] = useState\u003cRecord\u003cstring, boolean\u003e\u003e(initialVisibility ?? {});\n  const [sorting, setSorting] = useState\u003cSortingState\u003e([]);\n  const [columnSizing, setColumnSizing] = useState({});\n  const tableContainerRef = useRef\u003cHTMLDivElement\u003e(null);\n  const [containerWidth, setContainerWidth] = useState(0);\n  const [activeTooltip, setActiveTooltip] = useState\u003c{ id: string; content: React.ReactNode; isLongContent: boolean } | null\u003e(null);\n  const [hoveredRowId, setHoveredRowId] = useState\u003cstring | null\u003e(null);\n  const tooltipTimerRef = useRef\u003cNodeJS.Timeout | null\u003e(null);\n  const [columnSelectorPosition, setColumnSelectorPosition] = useState({ top: 0, left: 0 });\n  const columnSelectorRef = useRef\u003cHTMLButtonElement\u003e(null);\n  const columnSelectorMenuRef = useRef\u003cHTMLDivElement\u003e(null);\n  const [columnSelectorOpen, setColumnSelectorOpen] = useState(false);\n\n  useEffect(() =\u003e {\n    const trackMousePosition = (e: MouseEvent) =\u003e { window.mouseX = e.clientX; window.mouseY = e.clientY; };\n    window.addEventListener(\"mousemove\", trackMousePosition);\n    return () =\u003e window.removeEventListener(\"mousemove\", trackMousePosition);\n  }, []);\n\n  const preparedColumns = React.useMemo(() =\u003e columns.map((column) =\u003e ({ ...column, enableResizing: column.enableResizing ?? true })), [columns]);\n\n  const table = useReactTable({\n    data,\n    columns: preparedColumns,\n    state: { columnVisibility, globalFilter, sorting, columnSizing },\n    onColumnVisibilityChange: setColumnVisibility,\n    onGlobalFilterChange: setGlobalFilter,\n    onSortingChange: setSorting,\n    onColumnSizingChange: setColumnSizing,\n    getSortedRowModel: getSortedRowModel(),\n    columnResizeMode: \"onChange\",\n    getCoreRowModel: getCoreRowModel(),\n    getFilteredRowModel: getFilteredRowModel(),\n    getExpandedRowModel: getExpandedRowModel(),\n    getSubRows: (row) =\u003e (row as any).subRows,\n  });\n\n  const tableWidth = React.useMemo(() =\u003e table.getAllColumns().reduce((acc, column) =\u003e acc + (column.getIsVisible() ? column.getSize() : 0), 0), [table, columnSizing, columnVisibility]);\n\n  useEffect(() =\u003e {\n    if (tableContainerRef.current) {\n      const resizeObserver = new ResizeObserver((entries) =\u003e { for (const entry of entries) setContainerWidth(entry.contentRect.width); });\n      resizeObserver.observe(tableContainerRef.current);\n      return () =\u003e resizeObserver.disconnect();\n    }\n  }, []);\n\n  const shouldExpandTable = containerWidth \u003e 0 \u0026\u0026 tableWidth \u003c containerWidth;\n\n  // CORRECCIÓN TOOLTIP: Obtener valor original\n  const getTooltipContent = useCallback((rowId: string, colId: string): React.ReactNode =\u003e {\n    const row = table.getRow(rowId);\n    if (!row) return null;\n    const originalData = row.original as any;\n    const originalValue = originalData ? originalData[colId] : undefined;\n\n    if (typeof originalValue === 'string' || typeof originalValue === 'number' || typeof originalValue === 'boolean') {\n      return String(originalValue); // Devolver valor primitivo como string\n    }\n     // Si es un array (ej. tags), podríamos formatearlo\n     if (Array.isArray(originalValue)) {\n       return originalValue.join(', '); // Ejemplo simple\n     }\n    // Si es un objeto o nulo/indefinido, o si queremos el renderizado de la celda en el tooltip:\n    // const cell = row.getCell(colId); // Necesita `getCell` si existe o buscarlo\n    // if (cell) return flexRender(cell.column.columnDef.cell, cell.getContext());\n    return null; // O un placeholder si el valor no es simple\n  }, [table]);\n\n  const shouldEnableFeature = useCallback((columnId: string, feature: \"enableTooltip\" | \"enableSorting\", tableLevelEnable: boolean, metaOption?: boolean) =\u003e {\n    if (!tableLevelEnable || columnId === \"expander\") return false;\n    const columnDef = preparedColumns.find((col) =\u003e col.id === columnId || (col as any).accessorKey === columnId);\n    if (columnDef?.meta?.type === \"actions\") return false;\n    return metaOption !== undefined ? metaOption : true;\n  }, [preparedColumns]);\n\n  const getLineClampValue = useCallback((columnId: string) =\u003e {\n    const columnMeta = preparedColumns.find((col) =\u003e col.id === columnId || (col as any).accessorKey === columnId)?.meta;\n    return columnMeta?.lineClamp ?? tableLineClamp;\n  }, [tableLineClamp, preparedColumns]);\n\n  const isColumnLongContent = useCallback((columnId: string) =\u003e !!preparedColumns.find((col) =\u003e col.id === columnId || (col as any).accessorKey === columnId)?.meta?.isLongContent, [preparedColumns]);\n\n  const handleMouseEnterCell = (cellId: string, rowId: string, colId: string) =\u003e {\n    if (tooltipTimerRef.current) clearTimeout(tooltipTimerRef.current);\n    tooltipTimerRef.current = setTimeout(() =\u003e {\n      const content = getTooltipContent(rowId, colId);\n      const longContentFlag = isColumnLongContent(colId);\n      if (content !== null \u0026\u0026 content !== '') { // Mostrar tooltip solo si hay contenido\n        setActiveTooltip({ id: cellId, content, isLongContent: longContentFlag });\n      }\n    }, tooltipDelay);\n  };\n\n  const handleMouseLeaveCell = () =\u003e {\n    if (tooltipTimerRef.current) { clearTimeout(tooltipTimerRef.current); tooltipTimerRef.current = null; }\n    if (activeTooltip \u0026\u0026 !activeTooltip.isLongContent) setActiveTooltip(null);\n  };\n  const handleRowMouseEnter = (rowId: string) =\u003e setHoveredRowId(rowId);\n  const handleRowMouseLeave = () =\u003e setHoveredRowId(null);\n\n  useEffect(() =\u003e {\n    const handleKeyDown = (e: KeyboardEvent) =\u003e {\n      if (e.altKey \u0026\u0026 e.key === \"f\") { e.preventDefault(); const inputElement = document.querySelector\u003cHTMLInputElement\u003e(`input[placeholder=\"${placeholder}\"]`); if (inputElement) inputElement.focus(); }\n      if (e.key === \"Escape\" \u0026\u0026 activeTooltip) setActiveTooltip(null);\n    };\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () =\u003e window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [placeholder, activeTooltip]);\n  \n  const hasSubRows = useCallback((row: Row\u003cTData\u003e) =\u003e { const original = row.original as any; return original?.subRows \u0026\u0026 original.subRows.length \u003e 0; }, []);\n\n  const getRowStyle = useCallback(\n    (rowId: string, rowData?: TData): React.CSSProperties =\u003e {\n      const isHovered = hoveredRowId === rowId;\n      let currentStatus = getRowStatus \u0026\u0026 rowData ? getRowStatus(rowData) : null;\n      if (currentStatus === \"error\") currentStatus = \"danger\";\n\n      const defaultRowTokens = tableTokens.row.default;\n      let finalStyle: React.CSSProperties = {\n        backgroundColor: defaultRowTokens.backgroundColor,\n        color: defaultRowTokens.foregroundColor,\n        borderBottom: `1px solid ${defaultRowTokens.borderColor}`,\n        transition: \"background-color 0.15s ease-out, color 0.15s ease-out, border-color 0.15s ease-out\",\n      };\n      let statusColorsDefinition;\n\n      if (currentStatus) {\n        if (currentStatus === \"neutral\") {\n          statusColorsDefinition = defaultRowTokens;\n        } else if (tableTokens.row.status[currentStatus as keyof typeof tableTokens.row.status]) {\n          statusColorsDefinition = tableTokens.row.status[currentStatus as keyof typeof tableTokens.row.status];\n        } else if (cellVariantTokens[currentStatus as CellVariant]) {\n          const variantToken = cellVariantTokens[currentStatus as CellVariant];\n          statusColorsDefinition = {\n            backgroundColor: variantToken.backgroundColor,\n            foregroundColor: variantToken.foregroundColor,\n            hoverBackgroundColor: variantToken.hoverBackgroundColor,\n            borderColor: variantToken.borderColor || defaultRowTokens.borderColor,\n          };\n        }\n      }\n\n      if (statusColorsDefinition) {\n        finalStyle.backgroundColor = isHovered ? statusColorsDefinition.hoverBackgroundColor : statusColorsDefinition.backgroundColor;\n        finalStyle.color = statusColorsDefinition.foregroundColor;\n        finalStyle.borderBottom = `1px solid ${statusColorsDefinition.borderColor || defaultRowTokens.borderColor}`;\n      } else if (isHovered) {\n        finalStyle.backgroundColor = defaultRowTokens.hoverBackgroundColor;\n      }\n      return finalStyle;\n    },\n    [hoveredRowId, getRowStatus, tableTokens, cellVariantTokens]\n  );\n\n  const getColumnWidth = useCallback((column: Column\u003cTData, any\u003e) =\u003e {\n    if (column.columnDef.meta?.type === \"actions\" || column.columnDef.meta?.isFixed) return column.getSize();\n    if (!shouldExpandTable) return column.getSize();\n    const expansionFactor = containerWidth / tableWidth;\n    const originalWidth = column.getSize();\n    return Math.floor(originalWidth * expansionFactor);\n   }, [shouldExpandTable, containerWidth, tableWidth]);\n\n  const getLineClampClass = useCallback((lcValue: number) =\u003e {\n    if (lcValue \u003e 0 \u0026\u0026 lcValue \u003c= 6) return `line-clamp-${lcValue}`;\n    // Si es \u003e 6, aplicaremos estilo inline, así que no necesitamos clase aquí\n    // Si es 0 o negativo, sin clamp.\n    return \"\";\n  }, []);\n\n  useEffect(() =\u003e { return () =\u003e { if (tooltipTimerRef.current) clearTimeout(tooltipTimerRef.current); }; }, []);\n  \n  const openColumnSelector = () =\u003e {\n    if (columnSelectorRef.current) {\n      const rect = columnSelectorRef.current.getBoundingClientRect();\n      const viewportWidth = window.innerWidth;\n      const left = Math.min(rect.left, viewportWidth - 220);\n      setColumnSelectorPosition({ top: rect.bottom + window.scrollY, left: left + window.scrollX });\n      setColumnSelectorOpen(true);\n    }\n  };\n  useEffect(() =\u003e {\n    const handleClickOutside = (e: MouseEvent) =\u003e {\n      if (columnSelectorOpen \u0026\u0026 columnSelectorMenuRef.current \u0026\u0026 !columnSelectorMenuRef.current.contains(e.target as Node) \u0026\u0026 columnSelectorRef.current \u0026\u0026 !columnSelectorRef.current.contains(e.target as Node)) {\n        setColumnSelectorOpen(false);\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () =\u003e document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, [columnSelectorOpen]);\n  useEffect(() =\u003e { if (hideMenuOnScroll \u0026\u0026 columnSelectorOpen) setColumnSelectorOpen(false); }, [hideMenuOnScroll, columnSelectorOpen]);\n\n  const getFixedColumnHoverBg = useCallback(\n    (\n      rowId: string,\n      baseCellBgForNonHover: string,\n      rowData?: TData,\n      cellMeta?: typeof columns[number]['meta']\n    ): string =\u003e {\n      // ... (lógica sin cambios, ya considera cellVariant y getRowStatus) ...\n       const rowInstance = table.getRow(rowId);\n      const isRowHovered = hoveredRowId === rowId;\n      const getCellContext = (r: Row\u003cTData\u003e, c?: Column\u003cTData,unknown\u003e, cellInst?: Cell\u003cTData, unknown\u003e) =\u003e ({ row: r, column: c || {} as Column\u003cTData, unknown\u003e, cell: cellInst || {} as Cell\u003cTData, unknown\u003e, getValue: (() =\u003e (cellInst?.getValue ? cellInst.getValue() : {}) as any )});\n\n      if (!isRowHovered) {\n        if (cellMeta?.cellVariant \u0026\u0026 rowInstance) {\n          const variantKey = typeof cellMeta.cellVariant === \"function\" ? (cellMeta.cellVariant as Function)(getCellContext(rowInstance)) : cellMeta.cellVariant;\n          if (variantKey \u0026\u0026 cellVariantTokens[variantKey as CellVariant]) return cellVariantTokens[variantKey as CellVariant].backgroundColor;\n        }\n        return baseCellBgForNonHover;\n      }\n      if (cellMeta?.cellVariant \u0026\u0026 rowInstance) {\n        const variantKey = typeof cellMeta.cellVariant === \"function\" ? (cellMeta.cellVariant as Function)(getCellContext(rowInstance)) : cellMeta.cellVariant;\n        if (variantKey \u0026\u0026 cellVariantTokens[variantKey as CellVariant]) return cellVariantTokens[variantKey as CellVariant].hoverBackgroundColor;\n      }\n      let currentStatus = getRowStatus \u0026\u0026 rowData ? getRowStatus(rowData) : null;\n      if (currentStatus) {\n        if (currentStatus === \"neutral\") return tableTokens.row.default.hoverBackgroundColor;\n        const statusToken = tableTokens.row.status[currentStatus as keyof typeof tableTokens.row.status];\n        if (statusToken) return statusToken.hoverBackgroundColor;\n        const variantToken = cellVariantTokens[currentStatus as CellVariant];\n        if (variantToken) return variantToken.hoverBackgroundColor;\n      }\n      return tableTokens.row.default.hoverBackgroundColor;\n    },\n    [hoveredRowId, tableTokens, cellVariantTokens, getRowStatus, table]\n  );\n  \n  if (!tableTokens || !cellVariantTokens || !tableTokens.expander) return null;\n\n  return (\n    \u003cdiv className={cn(\"space-y-4\", className)}\u003e\n      {/* Toolbar */}\n      \u003cdiv className=\"flex flex-wrap gap-2 items-center\"\u003e\n        \u003cInput placeholder={placeholder} value={globalFilter ?? \"\"} onChange={(e) =\u003e setGlobalFilter(e.target.value)} className=\"w-full max-w-sm\" /\u003e\n        {showColumnSelector \u0026\u0026 (\n          \u003c\u003e\n            \u003cbutton ref={columnSelectorRef} onClick={openColumnSelector} className=\"ml-auto px-3 py-1.5 rounded bg-primary/10 hover:bg-primary/20 text-sm font-medium transition-colors\" style={{ color: tableTokens.toolbar.columnSelector.foregroundColor }}\u003eColumnas\u003c/button\u003e\n            {columnSelectorOpen \u0026\u0026 (\n              \u003cdiv ref={columnSelectorMenuRef} className=\"fixed z-50 mt-2 rounded-md shadow-lg p-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700\" style={{ top: `${columnSelectorPosition.top}px`, left: `${columnSelectorPosition.left}px`, maxHeight: \"300px\", overflowY: \"auto\", backgroundColor: tableTokens.toolbar.columnSelector.backgroundColor, width: \"200px\" }}\u003e\n                \u003cdiv className=\"grid grid-cols-2 gap-2\"\u003e\n                  {table.getAllLeafColumns().filter((col) =\u003e col.id !== \"expander\").map((col) =\u003e (\n                    \u003clabel key={col.id} className=\"flex items-center gap-2 text-sm py-1\" style={{ color: tableTokens.toolbar.columnSelector.foregroundColor }}\u003e\n                      {renderCustomCheck ? renderCustomCheck({ checked: col.getIsVisible(), onChange: () =\u003e col.toggleVisibility() }) : \u003cCheckbox checked={col.getIsVisible()} onCheckedChange={() =\u003e col.toggleVisibility()} /\u003e}\n                      {col.columnDef.header?.toString() || col.id} {/* Usar header o id */}\n                    \u003c/label\u003e\n                  ))}\n                \u003c/div\u003e\n              \u003c/div\u003e\n            )}\n          \u003c/\u003e\n        )}\n      \u003c/div\u003e\n\n      {/* Estilo para custom-line-clamp (line-clamp \u003e 6) */}\n      {columns.some(col =\u003e (col.meta?.lineClamp ?? tableLineClamp) \u003e 6) \u0026\u0026 (\n          \u003cstyle jsx global\u003e{`\n            .custom-line-clamp {\n              display: -webkit-box;\n              -webkit-box-orient: vertical;\n              overflow: hidden;\n            }\n          `}\u003c/style\u003e\n        )}\n\n      {/* Contenedor de la Tabla */}\n      \u003cdiv ref={tableContainerRef} className=\"relative overflow-auto rounded-lg\" style={{ maxWidth: \"100%\", maxHeight: \"700px\", overflowX: \"auto\", overflowY: \"auto\", backgroundColor: tableTokens.container.backgroundColor, border: `1px solid ${tableTokens.container.borderColor}` }}\u003e\n        \u003cdiv style={{ width: shouldExpandTable ? \"100%\" : `${Math.max(tableWidth, 800)}px`, minWidth: shouldExpandTable ? \"100%\" : `${Math.max(tableWidth, 800)}px` }}\u003e\n          \u003ctable className=\"w-full text-sm\" role=\"table\" style={{ borderCollapse: \"separate\", borderSpacing: 0, width: \"100%\", backgroundColor: tableTokens.container.backgroundColor }}\u003e\n            {/* Thead */}\n            \u003cthead className={cn(stickyHeader ? \"sticky top-0 z-20\" : \"\")} style={{ backgroundColor: tableTokens.header.backgroundColor, boxShadow: \"0 1px 3px rgba(0,0,0,0.2)\" }}\u003e\n              {table.getHeaderGroups().map((headerGroup) =\u003e (\n                \u003ctr key={headerGroup.id}\u003e\n                  {headerGroup.headers.map((header) =\u003e {\n                    const isSortable = shouldEnableFeature(header.column.id, \"enableSorting\", enableSorting, header.column.columnDef.meta?.enableSorting);\n                    const sortDirection = header.column.getIsSorted();\n                    const isFixedColumn = header.column.columnDef.meta?.isFixed;\n                    return (\n                      \u003cth key={header.id} style={{ width: getColumnWidth(header.column), position: isFixedColumn ? \"sticky\" : \"relative\", right: isFixedColumn ? 0 : \"auto\", borderRight: `1px solid ${tableTokens.header.borderColor}`, borderBottom: `1px solid ${tableTokens.header.borderColor}`, padding: \"0.75rem 0.5rem\", textAlign: \"center\", color: tableTokens.header.foregroundColor, backgroundColor: tableTokens.header.backgroundColor, boxShadow: \"0 1px 2px rgba(0,0,0,0.1)\", whiteSpace: \"nowrap\", userSelect: \"none\", zIndex: isFixedColumn ? 3 : 2 }} className={cn(\"group\", header.column.columnDef.meta?.className, isFixedColumn \u0026\u0026 \"shadow-sm\")} role=\"columnheader\"\u003e\n                        \u003cdiv className=\"flex items-center justify-center gap-1\"\u003e\n                          {header.isPlaceholder ? null : flexRender(header.column.columnDef.header,header.getContext())}\n                          {isSortable \u0026\u0026 (\n                            \u003cbutton onClick={() =\u003e header.column.toggleSorting()} className=\"ml-1 rounded-sm focus:outline-none focus:ring-2\" style={{ color: sortDirection ? tableTokens.header.sortIconHoverColor : tableTokens.header.sortIconColor }} aria-label={sortDirection === \"asc\" ? \"Asc\" : sortDirection === \"desc\" ? \"Desc\" : \"Sort\"}\u003e\n                              {sortDirection === \"asc\" ? \u003cChevronUp className=\"h-4 w-4\" /\u003e : sortDirection === \"desc\" ? \u003cChevronDown className=\"h-4 w-4\" /\u003e : \u003cChevronsUpDown className=\"h-4 w-4\" /\u003e}\n                            \u003c/button\u003e\n                          )}\n                        \u003c/div\u003e\n                        {header.column.getCanResize() \u0026\u0026 !isFixedColumn \u0026\u0026 (\n                          \u003cdiv onMouseDown={header.getResizeHandler()} onTouchStart={header.getResizeHandler()} className=\"absolute right-0 top-0 h-full w-2 cursor-col-resize opacity-0 group-hover:opacity-100 transition-opacity\" title=\"Resize\" style={{ backgroundColor: tableTokens.header.resizeHandleColor }}\u003e\n                            \u003cdiv className=\"absolute right-0 top-0 h-full w-[3px]\" style={{ backgroundColor: tableTokens.header.resizeHandleColor }}\u003e\u003c/div\u003e\n                          \u003c/div\u003e\n                        )}\n                      \u003c/th\u003e\n                    );\n                  })}\n                \u003c/tr\u003e\n              ))}\n            \u003c/thead\u003e\n             {/* Tbody */}\n            \u003ctbody role=\"rowgroup\"\u003e\n              {table.getRowModel().rows.map((row) =\u003e {\n                const isSubRowOriginal = data.some((item: any) =\u003e item.subRows \u0026\u0026 item.subRows.some((subR: any) =\u003e subR.id === (row.original as any).id));\n                if (isSubRowOriginal) return null;\n\n                const currentTRRowStyle = getRowStyle(row.id, row.original as TData);\n                \n                return (\n                  \u003cReact.Fragment key={row.id}\u003e\n                    {/* Fila Principal */}\n                    \u003ctr className={cn(\"transition-colors\", row.getCanExpand() ? \"cursor-pointer\" : \"\")} style={currentTRRowStyle} role=\"row\" onMouseEnter={() =\u003e handleRowMouseEnter(row.id)} onMouseLeave={handleRowMouseLeave} onClick={row.getCanExpand() ? row.getToggleExpandedHandler() : undefined}\u003e\n                      {row.getVisibleCells().map((cell) =\u003e {\n                        const cellContext = cell.getContext();\n                        const cellContent = flexRender(cell.column.columnDef.cell, cellContext);\n                        const isCellTooltipEnabled = shouldEnableFeature(cell.column.id, \"enableTooltip\", enableTooltips, cell.column.columnDef.meta?.enableTooltip);\n                        const cellLineClampValue = getLineClampValue(cell.column.id);\n                        const cellLineClampClass = getLineClampClass(cellLineClampValue);\n                        \n                        const visibleCellsInRow = cell.row.getVisibleCells();\n                        const isLastCell = cell.id === visibleCellsInRow[visibleCellsInRow.length - 1]?.id;\n                        \n                        const cellMeta = cell.column.columnDef.meta;\n                        const cellVariantKeyValue = typeof cellMeta?.cellVariant === \"function\" ? (cellMeta.cellVariant as Function)(cellContext) as CellVariant | undefined : cellMeta?.cellVariant as CellVariant | undefined;\n                        const isFixedColumn = cellMeta?.isFixed;\n                        const shouldFadeText = cellMeta?.enableTextFade \u0026\u0026 cellLineClampValue \u003e 0;\n\n                        // --- Estilos Base del TD ---\n                        const tdStyle: React.CSSProperties = {\n                          width: getColumnWidth(cell.column),\n                          verticalAlign: cell.column.id === 'expander' ? 'middle' : 'top', // Centrar expander\n                          padding: 0, // Wrapper interno manejará el padding\n                          borderBottom: currentTRRowStyle.borderBottom, // Heredar border-bottom del TR\n                          borderRight: isLastCell ? undefined : `1px solid ${tableTokens.cell.borderColor}`, // Borde derecho estructural\n                          transition: \"background-color 0.15s ease-out\", // Solo BG en TD\n                          backgroundColor: currentTRRowStyle.backgroundColor, // Heredar BG de la fila (con hover)\n                        };\n                        \n                        if (isFixedColumn) {\n                          tdStyle.position = \"sticky\";\n                          tdStyle.right = 0;\n                          tdStyle.zIndex = 1;\n                           // BG se ajustará específicamente abajo\n                          tdStyle.boxShadow = \"-2px 0 5px rgba(0, 0, 0, 0.1)\"; \n                        }\n\n                        // --- Estilos del Wrapper Interno ---\n                        const wrapperStyle: React.CSSProperties = {\n                            padding: cell.column.id === 'expander' ? \"0.75rem 0.25rem\" : \"0.75rem 0.5rem\", // Padding normal o de expander\n                            position: 'relative', // Para el fade y otros elementos internos\n                            width: '100%',\n                            height: '100%',\n                            color: currentTRRowStyle.color || tableTokens.cell.foregroundColor, // Heredar color del TR\n                            transition: \"border-color 0.15s ease-out, color 0.15s ease-out, background-color 0.15s ease-out\", // Transiciones del wrapper\n                        };\n\n                        let variantToken;\n                        if (cellVariantKeyValue \u0026\u0026 cellVariantTokens[cellVariantKeyValue]) {\n                          variantToken = cellVariantTokens[cellVariantKeyValue];\n                          const isRowHovered = hoveredRowId === row.id;\n                          // Aplicar BG y Color de variante al WRAPPER\n                          wrapperStyle.backgroundColor = isRowHovered ? variantToken.hoverBackgroundColor : variantToken.backgroundColor;\n                          wrapperStyle.color = variantToken.foregroundColor;\n                          \n                          // Aplicar Borde de variante al WRAPPER\n                          if (variantToken.borderColor) {\n                            wrapperStyle.border = `1px solid ${variantToken.borderColor}`;\n                             // Si hay borde de variante, quitamos el border-right estructural del TD\n                            if (!isLastCell) tdStyle.borderRight = undefined;\n                          }\n                        }\n\n                        // --- Ajuste final para columnas fijas (BG se aplica al TD) ---\n                        let baseBgForFixedNonHover = tableTokens.row.default.backgroundColor;\n                        if (isFixedColumn \u0026\u0026 variantToken) { // Si es fija y tiene variante\n                            baseBgForFixedNonHover = variantToken.backgroundColor;\n                            // Sobreescribir BG del TD para fijas con variante, wrapper no debe tener BG\n                            tdStyle.backgroundColor = hoveredRowId === row.id ? variantToken.hoverBackgroundColor : variantToken.backgroundColor;\n                            wrapperStyle.backgroundColor = 'transparent'; // Wrapper es transparente\n                            wrapperStyle.color = variantToken.foregroundColor; // Color en wrapper\n                        } else if (isFixedColumn) {\n                           // Aplicar BG calculado para fijas sin variante al TD\n                            tdStyle.backgroundColor = getFixedColumnHoverBg(\n                              row.id,\n                              baseBgForFixedNonHover, // que es tableTokens.row.default.backgroundColor en este caso\n                              row.original as TData,\n                              cellMeta\n                            );\n                             wrapperStyle.backgroundColor = 'transparent'; // Wrapper transparente\n                             wrapperStyle.color = currentTRRowStyle.color || tableTokens.cell.foregroundColor; // Heredar color del TR\n                        }\n\n\n                        // Renderizado especial para Expander\n                        if (cell.column.id === 'expander') {\n                          return (\n                            \u003ctd key={cell.id} className={cn(\"align-middle\", cellMeta?.className)} style={tdStyle}\u003e\n                              \u003cdiv style={wrapperStyle}\u003e\n                                {row.getCanExpand() ? (\n                                  \u003cExpandIconComponent\n                                    isExpanded={row.getIsExpanded()}\n                                    expanderTokens={tableTokens.expander}\n                                  /\u003e\n                                ) : null}\n                              \u003c/div\u003e\n                            \u003c/td\u003e\n                          );\n                        }\n\n                        // Renderizado para celdas normales\n                        return (\n                          \u003ctd key={cell.id} className={cn(cellMeta?.className, \"align-top\", isFixedColumn \u0026\u0026 \"shadow-sm\")} role=\"cell\" style={tdStyle}\n                              onMouseEnter={isCellTooltipEnabled ? () =\u003e handleMouseEnterCell(`tooltip-${row.id}-${cell.column.id}`, row.id, cell.column.id) : undefined}\n                              onMouseLeave={isCellTooltipEnabled ? handleMouseLeaveCell : undefined}\n                          \u003e\n                            \u003cdiv style={wrapperStyle} className={cn(cellMeta?.contentClassName)}\u003e\n                               \u003cdiv className={cn(`break-words max-w-xs ${cellLineClampClass}`, shouldFadeText \u0026\u0026 \"relative\")}\n                                   style={\n                                      {\n                                          \"--cell-bg-for-fade\": isFixedColumn ? tdStyle.backgroundColor : wrapperStyle.backgroundColor, // Usar BG del TD (fija) o Wrapper (normal)\n                                          ...( (cellLineClampValue \u003e 6) \u0026\u0026 { WebkitLineClamp: cellLineClampValue, display: '-webkit-box', WebkitBoxOrient: 'vertical', overflow: 'hidden'} )\n                                      } as React.CSSProperties\n                                   }\n                              \u003e\n                                {cellContent}\n                                {shouldFadeText \u0026\u0026 (\n                                  \u003cdiv\n                                    className=\"absolute bottom-0 right-0 w-full h-[1.5em] pointer-events-none\"\n                                    style={{\n                                      background: `linear-gradient(to right, transparent 0%, var(--cell-bg-for-fade) 70%, var(--cell-bg-for-fade) 100%)`,\n                                    }}\n                                    aria-hidden=\"true\"\n                                  /\u003e\n                                )}\n                              \u003c/div\u003e\n                            \u003c/div\u003e\n                          \u003c/td\u003e\n                        );\n                      })}\n                    \u003c/tr\u003e\n\n                    {/* --- SECCIÓN DE SUBFILAS --- */}\n                    {row.getIsExpanded() \u0026\u0026 row.subRows \u0026\u0026 row.subRows.length \u003e 0 \u0026\u0026 (\n                      \u003ctr style={{ backgroundColor: tableTokens.row.subRowBackgroundColor }}\u003e\n                        {/* CORRECCIÓN ESPACIADO: padding: 0 en TD */}\n                        \u003ctd colSpan={row.getVisibleCells().length} className=\"p-0\"\u003e\n                           {/* CORRECCIÓN ESPACIADO: Quitar py-2, mantener pl-4. Añadir pt-1? */}\n                          \u003cdiv\n                            className=\"pl-4 pt-1\" // Solo padding izquierdo y un mínimo padding superior\n                            style={{\n                              borderLeft: `2px solid ${tableTokens.row.subRowIndentBorderColor}`,\n                              // Efecto hundido solo con sombra inset superior\n                              boxShadow: `inset 0px 2px 3px -1px rgba(0, 0, 0, 0.07)`,\n                            }}\n                          \u003e\n                            \u003ctable className=\"w-full text-sm\" style={{ borderSpacing: 0 }}\u003e\n                              \u003ctbody\u003e\n                                {row.subRows.map((subRowInstance, subRowIndex) =\u003e { // Añadir subRowIndex\n                                  const currentTRSubRowStyle = getRowStyle(subRowInstance.id, subRowInstance.original as TData);\n                                  // CORRECCIÓN ESPACIADO: Quitar borde explícito si es la última subfila para evitar doble borde\n                                  if (subRowIndex === row.subRows.length - 1) {\n                                      currentTRSubRowStyle.borderBottom = 'none';\n                                  }\n\n                                  return (\n                                    \u003ctr key={subRowInstance.id} style={currentTRSubRowStyle} onMouseEnter={() =\u003e handleRowMouseEnter(subRowInstance.id)} onMouseLeave={handleRowMouseLeave}\u003e\n                                      {subRowInstance.getVisibleCells().map((cell) =\u003e {\n                                        // MISMA LÓGICA DE RENDERIZADO DE CELDA (TD + WRAPPER) QUE EN FILA PRINCIPAL\n                                        const cellContext = cell.getContext();\n                                        const cellContent = flexRender(cell.column.columnDef.cell, cellContext);\n                                        const isCellTooltipEnabled = shouldEnableFeature(cell.column.id, \"enableTooltip\", enableTooltips, cell.column.columnDef.meta?.enableTooltip);\n                                        const cellLineClampValue = getLineClampValue(cell.column.id);\n                                        const cellLineClampClass = getLineClampClass(cellLineClampValue);\n\n                                        const visibleCellsInSubRow = cell.row.getVisibleCells();\n                                        const isLastSubCell = cell.id === visibleCellsInSubRow[visibleCellsInSubRow.length - 1]?.id;\n\n                                        const subCellMeta = cell.column.columnDef.meta;\n                                        const subCellVariantKeyValue = typeof subCellMeta?.cellVariant === \"function\" ? (subCellMeta.cellVariant as Function)(cellContext) as CellVariant | undefined : subCellMeta?.cellVariant as CellVariant | undefined;\n                                        const isFixedColumn = subCellMeta?.isFixed;\n                                        const shouldFadeSubCellText = subCellMeta?.enableTextFade \u0026\u0026 cellLineClampValue \u003e 0;\n\n                                        // --- Estilos Base del TD (Subfila) ---\n                                        const tdStyle: React.CSSProperties = {\n                                          width: getColumnWidth(cell.column),\n                                          verticalAlign: cell.column.id === 'expander' ? 'middle' : 'top',\n                                          padding: 0,\n                                          borderBottom: currentTRSubRowStyle.borderBottom, // Usar el borde del TR (que puede ser 'none' para la última)\n                                          borderRight: isLastSubCell ? undefined : `1px solid ${tableTokens.cell.borderColor}`,\n                                          transition: \"background-color 0.15s ease-out\",\n                                          backgroundColor: currentTRSubRowStyle.backgroundColor,\n                                        };\n                                        if (isFixedColumn) { /* ... */ }\n\n                                        // --- Estilos del Wrapper Interno (Subfila) ---\n                                        const wrapperStyle: React.CSSProperties = {\n                                            padding: cell.column.id === 'expander' ? \"0.75rem 0.25rem\" : \"0.75rem 0.5rem\",\n                                            position: 'relative',\n                                            width: '100%',\n                                            height: '100%',\n                                            color: currentTRSubRowStyle.color || tableTokens.cell.foregroundColor,\n                                            transition: \"border-color 0.15s ease-out, color 0.15s ease-out, background-color 0.15s ease-out\",\n                                        };\n                                        let variantToken;\n                                        if (subCellVariantKeyValue \u0026\u0026 cellVariantTokens[subCellVariantKeyValue]) {\n                                            variantToken = cellVariantTokens[subCellVariantKeyValue];\n                                            const isSubRowHovered = hoveredRowId === subRowInstance.id;\n                                            wrapperStyle.backgroundColor = isSubRowHovered ? variantToken.hoverBackgroundColor : variantToken.backgroundColor;\n                                            wrapperStyle.color = variantToken.foregroundColor;\n                                            if (variantToken.borderColor) {\n                                                wrapperStyle.border = `1px solid ${variantToken.borderColor}`;\n                                                if (!isLastSubCell) tdStyle.borderRight = undefined;\n                                            }\n                                        }\n\n                                         // --- Ajuste final para columnas fijas (Subfila) ---\n                                        let baseBgForFixedSubRowNonHover = tableTokens.row.default.backgroundColor;\n                                         if (isFixedColumn \u0026\u0026 variantToken) { /* ... */ }\n                                         else if (isFixedColumn) { /* ... */ }\n\n\n                                        // --- Renderizado (Subfila) ---\n                                        if (cell.column.id === 'expander') { /* ... (render expander) ... */ }\n\n                                        return (\n                                          \u003ctd key={cell.id} className={cn(subCellMeta?.className, \"align-top\", isFixedColumn \u0026\u0026 \"shadow-sm\")} role=\"cell\" style={tdStyle}\n                                              onMouseEnter={isCellTooltipEnabled ? () =\u003e handleMouseEnterCell(`tooltip-${subRowInstance.id}-${cell.column.id}`, subRowInstance.id, cell.column.id) : undefined}\n                                              onMouseLeave={isCellTooltipEnabled ? handleMouseLeaveCell : undefined}\n                                          \u003e\n                                            \u003cdiv style={wrapperStyle} className={cn(subCellMeta?.contentClassName)}\u003e\n                                              \u003cdiv className={cn(`break-words max-w-xs ${cellLineClampClass}`, shouldFadeSubCellText \u0026\u0026 \"relative\")}\n                                                  style={\n                                                      {\n                                                          \"--cell-bg-for-fade\": isFixedColumn ? tdStyle.backgroundColor : wrapperStyle.backgroundColor,\n                                                          ...( (cellLineClampValue \u003e 6) \u0026\u0026 { WebkitLineClamp: cellLineClampValue, display: '-webkit-box', WebkitBoxOrient: 'vertical', overflow: 'hidden'} )\n                                                      } as React.CSSProperties\n                                                  }\n                                              \u003e\n                                                {cellContent}\n                                                {shouldFadeSubCellText \u0026\u0026 (\n                                                  \u003cdiv\n                                                    className=\"absolute bottom-0 right-0 w-full h-[1.5em] pointer-events-none\"\n                                                    style={{\n                                                      background: `linear-gradient(to right, transparent 0%, var(--cell-bg-for-fade) 70%, var(--cell-bg-for-fade) 100%)`,\n                                                    }}\n                                                    aria-hidden=\"true\"\n                                                  /\u003e\n                                                )}\n                                              \u003c/div\u003e\n                                            \u003c/div\u003e\n                                          \u003c/td\u003e\n                                        );\n                                      })}\n                                    \u003c/tr\u003e\n                                  );\n                                })}\n                              \u003c/tbody\u003e\n                            \u003c/table\u003e\n                          \u003c/div\u003e\n                        \u003c/td\u003e\n                      \u003c/tr\u003e\n                    )}\n                  \u003c/React.Fragment\u003e\n                );\n              })}\n            \u003c/tbody\u003e\n          \u003c/table\u003e\n        \u003c/div\u003e\n\n        {activeTooltip \u0026\u0026 tableTokens.tooltip \u0026\u0026 (\u003cTooltip content={activeTooltip.content} isLongContent={activeTooltip.isLongContent} onClose={() =\u003e setActiveTooltip(null)} tooltipTokens={tableTokens.tooltip} /\u003e)}\n      \u003c/div\u003e\n    \u003c/div\u003e\n  );\n}\n// --- END OF FILE ---\n"])</script><script>self.__next_f.push([1,"8b:Te08,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport type React from \"react\"\nimport { useMemo } from \"react\"\nimport { Text } from \"./text\"\nimport { cn } from \"@/lib/utils\"\nimport { useTheme } from \"@/app/theme-provider\"\nimport {\n  generateBadgeTokens,\n  type BadgeTokens,\n  type BadgeTokenSet,\n  type BadgeVariant,\n} from \"@/lib/theme/components/badge-tokens\"\n\nexport interface BadgeCustomProps extends React.HTMLAttributes\u003cHTMLDivElement\u003e {\n  variant?: BadgeVariant\n  bordered?: boolean\n  children: React.ReactNode\n  subtle?: boolean\n}\n\nconst baseBadgeClasses = \"inline-flex items-center rounded-full px-2.5 py-0.5\"\n\n// Copiar o importar hexToRgba si no está ya disponible en este archivo\n// Por simplicidad, la copiamos aquí. En un proyecto real, sería mejor importarla de un utils.\nfunction hexToRgba(hex: string, alpha: number): string {\n  if (!hex || typeof hex !== \"string\") return `rgba(0,0,0,${alpha})`\n  let r = 0,\n    g = 0,\n    b = 0\n  if (hex.length === 4) {\n    r = Number.parseInt(hex[1] + hex[1], 16)\n    g = Number.parseInt(hex[2] + hex[2], 16)\n    b = Number.parseInt(hex[3] + hex[3], 16)\n  } else if (hex.length === 7) {\n    r = Number.parseInt(hex.slice(1, 3), 16)\n    g = Number.parseInt(hex.slice(3, 5), 16)\n    b = Number.parseInt(hex.slice(5, 7), 16)\n  }\n  if (isNaN(r) || isNaN(g) || isNaN(b)) return `rgba(0,0,0,${alpha})`\n  return `rgba(${r}, ${g}, ${b}, ${alpha})`\n}\n\nexport function BadgeCustom({\n  variant = \"neutral\",\n  bordered = false,\n  children,\n  className,\n  subtle = false,\n  ...props\n}: BadgeCustomProps) {\n  const { appColorTokens } = useTheme()\n\n  const allBadgeTokens: BadgeTokens | null = useMemo(() =\u003e {\n    if (!appColorTokens) return null\n    return generateBadgeTokens(appColorTokens)\n  }, [appColorTokens])\n\n  if (!allBadgeTokens) {\n    return (\n      \u003cdiv\n        className={cn(\n          baseBadgeClasses,\n          \"bg-gray-200 text-gray-700\",\n          bordered ? \"border border-gray-300\" : \"border border-transparent\",\n          className,\n        )}\n        {...props}\n      \u003e\n        \u003cText size=\"xs\" weight=\"medium\" fontType=\"body\"\u003e\n          {children}\n        \u003c/Text\u003e\n      \u003c/div\u003e\n    )\n  }\n\n  const currentTokens: BadgeTokenSet = allBadgeTokens[variant]\n\n  let finalBackgroundColor: string\n  if (subtle) {\n    if (currentTokens.subtleBackgroundColor !== \"transparent\") {\n      finalBackgroundColor = hexToRgba(currentTokens.subtleBackgroundColor, 0.8)\n    } else {\n      finalBackgroundColor = \"transparent\"\n    }\n  } else {\n    finalBackgroundColor = currentTokens.background\n  }\n\n  let borderColorForStyle = currentTokens.borderColor\n  if (subtle) {\n    borderColorForStyle = currentTokens.subtleBorderColor\n  } else if (bordered \u0026\u0026 currentTokens.borderColor === \"transparent\") {\n    borderColorForStyle = currentTokens.contrastTextColor\n  }\n\n  const dynamicStyles: React.CSSProperties = {\n    backgroundColor: finalBackgroundColor,\n  }\n\n  if (bordered || (variant === \"outline\" \u0026\u0026 !subtle) || (subtle \u0026\u0026 borderColorForStyle !== \"transparent\")) {\n    dynamicStyles.borderColor = borderColorForStyle\n    dynamicStyles.borderWidth = \"1px\"\n    dynamicStyles.borderStyle = \"solid\"\n  } else {\n    dynamicStyles.borderColor = \"transparent\"\n    dynamicStyles.borderWidth = \"1px\"\n    dynamicStyles.borderStyle = \"solid\"\n  }\n\n  const textComponentColor = subtle ? currentTokens.regularTextColor : currentTokens.contrastTextColor\n\n  return (\n    \u003cdiv className={cn(baseBadgeClasses, className)} style={dynamicStyles} {...props}\u003e\n      \u003cText size=\"xs\" weight=\"medium\" fontType=\"body\" style={{ color: textComponentColor }}\u003e\n        {children}\n      \u003c/Text\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"8c:Td24,"])</script><script>self.__next_f.push([1,"/**\n * Ejemplo de componente Button usando el nuevo sistema de diseño\n * Este es un ejemplo de cómo migrar componentes al nuevo sistema\n */\n\n\"use client\"\n\nimport React from \"react\"\nimport { cn } from \"@/lib/utils\"\nimport { colors } from \"@/lib/theme/colors\"\nimport { useTheme } from \"@/app/theme-provider\"\n\n// Definimos los estilos base y variantes usando JS en lugar de CSS\nconst getButtonStyles = (theme: string, isDark: boolean) =\u003e {\n  // Obtenemos los colores correctos basados en el tema actual\n  const themeKey = theme === \"default\" ? \"blue\" : theme\n  const themeColors = colors.themes[themeKey]\n\n  // Ajustamos los colores según el modo (claro/oscuro)\n  const primary = isDark ? themeColors[300] : themeColors[500]\n  const primaryHover = isDark ? themeColors[200] : themeColors[600]\n  const primaryActive = isDark ? themeColors[100] : themeColors[700]\n\n  // Definimos los estilos para cada variante\n  return {\n    base: {\n      display: \"inline-flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      borderRadius: \"0.375rem\",\n      fontSize: \"0.875rem\",\n      fontWeight: 500,\n      height: \"2.5rem\",\n      paddingLeft: \"1rem\",\n      paddingRight: \"1rem\",\n      transition: \"all 150ms\",\n    },\n    variants: {\n      variant: {\n        default: {\n          backgroundColor: primary,\n          color: isDark ? colors.neutral[900] : colors.neutral[50],\n          \"\u0026:hover\": {\n            backgroundColor: primaryHover,\n          },\n          \"\u0026:active\": {\n            backgroundColor: primaryActive,\n          },\n        },\n        outline: {\n          backgroundColor: \"transparent\",\n          color: primary,\n          border: `1px solid ${primary}`,\n          \"\u0026:hover\": {\n            backgroundColor: isDark ? \"rgba(255,255,255,0.1)\" : \"rgba(0,0,0,0.05)\",\n          },\n        },\n        ghost: {\n          backgroundColor: \"transparent\",\n          color: primary,\n          \"\u0026:hover\": {\n            backgroundColor: isDark ? \"rgba(255,255,255,0.1)\" : \"rgba(0,0,0,0.05)\",\n          },\n        },\n      },\n      size: {\n        default: {\n          height: \"2.5rem\",\n          paddingLeft: \"1rem\",\n          paddingRight: \"1rem\",\n        },\n        sm: {\n          height: \"2rem\",\n          paddingLeft: \"0.75rem\",\n          paddingRight: \"0.75rem\",\n          fontSize: \"0.75rem\",\n        },\n        lg: {\n          height: \"3rem\",\n          paddingLeft: \"1.5rem\",\n          paddingRight: \"1.5rem\",\n          fontSize: \"1rem\",\n        },\n      },\n    },\n  }\n}\n\nexport interface ButtonProps extends React.ButtonHTMLAttributes\u003cHTMLButtonElement\u003e {\n  variant?: \"default\" | \"outline\" | \"ghost\"\n  size?: \"default\" | \"sm\" | \"lg\"\n}\n\nconst Button = React.forwardRef\u003cHTMLButtonElement, ButtonProps\u003e(\n  ({ className, variant = \"default\", size = \"default\", ...props }, ref) =\u003e {\n    // Usamos el hook de tema para obtener el tema actual\n    const { theme, isDark } = useTheme()\n\n    // Obtenemos los estilos basados en el tema actual\n    const buttonStyles = getButtonStyles(theme, isDark)\n\n    // Combinamos los estilos base con las variantes seleccionadas\n    const styles = {\n      ...buttonStyles.base,\n      ...buttonStyles.variants.variant[variant],\n      ...buttonStyles.variants.size[size],\n    }\n\n    return \u003cbutton className={cn(className)} ref={ref} style={styles} {...props} /\u003e\n  },\n)\n\nButton.displayName = \"Button\"\n\nexport { Button }\n"])</script><script>self.__next_f.push([1,"8d:T2783,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useTheme } from \"@/app/theme-provider\"\nimport { Check, ChevronDown } from \"lucide-react\"\nimport { motion, AnimatePresence } from \"framer-motion\"\nimport { useRef, useState, useEffect, useMemo } from \"react\"\nimport { Text } from \"@/components/ui/text\"\nimport { Icon } from \"@/components/ui/icon\"\nimport { generateFontSelectorTokens } from \"@/lib/theme/components/font-selector-tokens\"\n\nexport function ColorSchemeSwitcher() {\n  const { colorScheme, mode, setColorScheme, appColorTokens } = useTheme()\n  const [isOpen, setIsOpen] = useState(false)\n  const menuRef = useRef\u003cHTMLDivElement\u003e(null)\n  const buttonRef = useRef\u003cHTMLButtonElement\u003e(null)\n  const [forceUpdate, setForceUpdate] = useState({})\n\n  // Usar useMemo para generar los tokens solo cuando cambian las dependencias\n  const navTokens = useMemo(() =\u003e {\n    return appColorTokens ? generateFontSelectorTokens(appColorTokens, mode) : null\n  }, [appColorTokens, mode])\n\n  // Verificar si tenemos tokens válidos\n  const hasTokens = !!navTokens\n\n  // Efecto para forzar actualización cuando cambia el tema\n  useEffect(() =\u003e {\n    setForceUpdate({})\n  }, [colorScheme, mode])\n\n  // Función directa para cambiar el esquema de color\n  const handleColorSchemeChange = (scheme: \"blue\" | \"green\" | \"orange\") =\u003e {\n    // Aplicamos el cambio de esquema\n    setColorScheme(scheme)\n\n    // Cerramos el menú\n    setIsOpen(false)\n\n    // Forzar re-renderizado\n    setTimeout(() =\u003e {\n      setForceUpdate({})\n    }, 0)\n  }\n\n  // Cerrar el menú cuando se hace clic fuera de él\n  useEffect(() =\u003e {\n    const handleClickOutside = (event: MouseEvent) =\u003e {\n      if (\n        menuRef.current \u0026\u0026\n        buttonRef.current \u0026\u0026\n        !menuRef.current.contains(event.target as Node) \u0026\u0026\n        !buttonRef.current.contains(event.target as Node)\n      ) {\n        setIsOpen(false)\n      }\n    }\n\n    document.addEventListener(\"mousedown\", handleClickOutside)\n    return () =\u003e {\n      document.removeEventListener(\"mousedown\", handleClickOutside)\n    }\n  }, [])\n\n  // Variantes de animación para el menú\n  const menuVariants = {\n    hidden: {\n      opacity: 0,\n      y: -5,\n      scale: 0.95,\n      transition: {\n        duration: 0.2,\n        ease: \"easeInOut\",\n      },\n    },\n    visible: {\n      opacity: 1,\n      y: 0,\n      scale: 1,\n      transition: {\n        duration: 0.2,\n        ease: \"easeOut\",\n      },\n    },\n    exit: {\n      opacity: 0,\n      y: -5,\n      scale: 0.95,\n      transition: {\n        duration: 0.15,\n        ease: \"easeInOut\",\n      },\n    },\n  }\n\n  // Variantes para los elementos del menú\n  const itemVariants = {\n    hidden: { opacity: 0, x: -10 },\n    visible: (custom: number) =\u003e ({\n      opacity: 1,\n      x: 0,\n      transition: {\n        delay: custom * 0.05,\n        duration: 0.2,\n        ease: \"easeOut\",\n      },\n    }),\n  }\n\n  // Obtener el nombre del esquema de color actual\n  const getCurrentColorSchemeName = () =\u003e {\n    const schemes = [\n      { id: \"blue\", name: \"Azul\" },\n      { id: \"green\", name: \"Verde\" },\n      { id: \"orange\", name: \"Naranja\" },\n    ]\n\n    const currentScheme = schemes.find((scheme) =\u003e scheme.id === colorScheme)\n    return currentScheme ? currentScheme.name : \"Default\"\n  }\n\n  // Obtener el color del círculo según el esquema\n  const getColorCircle = () =\u003e {\n    switch (colorScheme) {\n      case \"blue\":\n        return \"bg-blue-600\"\n      case \"green\":\n        return \"bg-green-600\"\n      case \"orange\":\n        return \"bg-orange-500\"\n      default:\n        return \"bg-blue-600\"\n    }\n  }\n\n  // Valores por defecto en caso de que no haya tokens\n  const defaultBackgroundColor = \"rgba(200, 200, 200, 0.5)\"\n  const defaultBorderColor = \"rgba(150, 150, 150, 0.3)\"\n  const defaultTextColor = \"#333333\"\n  const defaultIconColor = \"rgba(100, 100, 100, 0.7)\"\n\n  return (\n    \u003cdiv className=\"relative flex items-center gap-1\"\u003e\n      \u003cText variant=\"caption\" color=\"neutral\" colorVariant=\"textShade\" className=\"text-xs opacity-50 whitespace-nowrap\"\u003e\n        Tema:\n      \u003c/Text\u003e\n\n      \u003cmotion.button\n        ref={buttonRef}\n        whileHover={{ scale: 1.02 }}\n        whileTap={{ scale: 0.98 }}\n        onClick={() =\u003e setIsOpen(!isOpen)}\n        className=\"flex items-center justify-between rounded-full border px-2 py-1 text-xs transition-colors\"\n        style={{\n          backgroundColor: hasTokens \u0026\u0026 navTokens ? `${navTokens.dropdown.backgroundColor}80` : defaultBackgroundColor,\n          borderColor: hasTokens \u0026\u0026 navTokens ? `${navTokens.dropdown.borderColor}30` : defaultBorderColor,\n          minWidth: \"80px\",\n          color: hasTokens \u0026\u0026 navTokens ? navTokens.closedLabelText.color : defaultTextColor,\n        }}\n        aria-label=\"Seleccionar tema de color\"\n        aria-expanded={isOpen}\n        aria-haspopup=\"true\"\n      \u003e\n        \u003cdiv className=\"flex items-center gap-1.5\"\u003e\n          \u003cdiv className={`h-2.5 w-2.5 rounded-full ${getColorCircle()}`} /\u003e\n          \u003cspan\n            style={{\n              fontSize: \"0.75rem\",\n              opacity: 0.7,\n            }}\n          \u003e\n            {getCurrentColorSchemeName()}\n          \u003c/span\u003e\n        \u003c/div\u003e\n        \u003cChevronDown\n          style={{\n            color: hasTokens \u0026\u0026 navTokens ? `${navTokens.icon.color}70` : defaultIconColor,\n            width: \"12px\",\n            height: \"12px\",\n            transition: \"transform 0.2s\",\n            transform: isOpen ? \"rotate(180deg)\" : \"rotate(0deg)\",\n          }}\n        /\u003e\n      \u003c/motion.button\u003e\n\n      \u003cAnimatePresence\u003e\n        {isOpen \u0026\u0026 (\n          \u003cmotion.div\n            ref={menuRef}\n            className=\"absolute right-0 top-full z-50 mt-1 w-40 rounded-lg border\"\n            style={{\n              backgroundColor: hasTokens \u0026\u0026 navTokens ? navTokens.dropdown.backgroundColor : \"#ffffff\",\n              borderColor: hasTokens \u0026\u0026 navTokens ? `${navTokens.dropdown.borderColor}40` : defaultBorderColor,\n              boxShadow: hasTokens \u0026\u0026 navTokens ? navTokens.dropdown.boxShadow : \"0 4px 12px rgba(0, 0, 0, 0.1)\",\n              padding: \"0.5rem\",\n            }}\n            variants={menuVariants}\n            initial=\"hidden\"\n            animate=\"visible\"\n            exit=\"exit\"\n          \u003e\n            \u003cdiv className=\"grid gap-1\"\u003e\n              {/* Opción Azul */}\n              \u003cmotion.button\n                variants={itemVariants}\n                initial=\"hidden\"\n                animate=\"visible\"\n                custom={0}\n                className=\"flex w-full items-center justify-between rounded-md px-2 py-1.5 transition-colors\"\n                style={{\n                  backgroundColor:\n                    colorScheme === \"blue\" \u0026\u0026 hasTokens \u0026\u0026 navTokens\n                      ? `${navTokens.item.selected.backgroundColor}50`\n                      : colorScheme === \"blue\"\n                        ? \"rgba(200, 200, 255, 0.25)\"\n                        : \"transparent\",\n                }}\n                onClick={() =\u003e handleColorSchemeChange(\"blue\")}\n              \u003e\n                \u003cdiv className=\"flex items-center gap-2\"\u003e\n                  \u003cdiv className=\"h-3 w-3 rounded-full bg-blue-600\" /\u003e\n                  \u003cText color=\"secondary\" colorVariant=\"text\" size=\"xs\"\u003e\n                    Azul\n                  \u003c/Text\u003e\n                \u003c/div\u003e\n                {colorScheme === \"blue\" \u0026\u0026 (\n                  \u003cIcon size=\"xs\" color=\"primary\" colorVariant=\"pure\"\u003e\n                    \u003cCheck className=\"h-3 w-3\" /\u003e\n                  \u003c/Icon\u003e\n                )}\n              \u003c/motion.button\u003e\n\n              {/* Opción Verde */}\n              \u003cmotion.button\n                variants={itemVariants}\n                initial=\"hidden\"\n                animate=\"visible\"\n                custom={1}\n                className=\"flex w-full items-center justify-between rounded-md px-2 py-1.5 transition-colors\"\n                style={{\n                  backgroundColor:\n                    colorScheme === \"green\" \u0026\u0026 hasTokens \u0026\u0026 navTokens\n                      ? `${navTokens.item.selected.backgroundColor}50`\n                      : colorScheme === \"green\"\n                        ? \"rgba(200, 255, 200, 0.25)\"\n                        : \"transparent\",\n                }}\n                onClick={() =\u003e handleColorSchemeChange(\"green\")}\n              \u003e\n                \u003cdiv className=\"flex items-center gap-2\"\u003e\n                  \u003cdiv className=\"h-3 w-3 rounded-full bg-green-600\" /\u003e\n                  \u003cText color=\"secondary\" colorVariant=\"text\" size=\"xs\"\u003e\n                    Verde\n                  \u003c/Text\u003e\n                \u003c/div\u003e\n                {colorScheme === \"green\" \u0026\u0026 (\n                  \u003cIcon size=\"xs\" color=\"primary\" colorVariant=\"pure\"\u003e\n                    \u003cCheck className=\"h-3 w-3\" /\u003e\n                  \u003c/Icon\u003e\n                )}\n              \u003c/motion.button\u003e\n\n              {/* Opción Naranja */}\n              \u003cmotion.button\n                variants={itemVariants}\n                initial=\"hidden\"\n                animate=\"visible\"\n                custom={2}\n                className=\"flex w-full items-center justify-between rounded-md px-2 py-1.5 transition-colors\"\n                style={{\n                  backgroundColor:\n                    colorScheme === \"orange\" \u0026\u0026 hasTokens \u0026\u0026 navTokens\n                      ? `${navTokens.item.selected.backgroundColor}50`\n                      : colorScheme === \"orange\"\n                        ? \"rgba(255, 230, 200, 0.25)\"\n                        : \"transparent\",\n                }}\n                onClick={() =\u003e handleColorSchemeChange(\"orange\")}\n              \u003e\n                \u003cdiv className=\"flex items-center gap-2\"\u003e\n                  \u003cdiv className=\"h-3 w-3 rounded-full bg-orange-500\" /\u003e\n                  \u003cText color=\"secondary\" colorVariant=\"text\" size=\"xs\"\u003e\n                    Naranja\n                  \u003c/Text\u003e\n                \u003c/div\u003e\n                {colorScheme === \"orange\" \u0026\u0026 (\n                  \u003cIcon size=\"xs\" color=\"primary\" colorVariant=\"pure\"\u003e\n                    \u003cCheck className=\"h-3 w-3\" /\u003e\n                  \u003c/Icon\u003e\n                )}\n              \u003c/motion.button\u003e\n            \u003c/div\u003e\n          \u003c/motion.div\u003e\n        )}\n      \u003c/AnimatePresence\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"8e:T28ec,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport React, { forwardRef, useState, useEffect } from \"react\"\nimport { motion } from \"framer-motion\"\nimport { cn } from \"@/lib/utils\"\nimport { useTheme } from \"@/app/theme-provider\"\nimport {\n  generateCheckTokens,\n  type CheckVariant,\n  type CheckSize,\n  type CheckVisualVariant,\n} from \"@/lib/theme/components/check-tokens\"\nimport type { CheckTokens as CheckTokensType } from \"@/lib/theme/components/check-tokens\"\n\nexport interface CustomCheckProps extends Omit\u003cReact.InputHTMLAttributes\u003cHTMLInputElement\u003e, \"size\"\u003e {\n  label?: string\n  description?: string\n  variant?: CheckVariant\n  size?: CheckSize\n  visualVariant?: CheckVisualVariant\n  indeterminate?: boolean\n  error?: boolean\n  className?: string\n  labelClassName?: string\n  descriptionClassName?: string\n}\n\nconst CustomCheck = forwardRef\u003cHTMLInputElement, CustomCheckProps\u003e(\n  (\n    {\n      className,\n      label,\n      description,\n      variant = \"primary\",\n      size = \"md\",\n      visualVariant = \"default\",\n      indeterminate = false,\n      disabled = false,\n      error = false,\n      checked,\n      defaultChecked,\n      onChange,\n      labelClassName,\n      descriptionClassName,\n      ...props\n    },\n    ref,\n  ) =\u003e {\n    const { appColorTokens } = useTheme()\n    const [isChecked, setIsChecked] = useState\u003cboolean\u003e(Boolean(defaultChecked || checked))\n    const [isIndeterminate, setIsIndeterminate] = useState\u003cboolean\u003e(indeterminate)\n\n    // Generar tokens con manejo de errores\n    const tokens: CheckTokensType | null = React.useMemo(() =\u003e {\n      if (!appColorTokens) return null\n      return generateCheckTokens(appColorTokens, size, error ? \"danger\" : variant, visualVariant)\n    }, [appColorTokens, size, error, variant, visualVariant])\n\n    // Actualizar estado cuando cambian las props\n    useEffect(() =\u003e {\n      if (checked !== undefined) {\n        setIsChecked(checked)\n      }\n    }, [checked])\n\n    useEffect(() =\u003e {\n      setIsIndeterminate(indeterminate)\n    }, [indeterminate])\n\n    // Manejar cambios\n    const handleChange = (e: React.ChangeEvent\u003cHTMLInputElement\u003e) =\u003e {\n      if (checked === undefined) {\n        setIsChecked(e.target.checked)\n        setIsIndeterminate(false)\n      }\n\n      onChange?.(e)\n    }\n\n    // Referencia para manejar el estado indeterminado\n    const inputRef = React.useRef\u003cHTMLInputElement\u003e(null)\n\n    // Combinar refs\n    React.useImperativeHandle(ref, () =\u003e inputRef.current as HTMLInputElement)\n\n    // Actualizar el estado indeterminado del input nativo\n    useEffect(() =\u003e {\n      if (inputRef.current) {\n        inputRef.current.indeterminate = isIndeterminate\n      }\n    }, [isIndeterminate])\n\n    // Fallback if tokens are not ready\n    if (!tokens) {\n      // Simple fallback rendering - a disabled-looking checkbox\n      return (\n        \u003clabel className={cn(\"flex items-start gap-2 cursor-not-allowed opacity-50\", className)}\u003e\n          \u003cdiv\n            className=\"flex-shrink-0\"\n            style={{\n              width: getSizeTokens(size).box,\n              height: getSizeTokens(size).box,\n              border: \"1px solid #cccccc\",\n              borderRadius: getSizeTokens(size).borderRadius,\n              backgroundColor: \"#e0e0e0\",\n            }}\n          /\u003e\n          {(label || description) \u0026\u0026 (\n            \u003cdiv className=\"flex flex-col\"\u003e\n              {label \u0026\u0026 (\n                \u003cspan\n                  className={cn(\"text-sm font-medium text-gray-400\", labelClassName)}\n                  style={{ fontSize: getSizeTokens(size).fontSize }}\n                \u003e\n                  {label}\n                \u003c/span\u003e\n              )}\n              {description \u0026\u0026 \u003cspan className={cn(\"text-xs text-gray-400\", descriptionClassName)}\u003e{description}\u003c/span\u003e}\n            \u003c/div\u003e\n          )}\n        \u003c/label\u003e\n      )\n    }\n\n    // Estilos base\n    const checkboxStyle: React.CSSProperties = {\n      width: tokens.size.box,\n      height: tokens.size.box,\n      backgroundColor: isChecked || isIndeterminate ? tokens.checked.background : tokens.background,\n      borderColor: isChecked || isIndeterminate ? tokens.checked.border : tokens.border,\n      borderWidth: \"1px\", // Borde más fino\n      borderStyle: \"solid\",\n      borderRadius: tokens.size.borderRadius,\n      transition: \"all 0.2s ease\",\n    }\n\n    // Variantes para la animación del check\n    const checkVariants = {\n      checked: {\n        pathLength: 1,\n        opacity: 1,\n      },\n      unchecked: {\n        pathLength: 0,\n        opacity: 0,\n      },\n    }\n\n    // Variantes para la animación del indeterminado\n    const indeterminateVariants = {\n      checked: {\n        scaleX: 1,\n        opacity: 1,\n      },\n      unchecked: {\n        scaleX: 0,\n        opacity: 0,\n      },\n    }\n\n    // Determinar el grosor del check según el tamaño\n    let checkThickness = 2.5\n    let svgPadding = \"1px\"\n\n    switch (size) {\n      case \"xs\":\n        checkThickness = 2.5\n        svgPadding = \"1px\"\n        break\n      case \"sm\":\n        checkThickness = 3\n        svgPadding = \"1px\"\n        break\n      case \"md\":\n        checkThickness = 3.5\n        svgPadding = \"1px\"\n        break\n      case \"lg\":\n        checkThickness = 4\n        svgPadding = \"2px\"\n        break\n      case \"xl\":\n        checkThickness = 5\n        svgPadding = \"2px\"\n        break\n    }\n\n    return (\n      \u003clabel\n        className={cn(\"flex items-start gap-2 cursor-pointer\", disabled \u0026\u0026 \"cursor-not-allowed opacity-60\", className)}\n      \u003e\n        \u003cdiv className=\"relative flex-shrink-0\"\u003e\n          {/* Input nativo (oculto) */}\n          \u003cinput\n            type=\"checkbox\"\n            ref={inputRef}\n            checked={isChecked}\n            disabled={disabled}\n            onChange={handleChange}\n            className=\"sr-only\"\n            {...props}\n          /\u003e\n\n          {/* Checkbox personalizado */}\n          \u003cmotion.div\n            style={checkboxStyle}\n            whileHover={\n              !disabled\n                ? {\n                    backgroundColor: tokens.hover.background,\n                    borderColor: tokens.hover.border,\n                    scale: 1.05,\n                  }\n                : {}\n            }\n            whileTap={\n              !disabled\n                ? {\n                    backgroundColor: tokens.active.background,\n                    borderColor: tokens.active.border,\n                    scale: 0.95,\n                  }\n                : {}\n            }\n            animate={{\n              boxShadow:\n                typeof document !== \"undefined\" \u0026\u0026 props.id === document.activeElement?.id\n                  ? `0 0 0 3px ${tokens.focus.outline}`\n                  : \"none\",\n            }}\n          \u003e\n            {/* Check mark */}\n            {!isIndeterminate \u0026\u0026 (\n              \u003cmotion.svg\n                viewBox=\"0 0 24 24\"\n                className=\"absolute inset-0 w-full h-full\"\n                style={{ padding: svgPadding }}\n                initial={false}\n                animate={isChecked ? \"checked\" : \"unchecked\"}\n              \u003e\n                \u003cmotion.path\n                  d=\"M4 12l5 5L20 7\"\n                  fill=\"transparent\"\n                  strokeWidth={checkThickness}\n                  stroke={isChecked ? tokens.checked.check : \"transparent\"}\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  variants={checkVariants}\n                  transition={{ duration: 0.2 }}\n                /\u003e\n              \u003c/motion.svg\u003e\n            )}\n\n            {/* Indeterminate mark */}\n            {isIndeterminate \u0026\u0026 (\n              \u003cmotion.div\n                className=\"absolute inset-0 flex items-center justify-center\"\n                initial={false}\n                animate={isIndeterminate ? \"checked\" : \"unchecked\"}\n              \u003e\n                \u003cmotion.div\n                  style={{\n                    width: \"70%\",\n                    height: checkThickness,\n                    backgroundColor: tokens.checked.check,\n                    borderRadius: \"1px\",\n                  }}\n                  variants={indeterminateVariants}\n                  transition={{ duration: 0.2 }}\n                /\u003e\n              \u003c/motion.div\u003e\n            )}\n\n            {/* Ripple effect on click */}\n            \u003cmotion.div\n              className=\"absolute inset-0 rounded-full bg-current\"\n              initial={{ opacity: 0, scale: 0 }}\n              whileTap={{ opacity: 0.2, scale: 1.5 }}\n              transition={{ duration: 0.4 }}\n              style={{ color: tokens.checked.check }}\n            /\u003e\n          \u003c/motion.div\u003e\n        \u003c/div\u003e\n\n        {/* Label y descripción */}\n        {(label || description) \u0026\u0026 (\n          \u003cdiv className=\"flex flex-col\"\u003e\n            {label \u0026\u0026 (\n              \u003cspan\n                className={cn(\"text-sm font-medium\", disabled \u0026\u0026 \"opacity-60\", labelClassName)}\n                style={{ fontSize: tokens.size.fontSize, color: tokens.text }}\n              \u003e\n                {label}\n              \u003c/span\u003e\n            )}\n            {description \u0026\u0026 (\n              \u003cspan\n                className={cn(\"text-xs\", disabled \u0026\u0026 \"opacity-60\", descriptionClassName)}\n                style={{ color: tokens.text }}\n              \u003e\n                {description}\n              \u003c/span\u003e\n            )}\n          \u003c/div\u003e\n        )}\n      \u003c/label\u003e\n    )\n  },\n)\n\nCustomCheck.displayName = \"CustomCheck\"\n\nexport { CustomCheck }\n\n// Helper function (or import if it's moved to a shared util)\n// This is duplicated from check-tokens.ts for now.\n// In a real scenario, this should be a shared utility or imported.\nfunction getSizeTokens(size: CheckSize) {\n  switch (size) {\n    case \"xs\":\n      return {\n        box: \"16px\",\n        checkThickness: 2.5,\n        borderRadius: \"3px\",\n        fontSize: \"0.75rem\",\n        padding: \"0.25rem\",\n      }\n    case \"sm\":\n      return {\n        box: \"18px\",\n        checkThickness: 3,\n        borderRadius: \"4px\",\n        fontSize: \"0.875rem\",\n        padding: \"0.375rem\",\n      }\n    case \"lg\":\n      return {\n        box: \"24px\",\n        checkThickness: 4,\n        borderRadius: \"6px\",\n        fontSize: \"1.125rem\",\n        padding: \"0.625rem\",\n      }\n    case \"xl\":\n      return {\n        box: \"28px\",\n        checkThickness: 5,\n        borderRadius: \"7px\",\n        fontSize: \"1.25rem\",\n        padding: \"0.75rem\",\n      }\n    default: // md\n      return {\n        box: \"20px\",\n        checkThickness: 3.5,\n        borderRadius: \"5px\",\n        fontSize: \"1rem\",\n        padding: \"0.5rem\",\n      }\n  }\n}\n"])</script><script>self.__next_f.push([1,"8f:T560,\"use client\"\n\nimport { useTheme } from \"@/app/theme-provider\"\nimport { Switch } from \"@/components/ui/switch\"\nimport { Sun, Moon } from \"lucide-react\"\nimport { motion } from \"framer-motion\"\nimport { useEffect, useState } from \"react\"\nimport { Icon } from \"@/components/ui/icon\"\n\nexport function DarkModeSwitcher() {\n  const { mode, setMode } = useTheme()\n  const [forceUpdate, setForceUpdate] = useState({})\n\n  // Efecto para forzar actualización cuando cambia el tema\n  useEffect(() =\u003e {\n    setForceUpdate({})\n  }, [mode])\n\n  // Función para alternar entre modo claro y oscuro\n  const toggleMode = () =\u003e {\n    const newMode = mode === \"light\" ? \"dark\" : \"light\"\n    setMode(newMode)\n\n    // Forzar re-renderizado\n    setTimeout(() =\u003e {\n      setForceUpdate({})\n    }, 0)\n  }\n\n  return (\n    \u003cdiv className=\"flex items-center gap-1\"\u003e\n      \u003cIcon size=\"xs\" color=\"neutral\" colorVariant=\"pure\"\u003e\n        \u003cSun className=\"h-3 w-3\" /\u003e\n      \u003c/Icon\u003e\n      \u003cmotion.div whileTap={{ scale: 0.95 }}\u003e\n        \u003cSwitch\n          checked={mode === \"dark\"}\n          onCheckedChange={toggleMode}\n          className=\"scale-75 origin-center\"\n          aria-label={mode === \"dark\" ? \"Cambiar a modo claro\" : \"Cambiar a modo oscuro\"}\n        /\u003e\n      \u003c/motion.div\u003e\n      \u003cIcon size=\"xs\" color=\"neutral\" colorVariant=\"pure\"\u003e\n        \u003cMoon className=\"h-3 w-3\" /\u003e\n      \u003c/Icon\u003e\n    \u003c/div\u003e\n  )\n}\n90:T572,\"use client\"\n\nimport React from \"react\"\nimport { cn } from \"@/lib/utils\"\nimport { useTheme } from \"@/app/theme-provider\"\nimport { generateDividerTokens, type DividerSize, type DividerVariant } from \"@/lib/theme/components/divider-tokens\"\nimport type { HTMLAttributes } from \"react\"\n\nexport interface DividerProps extends HTMLAttributes\u003cHTMLDivElement\u003e {\n  variant?: DividerVariant\n  size?: DividerSize\n  className?: string\n}\n\nexport function Divider({ variant = \"gradient\", size = \"md\", className, ...props }: DividerProps) {\n  const { appColorTokens } = useTheme()\n\n  const dividerTokens = React.useMemo(() =\u003e {\n    if (!appColorTokens) return null\n    re"])</script><script>self.__next_f.push([1,"turn generateDividerTokens(appColorTokens)\n  }, [appColorTokens])\n\n  if (!dividerTokens) {\n    return \u003cdiv className={cn(\"h-0.5 w-16 bg-primary rounded-full mx-auto\", className)} {...props} /\u003e\n  }\n\n  const variantStyle = dividerTokens.variants[variant]\n  const sizeStyle = dividerTokens.sizes[size]\n\n  const style: React.CSSProperties = {\n    height: sizeStyle.height,\n    width: sizeStyle.width,\n    borderRadius: sizeStyle.borderRadius,\n  }\n\n  if (variant === \"gradient\") {\n    style.backgroundImage = (variantStyle as { backgroundImage: string }).backgroundImage\n  } else {\n    style.background = (variantStyle as { background: string }).background\n  }\n\n  return \u003cdiv className={cn(\"mx-auto\", className)} style={style} {...props} /\u003e\n}\n91:T297f,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useFontTheme } from \"@/app/font-provider\"\nimport { ChevronDown } from \"lucide-react\"\nimport { motion, AnimatePresence } from \"framer-motion\"\nimport { useRef, useState, useEffect } from \"react\"\nimport { useTheme } from \"@/app/theme-provider\"\nimport { useColorTokens } from \"@/hooks/use-color-tokens\"\nimport { fontThemeConfig } from \"@/lib/fonts\"\nimport { generateFontSelectorTokens } from \"@/lib/theme/components/font-selector-tokens\"\nimport { Text } from \"@/components/ui/text\"\n\nexport function FontThemeSwitcher() {\n  const { fontTheme, setFontTheme } = useFontTheme()\n  const { mode, appColorTokens } = useTheme()\n  const [isOpen, setIsOpen] = useState(false)\n  const menuRef = useRef\u003cHTMLDivElement\u003e(null)\n  const buttonRef = useRef\u003cHTMLButtonElement\u003e(null)\n  const { component } = useColorTokens()\n\n  // Obtener tokens para el selector de fuentes\n  const fontTokens = generateFontSelectorTokens(appColorTokens, mode)\n\n  // Cerrar el menú cuando se hace clic fuera de él\n  useEffect(() =\u003e {\n    const handleClickOutside = (event: MouseEvent) =\u003e {\n      if (\n        menuRef.current \u0026\u0026\n        buttonRef.current \u0026\u0026\n        !menuRef.current.contains(event.target as Node) \u0026\u0026\n        !buttonRef.current.contains(event.target as Node)\n      ) {\n        setIsOpen(false)\n      }\n    }\n\n    document.addEventListener(\"mousedown\", handleClickOutside)\n    return () =\u003e {\n      document.removeEventListener(\"mousedown\", handleClickOutside)\n    }\n  }, [])\n\n  // Variantes de animación para el menú\n  const menuVariants = {\n    hidden: {\n      opacity: 0,\n      y: -5,\n      scale: 0.95,\n      transition: {\n        duration: 0.2,\n        ease: \"easeInOut\",\n      },\n    },\n    visible: {\n      opacity: 1,\n      y: 0,\n      scale: 1,\n      transition: {\n        duration: 0.2,\n        ease: \"easeOut\",\n      },\n    },\n    exit: {\n      opacity: 0,\n      y: -5,\n      scale: 0.95,\n      transition: {\n        duration: 0.15,\n        ease: \"easeInOut\",\n      },\n    },\n  }\n\n  // Variantes para los elementos del menú\n  const itemVariants = {\n    hidden: { opacity: 0, x: -10 },\n    visible: (custom: number) =\u003e ({\n      opacity: 1,\n      x: 0,\n      transition: {\n        delay: custom * 0.05,\n        duration: 0.2,\n        ease: \"easeOut\",\n      },\n    }),\n  }\n\n  // Obtener el nombre del par de fuentes actual\n  const getCurrentFontPairName = () =\u003e {\n    const fontStyles = [\n      { id: \"sustrato\", name: \"Estilo Sustrato\" },\n      { id: \"classic\", name: \"Estilo Clásico\" },\n      { id: \"technical\", name: \"Estilo Técnico\" },\n      { id: \"creative\", name: \"Estilo Creativo\" },\n      { id: \"accessible\", name: \"Estilo Accesible\" },\n      { id: \"modern\", name: \"Estilo Moderno\" },\n      { id: \"minimalist\", name: \"Estilo Minimalista\" },\n    ]\n\n    const currentFont = fontStyles.find((font) =\u003e font.id === fontTheme)\n    return currentFont ? currentFont.name : \"Default\"\n  }\n\n  // Definición de los estilos de fuente con ejemplos de párrafos\n  const fontStyles = [\n    {\n      id: \"sustrato\",\n      name: \"Estilo Sustrato\",\n      headingStyle: {\n        fontFamily: \"var(--font-ubuntu), 'Ubuntu', sans-serif\",\n        fontWeight: \"700\",\n      },\n      bodyStyle: {\n        fontFamily: \"var(--font-ubuntu), 'Ubuntu', sans-serif\",\n        fontWeight: \"400\",\n      },\n    },\n    {\n      id: \"classic\",\n      name: \"Estilo Clásico\",\n      headingStyle: {\n        fontFamily: fontThemeConfig.classic.heading,\n        fontWeight: fontThemeConfig.classic.headingWeight,\n      },\n      bodyStyle: {\n        fontFamily: fontThemeConfig.classic.body,\n        fontWeight: fontThemeConfig.classic.bodyWeight,\n      },\n    },\n    {\n      id: \"technical\",\n      name: \"Estilo Técnico\",\n      headingStyle: {\n        fontFamily: fontThemeConfig.technical.heading,\n        fontWeight: fontThemeConfig.technical.headingWeight,\n        letterSpacing: fontThemeConfig.technical.letterSpacingHeadings,\n      },\n      bodyStyle: {\n        fontFamily: fontThemeConfig.technical.body,\n        fontWeight: fontThemeConfig.technical.bodyWeight,\n        letterSpacing: fontThemeConfig.technical.letterSpacingBody,\n      },\n    },\n    {\n      id: \"creative\",\n      name: \"Estilo Creativo\",\n      headingStyle: {\n        fontFamily: fontThemeConfig.creative.heading,\n        fontWeight: fontThemeConfig.creative.headingWeight,\n        letterSpacing: fontThemeConfig.creative.letterSpacingHeadings,\n      },\n      bodyStyle: {\n        fontFamily: fontThemeConfig.creative.body,\n        fontWeight: fontThemeConfig.creative.bodyWeight,\n        letterSpacing: fontThemeConfig.creative.letterSpacingBody,\n      },\n    },\n    {\n      id: \"accessible\",\n      name: \"Estilo Accesible\",\n      headingStyle: {\n        fontFamily: fontThemeConfig.accessible.heading,\n        fontWeight: fontThemeConfig.accessible.headingWeight,\n        letterSpacing: fontThemeConfig.accessible.letterSpacingHeadings,\n      },\n      bodyStyle: {\n        fontFamily: fontThemeConfig.accessible.body,\n        fontWeight: fontThemeConfig.accessible.bodyWeight,\n        letterSpacing: fontThemeConfig.accessible.letterSpacingBody,\n      },\n    },\n    {\n      id: \"modern\",\n      name: \"Estilo Moderno\",\n      headingStyle: {\n        fontFamily: fontThemeConfig.modern.heading,\n        fontWeight: fontThemeConfig.modern.headingWeight,\n      },\n      bodyStyle: {\n        fontFamily: fontThemeConfig.modern.body,\n        fontWeight: fontThemeConfig.modern.bodyWeight,\n      },\n    },\n    {\n      id: \"minimalist\",\n      name: \"Estilo Minimalista\",\n      headingStyle: {\n        fontFamily: fontThemeConfig.minimalist.heading,\n        fontWeight: fontThemeConfig.minimalist.headingWeight,\n        letterSpacing: fontThemeConfig.minimalist.letterSpacingHeadings,\n      },\n      bodyStyle: {\n        fontFamily: fontThemeConfig.minimalist.body,\n        fontWeight: fontThemeConfig.minimalist.bodyWeight,\n        letterSpacing: fontThemeConfig.minimalist.letterSpacingBody,\n      },\n    },\n  ]\n\n  // Texto de ejemplo para los párrafos (reducido a la mitad)\n  const sampleBodyText = \"Este es un ejemplo de texto con esta fuente.\"\n\n  // Obtener el estilo actual de la fuente\n  const getCurrentFontStyle = () =\u003e {\n    const currentFont = fontStyles.find((font) =\u003e font.id === fontTheme)\n    return currentFont ? currentFont.bodyStyle : fontStyles[0].bodyStyle\n  }\n\n  return (\n    \u003cdiv className=\"relative flex items-center gap-2\"\u003e\n      {/* Label al lado izquierdo */}\n      \u003cText variant=\"caption\" color=\"neutral\" colorVariant=\"textShade\" className=\"text-xs opacity-50 whitespace-nowrap\"\u003e\n        Fuente:\n      \u003c/Text\u003e\n\n      {/* Selector con fondo diluido */}\n      \u003cmotion.button\n        ref={buttonRef}\n        whileHover={{ scale: 1.02 }}\n        whileTap={{ scale: 0.98 }}\n        onClick={() =\u003e setIsOpen(!isOpen)}\n        className=\"flex items-center justify-between rounded-full border px-2 py-1 text-xs transition-colors\"\n        style={{\n          backgroundColor: `${appColorTokens.tertiary.bg}80`, // Fondo diluido al 50%\n          borderColor: `${fontTokens.closed.borderColor}30`, // Borde más sutil\n          minWidth: \"100px\",\n          color: fontTokens.closedLabelText.color,\n        }}\n        aria-label=\"Seleccionar fuente\"\n        aria-expanded={isOpen}\n        aria-haspopup=\"true\"\n      \u003e\n        \u003cspan\n          style={{\n            ...getCurrentFontStyle(),\n            fontSize: \"0.75rem\",\n            opacity: 0.7, // Más sutil\n            color: appColorTokens.neutral.text,\n          }}\n        \u003e\n          {getCurrentFontPairName()}\n        \u003c/span\u003e\n        \u003cChevronDown\n          style={{\n            color: `${fontTokens.icon.color}70`, // Icono más sutil\n            width: \"12px\", // Más pequeño\n            height: \"12px\", // Más pequeño\n            transition: \"transform 0.2s\",\n            transform: isOpen ? \"rotate(180deg)\" : \"rotate(0deg)\",\n          }}\n        /\u003e\n      \u003c/motion.button\u003e\n\n      \u003cAnimatePresence\u003e\n        {isOpen \u0026\u0026 (\n          \u003cmotion.div\n            ref={menuRef}\n            className=\"absolute left-0 top-full z-50 mt-1 w-60 rounded-lg border\"\n            style={{\n              backgroundColor: fontTokens.dropdown.backgroundColor, // Fondo sólido sin transparencia\n              borderColor: `${fontTokens.dropdown.borderColor}40`, // Borde más sutil\n              boxShadow: fontTokens.dropdown.boxShadow,\n              padding: \"0.5rem\",\n              maxHeight: \"300px\",\n              overflowY: \"auto\" as any,\n            }}\n            variants={menuVariants}\n            initial=\"hidden\"\n            animate=\"visible\"\n            exit=\"exit\"\n          \u003e\n            \u003cdiv className=\"grid gap-1\"\u003e\n              {fontStyles.map((font, index) =\u003e (\n                \u003cmotion.div\n                  key={font.id}\n                  variants={itemVariants}\n                  initial=\"hidden\"\n                  animate=\"visible\"\n                  custom={index}\n                  className=\"cursor-pointer rounded-md p-2 transition-colors hover:bg-opacity-50\"\n                  style={{\n                    backgroundColor:\n                      fontTheme === font.id\n                        ? `${fontTokens.item.selected.backgroundColor}50` // Más sutil\n                        : \"transparent\",\n                  }}\n                  onClick={() =\u003e {\n                    setFontTheme(font.id as any)\n                    setIsOpen(false)\n                  }}\n                \u003e\n                  {/* Nombre de la fuente usando la propia fuente */}\n                  \u003cp\n                    style={{\n                      ...font.headingStyle,\n                      color: fontTokens.itemParagraph.color,\n                      fontSize: \"0.85rem\",\n                      marginBottom: \"0.25rem\",\n                      fontWeight: fontTheme === font.id ? \"600\" : \"400\", // Menos contrastado\n                      opacity: fontTheme === font.id ? 0.9 : 0.7, // Más sutil\n                    }}\n                  \u003e\n                    {font.name}\n                    {fontTheme === font.id \u0026\u0026 \" ✓\"}\n                  \u003c/p\u003e\n\n                  {/* Párrafo de ejemplo con la fuente de cuerpo */}\n                  \u003cp\n                    style={{\n                      ...font.bodyStyle,\n                      color: `${fontTokens.itemParagraph.color}AA`, // Más sutil\n                      fontSize: \"0.75rem\",\n                      lineHeight: \"1.2\",\n                    }}\n                  \u003e\n                    {sampleBodyText}\n                  \u003c/p\u003e\n                \u003c/motion.div\u003e\n              ))}\n            \u003c/div\u003e\n          \u003c/motion.div\u003e\n        )}\n      \u003c/AnimatePresence\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"92:T982,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport * as React from \"react\"\nimport { Label } from \"./label\"\nimport { cn } from \"@/lib/utils\"\nimport { Text } from \"./text\"\n\ninterface FormFieldProps {\n  label: string\n  htmlFor: string\n  className?: string\n  children: React.ReactNode\n  hint?: string\n  error?: string\n}\n\nexport function FormField({ label, htmlFor, className, children, hint, error }: FormFieldProps) {\n  const [isFocused, setIsFocused] = React.useState(false)\n\n  // Usamos un ID único para el contenedor\n  const containerId = React.useMemo(() =\u003e `form-field-${htmlFor}`, [htmlFor])\n\n  // Efecto para manejar el focus usando eventos a nivel de documento\n  React.useEffect(() =\u003e {\n    const handleFocusChange = (e: FocusEvent) =\u003e {\n      const container = document.getElementById(containerId)\n      if (!container) return\n\n      // Verificamos si el elemento enfocado está dentro de nuestro contenedor\n      if (container.contains(e.target as Node)) {\n        console.log(`Focus detected in container for: ${htmlFor}`)\n        setIsFocused(true)\n      } else if (isFocused) {\n        console.log(`Focus lost from container for: ${htmlFor}`)\n        setIsFocused(false)\n      }\n    }\n\n    // Agregamos listeners para capturar focus y blur en todo el documento\n    document.addEventListener(\"focusin\", handleFocusChange)\n    document.addEventListener(\"focusout\", handleFocusChange)\n\n    return () =\u003e {\n      document.removeEventListener(\"focusin\", handleFocusChange)\n      document.removeEventListener(\"focusout\", handleFocusChange)\n    }\n  }, [containerId, htmlFor, isFocused])\n\n  // Clonamos el hijo para asignarle el ID correcto\n  const childrenWithId = React.Children.map(children, (child) =\u003e {\n    if (React.isValidElement(child)) {\n      return React.cloneElement(child, {\n        id: htmlFor,\n        ...child.props,\n      })\n    }\n    return child\n  })\n\n  return (\n    \u003cdiv id={containerId} className={cn(\"space-y-2\", className)}\u003e\n      \u003cdiv\u003e\n        \u003cText variant=\"label\" color={isFocused ? \"primary\" : \"neutral\"} colorVariant={isFocused ? \"pure\" : \"text\"}\u003e\n          \u003cLabel htmlFor={htmlFor}\u003e{label}\u003c/Label\u003e\n        \u003c/Text\u003e\n      \u003c/div\u003e\n      {childrenWithId}\n      {hint \u0026\u0026 !error \u0026\u0026 (\n        \u003cText variant=\"caption\" color=\"neutral\" colorVariant=\"text\"\u003e\n          {hint}\n        \u003c/Text\u003e\n      )}\n      {error \u0026\u0026 (\n        \u003cText variant=\"caption\" color=\"error\" colorVariant=\"text\"\u003e\n          {error}\n        \u003c/Text\u003e\n      )}\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"93:T165e,"])</script><script>self.__next_f.push([1,"\"use client\"\nimport { Home, Settings, User, Bell, AlertTriangle, CheckCircle, XCircle, FileText, Search, Menu } from \"lucide-react\"\nimport { Icon, createIcon } from \"./icon\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"./card\"\n\n// Crear iconos preconfigurados para uso común\nconst HomeIcon = createIcon(Home)\nconst SettingsIcon = createIcon(Settings)\nconst UserIcon = createIcon(User)\nconst BellIcon = createIcon(Bell)\nconst AlertIcon = createIcon(AlertTriangle, { color: \"warning\" })\nconst SuccessIcon = createIcon(CheckCircle, { color: \"success\" })\nconst ErrorIcon = createIcon(XCircle, { color: \"danger\" })\nconst FileIcon = createIcon(FileText, { color: \"secondary\" })\nconst SearchIcon = createIcon(Search, { color: \"muted\" })\nconst MenuIcon = createIcon(Menu)\n\nexport function IconShowcase() {\n  return (\n    \u003cdiv className=\"space-y-8\"\u003e\n      \u003cCard\u003e\n        \u003cCardHeader\u003e\n          \u003cCardTitle\u003eTamaños de iconos\u003c/CardTitle\u003e\n        \u003c/CardHeader\u003e\n        \u003cCardContent className=\"flex items-end gap-4\"\u003e\n          \u003cdiv className=\"flex flex-col items-center\"\u003e\n            \u003cIcon icon={Home} size=\"xs\" /\u003e\n            \u003cspan className=\"text-xs mt-1\"\u003exs\u003c/span\u003e\n          \u003c/div\u003e\n          \u003cdiv className=\"flex flex-col items-center\"\u003e\n            \u003cIcon icon={Home} size=\"sm\" /\u003e\n            \u003cspan className=\"text-xs mt-1\"\u003esm\u003c/span\u003e\n          \u003c/div\u003e\n          \u003cdiv className=\"flex flex-col items-center\"\u003e\n            \u003cIcon icon={Home} size=\"md\" /\u003e\n            \u003cspan className=\"text-xs mt-1\"\u003emd\u003c/span\u003e\n          \u003c/div\u003e\n          \u003cdiv className=\"flex flex-col items-center\"\u003e\n            \u003cIcon icon={Home} size=\"lg\" /\u003e\n            \u003cspan className=\"text-xs mt-1\"\u003elg\u003c/span\u003e\n          \u003c/div\u003e\n          \u003cdiv className=\"flex flex-col items-center\"\u003e\n            \u003cIcon icon={Home} size=\"xl\" /\u003e\n            \u003cspan className=\"text-xs mt-1\"\u003exl\u003c/span\u003e\n          \u003c/div\u003e\n          \u003cdiv className=\"flex flex-col items-center\"\u003e\n            \u003cIcon icon={Home} size=\"2xl\" /\u003e\n            \u003cspan className=\"text-xs mt-1\"\u003e2xl\u003c/span\u003e\n          \u003c/div\u003e\n        \u003c/CardContent\u003e\n      \u003c/Card\u003e\n\n      \u003cCard\u003e\n        \u003cCardHeader\u003e\n          \u003cCardTitle\u003eColores de iconos\u003c/CardTitle\u003e\n        \u003c/CardHeader\u003e\n        \u003cCardContent className=\"grid grid-cols-2 md:grid-cols-4 gap-4\"\u003e\n          \u003cdiv className=\"flex flex-col items-center\"\u003e\n            \u003cIcon icon={Bell} color=\"primary\" size=\"lg\" /\u003e\n            \u003cspan className=\"text-xs mt-1\"\u003eprimary\u003c/span\u003e\n          \u003c/div\u003e\n          \u003cdiv className=\"flex flex-col items-center\"\u003e\n            \u003cIcon icon={Bell} color=\"secondary\" size=\"lg\" /\u003e\n            \u003cspan className=\"text-xs mt-1\"\u003esecondary\u003c/span\u003e\n          \u003c/div\u003e\n          \u003cdiv className=\"flex flex-col items-center\"\u003e\n            \u003cIcon icon={Bell} color=\"accent\" size=\"lg\" /\u003e\n            \u003cspan className=\"text-xs mt-1\"\u003eaccent\u003c/span\u003e\n          \u003c/div\u003e\n          \u003cdiv className=\"flex flex-col items-center\"\u003e\n            \u003cIcon icon={Bell} color=\"muted\" size=\"lg\" /\u003e\n            \u003cspan className=\"text-xs mt-1\"\u003emuted\u003c/span\u003e\n          \u003c/div\u003e\n          \u003cdiv className=\"flex flex-col items-center\"\u003e\n            \u003cIcon icon={Bell} color=\"success\" size=\"lg\" /\u003e\n            \u003cspan className=\"text-xs mt-1\"\u003esuccess\u003c/span\u003e\n          \u003c/div\u003e\n          \u003cdiv className=\"flex flex-col items-center\"\u003e\n            \u003cIcon icon={Bell} color=\"warning\" size=\"lg\" /\u003e\n            \u003cspan className=\"text-xs mt-1\"\u003ewarning\u003c/span\u003e\n          \u003c/div\u003e\n          \u003cdiv className=\"flex flex-col items-center\"\u003e\n            \u003cIcon icon={Bell} color=\"danger\" size=\"lg\" /\u003e\n            \u003cspan className=\"text-xs mt-1\"\u003edanger\u003c/span\u003e\n          \u003c/div\u003e\n          \u003cdiv className=\"flex flex-col items-center\"\u003e\n            \u003cIcon icon={Bell} color=\"neutral\" size=\"lg\" /\u003e\n            \u003cspan className=\"text-xs mt-1\"\u003eneutral\u003c/span\u003e\n          \u003c/div\u003e\n        \u003c/CardContent\u003e\n      \u003c/Card\u003e\n\n      \u003cCard\u003e\n        \u003cCardHeader\u003e\n          \u003cCardTitle\u003eIconos preconfigurados\u003c/CardTitle\u003e\n        \u003c/CardHeader\u003e\n        \u003cCardContent className=\"grid grid-cols-2 md:grid-cols-5 gap-4\"\u003e\n          \u003cdiv className=\"flex flex-col items-center\"\u003e\n            \u003cHomeIcon size=\"lg\" /\u003e\n            \u003cspan className=\"text-xs mt-1\"\u003eHomeIcon\u003c/span\u003e\n          \u003c/div\u003e\n          \u003cdiv className=\"flex flex-col items-center\"\u003e\n            \u003cSettingsIcon size=\"lg\" /\u003e\n            \u003cspan className=\"text-xs mt-1\"\u003eSettingsIcon\u003c/span\u003e\n          \u003c/div\u003e\n          \u003cdiv className=\"flex flex-col items-center\"\u003e\n            \u003cUserIcon size=\"lg\" /\u003e\n            \u003cspan className=\"text-xs mt-1\"\u003eUserIcon\u003c/span\u003e\n          \u003c/div\u003e\n          \u003cdiv className=\"flex flex-col items-center\"\u003e\n            \u003cAlertIcon size=\"lg\" /\u003e\n            \u003cspan className=\"text-xs mt-1\"\u003eAlertIcon\u003c/span\u003e\n          \u003c/div\u003e\n          \u003cdiv className=\"flex flex-col items-center\"\u003e\n            \u003cSuccessIcon size=\"lg\" /\u003e\n            \u003cspan className=\"text-xs mt-1\"\u003eSuccessIcon\u003c/span\u003e\n          \u003c/div\u003e\n          \u003cdiv className=\"flex flex-col items-center\"\u003e\n            \u003cErrorIcon size=\"lg\" /\u003e\n            \u003cspan className=\"text-xs mt-1\"\u003eErrorIcon\u003c/span\u003e\n          \u003c/div\u003e\n          \u003cdiv className=\"flex flex-col items-center\"\u003e\n            \u003cFileIcon size=\"lg\" /\u003e\n            \u003cspan className=\"text-xs mt-1\"\u003eFileIcon\u003c/span\u003e\n          \u003c/div\u003e\n          \u003cdiv className=\"flex flex-col items-center\"\u003e\n            \u003cSearchIcon size=\"lg\" /\u003e\n            \u003cspan className=\"text-xs mt-1\"\u003eSearchIcon\u003c/span\u003e\n          \u003c/div\u003e\n          \u003cdiv className=\"flex flex-col items-center\"\u003e\n            \u003cMenuIcon size=\"lg\" /\u003e\n            \u003cspan className=\"text-xs mt-1\"\u003eMenuIcon\u003c/span\u003e\n          \u003c/div\u003e\n          \u003cdiv className=\"flex flex-col items-center\"\u003e\n            \u003cBellIcon size=\"lg\" color=\"accent\" /\u003e\n            \u003cspan className=\"text-xs mt-1\"\u003eBellIcon\u003c/span\u003e\n          \u003c/div\u003e\n        \u003c/CardContent\u003e\n      \u003c/Card\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"94:T1833,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport React from \"react\"\nimport { cn } from \"@/lib/utils\"\n// import { useColorTokens } from \"@/hooks/use-color-tokens\"; // Eliminado\nimport { useTheme } from \"@/app/theme-provider\" // Añadido\nimport {\n  generateIconTokens, // Añadido\n  type IconColor,\n  type IconSize,\n} from \"@/lib/theme/components/icon-tokens\" // Ruta actualizada si es necesario\n\n// Propiedades para el componente Icon\nexport interface IconProps {\n  color?: IconColor\n  colorVariant?: \"pure\" | \"text\" | \"shade\" | \"bg\" // 'dark' reemplazado por 'shade'\n  size?: IconSize\n  className?: string\n  gradient?: boolean\n  gradientWith?: IconColor\n  gradientColorVariant?: \"pure\" | \"text\" | \"shade\" | \"bg\" // 'dark' reemplazado por 'shade'\n  strokeOnly?: boolean\n  inverseStroke?: boolean\n  children?: React.ReactNode\n}\n\n/**\n * Componente Icon\n * Renderiza un icono con estilos consistentes basados en el sistema de tokens\n */\nexport function Icon({\n  color = \"default\",\n  colorVariant = \"text\", // colorVariant ahora es \"pure\" | \"text\" | \"shade\" | \"bg\"\n  size = \"md\",\n  className,\n  gradient = false,\n  gradientWith = \"accent\",\n  gradientColorVariant = \"text\", // gradientColorVariant ahora es \"pure\" | \"text\" | \"shade\" | \"bg\"\n  strokeOnly = false,\n  inverseStroke,\n  children,\n  ...props\n}: IconProps) {\n  // const { component } = useColorTokens(); // Eliminado\n  // const legacyIconTokens = component.icon; // Eliminado\n\n  const { appColorTokens, mode } = useTheme() // Añadido\n\n  const iconComponentTokens = React.useMemo(() =\u003e {\n    // Añadido\n    if (!appColorTokens) return null\n    // generateIconTokens ahora usa AppColorTokens y devuelve la estructura con 'shade'\n    return generateIconTokens(appColorTokens, mode)\n  }, [appColorTokens, mode])\n\n  // Si gradient=true y inverseStroke no está definido, lo establecemos como true\n  // Esto hace que el gradiente inverso sea el comportamiento predeterminado\n  const useInverseStroke = gradient \u0026\u0026 inverseStroke !== false\n\n  // Mapeo de tamaños a clases de Tailwind\n  const sizeClasses: Record\u003cIconSize, string\u003e = {\n    xs: \"w-4 h-4\",\n    sm: \"w-5 h-5\",\n    md: \"w-6 h-6\",\n    lg: \"w-8 h-8\",\n    xl: \"w-10 h-10\",\n    \"2xl\": \"w-12 h-12\",\n  }\n\n  // Obtener el color del token correspondiente\n  const getColorValue = (targetColor: IconColor, variant: \"pure\" | \"text\" | \"shade\" | \"bg\"): string =\u003e {\n    if (!iconComponentTokens?.colors) return \"currentColor\"\n    const tokenSet = iconComponentTokens.colors[targetColor]\n    // La propiedad 'variant' (\"pure\", \"text\", \"shade\", \"bg\") debe existir en IconColorToken\n    return tokenSet ? tokenSet[variant] || tokenSet.text : \"currentColor\"\n  }\n\n  const finalIconColor = getColorValue(color, colorVariant)\n\n  // Crear un ID único para el gradiente\n  const gradientId = React.useId()\n  const strokeGradientId = React.useId()\n  const inverseGradientId = React.useId()\n\n  // Obtener colores para el gradiente\n  let baseGradientColor = \"currentColor\"\n  let secondGradientColor = \"currentColor\"\n\n  if (iconComponentTokens?.colors) {\n    const mainColorSet = iconComponentTokens.colors[color]\n    if (mainColorSet) {\n      baseGradientColor = strokeOnly // Corregido: 'baseColor' a 'baseGradientColor'\n        ? mainColorSet.pure\n        : mainColorSet.bg\n    }\n    // Para el color secundario usamos la variante especificada\n    // getColorValue ya maneja la variante \"pure\", \"text\", \"shade\", \"bg\"\n    secondGradientColor = getColorValue(gradientWith, gradientColorVariant)\n  }\n\n  // Crear un gradiente si se solicita\n  const getIconStyle = () =\u003e {\n    if (!gradient) {\n      return { color: finalIconColor } // Usar finalIconColor\n    }\n\n    if (strokeOnly) {\n      return {\n        stroke: `url(#${strokeGradientId})`,\n        fill: \"none\", // Aseguramos que no haya relleno\n      }\n    }\n\n    if (useInverseStroke) {\n      return {\n        fill: `url(#${gradientId})`,\n        stroke: `url(#${inverseGradientId})`, // Usamos el gradiente inverso para el stroke\n      }\n    }\n\n    return {\n      fill: `url(#${gradientId})`,\n      stroke: `url(#${gradientId})`, // Stroke usa el mismo gradiente que fill\n    }\n  }\n\n  return (\n    \u003c\u003e\n      {gradient \u0026\u0026 (\n        \u003csvg width=\"0\" height=\"0\" style={{ position: \"absolute\" }}\u003e\n          \u003cdefs\u003e\n            {/* Gradiente para relleno */}\n            \u003clinearGradient id={gradientId} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\"\u003e\n              \u003cstop offset=\"0%\" stopColor={baseGradientColor} /\u003e\n              \u003cstop offset=\"100%\" stopColor={secondGradientColor} /\u003e\n            \u003c/linearGradient\u003e\n            {/* Gradiente para el contorno (stroke) si es diferente */}\n            \u003clinearGradient id={strokeGradientId} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\"\u003e\n              \u003cstop offset=\"0%\" stopColor={baseGradientColor} /\u003e\n              \u003cstop offset=\"100%\" stopColor={secondGradientColor} /\u003e\n            \u003c/linearGradient\u003e\n            {/* Gradiente inverso para el contorno (stroke) */}\n            \u003clinearGradient id={inverseGradientId} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\"\u003e\n              \u003cstop offset=\"0%\" stopColor={secondGradientColor} /\u003e {/* Invertido */}\n              \u003cstop offset=\"100%\" stopColor={baseGradientColor} /\u003e {/* Invertido */}\n            \u003c/linearGradient\u003e\n          \u003c/defs\u003e\n        \u003c/svg\u003e\n      )}\n      {React.Children.map(children, (child) =\u003e {\n        if (React.isValidElement(child)) {\n          return React.cloneElement(child as React.ReactElement\u003cany\u003e, {\n            className: cn(sizeClasses[size], className),\n            style: getIconStyle(),\n            ...props, // Pasar el resto de las props al icono hijo (ej. Lucide icon)\n          })\n        }\n        return child\n      })}\n    \u003c/\u003e\n  )\n}\n\n/**\n * Función para crear un componente de icono preconfigurado\n * @param icon El icono de Lucide a utilizar\n * @param defaultProps Propiedades por defecto para el icono\n * @returns Un componente React que renderiza el icono con las propiedades especificadas\n */\nexport function createIcon(IconComponent: React.ComponentType\u003cany\u003e, defaultProps: Partial\u003cIconProps\u003e = {}) {\n  const WrappedIcon = (props: Partial\u003cIconProps\u003e) =\u003e \u003cIcon {...defaultProps} {...props} /\u003e\n\n  WrappedIcon.displayName = `Icon(${IconComponent.displayName || \"Icon\"})`\n  return WrappedIcon\n}\n"])</script><script>self.__next_f.push([1,"95:T8c1,"])</script><script>self.__next_f.push([1,"import type { SVGProps } from \"react\"\n\nexport function CustomPaletteIcon(props: SVGProps\u003cSVGSVGElement\u003e) {\n  return (\n    \u003csvg width=\"1em\" height=\"1em\" viewBox=\"0 0 148 174\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}\u003e\n      \u003cpath\n        d=\"M49.3333 76.125C49.3333 82.1309 45.192 87 40.0833 87C34.9747 87 30.8333 82.1309 30.8333 76.125C30.8333 70.1189 34.9747 65.25 40.0833 65.25C45.192 65.25 49.3333 70.1189 49.3333 76.125Z\"\n        fill=\"#1951CE\"\n      /\u003e\n      \u003cpath\n        d=\"M64.75 58C69.8585 58 74 53.1311 74 47.125C74 41.1189 69.8585 36.25 64.75 36.25C59.6413 36.25 55.5 41.1189 55.5 47.125C55.5 53.1311 59.6413 58 64.75 58Z\"\n        fill=\"#C16D31\"\n      /\u003e\n      \u003cpath\n        d=\"M104.833 47.125C104.833 53.1311 100.692 58 95.5834 58C90.4749 58 86.3334 53.1311 86.3334 47.125C86.3334 41.1189 90.4749 36.25 95.5834 36.25C100.692 36.25 104.833 41.1189 104.833 47.125Z\"\n        fill=\"#3CCC2F\"\n      /\u003e\n      \u003cpath\n        d=\"M46.25 123.25C51.3587 123.25 55.5 118.381 55.5 112.375C55.5 106.369 51.3587 101.5 46.25 101.5C41.1413 101.5 37 106.369 37 112.375C37 118.381 41.1413 123.25 46.25 123.25Z\"\n        fill=\"#0F1729\"\n      /\u003e\n      \u003cpath\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M7.03003 80.8856C7.03003 41.4991 36.9721 9.56995 73.9075 9.56995C110.211 9.56995 140.785 37.7669 140.785 74.4024V74.497C140.785 77.9228 140.786 83.7758 138.855 90.602C133.795 108.488 115.373 113.278 101.235 109.427C98.2935 108.626 95.3345 107.759 92.4922 106.888C87.5943 105.386 83.1348 109.993 84.037 114.803L85.968 125.099L86.6647 129.554C88.4704 141.108 79.9989 152.859 67.9281 151.227C47.4617 148.46 32.0775 139.888 21.8401 127.13C11.6338 114.41 7.03003 98.1395 7.03003 80.8856ZM73.9075 22.5364C43.6877 22.5364 19.1896 48.6603 19.1896 80.8856C19.1896 95.7024 23.1215 108.783 31.0789 118.7C39.005 128.577 51.4124 135.924 69.4577 138.364C72.2946 138.748 75.3351 135.938 74.6705 131.686L74.0066 127.437L72.1134 117.345C69.3276 102.491 82.6764 90.3881 95.8513 94.4259C98.603 95.2693 101.443 96.1011 104.244 96.8642C115.102 99.8219 124.822 95.3102 127.213 86.8567C128.607 81.9294 128.625 77.6822 128.625 74.4024C128.625 46.2054 104.759 22.5364 73.9075 22.5364Z\"\n        fill=\"currentColor\"\n      /\u003e\n    \u003c/svg\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"96:T5a0,\"use client\"\n\nimport * as LucideIcons from \"lucide-react\"\nimport { Icon } from \"./icon\"\nimport type { IconProps } from \"./icon\"\n\n// Función para crear un componente de icono envuelto\nconst createWrappedIcon = (LucideIcon: any) =\u003e {\n  return (props: Partial\u003cIconProps\u003e) =\u003e (\n    \u003cIcon {...props}\u003e\n      \u003cLucideIcon strokeWidth={props.strokeOnly ? 2 : 1.5} /\u003e\n    \u003c/Icon\u003e\n  )\n}\n\n// Exportar iconos individuales\nexport const FileText = createWrappedIcon(LucideIcons.FileText)\nexport const BookOpen = createWrappedIcon(LucideIcons.BookOpen)\nexport const ExternalLink = createWrappedIcon(LucideIcons.ExternalLink)\nexport const ArrowRight = createWrappedIcon(LucideIcons.ArrowRight)\nexport const Sparkles = createWrappedIcon(LucideIcons.Sparkles)\nexport const Home = createWrappedIcon(LucideIcons.Home)\nexport const Bell = createWrappedIcon(LucideIcons.Bell)\nexport const Settings = createWrappedIcon(LucideIcons.Settings)\nexport const User = createWrappedIcon(LucideIcons.User)\nexport const Mail = createWrappedIcon(LucideIcons.Mail)\nexport const Calendar = createWrappedIcon(LucideIcons.Calendar)\nexport const Search = createWrappedIcon(LucideIcons.Search)\nexport const Heart = createWrappedIcon(LucideIcons.Heart)\nexport const Star = createWrappedIcon(LucideIcons.Star)\nexport const Zap = createWrappedIcon(LucideIcons.Zap)\nexport const Shield = createWrappedIcon(LucideIcons.Shield)\nexport const Award = createWrappedIcon(LucideIcons.Award)\n97:T93ed,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport type React from \"react\"\nimport Link from \"next/link\"\nimport { usePathname } from \"next/navigation\"\nimport { cn } from \"@/lib/utils\"\nimport { UserAvatar } from \"./user-avatar\"\nimport {\n  ChevronDown,\n  Menu,\n  X,\n  FileText,\n  Database,\n  Settings,\n  Building,\n  Users,\n  MessageSquare,\n  Home,\n  BookOpen,\n  UserCircle,\n  LayoutDashboard,\n  FileSpreadsheet,\n  Layers,\n} from \"lucide-react\"\nimport { useState, useEffect, useMemo } from \"react\"\nimport { motion } from \"framer-motion\"\nimport { Button } from \"@/components/ui/button\"\nimport { ThemeSwitcher } from \"@/components/ui/theme-switcher\"\nimport { FontThemeSwitcher } from \"@/components/ui/font-theme-switcher\"\nimport { AnimatePresence } from \"framer-motion\"\nimport { SustratoLogo } from \"@/components/ui/sustrato-logo\"\nimport { useRipple } from \"@/components/ripple/RippleProvider\"\nimport { useColorTokens } from \"@/hooks/use-color-tokens\"\nimport { Text, type TextProps } from \"@/components/ui/text\" // Importando TextProps\nimport { useTheme } from \"@/app/theme-provider\"\nimport { Icon } from \"@/components/ui/icon\"\nimport { useAuth } from \"@/app/auth-provider\" // Added import\n\n// --- START: Variables de Configuración del Navbar ---\n\n// Variables booleanas para controlar la visibilidad de los menús\n// const SHOW_ENTREVISTAS_MENU = true; // Will be replaced by proyectoActual.module_interviews\n// const SHOW_ARTICULOS_MENU = true; // Will be replaced by proyectoActual.module_bibliography\n// const SHOW_DATOS_MAESTROS_MENU = true; // Will be replaced by proyectoActual presence or a specific flag\n\n// Estilos de texto para encabezados de menú principal\nconst MENU_HEADER_TEXT_COLOR_ACTIVE: TextProps[\"color\"] = \"primary\"\nconst MENU_HEADER_TEXT_VARIANT_ACTIVE: TextProps[\"colorVariant\"] = \"pure\"\nconst MENU_HEADER_TEXT_COLOR_INACTIVE: TextProps[\"color\"] = \"secondary\"\nconst MENU_HEADER_TEXT_VARIANT_INACTIVE: TextProps[\"colorVariant\"] = \"text\"\n\n// Estilos de texto para submenús\nconst SUBMENU_TEXT_COLOR_ACTIVE: TextProps[\"color\"] = \"primary\"\nconst SUBMENU_TEXT_VARIANT_ACTIVE: TextProps[\"colorVariant\"] = \"pure\"\nconst SUBMENU_TEXT_COLOR_INACTIVE: TextProps[\"color\"] = \"secondary\"\nconst SUBMENU_TEXT_VARIANT_INACTIVE: TextProps[\"colorVariant\"] = \"text\"\n\n// --- END: Variables de Configuración del Navbar ---\n\nconst menuItemVariants = {\n  hidden: { opacity: 0, y: -5 },\n  visible: { opacity: 1, y: 0 },\n  hover: { scale: 1.05, transition: { duration: 0.2 } },\n  tap: { scale: 0.95 },\n}\n\nconst submenuVariants = {\n  hidden: { opacity: 0, height: 0, overflow: \"hidden\" },\n  visible: {\n    opacity: 1,\n    height: \"auto\",\n    transition: {\n      duration: 0.3,\n      staggerChildren: 0.05,\n      when: \"beforeChildren\",\n    },\n  },\n}\n\nconst arrowVariants = {\n  closed: { rotate: 0 },\n  open: { rotate: 180 },\n}\n\nconst NAVBAR_RIPPLE_SCALE = 9\n\ninterface NavSubItem {\n  label: string\n  href: string\n  icon: (isActive: boolean) =\u003e React.ReactElement\n  disabled?: boolean\n}\n\ninterface NavItem {\n  label: string\n  href: string\n  icon: (isActive: boolean) =\u003e React.ReactElement\n  submenu?: NavSubItem[]\n  disabled?: boolean\n  id?: string // Para identificar el menú al filtrar\n}\n\nexport function Navbar() {\n  const pathname = usePathname()\n  const [openSubmenu, setOpenSubmenu] = useState\u003cstring | null\u003e(null)\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false)\n  const [scrolled, setScrolled] = useState(false)\n  const ripple = useRipple()\n  const { component } = useColorTokens()\n  const { mode } = useTheme()\n  const { proyectoActual } = useAuth() // Added useAuth hook\n\n  const navTokens = component.navbar\n\n  const MENU_RIPPLE_COLOR = navTokens.active.bg\n  const SUBMENU_RIPPLE_COLOR = navTokens.active.bg\n\n  const isSubmenuActive = (item: NavItem) =\u003e {\n    if (!item.submenu) return false\n    return item.submenu.some(\n      (subitem: NavSubItem) =\u003e\n        pathname === subitem.href || (subitem.href !== \"/\" \u0026\u0026 pathname \u0026\u0026 pathname.startsWith(subitem.href)),\n    )\n  }\n\n  const allNavItems: NavItem[] = useMemo(\n    () =\u003e [\n      {\n        id: \"inicio\",\n        label: \"Inicio\",\n        href: \"/\",\n        icon: (isActive: boolean) =\u003e (\n          \u003cIcon\n            size=\"sm\"\n            gradient={true}\n            strokeOnly={!isActive}\n            color=\"tertiary\"\n            colorVariant=\"bg\"\n            gradientWith=\"accent\"\n            gradientColorVariant=\"text\"\n            className=\"mr-2\"\n          \u003e\n            \u003cHome /\u003e\n          \u003c/Icon\u003e\n        ),\n      },\n      ...(proyectoActual?.module_interviews\n        ? [\n            {\n              id: \"entrevistas\",\n              label: \"Entrevistas\",\n              href: \"/entrevistas\",\n              icon: (isActive: boolean) =\u003e (\n                \u003cIcon\n                  size=\"sm\"\n                  gradient={true}\n                  strokeOnly={!isActive}\n                  color=\"tertiary\"\n                  colorVariant=\"bg\"\n                  gradientWith=\"accent\"\n                  gradientColorVariant=\"text\"\n                  className=\"mr-2\"\n                \u003e\n                  \u003cFileText /\u003e\n                \u003c/Icon\u003e\n              ),\n              submenu: [\n                {\n                  label: \"Entrevistas\",\n                  href: \"/entrevistas\",\n                  icon: (isActive: boolean) =\u003e (\n                    \u003cIcon\n                      size=\"sm\"\n                      gradient={true}\n                      strokeOnly={!isActive}\n                      color=\"tertiary\"\n                      colorVariant=\"bg\"\n                      gradientWith=\"accent\"\n                      gradientColorVariant=\"text\"\n                      className=\"mr-2\"\n                    \u003e\n                      \u003cMessageSquare /\u003e\n                    \u003c/Icon\u003e\n                  ),\n                },\n                {\n                  label: \"Listado de Transcripciones\",\n                  href: \"/transcripciones\",\n                  icon: (isActive: boolean) =\u003e (\n                    \u003cIcon\n                      size=\"sm\"\n                      gradient={true}\n                      strokeOnly={!isActive}\n                      color=\"tertiary\"\n                      colorVariant=\"bg\"\n                      gradientWith=\"accent\"\n                      gradientColorVariant=\"text\"\n                      className=\"mr-2\"\n                    \u003e\n                      \u003cFileSpreadsheet /\u003e\n                    \u003c/Icon\u003e\n                  ),\n                },\n                {\n                  label: \"Matriz de Vaciado\",\n                  href: \"/entrevistas/matriz\",\n                  icon: (isActive: boolean) =\u003e (\n                    \u003cIcon\n                      size=\"sm\"\n                      gradient={true}\n                      strokeOnly={!isActive}\n                      color=\"tertiary\"\n                      colorVariant=\"bg\"\n                      gradientWith=\"accent\"\n                      gradientColorVariant=\"text\"\n                      className=\"mr-2\"\n                    \u003e\n                      \u003cLayers /\u003e\n                    \u003c/Icon\u003e\n                  ),\n                },\n              ],\n            },\n          ]\n        : []),\n      ...(proyectoActual?.module_bibliography\n        ? [\n            {\n              id: \"articulos\",\n              label: \"Artículos\",\n              href: \"/articulos\",\n              icon: (isActive: boolean) =\u003e (\n                \u003cIcon\n                  size=\"sm\"\n                  gradient={true}\n                  strokeOnly={!isActive}\n                  color=\"tertiary\"\n                  colorVariant=\"bg\"\n                  gradientWith=\"accent\"\n                  gradientColorVariant=\"text\"\n                  className=\"mr-2\"\n                \u003e\n                  \u003cBookOpen /\u003e\n                \u003c/Icon\u003e\n              ),\n              submenu: [\n                {\n                  label: \"Preclasificación\",\n                  href: \"/articulos/preclasificacion\",\n                  icon: (isActive: boolean) =\u003e (\n                    \u003cIcon\n                      size=\"sm\"\n                      gradient={true}\n                      strokeOnly={!isActive}\n                      color=\"tertiary\"\n                      colorVariant=\"bg\"\n                      gradientWith=\"accent\"\n                      gradientColorVariant=\"text\"\n                      className=\"mr-2\"\n                    \u003e\n                      \u003cLayoutDashboard /\u003e\n                    \u003c/Icon\u003e\n                  ),\n                },\n              ],\n            },\n          ]\n        : []),\n      ...(proyectoActual\n        ? [\n            {\n              // Show \"Datos Maestros\" if proyectoActual exists\n              id: \"datos-maestros\",\n              label: \"Datos Maestros\",\n              href: \"/datos-maestros\",\n              icon: (isActive: boolean) =\u003e (\n                \u003cIcon\n                  size=\"sm\"\n                  gradient={true}\n                  strokeOnly={!isActive}\n                  color=\"tertiary\"\n                  colorVariant=\"bg\"\n                  gradientWith=\"accent\"\n                  gradientColorVariant=\"text\"\n                  className=\"mr-2\"\n                \u003e\n                  \u003cSettings /\u003e\n                \u003c/Icon\u003e\n              ),\n              submenu: [\n                {\n                  label: \"Instituciones\",\n                  href: \"/datos-maestros/instituciones\",\n                  icon: (isActive: boolean) =\u003e (\n                    \u003cIcon\n                      size=\"sm\"\n                      gradient={true}\n                      strokeOnly={!isActive}\n                      color=\"tertiary\"\n                      colorVariant=\"bg\"\n                      gradientWith=\"accent\"\n                      gradientColorVariant=\"text\"\n                      className=\"mr-2\"\n                    \u003e\n                      \u003cBuilding /\u003e\n                    \u003c/Icon\u003e\n                  ),\n                },\n                {\n                  label: \"Entrevistados\",\n                  href: \"/datos-maestros/entrevistados\",\n                  icon: (isActive: boolean) =\u003e (\n                    \u003cIcon\n                      size=\"sm\"\n                      gradient={true}\n                      strokeOnly={!isActive}\n                      color=\"tertiary\"\n                      colorVariant=\"bg\"\n                      gradientWith=\"accent\"\n                      gradientColorVariant=\"text\"\n                      className=\"mr-2\"\n                    \u003e\n                      \u003cUserCircle /\u003e\n                    \u003c/Icon\u003e\n                  ),\n                },\n                {\n                  label: \"Miembros\", // Changed from \"Investigadores\"\n                  href: \"/datos-maestros/miembros\", // Changed href\n                  icon: (isActive: boolean) =\u003e (\n                    \u003cIcon\n                      size=\"sm\"\n                      gradient={true}\n                      strokeOnly={!isActive}\n                      color=\"tertiary\"\n                      colorVariant=\"bg\"\n                      gradientWith=\"accent\"\n                      gradientColorVariant=\"text\"\n                      className=\"mr-2\"\n                    \u003e\n                      \u003cUsers /\u003e\n                    \u003c/Icon\u003e\n                  ),\n                },\n                {\n                  label: \"Dimensiones Matriz\",\n                  href: \"/datos-maestros/dimensiones\",\n                  icon: (isActive: boolean) =\u003e (\n                    \u003cIcon\n                      size=\"sm\"\n                      gradient={true}\n                      strokeOnly={!isActive}\n                      color=\"tertiary\"\n                      colorVariant=\"bg\"\n                      gradientWith=\"accent\"\n                      gradientColorVariant=\"text\"\n                      className=\"mr-2\"\n                    \u003e\n                      \u003cDatabase /\u003e\n                    \u003c/Icon\u003e\n                  ),\n                },\n                {\n                  label: \"Expresiones Permitidas\",\n                  href: \"/datos-maestros/expresiones-permitidas\",\n                  icon: (isActive: boolean) =\u003e (\n                    \u003cIcon\n                      size=\"sm\"\n                      gradient={true}\n                      strokeOnly={!isActive}\n                      color=\"tertiary\"\n                      colorVariant=\"bg\"\n                      gradientWith=\"accent\"\n                      gradientColorVariant=\"text\"\n                      className=\"mr-2\"\n                    \u003e\n                      \u003cMessageSquare /\u003e\n                    \u003c/Icon\u003e\n                  ),\n                },\n              ],\n            },\n          ]\n        : []),\n    ],\n    [pathname, proyectoActual], // Added proyectoActual to dependencies\n  )\n\n  // Filtra los navItems basados en las variables booleanas\n  // El menú \"Inicio\" siempre se muestra, los demás dependen de sus variables.\n  const navItems = allNavItems // En este caso, la lógica de filtrado ya está en `allNavItems`\n\n  useEffect(() =\u003e {\n    const handleScroll = () =\u003e {\n      setScrolled(window.scrollY \u003e 10)\n    }\n    window.addEventListener(\"scroll\", handleScroll)\n    return () =\u003e window.removeEventListener(\"scroll\", handleScroll)\n  }, [])\n\n  useEffect(() =\u003e {\n    const handleClickOutside = (event: MouseEvent) =\u003e {\n      if (openSubmenu \u0026\u0026 !(event.target as Element).closest(\"[data-submenu]\")) {\n        setOpenSubmenu(null)\n      }\n    }\n    document.addEventListener(\"mousedown\", handleClickOutside)\n    return () =\u003e {\n      document.removeEventListener(\"mousedown\", handleClickOutside)\n    }\n  }, [openSubmenu])\n\n  const toggleSubmenu = (label: string, e: React.MouseEvent) =\u003e {\n    ripple(e.nativeEvent, MENU_RIPPLE_COLOR, NAVBAR_RIPPLE_SCALE)\n    setOpenSubmenu(openSubmenu === label ? null : label)\n  }\n\n  const gradientBarStyle = {\n    background: `linear-gradient(to right, ${navTokens.gradientBar.start}, ${navTokens.gradientBar.middle}, ${navTokens.gradientBar.end})`,\n  }\n\n  const navBackgroundColor = scrolled ? navTokens.background.scrolled : navTokens.background.normal\n\n  const navBackgroundStyle = {\n    backgroundColor: navBackgroundColor,\n    boxShadow: scrolled ? navTokens.shadow : \"none\",\n    borderBottom: scrolled\n      ? `1px solid ${mode === \"dark\" ? \"rgba(75, 85, 99, 0.3)\" : \"rgba(229, 231, 235, 0.8)\"}`\n      : \"none\",\n    backdropFilter: scrolled ? \"blur(8px)\" : \"none\",\n  }\n\n  return (\n    \u003c\u003e\n      \u003cmotion.nav\n        className={cn(\"sticky top-0 z-40 w-full transition-all\")}\n        style={navBackgroundStyle}\n        initial={{ y: -10, opacity: 0 }}\n        animate={{ y: 0, opacity: 1 }}\n        transition={{ duration: 0.3 }}\n      \u003e\n        \u003cdiv className=\"w-full px-4 sm:px-6 lg:px-8\"\u003e\n          \u003cdiv className=\"flex h-16 items-center justify-between\"\u003e\n            \u003cmotion.div\n              className=\"flex items-center flex-shrink-0\"\n              initial={{ x: -20, opacity: 0 }}\n              animate={{ x: 0, opacity: 1 }}\n              transition={{ duration: 0.5, delay: 0.1 }}\n            \u003e\n              \u003cLink\n                href=\"/\"\n                className=\"flex items-center gap-2\"\n                onMouseDown={(e) =\u003e ripple(e.nativeEvent, MENU_RIPPLE_COLOR, NAVBAR_RIPPLE_SCALE)}\n              \u003e\n                \u003cSustratoLogo\n                  size={40}\n                  className=\"flex-shrink-0\"\n                  primaryColor={navTokens.logo?.primary}\n                  secondaryColor={navTokens.logo?.secondary}\n                  accentColor={navTokens.logo?.accent}\n                /\u003e\n                \u003cdiv className=\"flex flex-col\"\u003e\n                  \u003cdiv className=\"font-bold text-xl md:text-2xl\"\u003e\n                    \u003cspan\n                      className=\"bg-clip-text text-transparent font-bold\"\n                      style={{\n                        backgroundImage: navTokens.logo?.titleGradient,\n                        fontFamily: \"'Chau Philomene One', sans-serif\",\n                      }}\n                    \u003e\n                      Sustrato.ai\n                    \u003c/span\u003e\n                  \u003c/div\u003e\n                  \u003cText size=\"xs\" color=\"neutral\" colorVariant=\"pure\" className=\"mt-0.5\"\u003e\n                    cultivando sinergias humano·AI\n                  \u003c/Text\u003e\n                \u003c/div\u003e\n              \u003c/Link\u003e\n            \u003c/motion.div\u003e\n\n            \u003cdiv className=\"hidden md:flex items-center space-x-3 lg:space-x-5\"\u003e\n              {navItems.map((item, index) =\u003e (\n                \u003cmotion.div\n                  key={item.href || item.label}\n                  className=\"relative\"\n                  initial={{ opacity: 0, y: -10 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ duration: 0.3, delay: index * 0.05 }}\n                \u003e\n                  {item.submenu ? (\n                    \u003cdiv className=\"relative\"\u003e\n                      \u003cmotion.button\n                        onClick={(e) =\u003e toggleSubmenu(item.label, e)}\n                        onMouseDown={(e) =\u003e ripple(e.nativeEvent, MENU_RIPPLE_COLOR, NAVBAR_RIPPLE_SCALE)}\n                        data-submenu=\"trigger\"\n                        className={cn(\n                          \"flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors\",\n                          pathname === item.href || isSubmenuActive(item) ? \"\" : \"hover:bg-opacity-100\",\n                        )}\n                        style={{\n                          backgroundColor:\n                            pathname === item.href || isSubmenuActive(item) ? navTokens.active.bg : \"transparent\",\n                        }}\n                        whileHover={{\n                          backgroundColor:\n                            pathname === item.href || isSubmenuActive(item) ? navTokens.active.bg : navTokens.hover.bg,\n                          scale: 1.05,\n                          transition: { duration: 0.2 },\n                        }}\n                        whileTap={menuItemVariants.tap}\n                      \u003e\n                        {item.icon(pathname === item.href || isSubmenuActive(item))}\n                        \u003cText\n                          color={\n                            pathname === item.href || isSubmenuActive(item)\n                              ? MENU_HEADER_TEXT_COLOR_ACTIVE\n                              : MENU_HEADER_TEXT_COLOR_INACTIVE\n                          }\n                          colorVariant={\n                            pathname === item.href || isSubmenuActive(item)\n                              ? MENU_HEADER_TEXT_VARIANT_ACTIVE\n                              : MENU_HEADER_TEXT_VARIANT_INACTIVE\n                          }\n                          weight=\"medium\"\n                          size=\"sm\"\n                          fontType=\"heading\"\n                        \u003e\n                          {item.label}\n                        \u003c/Text\u003e\n                        \u003cmotion.div\n                          variants={arrowVariants}\n                          initial=\"closed\"\n                          animate={openSubmenu === item.label ? \"open\" : \"closed\"}\n                          transition={{ duration: 0.2 }}\n                        \u003e\n                          \u003cIcon\n                            size=\"xs\"\n                            gradient={true}\n                            strokeOnly={true}\n                            color=\"tertiary\"\n                            colorVariant=\"bg\"\n                            gradientWith=\"accent\"\n                            gradientColorVariant=\"text\"\n                            className=\"ml-1\"\n                          \u003e\n                            \u003cChevronDown /\u003e\n                          \u003c/Icon\u003e\n                        \u003c/motion.div\u003e\n                      \u003c/motion.button\u003e\n                      \u003cAnimatePresence\u003e\n                        {openSubmenu === item.label \u0026\u0026 (\n                          \u003cmotion.div\n                            className=\"absolute z-10 left-0 mt-2 w-56 origin-top-left rounded-md shadow-lg focus:outline-none\"\n                            style={{\n                              backgroundColor: navTokens.submenu.background,\n                              borderColor: navTokens.submenu.border,\n                              borderWidth: navTokens.submenu.border ? \"1px\" : \"0\",\n                              borderStyle: navTokens.submenu.border ? \"solid\" : \"none\",\n                              boxShadow: navTokens.shadow,\n                            }}\n                            initial=\"hidden\"\n                            animate=\"visible\"\n                            exit=\"hidden\"\n                            variants={submenuVariants}\n                            data-submenu=\"content\"\n                          \u003e\n                            \u003cdiv className=\"py-1\"\u003e\n                              {item.submenu.map((subitem) =\u003e (\n                                \u003cmotion.div\n                                  key={subitem.href}\n                                  variants={menuItemVariants}\n                                  whileHover={{\n                                    backgroundColor:\n                                      pathname === subitem.href ? navTokens.active.bg : navTokens.hover.bg,\n                                    scale: 1.05,\n                                    transition: { duration: 0.2 },\n                                  }}\n                                  whileTap={menuItemVariants.tap}\n                                \u003e\n                                  \u003cLink\n                                    href={subitem.href}\n                                    className=\"block px-4 py-2 text-sm flex items-center transition-colors\"\n                                    style={{\n                                      backgroundColor: pathname === subitem.href ? navTokens.active.bg : \"transparent\",\n                                    }}\n                                    onClick={() =\u003e setOpenSubmenu(null)}\n                                    onMouseDown={(e) =\u003e\n                                      ripple(e.nativeEvent, SUBMENU_RIPPLE_COLOR, NAVBAR_RIPPLE_SCALE)\n                                    }\n                                  \u003e\n                                    {subitem.icon(pathname === subitem.href)}\n                                    \u003cText\n                                      color={\n                                        pathname === subitem.href\n                                          ? SUBMENU_TEXT_COLOR_ACTIVE\n                                          : SUBMENU_TEXT_COLOR_INACTIVE\n                                      }\n                                      colorVariant={\n                                        pathname === subitem.href\n                                          ? SUBMENU_TEXT_VARIANT_ACTIVE\n                                          : SUBMENU_TEXT_VARIANT_INACTIVE\n                                      }\n                                      weight={pathname === subitem.href ? \"medium\" : \"normal\"}\n                                      size=\"sm\"\n                                      fontType=\"body\"\n                                    \u003e\n                                      {subitem.label}\n                                    \u003c/Text\u003e\n                                  \u003c/Link\u003e\n                                \u003c/motion.div\u003e\n                              ))}\n                            \u003c/div\u003e\n                          \u003c/motion.div\u003e\n                        )}\n                      \u003c/AnimatePresence\u003e\n                    \u003c/div\u003e\n                  ) : (\n                    \u003cmotion.div\n                      whileHover={{\n                        backgroundColor: pathname === item.href ? navTokens.active.bg : navTokens.hover.bg,\n                        scale: 1.05,\n                        transition: { duration: 0.2 },\n                      }}\n                      whileTap={menuItemVariants.tap}\n                      className=\"rounded-md\"\n                    \u003e\n                      \u003cLink\n                        href={item.disabled ? \"#\" : item.href}\n                        className=\"px-3 py-2 text-sm font-medium rounded-md transition-colors flex items-center\"\n                        style={{\n                          backgroundColor: pathname === item.href ? navTokens.active.bg : \"transparent\",\n                          opacity: item.disabled ? 0.5 : 1,\n                          cursor: item.disabled ? \"not-allowed\" : \"pointer\",\n                        }}\n                        onClick={(e) =\u003e {\n                          if (item.disabled) e.preventDefault()\n                        }}\n                        onMouseDown={(e) =\u003e ripple(e.nativeEvent, MENU_RIPPLE_COLOR, NAVBAR_RIPPLE_SCALE)}\n                      \u003e\n                        {item.icon(pathname === item.href)}\n                        \u003cText\n                          color={\n                            pathname === item.href ? MENU_HEADER_TEXT_COLOR_ACTIVE : MENU_HEADER_TEXT_COLOR_INACTIVE\n                          }\n                          colorVariant={\n                            pathname === item.href ? MENU_HEADER_TEXT_VARIANT_ACTIVE : MENU_HEADER_TEXT_VARIANT_INACTIVE\n                          }\n                          weight=\"medium\"\n                          size=\"sm\"\n                          fontType=\"heading\"\n                        \u003e\n                          {item.label}\n                        \u003c/Text\u003e\n                        {item.disabled \u0026\u0026 (\n                          \u003cspan className=\"ml-2 text-xs bg-amber-100 text-amber-800 px-1.5 py-0.5 rounded-full\"\u003e\n                            Próximamente\n                          \u003c/span\u003e\n                        )}\n                      \u003c/Link\u003e\n                    \u003c/motion.div\u003e\n                  )}\n                \u003c/motion.div\u003e\n              ))}\n            \u003c/div\u003e\n\n            \u003cdiv className=\"flex items-center flex-shrink-0\"\u003e\n              \u003cdiv className=\"hidden md:flex items-center gap-3 lg:gap-4\"\u003e\n                \u003cFontThemeSwitcher /\u003e\n                \u003cThemeSwitcher /\u003e\n                \u003cUserAvatar /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"md:hidden ml-2\"\u003e\n                \u003cmotion.div whileTap={{ scale: 0.9 }}\u003e\n                  \u003cButton\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onClick={() =\u003e setMobileMenuOpen(!mobileMenuOpen)}\n                    onMouseDown={(e) =\u003e ripple(e.nativeEvent, MENU_RIPPLE_COLOR, NAVBAR_RIPPLE_SCALE)}\n                    aria-label={mobileMenuOpen ? \"Cerrar menú\" : \"Abrir menú\"}\n                  \u003e\n                    \u003cIcon\n                      size=\"md\"\n                      gradient={true}\n                      strokeOnly={true}\n                      color=\"tertiary\"\n                      colorVariant=\"bg\"\n                      gradientWith=\"accent\"\n                      gradientColorVariant=\"text\"\n                    \u003e\n                      {mobileMenuOpen ? \u003cX /\u003e : \u003cMenu /\u003e}\n                    \u003c/Icon\u003e\n                  \u003c/Button\u003e\n                \u003c/motion.div\u003e\n              \u003c/div\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n\n        \u003cdiv className=\"w-full h-1\" style={gradientBarStyle} /\u003e\n\n        \u003cAnimatePresence\u003e\n          {mobileMenuOpen \u0026\u0026 (\n            \u003cmotion.div\n              className=\"md:hidden border-b\"\n              style={{\n                backgroundColor: navBackgroundColor,\n                borderColor: navTokens.submenu.border,\n                borderBottomWidth: navTokens.submenu.border ? \"1px\" : \"0\",\n                borderBottomStyle: navTokens.submenu.border ? \"solid\" : \"none\",\n              }}\n              initial={{ opacity: 0, height: 0 }}\n              animate={{ opacity: 1, height: \"auto\" }}\n              exit={{ opacity: 0, height: 0 }}\n              transition={{ duration: 0.3 }}\n            \u003e\n              \u003cdiv className=\"space-y-1 px-2 pt-2 pb-3 sm:px-3\"\u003e\n                \u003cdiv\n                  className=\"flex justify-around items-center py-2 border-b mb-2\"\n                  style={{\n                    borderColor: navTokens.submenu.border,\n                    borderBottomWidth: navTokens.submenu.border ? \"1px\" : \"0\",\n                    borderBottomStyle: navTokens.submenu.border ? \"solid\" : \"none\",\n                  }}\n                \u003e\n                  \u003cFontThemeSwitcher /\u003e\n                  \u003cThemeSwitcher /\u003e\n                \u003c/div\u003e\n\n                {navItems.map((item, index) =\u003e (\n                  \u003cmotion.div\n                    key={item.href || item.label}\n                    initial={{ opacity: 0, x: -10 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    transition={{ duration: 0.3, delay: index * 0.05 + 0.1 }}\n                  \u003e\n                    {item.submenu ? (\n                      \u003c\u003e\n                        \u003cmotion.button\n                          onClick={(e) =\u003e toggleSubmenu(item.label, e)}\n                          onMouseDown={(e) =\u003e ripple(e.nativeEvent, MENU_RIPPLE_COLOR, NAVBAR_RIPPLE_SCALE)}\n                          data-submenu=\"trigger\"\n                          className=\"flex w-full items-center justify-between px-3 py-2 text-base font-medium rounded-md\"\n                          style={{\n                            backgroundColor:\n                              pathname === item.href || isSubmenuActive(item) ? navTokens.active.bg : \"transparent\",\n                          }}\n                          whileHover={{\n                            backgroundColor:\n                              pathname === item.href || isSubmenuActive(item)\n                                ? navTokens.active.bg\n                                : navTokens.hover.bg,\n                          }}\n                          whileTap={{ scale: 0.98 }}\n                        \u003e\n                          \u003cspan className=\"flex items-center\"\u003e\n                            {item.icon(pathname === item.href || isSubmenuActive(item))}\n                            \u003cText\n                              color={\n                                pathname === item.href || isSubmenuActive(item)\n                                  ? MENU_HEADER_TEXT_COLOR_ACTIVE\n                                  : MENU_HEADER_TEXT_COLOR_INACTIVE\n                              }\n                              colorVariant={\n                                pathname === item.href || isSubmenuActive(item)\n                                  ? MENU_HEADER_TEXT_VARIANT_ACTIVE\n                                  : MENU_HEADER_TEXT_VARIANT_INACTIVE\n                              }\n                              weight=\"medium\"\n                              size=\"base\"\n                              fontType=\"heading\"\n                            \u003e\n                              {item.label}\n                            \u003c/Text\u003e\n                          \u003c/span\u003e\n                          \u003cmotion.div\n                            variants={arrowVariants}\n                            initial=\"closed\"\n                            animate={openSubmenu === item.label ? \"open\" : \"closed\"}\n                            transition={{ duration: 0.2 }}\n                          \u003e\n                            \u003cIcon\n                              size=\"xs\"\n                              gradient={true}\n                              strokeOnly={true}\n                              color=\"tertiary\"\n                              colorVariant=\"bg\"\n                              gradientWith=\"accent\"\n                              gradientColorVariant=\"text\"\n                            \u003e\n                              \u003cChevronDown /\u003e\n                            \u003c/Icon\u003e\n                          \u003c/motion.div\u003e\n                        \u003c/motion.button\u003e\n                        \u003cAnimatePresence\u003e\n                          {openSubmenu === item.label \u0026\u0026 (\n                            \u003cmotion.div\n                              className=\"pl-4 space-y-1\"\n                              initial=\"hidden\"\n                              animate=\"visible\"\n                              exit=\"hidden\"\n                              variants={submenuVariants}\n                              data-submenu=\"content\"\n                            \u003e\n                              {item.submenu.map((subitem) =\u003e (\n                                \u003cmotion.div\n                                  key={subitem.href}\n                                  variants={menuItemVariants}\n                                  whileHover={{\n                                    backgroundColor:\n                                      pathname === subitem.href ? navTokens.active.bg : navTokens.hover.bg,\n                                    scale: 1.02,\n                                  }}\n                                  whileTap={menuItemVariants.tap}\n                                  className=\"rounded-md\"\n                                \u003e\n                                  \u003cLink\n                                    href={subitem.href}\n                                    className=\"block px-3 py-2 text-sm rounded-md flex items-center transition-colors\"\n                                    style={{\n                                      backgroundColor: pathname === subitem.href ? navTokens.active.bg : \"transparent\",\n                                    }}\n                                    onClick={() =\u003e {\n                                      setOpenSubmenu(null)\n                                      setMobileMenuOpen(false)\n                                    }}\n                                    onMouseDown={(e) =\u003e\n                                      ripple(e.nativeEvent, SUBMENU_RIPPLE_COLOR, NAVBAR_RIPPLE_SCALE)\n                                    }\n                                  \u003e\n                                    {subitem.icon(pathname === subitem.href)}\n                                    \u003cText\n                                      color={\n                                        pathname === subitem.href\n                                          ? SUBMENU_TEXT_COLOR_ACTIVE\n                                          : SUBMENU_TEXT_COLOR_INACTIVE\n                                      }\n                                      colorVariant={\n                                        pathname === subitem.href\n                                          ? SUBMENU_TEXT_VARIANT_ACTIVE\n                                          : SUBMENU_TEXT_VARIANT_INACTIVE\n                                      }\n                                      weight={pathname === subitem.href ? \"medium\" : \"normal\"}\n                                      size=\"sm\"\n                                      fontType=\"body\"\n                                    \u003e\n                                      {subitem.label}\n                                    \u003c/Text\u003e\n                                  \u003c/Link\u003e\n                                \u003c/motion.div\u003e\n                              ))}\n                            \u003c/motion.div\u003e\n                          )}\n                        \u003c/AnimatePresence\u003e\n                      \u003c/\u003e\n                    ) : (\n                      \u003cmotion.div\n                        whileHover={{\n                          backgroundColor: pathname === item.href ? navTokens.active.bg : navTokens.hover.bg,\n                          scale: 1.02,\n                        }}\n                        whileTap={menuItemVariants.tap}\n                        className=\"rounded-md\"\n                      \u003e\n                        \u003cLink\n                          href={item.disabled ? \"#\" : item.href}\n                          className=\"block px-3 py-2 text-base font-medium rounded-md flex items-center\"\n                          style={{\n                            backgroundColor: pathname === item.href ? navTokens.active.bg : \"transparent\",\n                            opacity: item.disabled ? 0.5 : 1,\n                            cursor: item.disabled ? \"not-allowed\" : \"pointer\",\n                          }}\n                          onClick={(e) =\u003e {\n                            if (item.disabled) {\n                              e.preventDefault()\n                            } else {\n                              setMobileMenuOpen(false)\n                            }\n                          }}\n                          onMouseDown={(e) =\u003e ripple(e.nativeEvent, MENU_RIPPLE_COLOR, NAVBAR_RIPPLE_SCALE)}\n                        \u003e\n                          {item.icon(pathname === item.href)}\n                          \u003cText\n                            color={\n                              pathname === item.href ? MENU_HEADER_TEXT_COLOR_ACTIVE : MENU_HEADER_TEXT_COLOR_INACTIVE\n                            }\n                            colorVariant={\n                              pathname === item.href\n                                ? MENU_HEADER_TEXT_VARIANT_ACTIVE\n                                : MENU_HEADER_TEXT_VARIANT_INACTIVE\n                            }\n                            weight=\"medium\"\n                            size=\"base\"\n                            fontType=\"heading\"\n                          \u003e\n                            {item.label}\n                          \u003c/Text\u003e\n                          {item.disabled \u0026\u0026 (\n                            \u003cspan className=\"ml-2 text-xs bg-amber-100 text-amber-800 px-1.5 py-0.5 rounded-full\"\u003e\n                              Próximamente\n                            \u003c/span\u003e\n                          )}\n                        \u003c/Link\u003e\n                      \u003c/motion.div\u003e\n                    )}\n                  \u003c/motion.div\u003e\n                ))}\n                \u003cdiv\n                  className=\"pt-4 mt-2 border-t flex justify-center\"\n                  style={{\n                    borderColor: navTokens.submenu.border,\n                    borderTopWidth: navTokens.submenu.border ? \"1px\" : \"0\",\n                    borderTopStyle: navTokens.submenu.border ? \"solid\" : \"none\",\n                  }}\n                \u003e\n                  \u003cUserAvatar /\u003e\n                \u003c/div\u003e\n              \u003c/div\u003e\n            \u003c/motion.div\u003e\n          )}\n        \u003c/AnimatePresence\u003e\n      \u003c/motion.nav\u003e\n    \u003c/\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"98:T1c4c,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useEffect, useState, useRef } from \"react\"\nimport { usePathname, useSearchParams } from \"next/navigation\"\nimport { createPortal } from \"react-dom\"\n\nexport function NavigationProgress() {\n  // Estados para controlar la barra de progreso\n  const [isLoading, setIsLoading] = useState(false)\n  const [progress, setProgress] = useState(0)\n  const [mounted, setMounted] = useState(false)\n\n  // Referencias para manejar timers y estado de navegación\n  const intervalRef = useRef\u003cNodeJS.Timeout | null\u003e(null)\n  const timeoutRef = useRef\u003cNodeJS.Timeout | null\u003e(null)\n  const safetyTimeoutRef = useRef\u003cNodeJS.Timeout | null\u003e(null)\n  const isNavigatingRef = useRef(false)\n  const navigationStartTimeRef = useRef(0)\n\n  // Hooks de Next.js para detectar cambios de URL\n  const pathname = usePathname()\n  const searchParams = useSearchParams()\n\n  // Referencia para almacenar la última URL para comparaciones\n  const lastUrlRef = useRef(\"\")\n\n  // Efecto para manejar el montaje del componente\n  useEffect(() =\u003e {\n    setMounted(true)\n\n    // Limpiar al desmontar\n    return () =\u003e {\n      setMounted(false)\n      cleanupAllTimers()\n    }\n  }, [])\n\n  // CAPA 1: Detección de clics en enlaces para activación inmediata\n  useEffect(() =\u003e {\n    if (!mounted) return\n\n    function handleLinkClick(e: MouseEvent) {\n      // Solo procesar si el clic fue en un enlace\n      const target = e.target as HTMLElement\n      const link = target.closest(\"a\")\n      if (!link) return\n\n      // Verificar si es un enlace interno (mismo origen)\n      try {\n        const url = new URL(link.href, window.location.origin)\n        const isInternal = url.origin === window.location.origin\n        if (!isInternal) return\n\n        // Verificar si es una navegación a una ruta diferente\n        const linkPathname = url.pathname\n        const linkSearch = url.search\n        const currentPathname = window.location.pathname\n        const currentSearch = window.location.search\n\n        if (linkPathname === currentPathname \u0026\u0026 linkSearch === currentSearch) return\n\n        // Si ya hay una navegación en progreso, no iniciar otra\n        if (isNavigatingRef.current) return\n\n        // Activar la barra de progreso inmediatamente\n        startLoading()\n        isNavigatingRef.current = true\n        navigationStartTimeRef.current = Date.now()\n      } catch (error) {\n        // Si hay un error al parsear la URL, ignoramos\n        console.error(\"Error parsing URL:\", error)\n      }\n    }\n\n    // Añadir un solo listener a nivel de documento (eficiente)\n    document.addEventListener(\"click\", handleLinkClick)\n\n    return () =\u003e {\n      document.removeEventListener(\"click\", handleLinkClick)\n    }\n  }, [mounted])\n\n  // CAPA 2: Observación de cambios de URL como respaldo (simplificada)\n  useEffect(() =\u003e {\n    if (!mounted) return\n\n    const currentUrl = `${pathname}${searchParams ? `?${searchParams}` : \"\"}`\n\n    // Si la URL ha cambiado\n    if (currentUrl !== lastUrlRef.current) {\n      // Si no hay una navegación en progreso, iniciar una (para navegaciones programáticas)\n      if (!isNavigatingRef.current) {\n        startLoading()\n        isNavigatingRef.current = true\n        navigationStartTimeRef.current = Date.now()\n      }\n      // Si hay una navegación en progreso y la URL cambió, significa que la página está cargando\n      else {\n        // Registrar que la URL ha cambiado\n        handleNavigationProgress()\n      }\n\n      // Actualizar la referencia de la última URL\n      lastUrlRef.current = currentUrl\n    }\n  }, [pathname, searchParams, mounted])\n\n  // CAPA 3: Detección de finalización de carga mejorada\n  useEffect(() =\u003e {\n    if (!mounted || !isNavigatingRef.current) return\n\n    // Función para manejar la carga completa de la página\n    const handleLoad = () =\u003e {\n      if (isNavigatingRef.current) {\n        // Asegurar que la barra haya estado visible por al menos 500ms para evitar parpadeos\n        const timeElapsed = Date.now() - navigationStartTimeRef.current\n        const minDisplayTime = 500 // ms\n\n        if (timeElapsed \u003e= minDisplayTime) {\n          completeLoading()\n        } else {\n          const remainingTime = minDisplayTime - timeElapsed\n          setTimeout(completeLoading, remainingTime)\n        }\n      }\n    }\n\n    // Usar múltiples eventos para mayor fiabilidad\n    window.addEventListener(\"load\", handleLoad)\n\n    // Usar requestAnimationFrame para detectar cuando el DOM se ha actualizado\n    let frameCount = 0\n    function checkFrames() {\n      frameCount++\n      if (frameCount \u003e= 2) {\n        // Esperar a que pasen al menos 2 frames\n        handleLoad()\n      } else {\n        requestAnimationFrame(checkFrames)\n      }\n    }\n    requestAnimationFrame(checkFrames)\n\n    return () =\u003e {\n      window.removeEventListener(\"load\", handleLoad)\n    }\n  }, [pathname, searchParams, mounted])\n\n  // Función para manejar el progreso de la navegación\n  function handleNavigationProgress() {\n    // Asegurar que la barra esté visible\n    setIsLoading(true)\n\n    // Avanzar el progreso si está por debajo del 90%\n    setProgress((prev) =\u003e Math.min(prev + 10, 90))\n  }\n\n  // Función para iniciar la animación de carga\n  function startLoading() {\n    // Limpiar cualquier animación previa\n    cleanupAllTimers()\n\n    // Iniciar nueva animación\n    setIsLoading(true)\n    setProgress(0)\n\n    // Simular progreso con incrementos\n    intervalRef.current = setInterval(() =\u003e {\n      setProgress((prev) =\u003e {\n        // Incrementos más rápidos al inicio, más lentos al final\n        const increment = prev \u003c 30 ? 10 : prev \u003c 60 ? 5 : prev \u003c 80 ? 2 : 1\n        return Math.min(prev + increment, 90)\n      })\n    }, 150)\n\n    // Timeout de seguridad para forzar la finalización después de un tiempo máximo\n    safetyTimeoutRef.current = setTimeout(() =\u003e {\n      if (isNavigatingRef.current) {\n        completeLoading()\n      }\n    }, 8000) // 8 segundos como máximo\n  }\n\n  // Función para completar la animación de carga\n  function completeLoading() {\n    // Limpiar todos los timers\n    cleanupAllTimers()\n\n    // Completar la barra al 100%\n    setProgress(100)\n\n    // Mantener visible brevemente antes de ocultar\n    timeoutRef.current = setTimeout(() =\u003e {\n      setIsLoading(false)\n      setProgress(0)\n      isNavigatingRef.current = false\n    }, 300)\n  }\n\n  // Función para limpiar todos los timers\n  function cleanupAllTimers() {\n    if (intervalRef.current) {\n      clearInterval(intervalRef.current)\n      intervalRef.current = null\n    }\n\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current)\n      timeoutRef.current = null\n    }\n\n    if (safetyTimeoutRef.current) {\n      clearTimeout(safetyTimeoutRef.current)\n      safetyTimeoutRef.current = null\n    }\n  }\n\n  // No renderizar nada en el servidor\n  if (!mounted) {\n    return null\n  }\n\n  // Renderizar la barra de progreso mediante portal\n  return createPortal(\n    \u003c\u003e\n      {isLoading \u0026\u0026 (\n        \u003cdiv className=\"fixed top-0 left-0 right-0 z-[100] h-1.5\"\u003e\n          \u003cdiv\n            className=\"h-full bg-primary shadow-[0_0_8px_rgba(0,0,0,0.3)] transition-all ease-out duration-200\"\n            style={{ width: `${progress}%` }}\n          /\u003e\n        \u003c/div\u003e\n      )}\n    \u003c/\u003e,\n    document.body,\n  )\n}\n"])</script><script>self.__next_f.push([1,"99:T5e1,// --- page-background.tsx (MODIFICADO DRASTICAMENTE) ---\n\"use client\"\n\nimport type React from \"react\"\nimport { useEffect, useState } from \"react\"\nimport { useTheme } from \"@/app/theme-provider\"\nimport { generatePageBackgroundTokens, type PageBackgroundVariant } from \"@/lib/theme/components/page-background-tokens\"\n\ninterface PageBackgroundProps {\n  children: React.ReactNode\n  variant?: PageBackgroundVariant\n  // className ya no se usa aquí, se pasa a PageWrapper y este lo usa\n}\n\nexport function PageBackground({ children, variant = \"minimal\" }: PageBackgroundProps) {\n  const { appColorTokens, mode } = useTheme()\n  const [backgroundStyle, setBackgroundStyle] = useState\u003cReact.CSSProperties\u003e({})\n\n  useEffect(() =\u003e {\n    const tokens = generatePageBackgroundTokens(appColorTokens, mode, variant)\n    setBackgroundStyle({\n      backgroundColor: tokens.background,\n      backgroundImage: tokens.backgroundImage,\n    })\n  }, [appColorTokens, mode, variant])\n\n  return (\n    \u003c\u003e\n      {/* 1. Div para el Fondo Fijo (detrás de todo) */}\n      \u003cdiv\n        className={`fixed inset-0 -z-10 w-full h-full ${mode === \"dark\" ? \"dark\" : \"\"}`}\n        style={backgroundStyle}\n        aria-hidden=\"true\"\n      /\u003e\n      {/* 2. Simplemente renderiza children. PageWrapper le dará el layout. */}\n      {/* No más flex, no más min-h-screen, no más espaciador de navbar aquí. */}\n      {/* La estructura de altura y scroll viene de AuthLayoutWrapper y de los estilos globales. */}\n      {children}\n    \u003c/\u003e\n  )\n}\n9a:T3a21,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport type React from \"react\"\nimport { forwardRef, useMemo } from \"react\"\nimport { cn } from \"@/lib/utils\"\nimport { useTheme } from \"@/app/theme-provider\"\nimport type { ProCardVariant } from \"@/lib/theme/ColorToken\"\nimport { generateProCardTokens } from \"@/lib/theme/components/pro-card-tokens\"\nimport { Text } from \"@/components/ui/text\"\nimport type { FontPairType, TextProps } from \"@/components/ui/text\"\nimport { motion, AnimatePresence, type HTMLMotionProps, type Variants, type Transition } from \"framer-motion\" // AnimatePresence\nimport { Check, Square } from \"lucide-react\"\n\nexport type ProCardBorderStyle = \"none\" | \"normal\" | \"top\" | \"left\"\n\nexport interface ProCardProps\n  extends Omit\u003cReact.HTMLAttributes\u003cHTMLDivElement\u003e, \"onAnimationStart\" | \"onDragStart\" | \"onDragEnd\" | \"onDrag\"\u003e {\n  variant?: ProCardVariant\n  border?: ProCardBorderStyle\n  borderVariant?: ProCardVariant\n  selected?: boolean\n  loading?: boolean\n  inactive?: boolean // Nuevo prop para estado inactivo\n  className?: string\n  children?: React.ReactNode\n  noPadding?: boolean\n  shadow?: \"none\" | \"sm\" | \"md\" | \"lg\" | \"xl\"\n  disableShadowHover?: boolean\n  animateEntrance?: boolean\n  showSelectionCheckbox?: boolean\n  onSelectionChange?: (selected: boolean) =\u003e void\n  customTransition?: Transition\n}\n\n// --- Interfaces de Subcomponentes ---\ninterface ProCardHeaderProps extends React.HTMLAttributes\u003cHTMLDivElement\u003e {\n  className?: string\n  children?: React.ReactNode\n}\ninterface ProCardTitleProps extends React.HTMLAttributes\u003cHTMLHeadingElement\u003e {\n  className?: string\n  children?: React.ReactNode\n  variant?: TextProps[\"variant\"]\n  size?: TextProps[\"size\"]\n  color?: TextProps[\"color\"]\n  colorVariant?: TextProps[\"colorVariant\"]\n  gradient?: TextProps[\"gradient\"]\n  fontType?: FontPairType\n  weight?: TextProps[\"weight\"]\n}\ninterface ProCardSubtitleProps extends React.HTMLAttributes\u003cHTMLParagraphElement\u003e {\n  className?: string\n  children?: React.ReactNode\n  variant?: TextProps[\"variant\"]\n  size?: TextProps[\"size\"]\n  color?: TextProps[\"color\"]\n  colorVariant?: TextProps[\"colorVariant\"]\n  gradient?: TextProps[\"gradient\"]\n  fontType?: FontPairType\n  weight?: TextProps[\"weight\"]\n}\ninterface ProCardMediaProps extends React.HTMLAttributes\u003cHTMLDivElement\u003e {\n  className?: string\n  children?: React.ReactNode\n}\ninterface ProCardContentProps extends React.HTMLAttributes\u003cHTMLDivElement\u003e {\n  className?: string\n  children?: React.ReactNode\n}\ninterface ProCardActionsProps extends React.HTMLAttributes\u003cHTMLDivElement\u003e {\n  className?: string\n  children?: React.ReactNode\n}\ninterface ProCardFooterProps extends React.HTMLAttributes\u003cHTMLDivElement\u003e {\n  className?: string\n  children?: React.ReactNode\n}\n// --- Fin Interfaces de Subcomponentes ---\n\nconst cardEntranceVariants: Variants = {\n  hidden: { opacity: 0, y: 15 },\n  visible: { opacity: 1, y: 0 },\n}\n\nconst overlayVariants: Variants = {\n  hidden: { opacity: 0 },\n  visible: { opacity: 1 },\n}\n\nconst ProCard = forwardRef\u003cHTMLDivElement, ProCardProps\u003e(\n  (\n    {\n      variant = \"primary\",\n      border = \"none\",\n      borderVariant,\n      selected = false,\n      loading = false,\n      inactive = false, // Valor por defecto para inactive\n      className,\n      children,\n      noPadding = false,\n      shadow = \"md\",\n      disableShadowHover = false,\n      animateEntrance = true,\n      showSelectionCheckbox = false,\n      onSelectionChange,\n      customTransition,\n      ...htmlProps\n    },\n    ref,\n  ) =\u003e {\n    const actualBorderVariant = borderVariant || variant\n    const { appColorTokens, mode } = useTheme()\n\n    const proCardComponentTokens = useMemo(() =\u003e {\n      return appColorTokens ? generateProCardTokens(appColorTokens, mode) : null\n    }, [appColorTokens, mode])\n    const hasTokens = !!proCardComponentTokens\n    const paddingClasses = noPadding ? \"\" : \"p-4\"\n\n    const getShadowClasses = () =\u003e {\n      if (shadow === \"none\") return \"shadow-none\"\n      const shadowMap = {\n        sm: { base: \"shadow-sm\", hover: \"hover:shadow-md\" },\n        md: { base: \"shadow-md\", hover: \"hover:shadow-lg\" },\n        lg: { base: \"shadow-lg\", hover: \"hover:shadow-xl\" },\n        xl: { base: \"shadow-xl\", hover: \"hover:shadow-2xl\" },\n      }\n      const selectedShadowConfig = shadowMap[shadow as keyof typeof shadowMap] || shadowMap.md\n      const hoverClass = !disableShadowHover \u0026\u0026 !inactive \u0026\u0026 !loading ? selectedShadowConfig.hover : \"\" // No hover si inactiva o cargando\n      return cn(selectedShadowConfig.base, hoverClass)\n    }\n\n    const shadowClassesToApply = getShadowClasses()\n    // loadingClass se aplicará al MotionDiv para que el pulse afecte a toda la tarjeta\n    const conditionalLoadingClass = loading ? \"animate-pulse\" : \"\"\n\n    const borderStyleProps = useMemo\u003cReact.CSSProperties\u003e(() =\u003e {\n      let borderColor = \"transparent\"\n      let borderWidth = \"0px\"\n      let borderStyle: React.CSSProperties[\"borderStyle\"] = \"none\"\n      if (selected \u0026\u0026 !inactive) {\n        // El borde seleccionado no se muestra si está inactivo\n        borderColor = (hasTokens \u0026\u0026 proCardComponentTokens?.selected?.[actualBorderVariant]) || \"HighlightText\"\n        borderWidth = \"2px\"\n        borderStyle = \"solid\"\n      } else if (border === \"normal\") {\n        borderColor = (hasTokens \u0026\u0026 proCardComponentTokens?.border?.[actualBorderVariant]) || \"transparent\"\n        borderWidth = \"1px\"\n        borderStyle = \"solid\"\n      }\n      return { borderColor, borderWidth, borderStyle }\n    }, [selected, border, actualBorderVariant, hasTokens, proCardComponentTokens, inactive])\n\n    // Esqueleto de carga con colores más contrastantes para el pulso\n    const loadingInnerContent = (\n      \u003cdiv className={cn(\"flex flex-col gap-3\", noPadding ? \"\" : \"p-4\")}\u003e\n        {\" \"}\n        {/* Aumentado gap */}\n        \u003cdiv className=\"h-5 w-3/4 rounded bg-slate-300 dark:bg-slate-700 opacity-75\"\u003e\u003c/div\u003e{\" \"}\n        {/* Colores más definidos */}\n        \u003cdiv className=\"h-5 w-1/2 rounded bg-slate-300 dark:bg-slate-700 opacity-75\"\u003e\u003c/div\u003e\n        \u003cdiv className=\"h-5 w-5/6 rounded bg-slate-300 dark:bg-slate-700 opacity-75\"\u003e\u003c/div\u003e\n      \u003c/div\u003e\n    )\n\n    const defaultGradient = \"linear-gradient(135deg, #f0f0f0 0%, #ffffff 100%)\"\n    const defaultBorderGradient = \"linear-gradient(90deg, #e0e0e0 0%, #f0f0f0 100%)\"\n\n    const motionDivBackgroundStyle = {\n      background:\n        hasTokens \u0026\u0026 proCardComponentTokens ? proCardComponentTokens.backgroundGradient[variant] : defaultGradient,\n    }\n\n    const MotionDiv = motion.div\n\n    const renderInnerContent = (isWrapped: boolean) =\u003e (\n      \u003cdiv className={cn(paddingClasses)} style={{ ...(isWrapped \u0026\u0026 border === \"left\" \u0026\u0026 { marginLeft: \"0.5rem\" }) }}\u003e\n        {showSelectionCheckbox \u0026\u0026 onSelectionChange \u0026\u0026 (\n          \u003cmotion.button\n            type=\"button\"\n            disabled={inactive || loading} // Deshabilitar checkbox si está inactivo o cargando\n            onClick={(e) =\u003e {\n              e.stopPropagation()\n              onSelectionChange(!selected)\n            }}\n            className={cn(\n              \"absolute top-3 right-3 z-30 p-0.5 bg-white/30 dark:bg-gray-900/30 rounded hover:bg-white/50 dark:hover:bg-gray-900/50 transition-colors\",\n              (inactive || loading) \u0026\u0026 \"opacity-50 cursor-not-allowed\",\n            )}\n            whileTap={{ scale: inactive || loading ? 1 : 0.9 }}\n            aria-pressed={selected}\n            aria-label={selected ? \"Deseleccionar tarjeta\" : \"Seleccionar tarjeta\"}\n          \u003e\n            {selected ? (\n              \u003cCheck size={18} className=\"text-primary\" /\u003e\n            ) : (\n              \u003cSquare size={18} className=\"text-gray-400 dark:text-gray-500\" /\u003e\n            )}\n          \u003c/motion.button\u003e\n        )}\n        {loading \u0026\u0026 !inactive ? loadingInnerContent : children}{\" \"}\n        {/* Mostrar loading solo si no está explícitamente inactiva */}\n      \u003c/div\u003e\n    )\n\n    const defaultCardTransition: Transition = { duration: 0.2, ease: \"circOut\" }\n    const finalTransition: Transition = customTransition\n      ? { ...defaultCardTransition, ...customTransition }\n      : defaultCardTransition\n\n    const showInactiveOverlay = inactive \u0026\u0026 !loading // No mostrar overlay si está cargando\n\n    const motionRootProps: HTMLMotionProps\u003c\"div\"\u003e = {\n      ref: ref,\n      className: cn(\n        \"relative rounded-lg\",\n        shadowClassesToApply,\n        conditionalLoadingClass, // Clase de pulso aquí\n        inactive \u0026\u0026 \"cursor-not-allowed\", // Cursor para toda la tarjeta inactiva\n        className,\n      ),\n      style: {\n        ...motionDivBackgroundStyle,\n        ...borderStyleProps,\n      },\n      transition: finalTransition,\n      ...(htmlProps || {}), // Asegurar que htmlProps no sea undefined al hacer spread\n      // Prevenir clicks en la tarjeta si está inactiva\n      ...(inactive \u0026\u0026 { onClickCapture: (e: React.MouseEvent) =\u003e e.stopPropagation(), tabIndex: -1 }),\n    }\n\n    if (animateEntrance \u0026\u0026 !loading) {\n      // No animar entrada si está cargando inicialmente\n      motionRootProps.variants = cardEntranceVariants\n      motionRootProps.initial = \"hidden\"\n      motionRootProps.animate = \"visible\"\n    }\n\n    const finalClassName = motionRootProps.className // Guardar antes de borrar\n    delete motionRootProps.className // className se pasa dentro del cn() del MotionDiv\n\n    if (border === \"top\" || border === \"left\") {\n      return (\n        \u003cMotionDiv className={finalClassName} {...motionRootProps}\u003e\n          {border === \"top\" \u0026\u0026 (\n            \u003cdiv\n              className=\"absolute top-0 left-0 right-0 h-1.5 rounded-t-lg z-10\" // AJUSTE: h-1 a h-2\n              style={{\n                backgroundImage:\n                  hasTokens \u0026\u0026 proCardComponentTokens\n                    ? proCardComponentTokens.borderGradientTop[actualBorderVariant]\n                    : defaultBorderGradient,\n              }}\n            /\u003e\n          )}\n          {border === \"left\" \u0026\u0026 (\n            \u003cdiv\n              className=\"absolute top-0 left-0 bottom-0 w-2 rounded-l-lg z-10\"\n              style={{\n                backgroundImage:\n                  hasTokens \u0026\u0026 proCardComponentTokens\n                    ? proCardComponentTokens.borderGradientLeft[actualBorderVariant]\n                    : defaultBorderGradient,\n              }}\n            /\u003e\n          )}\n          {renderInnerContent(true)}\n          \u003cAnimatePresence\u003e\n            {showInactiveOverlay \u0026\u0026 (\n              \u003cmotion.div\n                key=\"inactive-overlay\"\n                variants={overlayVariants}\n                initial=\"hidden\"\n                animate=\"visible\"\n                exit=\"hidden\"\n                className=\"absolute inset-0 z-20 bg-white/60 dark:bg-neutral-800/70 backdrop-blur-sm rounded-lg\" // Asegurar redondeo\n                style={{ pointerEvents: \"all\" }} // Bloquear eventos\n              /\u003e\n            )}\n          \u003c/AnimatePresence\u003e\n        \u003c/MotionDiv\u003e\n      )\n    }\n\n    return (\n      \u003cMotionDiv className={finalClassName} {...motionRootProps}\u003e\n        {renderInnerContent(false)}\n        \u003cAnimatePresence\u003e\n          {showInactiveOverlay \u0026\u0026 (\n            \u003cmotion.div\n              key=\"inactive-overlay\"\n              variants={overlayVariants}\n              initial=\"hidden\"\n              animate=\"visible\"\n              exit=\"hidden\"\n              className=\"absolute inset-0 z-20 bg-white/60 dark:bg-neutral-800/70 backdrop-blur-sm rounded-lg\"\n              style={{ pointerEvents: \"all\" }}\n            /\u003e\n          )}\n        \u003c/AnimatePresence\u003e\n      \u003c/MotionDiv\u003e\n    )\n  },\n)\n\nProCard.displayName = \"ProCard\"\n\n// --- Subcomponentes (Completos) ---\nconst Header = forwardRef\u003cHTMLDivElement, ProCardHeaderProps\u003e(({ className, children, ...props }, ref) =\u003e (\n  \u003cdiv ref={ref} className={cn(\"mb-4\", className)} {...props}\u003e\n    {children}\n  \u003c/div\u003e\n))\nconst Title = forwardRef\u003cHTMLHeadingElement, ProCardTitleProps\u003e(\n  (\n    {\n      children,\n      className,\n      variant = \"heading\" as TextProps[\"variant\"],\n      size = \"xl\" as TextProps[\"size\"],\n      color,\n      colorVariant,\n      gradient,\n      fontType,\n      weight,\n      ...props\n    },\n    ref,\n  ) =\u003e (\n    \u003cdiv ref={ref} {...props}\u003e\n      \u003cText\n        variant={variant}\n        size={size}\n        color={color}\n        colorVariant={colorVariant}\n        gradient={gradient}\n        fontType={fontType}\n        weight={weight}\n        className={className}\n      \u003e\n        {children}\n      \u003c/Text\u003e\n    \u003c/div\u003e\n  ),\n)\nconst Subtitle = forwardRef\u003cHTMLParagraphElement, ProCardSubtitleProps\u003e(\n  (\n    {\n      children,\n      className,\n      variant = \"default\" as TextProps[\"variant\"],\n      size = \"sm\" as TextProps[\"size\"],\n      color = \"neutral\" as TextProps[\"color\"],\n      colorVariant = \"muted\" as TextProps[\"colorVariant\"],\n      gradient,\n      fontType,\n      weight,\n      ...props\n    },\n    ref,\n  ) =\u003e (\n    \u003cdiv ref={ref} {...props}\u003e\n      \u003cText\n        variant={variant}\n        size={size}\n        color={color}\n        colorVariant={colorVariant}\n        gradient={gradient}\n        fontType={fontType}\n        weight={weight}\n        className={className}\n      \u003e\n        {children}\n      \u003c/Text\u003e\n    \u003c/div\u003e\n  ),\n)\nconst Media = forwardRef\u003cHTMLDivElement, ProCardMediaProps\u003e(({ className, children, ...props }, ref) =\u003e (\n  \u003cdiv ref={ref} className={cn(\"mb-4\", className)} {...props}\u003e\n    {children}\n  \u003c/div\u003e\n))\nconst Content = forwardRef\u003cHTMLDivElement, ProCardContentProps\u003e(({ className, children, ...props }, ref) =\u003e (\n  \u003cdiv ref={ref} className={cn(\"mb-4\", className)} {...props}\u003e\n    {children}\n  \u003c/div\u003e\n))\nconst Actions = forwardRef\u003cHTMLDivElement, ProCardActionsProps\u003e(({ className, children, ...props }, ref) =\u003e (\n  \u003cdiv ref={ref} className={cn(\"mt-4\", className)} {...props}\u003e\n    {children}\n  \u003c/div\u003e\n))\nconst Footer = forwardRef\u003cHTMLDivElement, ProCardFooterProps\u003e(({ className, children, ...props }, ref) =\u003e (\n  \u003cdiv ref={ref} className={cn(\"mt-4\", className)} {...props}\u003e\n    {children}\n  \u003c/div\u003e\n))\n// --- Fin Subcomponentes ---\n\nHeader.displayName = \"ProCard.Header\"\nTitle.displayName = \"ProCard.Title\"\nSubtitle.displayName = \"ProCard.Subtitle\"\nMedia.displayName = \"ProCard.Media\"\nContent.displayName = \"ProCard.Content\"\nActions.displayName = \"ProCard.Actions\"\nFooter.displayName = \"ProCard.Footer\"\n\ninterface ProCardComponent extends React.ForwardRefExoticComponent\u003cProCardProps \u0026 React.RefAttributes\u003cHTMLDivElement\u003e\u003e {\n  Header: typeof Header\n  Title: typeof Title\n  Subtitle: typeof Subtitle\n  Media: typeof Media\n  Content: typeof Content\n  Actions: typeof Actions\n  Footer: typeof Footer\n}\n\nconst ProCardWithSubcomponents = ProCard as ProCardComponent\nProCardWithSubcomponents.Header = Header\nProCardWithSubcomponents.Title = Title\nProCardWithSubcomponents.Subtitle = Subtitle\nProCardWithSubcomponents.Media = Media\nProCardWithSubcomponents.Content = Content\nProCardWithSubcomponents.Actions = Actions\nProCardWithSubcomponents.Footer = Footer\n\nexport { ProCardWithSubcomponents as ProCard }\n"])</script><script>self.__next_f.push([1,"9b:Tc45b,"])</script><script>self.__next_f.push([1,"// --- START OF FILE ProTable.tsx (MODIFIED - REMOVED INNER WRAPPER, SIMPLIFIED CELL STRUCTURE) ---\n\n\"use client\"\n\nimport React, { useState, useRef, useEffect, useCallback } from \"react\"\nimport {\n  type ColumnDef,\n  flexRender,\n  getCoreRowModel,\n  useReactTable,\n  getFilteredRowModel,\n  getExpandedRowModel,\n  type RowData,\n  getSortedRowModel,\n  type SortingState,\n  type Row,\n  type Column,\n  type Cell,\n} from \"@tanstack/react-table\"\nimport { Input } from \"@/components/ui/input\"\nimport { Checkbox } from \"@/components/ui/checkbox\"\nimport { cn } from \"@/lib/utils\"\nimport { ChevronDown, ChevronUp, ChevronsUpDown, ChevronRight } from \"lucide-react\"\nimport { createPortal } from \"react-dom\"\nimport { useTheme } from \"@/app/theme-provider\"\nimport type { CellVariant, TableTokens } from \"@/lib/theme/components/table-tokens\"\nimport { generateTableTokens } from \"@/lib/theme/components/table-tokens\"\nimport { motion } from \"framer-motion\"\n\ndeclare global {\n  interface Window {\n    mouseX?: number\n    mouseY?: number\n  }\n}\n\ndeclare module \"@tanstack/react-table\" {\n  interface ColumnMeta\u003cTData extends RowData, TValue\u003e {\n    type?: string\n    enableTooltip?: boolean\n    enableSorting?: boolean\n    className?: string // className para el TD\n    contentClassName?: string // className para el DIV wrapper de contenido (si existe)\n    isLongContent?: boolean\n    lineClamp?: number\n    cellVariant?:\n      | CellVariant\n      | ((context: {\n          row: Row\u003cTData\u003e\n          column: Column\u003cTData, TValue\u003e\n          cell: Cell\u003cTData, TValue\u003e\n          getValue: () =\u003e TValue\n        }) =\u003e CellVariant | undefined)\n    isFixed?: boolean\n    enableTextFade?: boolean\n  }\n}\n\nexport interface TooltipTableProps\u003cTData extends RowData\u003e {\n  data: TData[]\n  columns: ColumnDef\u003cTData, any\u003e[]\n  initialVisibility?: Record\u003cstring, boolean\u003e\n  className?: string\n  enableTooltips?: boolean\n  enableSorting?: boolean\n  showColumnSelector?: boolean\n  placeholder?: string\n  getRowStatus?: (\n    row: TData,\n  ) =\u003e\n    | \"success\"\n    | \"warning\"\n    | \"error\"\n    | \"info\"\n    | \"neutral\"\n    | \"danger\"\n    | \"primary\"\n    | \"secondary\"\n    | \"tertiary\"\n    | \"accent\"\n    | null\n  lineClamp?: number\n  tooltipDelay?: number\n  stickyHeader?: boolean\n  renderCustomCheck?: (props: {\n    checked: boolean\n    onChange: () =\u003e void\n  }) =\u003e React.ReactNode\n  hideMenuOnScroll?: boolean\n}\n\ninterface TooltipComponentProps {\n  content: React.ReactNode\n  isLongContent: boolean\n  onClose: () =\u003e void\n  tooltipTokens: TableTokens[\"tooltip\"]\n}\n\nconst Tooltip: React.FC\u003cTooltipComponentProps\u003e = ({ content, isLongContent, onClose, tooltipTokens }) =\u003e {\n  const tooltipRef = useRef\u003cHTMLDivElement\u003e(null)\n  const [mounted, setMounted] = useState(false)\n  const [position, setPosition] = useState({ top: 0, left: 0 })\n\n  // Determine which set of tooltip tokens to use based on isLongContent\n  const currentTooltipTokens = isLongContent ? tooltipTokens.longContent : tooltipTokens.default\n\n  useEffect(() =\u003e {\n    if (!tooltipRef.current) return\n    const tooltipRect = tooltipRef.current.getBoundingClientRect()\n    const viewportWidth = window.innerWidth\n    const viewportHeight = window.innerHeight\n    let newTop, newLeft\n    if (isLongContent) {\n      newTop = Math.max(\n        50,\n        Math.min(viewportHeight - tooltipRect.height - 20, viewportHeight / 2 - tooltipRect.height / 2),\n      )\n      newLeft = Math.max(\n        20,\n        Math.min(viewportWidth - tooltipRect.width - 20, viewportWidth / 2 - tooltipRect.width / 2),\n      )\n    } else {\n      const cursorX = window.mouseX || viewportWidth / 2\n      const cursorY = window.mouseY || viewportHeight / 2\n      newTop = cursorY + 10\n      newLeft = cursorX + 10\n      if (newTop + tooltipRect.height \u003e viewportHeight) newTop = Math.max(10, cursorY - tooltipRect.height - 10)\n      if (newLeft + tooltipRect.width \u003e viewportWidth) newLeft = Math.max(10, cursorX - tooltipRect.width - 10)\n    }\n    setPosition({ top: newTop, left: newLeft })\n    setMounted(true)\n  }, [isLongContent])\n\n  useEffect(() =\u003e {\n    const handleClickOutside = (event: MouseEvent) =\u003e {\n      if (tooltipRef.current \u0026\u0026 !tooltipRef.current.contains(event.target as Node)) onClose()\n    }\n    document.addEventListener(\"mousedown\", handleClickOutside)\n    return () =\u003e document.removeEventListener(\"mousedown\", handleClickOutside)\n  }, [onClose])\n\n  return createPortal(\n    \u003cdiv\n      ref={tooltipRef}\n      className={cn(`custom-tooltip`, isLongContent \u0026\u0026 \"custom-tooltip-large\")}\n      style={{\n        position: \"fixed\",\n        top: `${position.top}px`,\n        left: `${position.left}px`,\n        maxHeight: isLongContent ? \"70vh\" : \"auto\",\n        maxWidth: isLongContent ? \"60vw\" : \"24rem\",\n        overflowY: isLongContent ? \"auto\" : \"visible\",\n        backgroundColor: currentTooltipTokens.backgroundColor,\n        color: currentTooltipTokens.foregroundColor,\n        border: `2px solid ${currentTooltipTokens.borderColor}`,\n        borderRadius: \"0.375rem\",\n        padding: \"0.75rem\",\n        boxShadow: \"0 10px 25px -5px rgba(0, 0, 0, 0.2), 0 10px 10px -5px rgba(0, 0, 0, 0.1)\",\n        zIndex: 9999,\n        width: \"max-content\",\n        whiteSpace: \"pre-line\",\n        pointerEvents: isLongContent ? \"auto\" : \"none\",\n        opacity: mounted ? 1 : 0,\n        transition: \"opacity 0.15s ease-out\",\n      }}\n    \u003e\n      {content}\n    \u003c/div\u003e,\n    document.body,\n  )\n}\n\nconst ExpandIconComponent = ({\n  isExpanded,\n  expanderTokens,\n}: {\n  isExpanded: boolean\n  expanderTokens: TableTokens[\"expander\"]\n}) =\u003e {\n  const circleBg = isExpanded ? expanderTokens.expandedCircleBackground : expanderTokens.circleBackground\n  const iconColor = isExpanded ? expanderTokens.expandedIconColor : expanderTokens.iconColor\n\n  return (\n    \u003cdiv className=\"flex items-center justify-center h-full w-full\"\u003e\n      \u003cdiv\n        className=\"flex items-center justify-center w-6 h-6 rounded-full\"\n        style={{\n          backgroundColor: circleBg,\n          border: `1px solid ${expanderTokens.circleBorderColor}`,\n        }}\n      \u003e\n        \u003cmotion.div\n          initial={false}\n          animate={{ rotate: isExpanded ? 90 : 0 }}\n          transition={{ duration: 0.2, ease: \"easeInOut\" }}\n        \u003e\n          \u003cChevronRight size={16} style={{ color: iconColor }} /\u003e\n        \u003c/motion.div\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n\nexport function ProTable\u003cTData extends object\u003e({\n  data,\n  columns,\n  initialVisibility,\n  className,\n  enableTooltips = true,\n  enableSorting = true,\n  showColumnSelector = true,\n  placeholder = \"Buscar…\",\n  getRowStatus,\n  lineClamp: tableLineClamp = 0,\n  tooltipDelay = 300,\n  stickyHeader = false,\n  renderCustomCheck,\n  hideMenuOnScroll = false,\n}: TooltipTableProps\u003cTData\u003e) {\n  const { appColorTokens } = useTheme()\n\n  const tableTokens: TableTokens | null = React.useMemo(() =\u003e {\n    if (!appColorTokens) return null\n    return generateTableTokens(appColorTokens)\n  }, [appColorTokens])\n\n  if (!tableTokens) {\n    return (\n      \u003cdiv className={cn(\"space-y-4 p-4 border rounded-lg bg-gray-100 dark:bg-gray-800\", className)}\u003e\n        \u003cdiv className=\"h-8 w-1/3 bg-gray-300 dark:bg-gray-700 rounded animate-pulse\"\u003e\u003c/div\u003e\n        \u003cdiv className=\"h-48 w-full bg-gray-300 dark:bg-gray-700 rounded animate-pulse\"\u003e\u003c/div\u003e\n      \u003c/div\u003e\n    )\n  }\n\n  const cellVariantTokens = tableTokens.cell.variants\n\n  const [globalFilter, setGlobalFilter] = useState(\"\")\n  const [columnVisibility, setColumnVisibility] = useState\u003cRecord\u003cstring, boolean\u003e\u003e(initialVisibility ?? {})\n  const [sorting, setSorting] = useState\u003cSortingState\u003e([])\n  const [columnSizing, setColumnSizing] = useState({})\n  const tableContainerRef = useRef\u003cHTMLDivElement\u003e(null)\n  const [containerWidth, setContainerWidth] = useState(0)\n  const [activeTooltip, setActiveTooltip] = useState\u003c{\n    id: string\n    content: React.ReactNode\n    isLongContent: boolean\n  } | null\u003e(null)\n  const [hoveredRowId, setHoveredRowId] = useState\u003cstring | null\u003e(null)\n  const tooltipTimerRef = useRef\u003cNodeJS.Timeout | null\u003e(null)\n  const [columnSelectorPosition, setColumnSelectorPosition] = useState({\n    top: 0,\n    left: 0,\n  })\n  const columnSelectorRef = useRef\u003cHTMLButtonElement\u003e(null)\n  const columnSelectorMenuRef = useRef\u003cHTMLDivElement\u003e(null)\n  const [columnSelectorOpen, setColumnSelectorOpen] = useState(false)\n\n  useEffect(() =\u003e {\n    const trackMousePosition = (e: MouseEvent) =\u003e {\n      window.mouseX = e.clientX\n      window.mouseY = e.clientY\n    }\n    window.addEventListener(\"mousemove\", trackMousePosition)\n    return () =\u003e window.removeEventListener(\"mousemove\", trackMousePosition)\n  }, [])\n\n  const preparedColumns = React.useMemo(\n    () =\u003e\n      columns.map((column) =\u003e ({\n        ...column,\n        enableResizing: column.enableResizing ?? true,\n      })),\n    [columns],\n  )\n\n  const table = useReactTable({\n    data,\n    columns: preparedColumns,\n    state: { columnVisibility, globalFilter, sorting, columnSizing },\n    onColumnVisibilityChange: setColumnVisibility,\n    onGlobalFilterChange: setGlobalFilter,\n    onSortingChange: setSorting,\n    onColumnSizingChange: setColumnSizing,\n    getSortedRowModel: getSortedRowModel(),\n    columnResizeMode: \"onChange\",\n    getCoreRowModel: getCoreRowModel(),\n    getFilteredRowModel: getFilteredRowModel(),\n    getExpandedRowModel: getExpandedRowModel(),\n    getSubRows: (row) =\u003e (row as any).subRows,\n  })\n\n  const tableWidth = React.useMemo(\n    () =\u003e table.getAllColumns().reduce((acc, column) =\u003e acc + (column.getIsVisible() ? column.getSize() : 0), 0),\n    [table, columnSizing, columnVisibility],\n  )\n\n  useEffect(() =\u003e {\n    if (tableContainerRef.current) {\n      const resizeObserver = new ResizeObserver((entries) =\u003e {\n        for (const entry of entries) setContainerWidth(entry.contentRect.width)\n      })\n      resizeObserver.observe(tableContainerRef.current)\n      return () =\u003e resizeObserver.disconnect()\n    }\n  }, [])\n\n  const shouldExpandTable = containerWidth \u003e 0 \u0026\u0026 tableWidth \u003c containerWidth\n\n  const getTooltipContent = useCallback(\n    (rowId: string, colId: string): React.ReactNode =\u003e {\n      const row = table.getRow(rowId)\n      if (!row) return null\n      const originalData = row.original as any\n      const originalValue = originalData ? originalData[colId] : undefined\n\n      if (\n        typeof originalValue === \"string\" ||\n        typeof originalValue === \"number\" ||\n        typeof originalValue === \"boolean\"\n      ) {\n        return String(originalValue)\n      }\n      if (Array.isArray(originalValue)) {\n        return originalValue.join(\", \")\n      }\n      return null\n    },\n    [table],\n  )\n\n  const shouldEnableFeature = useCallback(\n    (columnId: string, feature: \"enableTooltip\" | \"enableSorting\", tableLevelEnable: boolean, metaOption?: boolean) =\u003e {\n      if (!tableLevelEnable || columnId === \"expander\") return false\n      const columnDef = preparedColumns.find((col) =\u003e col.id === columnId || (col as any).accessorKey === columnId)\n      if (columnDef?.meta?.type === \"actions\") return false\n      return metaOption !== undefined ? metaOption : true\n    },\n    [preparedColumns],\n  )\n\n  const getLineClampValue = useCallback(\n    (columnId: string) =\u003e {\n      const columnMeta = preparedColumns.find(\n        (col) =\u003e col.id === columnId || (col as any).accessorKey === columnId,\n      )?.meta\n      return columnMeta?.lineClamp ?? tableLineClamp\n    },\n    [tableLineClamp, preparedColumns],\n  )\n\n  const isColumnLongContent = useCallback(\n    (columnId: string) =\u003e\n      !!preparedColumns.find((col) =\u003e col.id === columnId || (col as any).accessorKey === columnId)?.meta\n        ?.isLongContent,\n    [preparedColumns],\n  )\n\n  const handleMouseEnterCell = (cellId: string, rowId: string, colId: string) =\u003e {\n    if (tooltipTimerRef.current) clearTimeout(tooltipTimerRef.current)\n    tooltipTimerRef.current = setTimeout(() =\u003e {\n      const content = getTooltipContent(rowId, colId)\n      const longContentFlag = isColumnLongContent(colId)\n      if (content !== null \u0026\u0026 content !== \"\") {\n        setActiveTooltip({\n          id: cellId,\n          content,\n          isLongContent: longContentFlag,\n        })\n      }\n    }, tooltipDelay)\n  }\n\n  const handleMouseLeaveCell = () =\u003e {\n    if (tooltipTimerRef.current) {\n      clearTimeout(tooltipTimerRef.current)\n      tooltipTimerRef.current = null\n    }\n    if (activeTooltip \u0026\u0026 !activeTooltip.isLongContent) setActiveTooltip(null)\n  }\n  const handleRowMouseEnter = (rowId: string) =\u003e setHoveredRowId(rowId)\n  const handleRowMouseLeave = () =\u003e setHoveredRowId(null)\n\n  useEffect(() =\u003e {\n    const handleKeyDown = (e: KeyboardEvent) =\u003e {\n      if (e.altKey \u0026\u0026 e.key === \"f\") {\n        e.preventDefault()\n        const inputElement = document.querySelector\u003cHTMLInputElement\u003e(`input[placeholder=\"${placeholder}\"]`)\n        if (inputElement) inputElement.focus()\n      }\n      if (e.key === \"Escape\" \u0026\u0026 activeTooltip) setActiveTooltip(null)\n    }\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () =\u003e window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [placeholder, activeTooltip])\n\n  const hasSubRows = useCallback((row: Row\u003cTData\u003e) =\u003e {\n    const original = row.original as any\n    return original?.subRows \u0026\u0026 original.subRows.length \u003e 0\n  }, [])\n\n  const getRowStyle = useCallback(\n    (rowId: string, rowData?: TData): React.CSSProperties =\u003e {\n      const isHovered = hoveredRowId === rowId\n      let currentStatus = getRowStatus \u0026\u0026 rowData ? getRowStatus(rowData) : null\n      if (currentStatus === \"error\") currentStatus = \"danger\"\n\n      const defaultRowTokens = tableTokens.row.default\n      const finalStyle: React.CSSProperties = {\n        backgroundColor: defaultRowTokens.backgroundColor,\n        color: defaultRowTokens.foregroundColor,\n        borderBottom: `1px solid ${defaultRowTokens.borderColor}`,\n        transition: \"background-color 0.15s ease-out, color 0.15s ease-out, border-color 0.15s ease-out\",\n      }\n      let statusColorsDefinition\n\n      if (currentStatus) {\n        if (currentStatus === \"neutral\") {\n          statusColorsDefinition = defaultRowTokens\n        } else if (tableTokens.row.status[currentStatus as keyof typeof tableTokens.row.status]) {\n          statusColorsDefinition = tableTokens.row.status[currentStatus as keyof typeof tableTokens.row.status]\n        } else if (cellVariantTokens[currentStatus as CellVariant]) {\n          const variantToken = cellVariantTokens[currentStatus as CellVariant]\n          statusColorsDefinition = {\n            backgroundColor: variantToken.backgroundColor,\n            foregroundColor: variantToken.foregroundColor,\n            hoverBackgroundColor: variantToken.hoverBackgroundColor,\n            borderColor: variantToken.borderColor || defaultRowTokens.borderColor,\n          }\n        }\n      }\n\n      if (statusColorsDefinition) {\n        finalStyle.backgroundColor = isHovered\n          ? statusColorsDefinition.hoverBackgroundColor\n          : statusColorsDefinition.backgroundColor\n        finalStyle.color = statusColorsDefinition.foregroundColor\n        finalStyle.borderBottom = `1px solid ${statusColorsDefinition.borderColor || defaultRowTokens.borderColor}`\n      } else if (isHovered) {\n        finalStyle.backgroundColor = defaultRowTokens.hoverBackgroundColor\n      }\n      return finalStyle\n    },\n    [hoveredRowId, getRowStatus, tableTokens, cellVariantTokens],\n  )\n\n  const getColumnWidth = useCallback(\n    (column: Column\u003cTData, any\u003e) =\u003e {\n      if (column.columnDef.meta?.type === \"actions\" || column.columnDef.meta?.isFixed) return column.getSize()\n      if (!shouldExpandTable) return column.getSize()\n      const expansionFactor = containerWidth / tableWidth\n      const originalWidth = column.getSize()\n      return Math.floor(originalWidth * expansionFactor)\n    },\n    [shouldExpandTable, containerWidth, tableWidth],\n  )\n\n  const getLineClampClass = useCallback((lcValue: number) =\u003e {\n    if (lcValue \u003e 0 \u0026\u0026 lcValue \u003c= 6) return `line-clamp-${lcValue}`\n    return \"\"\n  }, [])\n\n  useEffect(() =\u003e {\n    return () =\u003e {\n      if (tooltipTimerRef.current) clearTimeout(tooltipTimerRef.current)\n    }\n  }, [])\n\n  const openColumnSelector = () =\u003e {\n    if (columnSelectorRef.current) {\n      const rect = columnSelectorRef.current.getBoundingClientRect()\n      const viewportWidth = window.innerWidth\n      const left = Math.min(rect.left, viewportWidth - 220)\n      setColumnSelectorPosition({\n        top: rect.bottom + window.scrollY,\n        left: left + window.scrollX,\n      })\n      setColumnSelectorOpen(true)\n    }\n  }\n  useEffect(() =\u003e {\n    const handleClickOutside = (e: MouseEvent) =\u003e {\n      if (\n        columnSelectorOpen \u0026\u0026\n        columnSelectorMenuRef.current \u0026\u0026\n        !columnSelectorMenuRef.current.contains(e.target as Node) \u0026\u0026\n        columnSelectorRef.current \u0026\u0026\n        !columnSelectorRef.current.contains(e.target as Node)\n      ) {\n        setColumnSelectorOpen(false)\n      }\n    }\n    document.addEventListener(\"mousedown\", handleClickOutside)\n    return () =\u003e document.removeEventListener(\"mousedown\", handleClickOutside)\n  }, [columnSelectorOpen])\n  useEffect(() =\u003e {\n    if (hideMenuOnScroll \u0026\u0026 columnSelectorOpen) setColumnSelectorOpen(false)\n  }, [hideMenuOnScroll, columnSelectorOpen])\n\n  const getFixedColumnHoverBg = useCallback(\n    (\n      rowId: string,\n      baseCellBgForNonHover: string,\n      rowData?: TData,\n      cellMeta?: (typeof columns)[number][\"meta\"],\n    ): string =\u003e {\n      const rowInstance = table.getRow(rowId)\n      const isRowHovered = hoveredRowId === rowId\n      const getCellContext = (r: Row\u003cTData\u003e, c?: Column\u003cTData, unknown\u003e, cellInst?: Cell\u003cTData, unknown\u003e) =\u003e ({\n        row: r,\n        column: c || ({} as Column\u003cTData, unknown\u003e),\n        cell: cellInst || ({} as Cell\u003cTData, unknown\u003e),\n        getValue: () =\u003e (cellInst?.getValue ? cellInst.getValue() : {}) as any,\n      })\n\n      if (!isRowHovered) {\n        if (cellMeta?.cellVariant \u0026\u0026 rowInstance) {\n          const variantKey =\n            typeof cellMeta.cellVariant === \"function\"\n              ? (cellMeta.cellVariant as Function)(getCellContext(rowInstance))\n              : cellMeta.cellVariant\n          if (variantKey \u0026\u0026 cellVariantTokens[variantKey as CellVariant])\n            return cellVariantTokens[variantKey as CellVariant].backgroundColor\n        }\n        return baseCellBgForNonHover\n      }\n      if (cellMeta?.cellVariant \u0026\u0026 rowInstance) {\n        const variantKey =\n          typeof cellMeta.cellVariant === \"function\"\n            ? (cellMeta.cellVariant as Function)(getCellContext(rowInstance))\n            : cellMeta.cellVariant\n        if (variantKey \u0026\u0026 cellVariantTokens[variantKey as CellVariant])\n          return cellVariantTokens[variantKey as CellVariant].hoverBackgroundColor\n      }\n      const currentStatus = getRowStatus \u0026\u0026 rowData ? getRowStatus(rowData) : null\n      if (currentStatus) {\n        if (currentStatus === \"neutral\") return tableTokens.row.default.hoverBackgroundColor\n        const statusToken = tableTokens.row.status[currentStatus as keyof typeof tableTokens.row.status]\n        if (statusToken) return statusToken.hoverBackgroundColor\n        const variantToken = cellVariantTokens[currentStatus as CellVariant]\n        if (variantToken) return variantToken.hoverBackgroundColor\n      }\n      return tableTokens.row.default.hoverBackgroundColor\n    },\n    [hoveredRowId, tableTokens, cellVariantTokens, getRowStatus, table],\n  )\n\n  if (!tableTokens || !cellVariantTokens || !tableTokens.expander) return null\n\n  return (\n    \u003cdiv className={cn(\"space-y-4\", className)}\u003e\n      {/* Toolbar */}\n      \u003cdiv className=\"flex flex-wrap gap-2 items-center\"\u003e\n        \u003cInput\n          placeholder={placeholder}\n          value={globalFilter ?? \"\"}\n          onChange={(e) =\u003e setGlobalFilter(e.target.value)}\n          className=\"w-full max-w-sm\"\n        /\u003e\n        {showColumnSelector \u0026\u0026 (\n          \u003c\u003e\n            \u003cbutton\n              ref={columnSelectorRef}\n              onClick={openColumnSelector}\n              className=\"ml-auto px-3 py-1.5 rounded bg-primary/10 hover:bg-primary/20 text-sm font-medium transition-colors\"\n              style={{\n                color: tableTokens.toolbar.columnSelector.foregroundColor,\n              }}\n            \u003e\n              Columnas\n            \u003c/button\u003e\n            {columnSelectorOpen \u0026\u0026 (\n              \u003cdiv\n                ref={columnSelectorMenuRef}\n                className=\"fixed z-50 mt-2 rounded-md shadow-lg p-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700\"\n                style={{\n                  top: `${columnSelectorPosition.top}px`,\n                  left: `${columnSelectorPosition.left}px`,\n                  maxHeight: \"300px\",\n                  overflowY: \"auto\",\n                  backgroundColor: tableTokens.toolbar.columnSelector.backgroundColor,\n                  width: \"200px\",\n                }}\n              \u003e\n                \u003cdiv className=\"grid grid-cols-2 gap-2\"\u003e\n                  {table\n                    .getAllLeafColumns()\n                    .filter((col) =\u003e col.id !== \"expander\")\n                    .map((col) =\u003e (\n                      \u003clabel\n                        key={col.id}\n                        className=\"flex items-center gap-2 text-sm py-1\"\n                        style={{\n                          color: tableTokens.toolbar.columnSelector.foregroundColor,\n                        }}\n                      \u003e\n                        {renderCustomCheck ? (\n                          renderCustomCheck({\n                            checked: col.getIsVisible(),\n                            onChange: () =\u003e col.toggleVisibility(),\n                          })\n                        ) : (\n                          \u003cCheckbox checked={col.getIsVisible()} onCheckedChange={() =\u003e col.toggleVisibility()} /\u003e\n                        )}\n                        {col.columnDef.header?.toString() || col.id}\n                      \u003c/label\u003e\n                    ))}\n                \u003c/div\u003e\n              \u003c/div\u003e\n            )}\n          \u003c/\u003e\n        )}\n      \u003c/div\u003e\n\n      {columns.some((col) =\u003e (col.meta?.lineClamp ?? tableLineClamp) \u003e 6) \u0026\u0026 (\n        \u003cstyle jsx global\u003e{`\n          .custom-line-clamp {\n            display: -webkit-box;\n            -webkit-box-orient: vertical;\n            overflow: hidden;\n          }\n        `}\u003c/style\u003e\n      )}\n\n      \u003cdiv\n        ref={tableContainerRef}\n        className=\"relative overflow-auto rounded-lg\"\n        style={{\n          maxWidth: \"100%\",\n          maxHeight: \"700px\",\n          overflowX: \"auto\",\n          overflowY: \"auto\",\n          backgroundColor: tableTokens.container.backgroundColor,\n          border: `1px solid ${tableTokens.container.borderColor}`,\n        }}\n      \u003e\n        \u003cdiv\n          style={{\n            width: shouldExpandTable ? \"100%\" : `${Math.max(tableWidth, 800)}px`,\n            minWidth: shouldExpandTable ? \"100%\" : `${Math.max(tableWidth, 800)}px`,\n          }}\n        \u003e\n          \u003ctable\n            className=\"w-full text-sm\"\n            role=\"table\"\n            style={{\n              borderCollapse: \"separate\",\n              borderSpacing: 0,\n              width: \"100%\",\n              backgroundColor: tableTokens.container.backgroundColor,\n            }}\n          \u003e\n            \u003cthead\n              className={cn(stickyHeader ? \"sticky top-0 z-20\" : \"\")}\n              style={{\n                backgroundColor: tableTokens.header.backgroundColor,\n                boxShadow: \"0 1px 3px rgba(0,0,0,0.2)\",\n              }}\n            \u003e\n              {table.getHeaderGroups().map((headerGroup) =\u003e (\n                \u003ctr key={headerGroup.id}\u003e\n                  {headerGroup.headers.map((header) =\u003e {\n                    const isSortable = shouldEnableFeature(\n                      header.column.id,\n                      \"enableSorting\",\n                      enableSorting,\n                      header.column.columnDef.meta?.enableSorting,\n                    )\n                    const sortDirection = header.column.getIsSorted()\n                    const isFixedColumn = header.column.columnDef.meta?.isFixed\n                    return (\n                      \u003cth\n                        key={header.id}\n                        style={{\n                          width: getColumnWidth(header.column),\n                          position: isFixedColumn ? \"sticky\" : \"relative\",\n                          right: isFixedColumn ? 0 : \"auto\",\n                          borderRight: `1px solid ${tableTokens.header.borderColor}`,\n                          borderBottom: `1px solid ${tableTokens.header.borderColor}`,\n                          padding: \"0.75rem 0.5rem\",\n                          textAlign: \"center\",\n                          color: tableTokens.header.foregroundColor,\n                          backgroundColor: tableTokens.header.backgroundColor,\n                          boxShadow: \"0 1px 2px rgba(0,0,0,0.1)\",\n                          whiteSpace: \"nowrap\",\n                          userSelect: \"none\",\n                          zIndex: isFixedColumn ? 3 : 2,\n                        }}\n                        className={cn(\"group\", header.column.columnDef.meta?.className, isFixedColumn \u0026\u0026 \"shadow-sm\")}\n                        role=\"columnheader\"\n                      \u003e\n                        \u003cdiv className=\"flex items-center justify-center gap-1\"\u003e\n                          {header.isPlaceholder\n                            ? null\n                            : flexRender(header.column.columnDef.header, header.getContext())}\n                          {isSortable \u0026\u0026 (\n                            \u003cbutton\n                              onClick={() =\u003e header.column.toggleSorting()}\n                              className=\"ml-1 rounded-sm focus:outline-none focus:ring-2\"\n                              style={{\n                                color: sortDirection\n                                  ? tableTokens.header.sortIconHoverColor\n                                  : tableTokens.header.sortIconColor,\n                              }}\n                              aria-label={sortDirection === \"asc\" ? \"Asc\" : sortDirection === \"desc\" ? \"Desc\" : \"Sort\"}\n                            \u003e\n                              {sortDirection === \"asc\" ? (\n                                \u003cChevronUp className=\"h-4 w-4\" /\u003e\n                              ) : sortDirection === \"desc\" ? (\n                                \u003cChevronDown className=\"h-4 w-4\" /\u003e\n                              ) : (\n                                \u003cChevronsUpDown className=\"h-4 w-4\" /\u003e\n                              )}\n                            \u003c/button\u003e\n                          )}\n                        \u003c/div\u003e\n                        {header.column.getCanResize() \u0026\u0026 !isFixedColumn \u0026\u0026 (\n                          \u003cdiv\n                            onMouseDown={header.getResizeHandler()}\n                            onTouchStart={header.getResizeHandler()}\n                            className=\"absolute right-0 top-0 h-full w-2 cursor-col-resize opacity-0 group-hover:opacity-100 transition-opacity\"\n                            title=\"Resize\"\n                            style={{\n                              backgroundColor: tableTokens.header.resizeHandleColor,\n                            }}\n                          \u003e\n                            \u003cdiv\n                              className=\"absolute right-0 top-0 h-full w-[3px]\"\n                              style={{\n                                backgroundColor: tableTokens.header.resizeHandleColor,\n                              }}\n                            \u003e\u003c/div\u003e\n                          \u003c/div\u003e\n                        )}\n                      \u003c/th\u003e\n                    )\n                  })}\n                \u003c/tr\u003e\n              ))}\n            \u003c/thead\u003e\n            \u003ctbody role=\"rowgroup\"\u003e\n              {table.getRowModel().rows.map((row) =\u003e {\n                const isSubRowOriginal = data.some(\n                  (item: any) =\u003e item.subRows \u0026\u0026 item.subRows.some((subR: any) =\u003e subR.id === (row.original as any).id),\n                )\n                if (isSubRowOriginal) return null\n\n                const currentTRRowStyle = getRowStyle(row.id, row.original as TData)\n\n                return (\n                  \u003cReact.Fragment key={row.id}\u003e\n                    \u003ctr\n                      className={cn(\"transition-colors\", row.getCanExpand() ? \"cursor-pointer\" : \"\")}\n                      style={currentTRRowStyle}\n                      role=\"row\"\n                      onMouseEnter={() =\u003e handleRowMouseEnter(row.id)}\n                      onMouseLeave={handleRowMouseLeave}\n                      onClick={row.getCanExpand() ? row.getToggleExpandedHandler() : undefined}\n                    \u003e\n                      {row.getVisibleCells().map((cell) =\u003e {\n                        const cellContext = cell.getContext()\n                        const cellContent = flexRender(cell.column.columnDef.cell, cellContext)\n                        const isCellTooltipEnabled = shouldEnableFeature(\n                          cell.column.id,\n                          \"enableTooltip\",\n                          enableTooltips,\n                          cell.column.columnDef.meta?.enableTooltip,\n                        )\n                        const cellLineClampValue = getLineClampValue(cell.column.id)\n                        const cellLineClampClass = getLineClampClass(cellLineClampValue)\n\n                        const visibleCellsInRow = cell.row.getVisibleCells()\n                        const isLastCell = cell.id === visibleCellsInRow[visibleCellsInRow.length - 1]?.id\n\n                        const cellMeta = cell.column.columnDef.meta\n                        const cellVariantKeyValue =\n                          typeof cellMeta?.cellVariant === \"function\"\n                            ? ((cellMeta.cellVariant as Function)(cellContext) as CellVariant | undefined)\n                            : (cellMeta?.cellVariant as CellVariant | undefined)\n                        const isFixedColumn = cellMeta?.isFixed\n                        const shouldFadeText = cellMeta?.enableTextFade \u0026\u0026 cellLineClampValue \u003e 0\n\n                        // --- Estilos Base del TD (ahora principal contenedor de estilos de celda) ---\n                        const tdStyle: React.CSSProperties = {\n                          width: getColumnWidth(cell.column),\n                          verticalAlign: cell.column.id === \"expander\" ? \"middle\" : \"top\",\n                          padding: cell.column.id === \"expander\" ? \"0.75rem 0.25rem\" : \"0.75rem 0.5rem\", // Padding directo en TD\n                          borderBottom: currentTRRowStyle.borderBottom,\n                          borderRight: isLastCell ? undefined : `1px solid ${tableTokens.cell.borderColor}`,\n                          transition:\n                            \"background-color 0.15s ease-out, color 0.15s ease-out, border-color 0.15s ease-out\",\n                          backgroundColor: currentTRRowStyle.backgroundColor, // Heredar BG de la fila\n                          color: currentTRRowStyle.color || tableTokens.cell.foregroundColor, // Heredar color de la fila\n                        }\n\n                        if (isFixedColumn) {\n                          tdStyle.position = \"sticky\"\n                          tdStyle.right = 0\n                          tdStyle.zIndex = 1\n                          tdStyle.boxShadow = \"-2px 0 5px rgba(0, 0, 0, 0.1)\"\n                          // El BG y color para columnas fijas se ajustará específicamente abajo\n                        }\n\n                        // --- Aplicar estilos de Variante (si existen) directamente al TD ---\n                        let variantToken\n                        if (cellVariantKeyValue \u0026\u0026 cellVariantTokens[cellVariantKeyValue]) {\n                          variantToken = cellVariantTokens[cellVariantKeyValue]\n                          const isRowHovered = hoveredRowId === row.id\n\n                          if (!isFixedColumn) {\n                            // Para no fijas, el BG de variante se aplica al TD\n                            tdStyle.backgroundColor = isRowHovered\n                              ? variantToken.hoverBackgroundColor\n                              : variantToken.backgroundColor\n                          }\n                          tdStyle.color = variantToken.foregroundColor // Color de variante siempre al TD\n                        }\n\n                        // --- Ajuste final de BG y Color para columnas fijas ---\n                        if (isFixedColumn) {\n                          let baseBgForFixedNonHover = tableTokens.row.default.backgroundColor\n                          if (variantToken) {\n                            // Columna fija CON variante\n                            baseBgForFixedNonHover = variantToken.backgroundColor\n                            tdStyle.backgroundColor =\n                              hoveredRowId === row.id ? variantToken.hoverBackgroundColor : variantToken.backgroundColor\n                            // tdStyle.color ya fue seteado por la lógica de variantToken arriba\n                          } else {\n                            // Columna fija SIN variante\n                            tdStyle.backgroundColor = getFixedColumnHoverBg(\n                              row.id,\n                              baseBgForFixedNonHover, // default row background\n                              row.original as TData,\n                              cellMeta,\n                            )\n                            // tdStyle.color ya fue seteado por currentTRRowStyle o default cell color\n                          }\n                        }\n\n                        // Renderizado especial para Expander\n                        if (cell.column.id === \"expander\") {\n                          return (\n                            \u003ctd\n                              key={cell.id}\n                              className={cn(\"align-middle text-center\", cellMeta?.className)}\n                              style={tdStyle}\n                            \u003e\n                              {row.getCanExpand() ? (\n                                \u003cExpandIconComponent\n                                  isExpanded={row.getIsExpanded()}\n                                  expanderTokens={tableTokens.expander}\n                                /\u003e\n                              ) : null}\n                            \u003c/td\u003e\n                          )\n                        }\n\n                        // Renderizado para celdas normales\n                        return (\n                          \u003ctd\n                            key={cell.id}\n                            className={cn(cellMeta?.className, \"align-top\", isFixedColumn \u0026\u0026 \"shadow-sm\")}\n                            role=\"cell\"\n                            style={tdStyle}\n                            onMouseEnter={\n                              isCellTooltipEnabled\n                                ? () =\u003e\n                                    handleMouseEnterCell(`tooltip-${row.id}-${cell.column.id}`, row.id, cell.column.id)\n                                : undefined\n                            }\n                            onMouseLeave={isCellTooltipEnabled ? handleMouseLeaveCell : undefined}\n                          \u003e\n                            {/* Div interno solo para manejo de contenido (break-words, line-clamp, fade) */}\n                            \u003cdiv\n                              className={cn(\n                                `break-words max-w-xs ${cellLineClampClass}`,\n                                shouldFadeText \u0026\u0026 \"relative\", // 'relative' para el posicionamiento del fade\n                                cellMeta?.contentClassName, // Aplicar contentClassName aquí\n                              )}\n                              style={\n                                {\n                                  \"--cell-bg-for-fade\": tdStyle.backgroundColor, // Fade usa el BG del TD\n                                  ...(cellLineClampValue \u003e 6 \u0026\u0026 {\n                                    WebkitLineClamp: cellLineClampValue,\n                                    display: \"-webkit-box\",\n                                    WebkitBoxOrient: \"vertical\",\n                                    overflow: \"hidden\",\n                                  }),\n                                } as React.CSSProperties\n                              }\n                            \u003e\n                              {cellContent}\n                              {shouldFadeText \u0026\u0026 (\n                                \u003cdiv\n                                  className=\"absolute bottom-0 right-0 w-full h-[1.5em] pointer-events-none\"\n                                  style={{\n                                    background: `linear-gradient(to right, transparent 0%, var(--cell-bg-for-fade) 70%, var(--cell-bg-for-fade) 100%)`,\n                                  }}\n                                  aria-hidden=\"true\"\n                                /\u003e\n                              )}\n                            \u003c/div\u003e\n                          \u003c/td\u003e\n                        )\n                      })}\n                    \u003c/tr\u003e\n\n                    {/* --- SECCIÓN DE SUBFILAS (APLICAR MISMA LÓGICA DE SIMPLIFICACIÓN DE CELDA) --- */}\n                    {row.getIsExpanded() \u0026\u0026 row.subRows \u0026\u0026 row.subRows.length \u003e 0 \u0026\u0026 (\n                      \u003ctr\n                        style={{\n                          backgroundColor: tableTokens.row.subRowBackgroundColor,\n                        }}\n                      \u003e\n                        \u003ctd colSpan={row.getVisibleCells().length} className=\"p-0\"\u003e\n                          \u003cdiv\n                            className=\"pl-4 pt-1\"\n                            style={{\n                              borderLeft: `2px solid ${tableTokens.row.subRowIndentBorderColor}`,\n                              boxShadow: `inset 0px 2px 3px -1px rgba(0, 0, 0, 0.07)`,\n                            }}\n                          \u003e\n                            \u003ctable className=\"w-full text-sm\" style={{ borderSpacing: 0 }}\u003e\n                              \u003ctbody\u003e\n                                {row.subRows.map((subRowInstance, subRowIndex) =\u003e {\n                                  const currentTRSubRowStyle = getRowStyle(\n                                    subRowInstance.id,\n                                    subRowInstance.original as TData,\n                                  )\n                                  if (subRowIndex === row.subRows.length - 1) {\n                                    currentTRSubRowStyle.borderBottom = \"none\"\n                                  }\n\n                                  return (\n                                    \u003ctr\n                                      key={subRowInstance.id}\n                                      style={currentTRSubRowStyle}\n                                      onMouseEnter={() =\u003e handleRowMouseEnter(subRowInstance.id)}\n                                      onMouseLeave={handleRowMouseLeave}\n                                    \u003e\n                                      {subRowInstance.getVisibleCells().map((cell) =\u003e {\n                                        const cellContext = cell.getContext()\n                                        const cellContent = flexRender(cell.column.columnDef.cell, cellContext)\n                                        const isCellTooltipEnabled = shouldEnableFeature(\n                                          cell.column.id,\n                                          \"enableTooltip\",\n                                          enableTooltips,\n                                          cell.column.columnDef.meta?.enableTooltip,\n                                        )\n                                        const cellLineClampValue = getLineClampValue(cell.column.id)\n                                        const cellLineClampClass = getLineClampClass(cellLineClampValue)\n\n                                        const visibleCellsInSubRow = cell.row.getVisibleCells()\n                                        const isLastSubCell =\n                                          cell.id === visibleCellsInSubRow[visibleCellsInSubRow.length - 1]?.id\n\n                                        const subCellMeta = cell.column.columnDef.meta\n                                        const subCellVariantKeyValue =\n                                          typeof subCellMeta?.cellVariant === \"function\"\n                                            ? ((subCellMeta.cellVariant as Function)(cellContext) as\n                                                | CellVariant\n                                                | undefined)\n                                            : (subCellMeta?.cellVariant as CellVariant | undefined)\n                                        const isFixedColumn = subCellMeta?.isFixed\n                                        const shouldFadeSubCellText =\n                                          subCellMeta?.enableTextFade \u0026\u0026 cellLineClampValue \u003e 0\n\n                                        // --- Estilos Base del TD (Subfila) ---\n                                        const tdStyle: React.CSSProperties = {\n                                          width: getColumnWidth(cell.column),\n                                          verticalAlign: cell.column.id === \"expander\" ? \"middle\" : \"top\",\n                                          padding: cell.column.id === \"expander\" ? \"0.75rem 0.25rem\" : \"0.75rem 0.5rem\",\n                                          borderBottom: currentTRSubRowStyle.borderBottom,\n                                          borderRight: isLastSubCell\n                                            ? undefined\n                                            : `1px solid ${tableTokens.cell.borderColor}`,\n                                          transition:\n                                            \"background-color 0.15s ease-out, color 0.15s ease-out, border-color 0.15s ease-out\",\n                                          backgroundColor: currentTRSubRowStyle.backgroundColor,\n                                          color: currentTRSubRowStyle.color || tableTokens.cell.foregroundColor,\n                                        }\n                                        if (isFixedColumn) {\n                                          tdStyle.position = \"sticky\"\n                                          tdStyle.right = 0\n                                          tdStyle.zIndex = 1\n                                          tdStyle.boxShadow = \"-2px 0 5px rgba(0, 0, 0, 0.1)\"\n                                        }\n\n                                        let variantToken\n                                        if (subCellVariantKeyValue \u0026\u0026 cellVariantTokens[subCellVariantKeyValue]) {\n                                          variantToken = cellVariantTokens[subCellVariantKeyValue]\n                                          const isSubRowHovered = hoveredRowId === subRowInstance.id\n                                          if (!isFixedColumn) {\n                                            tdStyle.backgroundColor = isSubRowHovered\n                                              ? variantToken.hoverBackgroundColor\n                                              : variantToken.backgroundColor\n                                          }\n                                          tdStyle.color = variantToken.foregroundColor\n                                        }\n\n                                        if (isFixedColumn) {\n                                          let baseBgForFixedSubRowNonHover = tableTokens.row.default.backgroundColor\n                                          if (variantToken) {\n                                            baseBgForFixedSubRowNonHover = variantToken.backgroundColor\n                                            tdStyle.backgroundColor =\n                                              hoveredRowId === subRowInstance.id\n                                                ? variantToken.hoverBackgroundColor\n                                                : variantToken.backgroundColor\n                                          } else {\n                                            tdStyle.backgroundColor = getFixedColumnHoverBg(\n                                              subRowInstance.id,\n                                              baseBgForFixedSubRowNonHover,\n                                              subRowInstance.original as TData,\n                                              subCellMeta,\n                                            )\n                                          }\n                                        }\n\n                                        // ADDED RETURN STATEMENTS FOR SUB-ROW CELLS\n                                        if (cell.column.id === \"expander\") {\n                                          return (\n                                            \u003ctd\n                                              key={cell.id}\n                                              className={cn(\"align-middle text-center\", subCellMeta?.className)}\n                                              style={tdStyle}\n                                            \u003e\n                                              {/* Expander for sub-rows, assuming they cannot expand further or custom logic here if they can */}\n                                              {/* For now, render null if sub-rows cannot expand further or if expander is not meant for this level */}\n                                              {/* If subRowInstance.getCanExpand?.() for example: \u003cExpandIconComponent ... /\u003e */}\n                                              {null}\n                                            \u003c/td\u003e\n                                          )\n                                        }\n\n                                        return (\n                                          \u003ctd\n                                            key={cell.id}\n                                            className={cn(\n                                              subCellMeta?.className,\n                                              \"align-top\",\n                                              isFixedColumn \u0026\u0026 \"shadow-sm\",\n                                            )}\n                                            role=\"cell\"\n                                            style={tdStyle}\n                                            onMouseEnter={\n                                              isCellTooltipEnabled\n                                                ? () =\u003e\n                                                    handleMouseEnterCell(\n                                                      `tooltip-${subRowInstance.id}-${cell.column.id}`,\n                                                      subRowInstance.id,\n                                                      cell.column.id,\n                                                    )\n                                                : undefined\n                                            }\n                                            onMouseLeave={isCellTooltipEnabled ? handleMouseLeaveCell : undefined}\n                                          \u003e\n                                            \u003cdiv\n                                              className={cn(\n                                                `break-words max-w-xs ${cellLineClampClass}`,\n                                                shouldFadeSubCellText \u0026\u0026 \"relative\",\n                                                subCellMeta?.contentClassName,\n                                              )}\n                                              style={\n                                                {\n                                                  \"--cell-bg-for-fade\": tdStyle.backgroundColor,\n                                                  ...(cellLineClampValue \u003e 6 \u0026\u0026 {\n                                                    WebkitLineClamp: cellLineClampValue,\n                                                    display: \"-webkit-box\",\n                                                    WebkitBoxOrient: \"vertical\",\n                                                    overflow: \"hidden\",\n                                                  }),\n                                                } as React.CSSProperties\n                                              }\n                                            \u003e\n                                              {cellContent}\n                                              {shouldFadeSubCellText \u0026\u0026 (\n                                                \u003cdiv\n                                                  className=\"absolute bottom-0 right-0 w-full h-[1.5em] pointer-events-none\"\n                                                  style={{\n                                                    background: `linear-gradient(to right, transparent 0%, var(--cell-bg-for-fade) 70%, var(--cell-bg-for-fade) 100%)`,\n                                                  }}\n                                                  aria-hidden=\"true\"\n                                                /\u003e\n                                              )}\n                                            \u003c/div\u003e\n                                          \u003c/td\u003e\n                                        )\n                                      })}\n                                    \u003c/tr\u003e\n                                  )\n                                })}\n                              \u003c/tbody\u003e\n                            \u003c/table\u003e\n                          \u003c/div\u003e\n                        \u003c/td\u003e\n                      \u003c/tr\u003e\n                    )}\n                  \u003c/React.Fragment\u003e\n                )\n              })}\n            \u003c/tbody\u003e\n          \u003c/table\u003e\n        \u003c/div\u003e\n\n        {activeTooltip \u0026\u0026 tableTokens.tooltip \u0026\u0026 (\n          \u003cTooltip\n            content={activeTooltip.content}\n            isLongContent={activeTooltip.isLongContent}\n            onClose={() =\u003e setActiveTooltip(null)}\n            tooltipTokens={tableTokens.tooltip}\n          /\u003e\n        )}\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n// --- END OF FILE ---\n"])</script><script>self.__next_f.push([1,"9c:Tde70,"])</script><script>self.__next_f.push([1,"// --- START OF FILE ProTable.tsx (CORREGIDO Y CON AJUSTES FLEXBOX) ---\n\n\"use client\"\n\nimport React, { useState, useRef, useEffect, useCallback } from \"react\"\nimport {\n  type ColumnDef,\n  flexRender,\n  getCoreRowModel,\n  useReactTable,\n  getFilteredRowModel,\n  getExpandedRowModel,\n  type RowData,\n  getSortedRowModel,\n  type SortingState,\n  type Row,\n  type Column,\n  type Cell,\n  type CellContext,\n} from \"@tanstack/react-table\"\nimport { Input } from \"@/components/ui/input\"\nimport { Checkbox } from \"@/components/ui/checkbox\"\nimport { cn } from \"@/lib/utils\"\nimport { ChevronDown, ChevronUp, ChevronsUpDown, ChevronRight } from \"lucide-react\"\nimport { createPortal } from \"react-dom\"\nimport { useTheme } from \"@/app/theme-provider\"\nimport type { CellVariant, TableTokens } from \"@/lib/theme/components/table-tokens\"\nimport { generateTableTokens } from \"@/lib/theme/components/table-tokens\"\nimport { motion } from \"framer-motion\"\n\ndeclare global {\n  interface Window {\n    mouseX?: number\n    mouseY?: number\n  }\n}\n\ntype ProTableCellContext\u003cTData extends RowData, TValue\u003e = CellContext\u003cTData, TValue\u003e\n\ndeclare module \"@tanstack/react-table\" {\n  interface ColumnMeta\u003cTData extends RowData, TValue\u003e {\n    type?: string\n    enableTooltip?: boolean\n    enableSorting?: boolean\n    className?: string\n    contentClassName?: string\n    isLongContent?: boolean\n    lineClamp?: number\n    cellVariant?: CellVariant | ((context: ProTableCellContext\u003cTData, TValue\u003e) =\u003e CellVariant | undefined)\n    isFixed?: boolean\n    enableTextFade?: boolean\n    textColorVariant?: CellVariant | ((context: ProTableCellContext\u003cTData, TValue\u003e) =\u003e CellVariant | undefined)\n    isTextBold?: boolean | ((context: ProTableCellContext\u003cTData, TValue\u003e) =\u003e boolean | undefined)\n  }\n}\n\nexport interface TooltipTableProps\u003cTData extends RowData\u003e {\n  data: TData[]\n  columns: ColumnDef\u003cTData, any\u003e[]\n  initialVisibility?: Record\u003cstring, boolean\u003e\n  className?: string\n  enableTooltips?: boolean\n  enableSorting?: boolean\n  showColumnSelector?: boolean\n  placeholder?: string\n  getRowStatus?: (\n    row: TData,\n  ) =\u003e\n    | \"success\"\n    | \"warning\"\n    | \"error\"\n    | \"info\"\n    | \"neutral\"\n    | \"danger\"\n    | \"primary\"\n    | \"secondary\"\n    | \"tertiary\"\n    | \"accent\"\n    | null\n  lineClamp?: number\n  tooltipDelay?: number\n  stickyHeader?: boolean\n  stickyHeaderOffset?: number\n  renderCustomCheck?: (props: {\n    checked: boolean\n    onChange: () =\u003e void\n  }) =\u003e React.ReactNode\n  hideMenuOnScroll?: boolean\n  getRowTextColorVariant?: (row: TData) =\u003e CellVariant | undefined\n  isRowTextBold?: (row: TData) =\u003e boolean | undefined\n}\n\n// --- Tooltip Component (Restaurado) ---\ninterface TooltipComponentProps {\n  content: React.ReactNode\n  isLongContent: boolean\n  onClose: () =\u003e void\n  tooltipTokens: TableTokens[\"tooltip\"]\n}\n\nconst Tooltip: React.FC\u003cTooltipComponentProps\u003e = ({\n  content,\n  isLongContent,\n  onClose,\n  tooltipTokens, // Esta prop es necesaria\n}) =\u003e {\n  const tooltipRef = useRef\u003cHTMLDivElement\u003e(null)\n  const [mounted, setMounted] = useState(false)\n  const [position, setPosition] = useState({ top: 0, left: 0 })\n\n  const currentTooltipTokens = isLongContent ? tooltipTokens.longContent : tooltipTokens.default\n\n  useEffect(() =\u003e {\n    if (!tooltipRef.current) return\n    const tooltipRect = tooltipRef.current.getBoundingClientRect()\n    const viewportWidth = window.innerWidth\n    const viewportHeight = window.innerHeight\n    let newTop, newLeft\n    if (isLongContent) {\n      newTop = Math.max(\n        50,\n        Math.min(viewportHeight - tooltipRect.height - 20, viewportHeight / 2 - tooltipRect.height / 2),\n      )\n      newLeft = Math.max(\n        20,\n        Math.min(viewportWidth - tooltipRect.width - 20, viewportWidth / 2 - tooltipRect.width / 2),\n      )\n    } else {\n      const cursorX = window.mouseX || viewportWidth / 2\n      const cursorY = window.mouseY || viewportHeight / 2\n      newTop = cursorY + 10\n      newLeft = cursorX + 10\n      if (newTop + tooltipRect.height \u003e viewportHeight) newTop = Math.max(10, cursorY - tooltipRect.height - 10)\n      if (newLeft + tooltipRect.width \u003e viewportWidth) newLeft = Math.max(10, cursorX - tooltipRect.width - 10)\n    }\n    setPosition({ top: newTop, left: newLeft })\n    setMounted(true)\n  }, [isLongContent]) // onClose no es dependencia aquí, es estable\n\n  useEffect(() =\u003e {\n    const handleClickOutside = (event: MouseEvent) =\u003e {\n      if (tooltipRef.current \u0026\u0026 !tooltipRef.current.contains(event.target as Node)) onClose() // onClose se usa aquí\n    }\n    document.addEventListener(\"mousedown\", handleClickOutside)\n    return () =\u003e document.removeEventListener(\"mousedown\", handleClickOutside)\n  }, [onClose]) // onClose sí es dependencia aquí\n\n  return createPortal(\n    \u003cdiv\n      ref={tooltipRef}\n      className={cn(`custom-tooltip`, isLongContent \u0026\u0026 \"custom-tooltip-large\")}\n      style={{\n        position: \"fixed\",\n        top: `${position.top}px`,\n        left: `${position.left}px`,\n        maxHeight: isLongContent ? \"70vh\" : \"auto\",\n        maxWidth: isLongContent ? \"60vw\" : \"24rem\",\n        overflowY: isLongContent ? \"auto\" : \"visible\",\n        backgroundColor: currentTooltipTokens.backgroundColor,\n        color: currentTooltipTokens.foregroundColor,\n        border: `2px solid ${currentTooltipTokens.borderColor}`,\n        borderRadius: \"0.375rem\",\n        padding: \"0.75rem\",\n        boxShadow: \"0 10px 25px -5px rgba(0, 0, 0, 0.2), 0 10px 10px -5px rgba(0, 0, 0, 0.1)\",\n        zIndex: 9999,\n        width: \"max-content\",\n        whiteSpace: \"pre-line\",\n        pointerEvents: isLongContent ? \"auto\" : \"none\",\n        opacity: mounted ? 1 : 0,\n        transition: \"opacity 0.15s ease-out\",\n      }}\n    \u003e\n      {content}\n    \u003c/div\u003e,\n    document.body,\n  )\n}\n// --- Fin Tooltip Component ---\n\n// --- ExpandIconComponent (Restaurado) ---\nconst ExpandIconComponent = ({\n  isExpanded,\n  expanderTokens,\n}: {\n  isExpanded: boolean\n  expanderTokens: TableTokens[\"expander\"] // Esta prop es necesaria\n}) =\u003e {\n  const circleBg = isExpanded ? expanderTokens.expandedCircleBackground : expanderTokens.circleBackground\n  const iconColor = isExpanded ? expanderTokens.expandedIconColor : expanderTokens.iconColor\n\n  return (\n    \u003cdiv className=\"flex items-center justify-center h-full w-full\"\u003e\n      \u003cdiv\n        className=\"flex items-center justify-center w-6 h-6 rounded-full\"\n        style={{\n          backgroundColor: circleBg,\n          border: `1px solid ${expanderTokens.circleBorderColor}`,\n        }}\n      \u003e\n        \u003cmotion.div\n          initial={false}\n          animate={{ rotate: isExpanded ? 90 : 0 }}\n          transition={{ duration: 0.2, ease: \"easeInOut\" }}\n        \u003e\n          \u003cChevronRight size={16} style={{ color: iconColor }} /\u003e\n        \u003c/motion.div\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n// --- Fin ExpandIconComponent ---\n\n// --- getResolvedMetaValue (Restaurado) ---\nconst getResolvedMetaValue = \u003cTData extends RowData, TValue, TResult\u003e(\n  metaProperty: TResult | ((context: ProTableCellContext\u003cTData, TValue\u003e) =\u003e TResult | undefined) | undefined,\n  context: ProTableCellContext\u003cTData, TValue\u003e, // 'context' es un parámetro aquí\n): TResult | undefined =\u003e {\n  if (metaProperty === undefined) return undefined\n  if (typeof metaProperty === \"function\") {\n    // Asegúrate de que la función se llame con el 'context'\n    return (metaProperty as (context: ProTableCellContext\u003cTData, TValue\u003e) =\u003e TResult | undefined)(context)\n  }\n  return metaProperty\n}\n// --- Fin getResolvedMetaValue ---\n\nexport function ProTable\u003cTData extends object\u003e({\n  data,\n  columns,\n  initialVisibility,\n  className,\n  enableTooltips = true,\n  enableSorting = true,\n  showColumnSelector = true,\n  placeholder = \"Buscar…\",\n  getRowStatus,\n  lineClamp: tableLineClamp = 0,\n  tooltipDelay = 300,\n  stickyHeader = false,\n  stickyHeaderOffset = 0,\n  renderCustomCheck,\n  hideMenuOnScroll = false,\n  getRowTextColorVariant,\n  isRowTextBold,\n}: TooltipTableProps\u003cTData\u003e) {\n  const { appColorTokens } = useTheme()\n  const tableTokens: TableTokens | null = React.useMemo(() =\u003e {\n    return appColorTokens ? generateTableTokens(appColorTokens) : null\n  }, [appColorTokens])\n\n  if (!tableTokens) {\n    return (\n      \u003cdiv className={cn(\"space-y-4 p-4 border rounded-lg bg-gray-100 dark:bg-gray-800\", className)}\u003e\n        \u003cdiv className=\"h-8 w-1/3 bg-gray-300 dark:bg-gray-700 rounded animate-pulse\"\u003e\u003c/div\u003e\n        \u003cdiv className=\"h-48 w-full bg-gray-300 dark:bg-gray-700 rounded animate-pulse\"\u003e\u003c/div\u003e\n      \u003c/div\u003e\n    )\n  }\n\n  const cellVariantTokens = tableTokens.cell.variants\n\n  const [globalFilter, setGlobalFilter] = useState(\"\")\n  const [columnVisibility, setColumnVisibility] = useState\u003cRecord\u003cstring, boolean\u003e\u003e(initialVisibility ?? {})\n  const [sorting, setSorting] = useState\u003cSortingState\u003e([])\n  const [columnSizing, setColumnSizing] = useState({})\n  const tableContainerRef = useRef\u003cHTMLDivElement\u003e(null)\n  const [containerWidth, setContainerWidth] = useState(0)\n  const [activeTooltip, setActiveTooltip] = useState\u003c{\n    id: string\n    content: React.ReactNode\n    isLongContent: boolean\n  } | null\u003e(null)\n  const [hoveredRowId, setHoveredRowId] = useState\u003cstring | null\u003e(null)\n  const tooltipTimerRef = useRef\u003cNodeJS.Timeout | null\u003e(null)\n  const [columnSelectorPosition, setColumnSelectorPosition] = useState({\n    top: 0,\n    left: 0,\n  })\n  const columnSelectorRef = useRef\u003cHTMLButtonElement\u003e(null)\n  const columnSelectorMenuRef = useRef\u003cHTMLDivElement\u003e(null)\n  const [columnSelectorOpen, setColumnSelectorOpen] = useState(false)\n\n  useEffect(() =\u003e {\n    const trackMousePosition = (e: MouseEvent) =\u003e {\n      window.mouseX = e.clientX\n      window.mouseY = e.clientY\n    }\n    window.addEventListener(\"mousemove\", trackMousePosition)\n    return () =\u003e window.removeEventListener(\"mousemove\", trackMousePosition)\n  }, [])\n  const preparedColumns = React.useMemo(\n    () =\u003e\n      columns.map((column) =\u003e ({\n        ...column,\n        enableResizing: column.enableResizing ?? true,\n      })),\n    [columns],\n  )\n  const table = useReactTable({\n    data,\n    columns: preparedColumns,\n    state: { columnVisibility, globalFilter, sorting, columnSizing },\n    onColumnVisibilityChange: setColumnVisibility,\n    onGlobalFilterChange: setGlobalFilter,\n    onSortingChange: setSorting,\n    onColumnSizingChange: setColumnSizing,\n    getSortedRowModel: getSortedRowModel(),\n    columnResizeMode: \"onChange\",\n    getCoreRowModel: getCoreRowModel(),\n    getFilteredRowModel: getFilteredRowModel(),\n    getExpandedRowModel: getExpandedRowModel(),\n    getSubRows: (row) =\u003e (row as any).subRows,\n  })\n  const tableWidth = React.useMemo(\n    () =\u003e table.getAllColumns().reduce((acc, column) =\u003e acc + (column.getIsVisible() ? column.getSize() : 0), 0),\n    [table, columnSizing, columnVisibility],\n  )\n  useEffect(() =\u003e {\n    if (tableContainerRef.current) {\n      const resizeObserver = new ResizeObserver((entries) =\u003e {\n        for (const entry of entries) setContainerWidth(entry.contentRect.width)\n      })\n      resizeObserver.observe(tableContainerRef.current)\n      return () =\u003e resizeObserver.disconnect()\n    }\n  }, [])\n  const shouldExpandTable = containerWidth \u003e 0 \u0026\u0026 tableWidth \u003c containerWidth\n\n  const getTooltipContent = useCallback(\n    (rowId: string, colId: string): React.ReactNode =\u003e {\n      const row = table.getRow(rowId)\n      if (!row) return null\n      const originalData = row.original as any\n      const originalValue = originalData ? originalData[colId] : undefined\n\n      if (\n        typeof originalValue === \"string\" ||\n        typeof originalValue === \"number\" ||\n        typeof originalValue === \"boolean\"\n      ) {\n        return String(originalValue)\n      }\n      if (Array.isArray(originalValue)) {\n        return originalValue.join(\", \")\n      }\n      return null\n    },\n    [table],\n  )\n  const shouldEnableFeature = useCallback(\n    (columnId: string, feature: \"enableTooltip\" | \"enableSorting\", tableLevelEnable: boolean, metaOption?: boolean) =\u003e {\n      if (!tableLevelEnable || columnId === \"expander\") return false\n      const columnDef = preparedColumns.find((col) =\u003e col.id === columnId || (col as any).accessorKey === columnId)\n      if (columnDef?.meta?.type === \"actions\") return false\n      return metaOption !== undefined ? metaOption : true\n    },\n    [preparedColumns],\n  )\n  const getLineClampValue = useCallback(\n    (columnId: string) =\u003e {\n      const columnMeta = preparedColumns.find(\n        (col) =\u003e col.id === columnId || (col as any).accessorKey === columnId,\n      )?.meta\n      return columnMeta?.lineClamp ?? tableLineClamp\n    },\n    [tableLineClamp, preparedColumns],\n  )\n  const isColumnLongContent = useCallback(\n    (columnId: string) =\u003e\n      !!preparedColumns.find((col) =\u003e col.id === columnId || (col as any).accessorKey === columnId)?.meta\n        ?.isLongContent,\n    [preparedColumns],\n  )\n  const handleMouseEnterCell = (cellId: string, rowId: string, colId: string) =\u003e {\n    if (tooltipTimerRef.current) clearTimeout(tooltipTimerRef.current)\n    tooltipTimerRef.current = setTimeout(() =\u003e {\n      const content = getTooltipContent(rowId, colId)\n      const longContentFlag = isColumnLongContent(colId)\n      if (content !== null \u0026\u0026 content !== \"\") {\n        setActiveTooltip({\n          id: cellId,\n          content,\n          isLongContent: longContentFlag,\n        })\n      }\n    }, tooltipDelay)\n  }\n  const handleMouseLeaveCell = () =\u003e {\n    if (tooltipTimerRef.current) {\n      clearTimeout(tooltipTimerRef.current)\n      tooltipTimerRef.current = null\n    }\n    if (activeTooltip \u0026\u0026 !activeTooltip.isLongContent) setActiveTooltip(null)\n  }\n  const handleRowMouseEnter = (rowId: string) =\u003e setHoveredRowId(rowId)\n  const handleRowMouseLeave = () =\u003e setHoveredRowId(null)\n  useEffect(() =\u003e {\n    const handleKeyDown = (e: KeyboardEvent) =\u003e {\n      if (e.altKey \u0026\u0026 e.key === \"f\") {\n        e.preventDefault()\n        const inputElement = document.querySelector\u003cHTMLInputElement\u003e(`input[placeholder=\"${placeholder}\"]`)\n        if (inputElement) inputElement.focus()\n      }\n      if (e.key === \"Escape\" \u0026\u0026 activeTooltip) setActiveTooltip(null)\n    }\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () =\u003e window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [placeholder, activeTooltip])\n  const hasSubRows = useCallback((row: Row\u003cTData\u003e) =\u003e {\n    const original = row.original as any\n    return original?.subRows \u0026\u0026 original.subRows.length \u003e 0\n  }, [])\n  const getRowStyle = useCallback(\n    (rowId: string, rowData?: TData): React.CSSProperties =\u003e {\n      const isHovered = hoveredRowId === rowId\n      let currentStatus = getRowStatus \u0026\u0026 rowData ? getRowStatus(rowData) : null\n      if (currentStatus === \"error\") currentStatus = \"danger\"\n\n      const defaultRowTokens = tableTokens.row.default\n      const finalStyle: React.CSSProperties = {\n        backgroundColor: defaultRowTokens.backgroundColor,\n        color: defaultRowTokens.foregroundColor,\n        borderBottom: `1px solid ${defaultRowTokens.borderColor}`,\n        transition:\n          \"background-color 0.15s ease-out, color 0.15s ease-out, border-color 0.15s ease-out, font-weight 0.15s ease-out\",\n      }\n      let statusColorsDefinition\n      if (currentStatus) {\n        if (currentStatus === \"neutral\") {\n          statusColorsDefinition = defaultRowTokens\n        } else if (tableTokens.row.status[currentStatus as keyof typeof tableTokens.row.status]) {\n          statusColorsDefinition = tableTokens.row.status[currentStatus as keyof typeof tableTokens.row.status]\n        } else if (cellVariantTokens[currentStatus as CellVariant]) {\n          const variantToken = cellVariantTokens[currentStatus as CellVariant]\n          statusColorsDefinition = {\n            backgroundColor: variantToken.backgroundColor,\n            foregroundColor: variantToken.foregroundColor,\n            hoverBackgroundColor: variantToken.hoverBackgroundColor,\n            borderColor: variantToken.borderColor || defaultRowTokens.borderColor,\n          }\n        }\n      }\n      if (statusColorsDefinition) {\n        finalStyle.backgroundColor = isHovered\n          ? statusColorsDefinition.hoverBackgroundColor\n          : statusColorsDefinition.backgroundColor\n        finalStyle.color = statusColorsDefinition.foregroundColor\n        finalStyle.borderBottom = `1px solid ${statusColorsDefinition.borderColor || defaultRowTokens.borderColor}`\n      } else if (isHovered) {\n        finalStyle.backgroundColor = defaultRowTokens.hoverBackgroundColor\n      }\n      return finalStyle\n    },\n    [hoveredRowId, getRowStatus, tableTokens, cellVariantTokens],\n  )\n  const getColumnWidth = useCallback(\n    (column: Column\u003cTData, any\u003e) =\u003e {\n      if (column.columnDef.meta?.type === \"actions\" || column.columnDef.meta?.isFixed) return column.getSize()\n      if (!shouldExpandTable) return column.getSize()\n      const expansionFactor = containerWidth / tableWidth\n      const originalWidth = column.getSize()\n      return Math.floor(originalWidth * expansionFactor)\n    },\n    [shouldExpandTable, containerWidth, tableWidth],\n  )\n  const getLineClampClass = useCallback((lcValue: number) =\u003e {\n    if (lcValue \u003e 0 \u0026\u0026 lcValue \u003c= 6) return `line-clamp-${lcValue}`\n    return \"\"\n  }, [])\n  useEffect(() =\u003e {\n    return () =\u003e {\n      if (tooltipTimerRef.current) clearTimeout(tooltipTimerRef.current)\n    }\n  }, [])\n  const openColumnSelector = () =\u003e {\n    /* ... */\n  }\n  useEffect(() =\u003e {\n    /* ... click outside column selector ... */\n  }, [columnSelectorOpen])\n  useEffect(() =\u003e {\n    if (hideMenuOnScroll \u0026\u0026 columnSelectorOpen) setColumnSelectorOpen(false)\n  }, [hideMenuOnScroll, columnSelectorOpen])\n  const getFixedColumnHoverBg = useCallback(\n    (\n      rowId: string,\n      baseCellBgForNonHover: string,\n      rowData?: TData,\n      cellMeta?: (typeof columns)[number][\"meta\"],\n    ): string =\u003e {\n      const rowInstance = table.getRow(rowId)\n      const isRowHovered = hoveredRowId === rowId\n      const getCellContext = (r: Row\u003cTData\u003e, c?: Column\u003cTData, unknown\u003e, cellInst?: Cell\u003cTData, unknown\u003e) =\u003e ({\n        row: r,\n        column: c || ({} as Column\u003cTData, unknown\u003e),\n        cell: cellInst || ({} as Cell\u003cTData, unknown\u003e),\n        getValue: () =\u003e (cellInst?.getValue ? cellInst.getValue() : {}) as any,\n      })\n      if (!isRowHovered) {\n        if (cellMeta?.cellVariant \u0026\u0026 rowInstance) {\n          const variantKey =\n            typeof cellMeta.cellVariant === \"function\"\n              ? (cellMeta.cellVariant as Function)(getCellContext(rowInstance, undefined, undefined))\n              : cellMeta.cellVariant\n          if (variantKey \u0026\u0026 cellVariantTokens[variantKey as CellVariant])\n            return cellVariantTokens[variantKey as CellVariant].backgroundColor\n        }\n        return baseCellBgForNonHover\n      }\n      if (cellMeta?.cellVariant \u0026\u0026 rowInstance) {\n        const variantKey =\n          typeof cellMeta.cellVariant === \"function\"\n            ? (cellMeta.cellVariant as Function)(getCellContext(rowInstance, undefined, undefined))\n            : cellMeta.cellVariant\n        if (variantKey \u0026\u0026 cellVariantTokens[variantKey as CellVariant])\n          return cellVariantTokens[variantKey as CellVariant].hoverBackgroundColor\n      }\n      const currentStatus = getRowStatus \u0026\u0026 rowData ? getRowStatus(rowData) : null\n      if (currentStatus) {\n        if (currentStatus === \"neutral\") return tableTokens.row.default.hoverBackgroundColor\n        const statusToken = tableTokens.row.status[currentStatus as keyof typeof tableTokens.row.status]\n        if (statusToken) return statusToken.hoverBackgroundColor\n        const variantToken = cellVariantTokens[currentStatus as CellVariant]\n        if (variantToken) return variantToken.hoverBackgroundColor\n      }\n      return tableTokens.row.default.hoverBackgroundColor\n    },\n    [hoveredRowId, tableTokens, cellVariantTokens, getRowStatus, table],\n  )\n\n  if (!tableTokens || !cellVariantTokens || !tableTokens.expander) return null\n\n  return (\n    \u003cdiv className={cn(\"space-y-4 flex flex-col\", className)}\u003e\n      \u003cdiv className=\"flex flex-wrap gap-2 items-center flex-shrink-0\"\u003e\n        \u003cInput\n          placeholder={placeholder}\n          value={globalFilter ?? \"\"}\n          onChange={(e) =\u003e setGlobalFilter(e.target.value)}\n          className=\"w-full max-w-sm\"\n        /\u003e\n        {showColumnSelector \u0026\u0026 (\n          \u003c\u003e\n            \u003cbutton\n              ref={columnSelectorRef}\n              onClick={openColumnSelector}\n              className=\"ml-auto px-3 py-1.5 rounded bg-primary/10 hover:bg-primary/20 text-sm font-medium transition-colors\"\n              style={{\n                color: tableTokens.toolbar.columnSelector.foregroundColor,\n              }}\n            \u003e\n              Columnas\n            \u003c/button\u003e\n            {columnSelectorOpen \u0026\u0026 (\n              \u003cdiv\n                ref={columnSelectorMenuRef}\n                className=\"fixed z-50 mt-2 rounded-md shadow-lg p-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700\"\n                style={{\n                  top: `${columnSelectorPosition.top}px`,\n                  left: `${columnSelectorPosition.left}px`,\n                  maxHeight: \"300px\",\n                  overflowY: \"auto\",\n                  backgroundColor: tableTokens.toolbar.columnSelector.backgroundColor,\n                  width: \"200px\",\n                }}\n              \u003e\n                \u003cdiv className=\"grid grid-cols-2 gap-2\"\u003e\n                  {table\n                    .getAllLeafColumns()\n                    .filter((col) =\u003e col.id !== \"expander\")\n                    .map((col) =\u003e (\n                      \u003clabel\n                        key={col.id}\n                        className=\"flex items-center gap-2 text-sm py-1\"\n                        style={{\n                          color: tableTokens.toolbar.columnSelector.foregroundColor,\n                        }}\n                      \u003e\n                        {renderCustomCheck ? (\n                          renderCustomCheck({\n                            checked: col.getIsVisible(),\n                            onChange: () =\u003e col.toggleVisibility(),\n                          })\n                        ) : (\n                          \u003cCheckbox checked={col.getIsVisible()} onCheckedChange={() =\u003e col.toggleVisibility()} /\u003e\n                        )}\n                        {col.columnDef.header?.toString() || col.id}\n                      \u003c/label\u003e\n                    ))}\n                \u003c/div\u003e\n              \u003c/div\u003e\n            )}\n          \u003c/\u003e\n        )}\n      \u003c/div\u003e\n\n      {columns.some((col) =\u003e (col.meta?.lineClamp ?? tableLineClamp) \u003e 6) \u0026\u0026 (\n        \u003cstyle jsx global\u003e{`\n          /* ... */\n        `}\u003c/style\u003e\n      )}\n\n      \u003cdiv\n        ref={tableContainerRef}\n        className=\"relative overflow-auto rounded-lg flex-grow\"\n        style={{\n          maxWidth: \"100%\",\n          minHeight: \"200px\",\n          maxHeight: \"1200px\",\n          overflowX: \"auto\",\n          overflowY: \"auto\",\n          backgroundColor: tableTokens.container.backgroundColor,\n          border: `1px solid ${tableTokens.container.borderColor}`,\n          position: \"relative\",\n          scrollbarWidth: \"thin\",\n          scrollbarColor: \"rgba(155, 155, 155, 0.5) transparent\",\n        }}\n      \u003e\n        \u003cstyle jsx global\u003e{`\n          .table-container::-webkit-scrollbar {\n            width: 8px;\n            height: 8px;\n          }\n          .table-container::-webkit-scrollbar-track {\n            background: transparent;\n          }\n          .table-container::-webkit-scrollbar-thumb {\n            background-color: rgba(155, 155, 155, 0.5);\n            border-radius: 20px;\n          }\n        `}\u003c/style\u003e\n        \u003cdiv\n          className=\"table-container\"\n          style={{\n            width: shouldExpandTable ? \"100%\" : `${Math.max(tableWidth, 800)}px`,\n            minWidth: shouldExpandTable ? \"100%\" : `${Math.max(tableWidth, 800)}px`,\n            display: \"flex\",\n            flexDirection: \"column\",\n            height: \"100%\",\n            paddingRight: \"8px\",\n          }}\n        \u003e\n          \u003ctable\n            className=\"w-full text-sm\"\n            role=\"table\"\n            style={{\n              borderCollapse: \"separate\",\n              borderSpacing: 0,\n              width: \"100%\",\n              backgroundColor: tableTokens.container.backgroundColor,\n              flexGrow: 1,\n              position: \"relative\",\n            }}\n          \u003e\n            \u003cthead\n              className={cn(stickyHeader ? \"sticky top-0 z-20\" : \"\")}\n              style={{\n                backgroundColor: tableTokens.header.backgroundColor,\n                boxShadow: \"0 1px 3px rgba(0,0,0,0.2)\",\n                top: stickyHeader ? `${stickyHeaderOffset}px` : undefined,\n                position: stickyHeader ? \"sticky\" : undefined,\n                zIndex: stickyHeader ? 20 : undefined,\n              }}\n            \u003e\n              {table.getHeaderGroups().map((headerGroup) =\u003e (\n                \u003ctr key={headerGroup.id}\u003e\n                  {headerGroup.headers.map((header) =\u003e {\n                    // ... (renderizado de \u003cth\u003e sin cambios significativos aquí)\n                    const isSortable = shouldEnableFeature(\n                      header.column.id,\n                      \"enableSorting\",\n                      enableSorting,\n                      header.column.columnDef.meta?.enableSorting,\n                    )\n                    const sortDirection = header.column.getIsSorted()\n                    const isFixedColumn = header.column.columnDef.meta?.isFixed\n                    return (\n                      \u003cth\n                        key={header.id}\n                        style={{\n                          width: getColumnWidth(header.column),\n                          position: isFixedColumn ? \"sticky\" : \"relative\",\n                          right: isFixedColumn ? 0 : \"auto\",\n                          borderRight: `1px solid ${tableTokens.header.borderColor}`,\n                          borderBottom: `1px solid ${tableTokens.header.borderColor}`,\n                          padding: \"0.75rem 0.5rem\",\n                          textAlign: \"center\",\n                          color: tableTokens.header.foregroundColor,\n                          backgroundColor: tableTokens.header.backgroundColor,\n                          boxShadow: \"0 1px 2px rgba(0,0,0,0.1)\",\n                          whiteSpace: \"nowrap\",\n                          userSelect: \"none\",\n                          zIndex: isFixedColumn ? 3 : 2,\n                        }}\n                        className={cn(\"group\", header.column.columnDef.meta?.className, isFixedColumn \u0026\u0026 \"shadow-sm\")}\n                        role=\"columnheader\"\n                      \u003e\n                        \u003cdiv className=\"flex items-center justify-center gap-1\"\u003e\n                          {header.isPlaceholder\n                            ? null\n                            : flexRender(header.column.columnDef.header, header.getContext())}\n                          {isSortable \u0026\u0026 (\n                            \u003cbutton\n                              onClick={() =\u003e header.column.toggleSorting()}\n                              className=\"ml-1 rounded-sm focus:outline-none focus:ring-2\"\n                              style={{\n                                color: sortDirection\n                                  ? tableTokens.header.sortIconHoverColor\n                                  : tableTokens.header.sortIconColor,\n                              }}\n                              aria-label={sortDirection === \"asc\" ? \"Asc\" : sortDirection === \"desc\" ? \"Desc\" : \"Sort\"}\n                            \u003e\n                              {\" \"}\n                              {sortDirection === \"asc\" ? (\n                                \u003cChevronUp className=\"h-4 w-4\" /\u003e\n                              ) : sortDirection === \"desc\" ? (\n                                \u003cChevronDown className=\"h-4 w-4\" /\u003e\n                              ) : (\n                                \u003cChevronsUpDown className=\"h-4 w-4\" /\u003e\n                              )}{\" \"}\n                            \u003c/button\u003e\n                          )}\n                        \u003c/div\u003e\n                        {header.column.getCanResize() \u0026\u0026 !isFixedColumn \u0026\u0026 (\n                          \u003cdiv\n                            onMouseDown={header.getResizeHandler()}\n                            onTouchStart={header.getResizeHandler()}\n                            className=\"absolute right-0 top-0 h-full w-2 cursor-col-resize opacity-0 group-hover:opacity-100 transition-opacity\"\n                            title=\"Resize\"\n                            style={{\n                              backgroundColor: tableTokens.header.resizeHandleColor,\n                            }}\n                          \u003e\n                            {\" \"}\n                            \u003cdiv\n                              className=\"absolute right-0 top-0 h-full w-[3px]\"\n                              style={{\n                                backgroundColor: tableTokens.header.resizeHandleColor,\n                              }}\n                            \u003e\u003c/div\u003e{\" \"}\n                          \u003c/div\u003e\n                        )}\n                      \u003c/th\u003e\n                    )\n                  })}\n                \u003c/tr\u003e\n              ))}\n            \u003c/thead\u003e\n            \u003ctbody role=\"rowgroup\"\u003e\n              {table.getRowModel().rows.map((row) =\u003e {\n                const isSubRowOriginal = data.some(\n                  (item: any) =\u003e item.subRows \u0026\u0026 item.subRows.some((subR: any) =\u003e subR.id === (row.original as any).id),\n                )\n                if (isSubRowOriginal) return null\n                const currentTRRowStyle = getRowStyle(row.id, row.original as TData)\n                const resolvedRowTextColorVariant = getRowTextColorVariant\n                  ? getRowTextColorVariant(row.original as TData)\n                  : undefined\n                const resolvedIsRowTextBold = isRowTextBold ? isRowTextBold(row.original as TData) : undefined\n\n                return (\n                  \u003cReact.Fragment key={row.id}\u003e\n                    \u003ctr\n                      className={cn(\"transition-colors\", row.getCanExpand() ? \"cursor-pointer\" : \"\")}\n                      style={currentTRRowStyle}\n                      role=\"row\"\n                      onMouseEnter={() =\u003e handleRowMouseEnter(row.id)}\n                      onMouseLeave={handleRowMouseLeave}\n                      onClick={row.getCanExpand() ? row.getToggleExpandedHandler() : undefined}\n                    \u003e\n                      {row.getVisibleCells().map((cell) =\u003e {\n                        // --- Lógica de estilos de celda (fontWeight, color, backgroundColor) ---\n                        // Esta lógica ya incluye la precedencia de celda \u003e fila \u003e default\n                        // y los ajustes para columnas fijas, etc. (Sin cambios aquí)\n                        const cellContext = cell.getContext() as ProTableCellContext\u003cTData, unknown\u003e\n                        const cellContent = flexRender(cell.column.columnDef.cell, cellContext)\n                        const isCellTooltipEnabled = shouldEnableFeature(\n                          cell.column.id,\n                          \"enableTooltip\",\n                          enableTooltips,\n                          cell.column.columnDef.meta?.enableTooltip,\n                        )\n                        const cellLineClampValue = getLineClampValue(cell.column.id)\n                        const cellLineClampClass = getLineClampClass(cellLineClampValue)\n                        const visibleCellsInRow = cell.row.getVisibleCells()\n                        const isLastCell = cell.id === visibleCellsInRow[visibleCellsInRow.length - 1]?.id\n                        const cellMeta = cell.column.columnDef.meta\n                        const isFixedColumn = cellMeta?.isFixed\n                        const shouldFadeText = cellMeta?.enableTextFade \u0026\u0026 cellLineClampValue \u003e 0\n                        const resolvedCellTextColorVariant = getResolvedMetaValue\u003cTData, unknown, CellVariant\u003e(\n                          cellMeta?.textColorVariant,\n                          cellContext,\n                        )\n                        const resolvedCellIsTextBold = getResolvedMetaValue\u003cTData, unknown, boolean\u003e(\n                          cellMeta?.isTextBold,\n                          cellContext,\n                        )\n                        const resolvedCellVariantForBgAndDefaultColor = getResolvedMetaValue\u003c\n                          TData,\n                          unknown,\n                          CellVariant\n                        \u003e(cellMeta?.cellVariant, cellContext)\n                        const tdStyle: React.CSSProperties = {\n                          width: getColumnWidth(cell.column),\n                          verticalAlign: cell.column.id === \"expander\" ? \"middle\" : \"top\",\n                          padding: cell.column.id === \"expander\" ? \"0.75rem 0.25rem\" : \"0.75rem 0.5rem\",\n                          borderBottom: currentTRRowStyle.borderBottom,\n                          borderRight: isLastCell ? undefined : `1px solid ${tableTokens.cell.borderColor}`,\n                          transition:\n                            \"background-color 0.15s ease-out, color 0.15s ease-out, border-color 0.15s ease-out, font-weight 0.15s ease-out\",\n                          backgroundColor: currentTRRowStyle.backgroundColor,\n                        }\n                        if (isFixedColumn) {\n                          tdStyle.position = \"sticky\"\n                          tdStyle.right = 0\n                          tdStyle.zIndex = 1\n                          tdStyle.boxShadow = \"-2px 0 5px rgba(0, 0, 0, 0.1)\"\n                        }\n                        let cellVariantBgToken\n                        if (\n                          resolvedCellVariantForBgAndDefaultColor \u0026\u0026\n                          cellVariantTokens[resolvedCellVariantForBgAndDefaultColor]\n                        ) {\n                          cellVariantBgToken = cellVariantTokens[resolvedCellVariantForBgAndDefaultColor]\n                          const isRowHovered = hoveredRowId === row.id\n                          if (!isFixedColumn) {\n                            tdStyle.backgroundColor = isRowHovered\n                              ? cellVariantBgToken.hoverBackgroundColor\n                              : cellVariantBgToken.backgroundColor\n                          }\n                        }\n                        if (isFixedColumn) {\n                          let baseBgForFixedNonHover =\n                            tdStyle.backgroundColor || tableTokens.row.default.backgroundColor\n                          if (cellVariantBgToken \u0026\u0026 isFixedColumn) {\n                            baseBgForFixedNonHover = cellVariantBgToken.backgroundColor\n                            tdStyle.backgroundColor =\n                              hoveredRowId === row.id\n                                ? cellVariantBgToken.hoverBackgroundColor\n                                : cellVariantBgToken.backgroundColor\n                          } else {\n                            tdStyle.backgroundColor = getFixedColumnHoverBg(\n                              row.id,\n                              baseBgForFixedNonHover,\n                              row.original as TData,\n                              cellMeta,\n                            )\n                          }\n                        }\n                        let finalTextColor = currentTRRowStyle.color || tableTokens.cell.foregroundColor\n                        if (\n                          resolvedCellVariantForBgAndDefaultColor \u0026\u0026\n                          cellVariantTokens[resolvedCellVariantForBgAndDefaultColor] \u0026\u0026\n                          !resolvedCellTextColorVariant \u0026\u0026\n                          !resolvedRowTextColorVariant\n                        ) {\n                          finalTextColor = cellVariantTokens[resolvedCellVariantForBgAndDefaultColor].foregroundColor\n                        }\n                        if (\n                          resolvedRowTextColorVariant \u0026\u0026\n                          cellVariantTokens[resolvedRowTextColorVariant] \u0026\u0026\n                          !resolvedCellTextColorVariant\n                        ) {\n                          finalTextColor = cellVariantTokens[resolvedRowTextColorVariant].foregroundColor\n                        }\n                        if (resolvedCellTextColorVariant \u0026\u0026 cellVariantTokens[resolvedCellTextColorVariant]) {\n                          finalTextColor = cellVariantTokens[resolvedCellTextColorVariant].foregroundColor\n                        }\n                        tdStyle.color = finalTextColor\n                        if (resolvedCellIsTextBold === true) {\n                          tdStyle.fontWeight = \"bold\"\n                        } else if (resolvedCellIsTextBold === false) {\n                          tdStyle.fontWeight = \"normal\"\n                        } else if (resolvedIsRowTextBold === true) {\n                          tdStyle.fontWeight = \"bold\"\n                        } else if (resolvedIsRowTextBold === false) {\n                          tdStyle.fontWeight = \"normal\"\n                        }\n\n                        if (cell.column.id === \"expander\") {\n                          return (\n                            \u003ctd\n                              key={cell.id}\n                              className={cn(\"align-middle text-center\", cellMeta?.className)}\n                              style={tdStyle}\n                            \u003e\n                              {row.getCanExpand() ? (\n                                \u003cExpandIconComponent\n                                  isExpanded={row.getIsExpanded()}\n                                  expanderTokens={tableTokens.expander}\n                                /\u003e\n                              ) : null}\n                            \u003c/td\u003e\n                          )\n                        }\n                        return (\n                          \u003ctd\n                            key={cell.id}\n                            className={cn(cellMeta?.className, \"align-top\", isFixedColumn \u0026\u0026 \"shadow-sm\")}\n                            role=\"cell\"\n                            style={tdStyle}\n                            onMouseEnter={\n                              isCellTooltipEnabled\n                                ? () =\u003e\n                                    handleMouseEnterCell(`tooltip-${row.id}-${cell.column.id}`, row.id, cell.column.id)\n                                : undefined\n                            }\n                            onMouseLeave={isCellTooltipEnabled ? handleMouseLeaveCell : undefined}\n                          \u003e\n                            \u003cdiv\n                              className={cn(\n                                `break-words max-w-xs ${cellLineClampClass}`,\n                                shouldFadeText \u0026\u0026 \"relative\",\n                                cellMeta?.contentClassName,\n                              )}\n                              style={\n                                {\n                                  \"--cell-bg-for-fade\": tdStyle.backgroundColor,\n                                  ...(cellLineClampValue \u003e 6 \u0026\u0026 {\n                                    WebkitLineClamp: cellLineClampValue,\n                                    display: \"-webkit-box\",\n                                    WebkitBoxOrient: \"vertical\",\n                                    overflow: \"hidden\",\n                                  }),\n                                } as React.CSSProperties\n                              }\n                            \u003e\n                              {cellContent}\n                              {shouldFadeText \u0026\u0026 (\n                                \u003cdiv\n                                  className=\"absolute bottom-0 right-0 w-full h-[1.5em] pointer-events-none\"\n                                  style={{\n                                    background: `linear-gradient(to right, transparent 0%, var(--cell-bg-for-fade) 70%, var(--cell-bg-for-fade) 100%)`,\n                                  }}\n                                  aria-hidden=\"true\"\n                                /\u003e\n                              )}\n                            \u003c/div\u003e\n                          \u003c/td\u003e\n                        )\n                      })}\n                    \u003c/tr\u003e\n                    {row.getIsExpanded() \u0026\u0026 row.subRows \u0026\u0026 row.subRows.length \u003e 0 \u0026\u0026 (\n                      // --- SECCIÓN DE SUBFILAS (la misma lógica de estilos de celda se aplica aquí) ---\n                      \u003ctr\n                        style={{\n                          backgroundColor: tableTokens.row.subRowBackgroundColor,\n                        }}\n                      \u003e\n                        \u003ctd colSpan={row.getVisibleCells().length} className=\"p-0\"\u003e\n                          \u003cdiv\n                            className=\"pl-4 pt-1\"\n                            style={{\n                              borderLeft: `2px solid ${tableTokens.row.subRowIndentBorderColor}`,\n                              boxShadow: `inset 0px 2px 3px -1px rgba(0, 0, 0, 0.07)`,\n                            }}\n                          \u003e\n                            \u003ctable className=\"w-full text-sm\" style={{ borderSpacing: 0 }}\u003e\n                              \u003ctbody\u003e\n                                {row.subRows.map((subRowInstance, subRowIndex) =\u003e {\n                                  const currentTRSubRowStyle = getRowStyle(\n                                    subRowInstance.id,\n                                    subRowInstance.original as TData,\n                                  )\n                                  if (subRowIndex === row.subRows.length - 1) {\n                                    currentTRSubRowStyle.borderBottom = \"none\"\n                                  }\n                                  const resolvedSubRowTextColorVariant = getRowTextColorVariant\n                                    ? getRowTextColorVariant(subRowInstance.original as TData)\n                                    : undefined\n                                  const resolvedIsSubRowTextBold = isRowTextBold\n                                    ? isRowTextBold(subRowInstance.original as TData)\n                                    : undefined\n                                  return (\n                                    \u003ctr\n                                      key={subRowInstance.id}\n                                      style={currentTRSubRowStyle}\n                                      onMouseEnter={() =\u003e handleRowMouseEnter(subRowInstance.id)}\n                                      onMouseLeave={handleRowMouseLeave}\n                                    \u003e\n                                      {subRowInstance.getVisibleCells().map((cell) =\u003e {\n                                        const cellContext = cell.getContext() as ProTableCellContext\u003cTData, unknown\u003e\n                                        const cellContent = flexRender(cell.column.columnDef.cell, cellContext)\n                                        const isCellTooltipEnabled = shouldEnableFeature(\n                                          cell.column.id,\n                                          \"enableTooltip\",\n                                          enableTooltips,\n                                          cell.column.columnDef.meta?.enableTooltip,\n                                        )\n                                        const cellLineClampValue = getLineClampValue(cell.column.id)\n                                        const cellLineClampClass = getLineClampClass(cellLineClampValue)\n                                        const visibleCellsInSubRow = cell.row.getVisibleCells()\n                                        const isLastSubCell =\n                                          cell.id === visibleCellsInSubRow[visibleCellsInSubRow.length - 1]?.id\n                                        const subCellMeta = cell.column.columnDef.meta\n                                        const isFixedColumn = subCellMeta?.isFixed\n                                        const shouldFadeSubCellText =\n                                          subCellMeta?.enableTextFade \u0026\u0026 cellLineClampValue \u003e 0\n                                        const resolvedSubCellTextColorVariant = getResolvedMetaValue\u003c\n                                          TData,\n                                          unknown,\n                                          CellVariant\n                                        \u003e(subCellMeta?.textColorVariant, cellContext)\n                                        const resolvedSubCellIsTextBold = getResolvedMetaValue\u003cTData, unknown, boolean\u003e(\n                                          subCellMeta?.isTextBold,\n                                          cellContext,\n                                        )\n                                        const resolvedSubCellVariantForBgAndDefaultColor = getResolvedMetaValue\u003c\n                                          TData,\n                                          unknown,\n                                          CellVariant\n                                        \u003e(subCellMeta?.cellVariant, cellContext)\n                                        const tdStyle: React.CSSProperties = {\n                                          width: getColumnWidth(cell.column),\n                                          verticalAlign: cell.column.id === \"expander\" ? \"middle\" : \"top\",\n                                          padding: cell.column.id === \"expander\" ? \"0.75rem 0.25rem\" : \"0.75rem 0.5rem\",\n                                          borderBottom: currentTRSubRowStyle.borderBottom,\n                                          borderRight: isLastSubCell\n                                            ? undefined\n                                            : `1px solid ${tableTokens.cell.borderColor}`,\n                                          transition:\n                                            \"background-color 0.15s ease-out, color 0.15s ease-out, border-color 0.15s ease-out, font-weight 0.15s ease-out\",\n                                          backgroundColor: currentTRSubRowStyle.backgroundColor,\n                                        }\n                                        if (isFixedColumn) {\n                                          tdStyle.position = \"sticky\"\n                                          tdStyle.right = 0\n                                          tdStyle.zIndex = 1\n                                          tdStyle.boxShadow = \"-2px 0 5px rgba(0, 0, 0, 0.1)\"\n                                        }\n                                        let subCellVariantBgToken\n                                        if (\n                                          resolvedSubCellVariantForBgAndDefaultColor \u0026\u0026\n                                          cellVariantTokens[resolvedSubCellVariantForBgAndDefaultColor]\n                                        ) {\n                                          subCellVariantBgToken =\n                                            cellVariantTokens[resolvedSubCellVariantForBgAndDefaultColor]\n                                          const isSubRowHovered = hoveredRowId === subRowInstance.id\n                                          if (!isFixedColumn) {\n                                            tdStyle.backgroundColor = isSubRowHovered\n                                              ? subCellVariantBgToken.hoverBackgroundColor\n                                              : subCellVariantBgToken.backgroundColor\n                                          }\n                                        }\n                                        if (isFixedColumn) {\n                                          let baseBgForFixedSubRowNonHover =\n                                            tdStyle.backgroundColor || tableTokens.row.default.backgroundColor\n                                          if (subCellVariantBgToken \u0026\u0026 isFixedColumn) {\n                                            baseBgForFixedSubRowNonHover = subCellVariantBgToken.backgroundColor\n                                            tdStyle.backgroundColor =\n                                              hoveredRowId === subRowInstance.id\n                                                ? subCellVariantBgToken.hoverBackgroundColor\n                                                : subCellVariantBgToken.backgroundColor\n                                          } else {\n                                            tdStyle.backgroundColor = getFixedColumnHoverBg(\n                                              subRowInstance.id,\n                                              baseBgForFixedSubRowNonHover,\n                                              subRowInstance.original as TData,\n                                              subCellMeta,\n                                            )\n                                          }\n                                        }\n                                        let finalSubCellTextColor =\n                                          currentTRSubRowStyle.color || tableTokens.cell.foregroundColor\n                                        if (\n                                          resolvedSubCellVariantForBgAndDefaultColor \u0026\u0026\n                                          cellVariantTokens[resolvedSubCellVariantForBgAndDefaultColor] \u0026\u0026\n                                          !resolvedSubCellTextColorVariant \u0026\u0026\n                                          !resolvedSubRowTextColorVariant\n                                        ) {\n                                          finalSubCellTextColor =\n                                            cellVariantTokens[resolvedSubCellVariantForBgAndDefaultColor]\n                                              .foregroundColor\n                                        }\n                                        if (\n                                          resolvedSubRowTextColorVariant \u0026\u0026\n                                          cellVariantTokens[resolvedSubRowTextColorVariant] \u0026\u0026\n                                          !resolvedSubCellTextColorVariant\n                                        ) {\n                                          finalSubCellTextColor =\n                                            cellVariantTokens[resolvedSubRowTextColorVariant].foregroundColor\n                                        }\n                                        if (\n                                          resolvedSubCellTextColorVariant \u0026\u0026\n                                          cellVariantTokens[resolvedSubCellTextColorVariant]\n                                        ) {\n                                          finalSubCellTextColor =\n                                            cellVariantTokens[resolvedSubCellTextColorVariant].foregroundColor\n                                        }\n                                        tdStyle.color = finalSubCellTextColor\n                                        if (resolvedSubCellIsTextBold === true) {\n                                          tdStyle.fontWeight = \"bold\"\n                                        } else if (resolvedSubCellIsTextBold === false) {\n                                          tdStyle.fontWeight = \"normal\"\n                                        } else if (resolvedIsSubRowTextBold === true) {\n                                          tdStyle.fontWeight = \"bold\"\n                                        } else if (resolvedIsSubRowTextBold === false) {\n                                          tdStyle.fontWeight = \"normal\"\n                                        }\n                                        if (cell.column.id === \"expander\") {\n                                          return (\n                                            \u003ctd\n                                              key={cell.id}\n                                              className={cn(\"align-middle text-center\", subCellMeta?.className)}\n                                              style={tdStyle}\n                                            \u003e\n                                              {null}\n                                            \u003c/td\u003e\n                                          )\n                                        }\n                                        return (\n                                          \u003ctd\n                                            key={cell.id}\n                                            className={cn(\n                                              subCellMeta?.className,\n                                              \"align-top\",\n                                              isFixedColumn \u0026\u0026 \"shadow-sm\",\n                                            )}\n                                            role=\"cell\"\n                                            style={tdStyle}\n                                            onMouseEnter={\n                                              isCellTooltipEnabled\n                                                ? () =\u003e\n                                                    handleMouseEnterCell(\n                                                      `tooltip-${subRowInstance.id}-${cell.column.id}`,\n                                                      subRowInstance.id,\n                                                      cell.column.id,\n                                                    )\n                                                : undefined\n                                            }\n                                            onMouseLeave={isCellTooltipEnabled ? handleMouseLeaveCell : undefined}\n                                          \u003e\n                                            \u003cdiv\n                                              className={cn(\n                                                `break-words max-w-xs ${cellLineClampClass}`,\n                                                shouldFadeSubCellText \u0026\u0026 \"relative\",\n                                                subCellMeta?.contentClassName,\n                                              )}\n                                              style={\n                                                {\n                                                  \"--cell-bg-for-fade\": tdStyle.backgroundColor,\n                                                  ...(cellLineClampValue \u003e 6 \u0026\u0026 {\n                                                    WebkitLineClamp: cellLineClampValue,\n                                                    display: \"-webkit-box\",\n                                                    WebkitBoxOrient: \"vertical\",\n                                                    overflow: \"hidden\",\n                                                  }),\n                                                } as React.CSSProperties\n                                              }\n                                            \u003e\n                                              {cellContent}\n                                              {shouldFadeSubCellText \u0026\u0026 (\n                                                \u003cdiv\n                                                  className=\"absolute bottom-0 right-0 w-full h-[1.5em] pointer-events-none\"\n                                                  style={{\n                                                    background: `linear-gradient(to right, transparent 0%, var(--cell-bg-for-fade) 70%, var(--cell-bg-for-fade) 100%)`,\n                                                  }}\n                                                  aria-hidden=\"true\"\n                                                /\u003e\n                                              )}\n                                            \u003c/div\u003e\n                                          \u003c/td\u003e\n                                        )\n                                      })}\n                                    \u003c/tr\u003e\n                                  )\n                                })}\n                              \u003c/tbody\u003e\n                            \u003c/table\u003e\n                          \u003c/div\u003e\n                        \u003c/td\u003e\n                      \u003c/tr\u003e\n                    )}\n                  \u003c/React.Fragment\u003e\n                )\n              })}\n            \u003c/tbody\u003e\n          \u003c/table\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n      {activeTooltip \u0026\u0026 tableTokens.tooltip \u0026\u0026 (\n        // @ts-ignore El error de content, isLongContent etc. se debe a la definición incompleta de TooltipComponentProps que pegué.\n        // Asumo que la definición completa sí tiene esas props.\n        \u003cTooltip\n          content={activeTooltip.content}\n          isLongContent={activeTooltip.isLongContent}\n          onClose={() =\u003e setActiveTooltip(null)}\n          tooltipTokens={tableTokens.tooltip}\n        /\u003e\n      )}\n    \u003c/div\u003e\n  )\n}\n// --- END OF FILE ProTable.tsx (CON AJUSTES FLEXBOX) ---\n"])</script><script>self.__next_f.push([1,"9d:T62bc,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport * as React from \"react\"\nimport { Check, ChevronDown, ChevronUp, X } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\nimport { motion, AnimatePresence } from \"framer-motion\"\nimport { useTheme } from \"@/app/theme-provider\"\nimport { generateSelectTokens } from \"@/lib/theme/components/select-tokens\"\nimport type { SelectSize, SelectVariant } from \"@/lib/theme/components/select-tokens\"\nimport type { AppColorTokens, Mode } from \"@/lib/theme/ColorToken\"\nimport { Icon } from \"@/components/ui/icon\"\nimport { Text } from \"@/components/ui/text\"\n\nexport interface SelectOption {\n  value: string\n  label: string\n  disabled?: boolean\n  description?: string\n  icon?: React.ComponentType\u003cany\u003e\n}\n\nexport interface SelectCustomProps extends Omit\u003cReact.ComponentPropsWithoutRef\u003c\"div\"\u003e, \"onChange\"\u003e {\n  options: SelectOption[]\n  value?: string | string[]\n  defaultValue?: string | string[]\n  onChange?: (value: string | string[]) =\u003e void\n  variant?: SelectVariant\n  size?: SelectSize\n  error?: string\n  hint?: string\n  label?: string\n  placeholder?: string\n  leadingIcon?: React.ComponentType\u003cany\u003e\n  trailingIcon?: React.ReactNode\n  clearable?: boolean\n  multiple?: boolean\n  disabled?: boolean\n  required?: boolean\n  name?: string\n  id?: string\n  fullWidth?: boolean\n  isEditing?: boolean\n  success?: boolean\n  successMessage?: string\n  autoFocus?: boolean\n}\n\nconst SelectCustom = React.forwardRef\u003cHTMLDivElement, SelectCustomProps\u003e(\n  (\n    {\n      options,\n      className,\n      variant = \"default\",\n      size = \"md\",\n      error,\n      hint,\n      label,\n      placeholder = \"Seleccione una opción\",\n      leadingIcon,\n      trailingIcon,\n      clearable = false,\n      multiple = false,\n      onChange,\n      value,\n      defaultValue,\n      disabled = false,\n      required = false,\n      name,\n      id,\n      fullWidth = true,\n      isEditing = false,\n      success = false,\n      successMessage,\n      autoFocus = false,\n      ...props\n    },\n    ref,\n  ) =\u003e {\n    const { appColorTokens, mode }: { appColorTokens: AppColorTokens; mode: Mode } = useTheme()\n    const selectTokens = generateSelectTokens(appColorTokens, mode)\n    const variantTokens = selectTokens.variants[variant]\n    const sizeTokens = selectTokens.sizes[size]\n\n    // Obtener el color de fondo del botón del chevron usando el nuevo token\n    const chevronBgColor = variantTokens.chevronButtonBackground\n    console.log(`Chevron button background color: ${chevronBgColor}`)\n\n    // Referencias y estados\n    const [isOpen, setIsOpen] = React.useState(false)\n    const [isFocused, setIsFocused] = React.useState(false)\n    const [initialRender, setInitialRender] = React.useState(true)\n    const [hasMounted, setHasMounted] = React.useState(false)\n    const selectRef = React.useRef\u003cHTMLDivElement\u003e(null)\n    const optionsRef = React.useRef\u003cHTMLDivElement\u003e(null)\n    const inputRef = React.useRef\u003cHTMLInputElement\u003e(null)\n\n    // Inicializa el estado para valores múltiples o único\n    const [selectedValues, setSelectedValues] = React.useState\u003cstring[]\u003e(() =\u003e {\n      if (value !== undefined) {\n        return Array.isArray(value) ? value : value ? [value] : []\n      }\n      if (defaultValue !== undefined) {\n        return Array.isArray(defaultValue) ? defaultValue : defaultValue ? [defaultValue] : []\n      }\n      return []\n    })\n\n    // Sincroniza el estado interno con las props externas\n    React.useEffect(() =\u003e {\n      if (value !== undefined) {\n        setSelectedValues(Array.isArray(value) ? value : value ? [value] : [])\n      }\n    }, [value])\n\n    // Encuentra las opciones seleccionadas para mostrar sus etiquetas\n    const selectedOptions = options.filter((option) =\u003e selectedValues.includes(option.value))\n\n    console.log(\"selectedOptions:\", selectedOptions)\n\n    // Mapear tamaños de Select a tamaños de Icon\n    const mapSelectSizeToIconSize = (selectSize: SelectSize) =\u003e {\n      switch (selectSize) {\n        case \"sm\":\n          return \"xs\"\n        case \"lg\":\n          return \"md\"\n        default:\n          return \"sm\" // md select -\u003e sm icon\n      }\n    }\n\n    const iconSize = mapSelectSizeToIconSize(size)\n\n    // Determinar si mostrar un icono y cuál\n    const hasSelectedOptionWithIcon = !multiple \u0026\u0026 selectedOptions.length \u003e 0 \u0026\u0026 !!selectedOptions[0].icon\n    const shouldShowLeadingIcon = !hasSelectedOptionWithIcon \u0026\u0026 selectedValues.length === 0 \u0026\u0026 !!leadingIcon\n\n    // No padding si no hay icono\n    const getLeadingPadding = () =\u003e {\n      if (!hasSelectedOptionWithIcon \u0026\u0026 !shouldShowLeadingIcon) return \"\"\n      switch (size) {\n        case \"sm\":\n          return \"pl-7\"\n        case \"lg\":\n          return \"pl-12\"\n        default:\n          return \"pl-10\" // md\n      }\n    }\n\n    // Definir el padding derecho basado en el tamaño del select\n    const getTrailingPadding = () =\u003e {\n      if (!hasTrailingIcon) return \"\"\n      switch (size) {\n        case \"sm\":\n          return \"pr-7\"\n        case \"lg\":\n          return \"pr-12\"\n        default:\n          return \"pr-10\" // md\n      }\n    }\n\n    // Ajustar la posición del icono según el tamaño\n    const getIconLeftPosition = () =\u003e {\n      switch (size) {\n        case \"sm\":\n          return \"left-2.5\"\n        case \"lg\":\n          return \"left-4\"\n        default:\n          return \"left-3\" // md\n      }\n    }\n\n    // Maneja el clic en una opción\n    const handleOptionClick = (optionValue: string) =\u003e {\n      if (disabled || isEditing) return\n\n      let newValues: string[]\n\n      if (multiple) {\n        // Para selección múltiple, toggle el valor\n        newValues = selectedValues.includes(optionValue)\n          ? selectedValues.filter((v) =\u003e v !== optionValue)\n          : [...selectedValues, optionValue]\n      } else {\n        // Para selección única, reemplaza el valor\n        newValues = [optionValue]\n        setIsOpen(false)\n      }\n\n      setSelectedValues(newValues)\n\n      // Notifica el cambio\n      if (multiple) {\n        onChange?.(newValues)\n      } else {\n        onChange?.(optionValue)\n      }\n\n      // Actualiza el valor del input oculto para integración con formularios\n      if (inputRef.current) {\n        inputRef.current.value = multiple ? newValues.join(\",\") : newValues[0] || \"\"\n        const event = new Event(\"change\", { bubbles: true })\n        inputRef.current.dispatchEvent(event)\n      }\n    }\n\n    // Maneja la limpieza del valor\n    const handleClear = (e: React.MouseEvent, valueToRemove?: string) =\u003e {\n      if (disabled || isEditing) return\n\n      e.preventDefault()\n      e.stopPropagation()\n\n      let newValues: string[]\n\n      if (valueToRemove \u0026\u0026 multiple) {\n        // Elimina solo un valor específico en modo múltiple\n        newValues = selectedValues.filter((v) =\u003e v !== valueToRemove)\n      } else {\n        // Limpia todos los valores\n        newValues = []\n      }\n\n      setSelectedValues(newValues)\n\n      // Notifica el cambio\n      if (multiple) {\n        onChange?.(newValues)\n      } else {\n        onChange?.(\"\")\n      }\n\n      // Actualiza el valor del input oculto\n      if (inputRef.current) {\n        inputRef.current.value = multiple ? newValues.join(\",\") : \"\"\n        const event = new Event(\"change\", { bubbles: true })\n        inputRef.current.dispatchEvent(event)\n      }\n    }\n\n    // Cierra el dropdown cuando se hace clic fuera\n    React.useEffect(() =\u003e {\n      const handleClickOutside = (event: MouseEvent) =\u003e {\n        if (\n          selectRef.current \u0026\u0026\n          !selectRef.current.contains(event.target as Node) \u0026\u0026\n          optionsRef.current \u0026\u0026\n          !optionsRef.current.contains(event.target as Node)\n        ) {\n          setIsOpen(false)\n          setIsFocused(false) // Asegurarse de quitar el foco cuando se hace clic fuera\n        }\n      }\n\n      document.addEventListener(\"mousedown\", handleClickOutside)\n      return () =\u003e {\n        document.removeEventListener(\"mousedown\", handleClickOutside)\n      }\n    }, [id, isOpen])\n\n    // Maneja la navegación con teclado\n    const handleKeyDown = (e: React.KeyboardEvent) =\u003e {\n      if (disabled || isEditing) return\n\n      switch (e.key) {\n        case \"Enter\":\n        case \" \":\n          e.preventDefault()\n          setIsOpen(!isOpen)\n          break\n        case \"Escape\":\n          e.preventDefault()\n          setIsOpen(false)\n          break\n        case \"ArrowDown\":\n          e.preventDefault()\n          if (!isOpen) {\n            setIsOpen(true)\n          } else if (!multiple) {\n            // Navegar a la siguiente opción (solo en modo único)\n            const currentIndex =\n              selectedValues.length \u003e 0 ? options.findIndex((opt) =\u003e opt.value === selectedValues[0]) : -1\n            const nextIndex = (currentIndex + 1) % options.length\n            const nextOption = options[nextIndex]\n            if (nextOption \u0026\u0026 !nextOption.disabled) {\n              handleOptionClick(nextOption.value)\n            }\n          }\n          break\n        case \"ArrowUp\":\n          e.preventDefault()\n          if (!isOpen) {\n            setIsOpen(true)\n          } else if (!multiple) {\n            // Navegar a la opción anterior (solo en modo único)\n            const currentIndex =\n              selectedValues.length \u003e 0 ? options.findIndex((opt) =\u003e opt.value === selectedValues[0]) : options.length\n            const prevIndex = (currentIndex - 1 + options.length) % options.length\n            const prevOption = options[prevIndex]\n            if (prevOption \u0026\u0026 !prevOption.disabled) {\n              handleOptionClick(prevOption.value)\n            }\n          }\n          break\n      }\n    }\n\n    // Obtener el color de borde basado en el estado\n    const getBorderColor = () =\u003e {\n      if (disabled) return variantTokens.disabledBorder\n      if (error) return variantTokens.errorBorder\n      if (success) return variantTokens.successBorder\n      if (isFocused || isOpen) return variantTokens.focusBorder\n      return variantTokens.border\n    }\n\n    // Obtener el color de fondo basado en el estado\n    const getBackgroundColor = () =\u003e {\n      if (disabled) return variantTokens.disabledBackground\n      if (error) return variantTokens.errorBackground\n      if (success) return variantTokens.successBackground\n      if (isEditing) return variantTokens.editingBackground\n      return variantTokens.background\n    }\n\n    // Obtener el color del texto basado en el estado\n    const getTextColor = () =\u003e {\n      if (disabled) return variantTokens.disabledText\n      return variantTokens.text\n    }\n\n    // Variantes de animación para el dropdown\n    const dropdownVariants = {\n      hidden: {\n        opacity: 0,\n        y: -5,\n        scale: 0.98,\n        transition: {\n          duration: 0.15,\n          ease: \"easeInOut\",\n        },\n      },\n      visible: {\n        opacity: 1,\n        y: 0,\n        scale: 1,\n        transition: {\n          duration: 0.2,\n          ease: \"easeOut\",\n        },\n      },\n    }\n\n    // Variantes de animación para las opciones (efecto cascada)\n    const optionVariants = {\n      hidden: { opacity: 0, y: -5 },\n      visible: (i: number) =\u003e ({\n        opacity: 1,\n        y: 0,\n        transition: {\n          delay: i * 0.03,\n          duration: 0.2,\n          ease: \"easeOut\",\n        },\n      }),\n    }\n\n    const hasTrailingIcon = !!trailingIcon || (selectedValues.length \u003e 0 \u0026\u0026 clearable) || !!error || success\n\n    // Marcar como montado después del primer render\n    React.useEffect(() =\u003e {\n      setHasMounted(true)\n    }, [])\n\n    // Asegurarse de que el componente no comience con foco a menos que se especifique\n    React.useEffect(() =\u003e {\n      if (initialRender \u0026\u0026 hasMounted) {\n        setInitialRender(false)\n        if (autoFocus \u0026\u0026 selectRef.current) {\n          selectRef.current.focus()\n          setIsFocused(true)\n        } else {\n          setIsFocused(false)\n        }\n      }\n    }, [autoFocus, id, initialRender, hasMounted])\n\n    return (\n      \u003cdiv className={cn(\"relative\", fullWidth ? \"w-full\" : \"w-auto\", className)} ref={ref} {...props}\u003e\n        {/* Label */}\n        {label \u0026\u0026 (\n          \u003cText\n            variant=\"label\"\n            color={isFocused ? (variant === \"default\" ? \"primary\" : variant) : \"neutral\"}\n            colorVariant={isFocused ? \"pure\" : \"text\"}\n            className={cn(\n              \"mb-1.5\",\n              required \u0026\u0026 \"after:content-['*'] after:ml-0.5 after:text-destructive\",\n              error \u0026\u0026 \"text-destructive\",\n              disabled \u0026\u0026 \"opacity-70\",\n            )}\n          \u003e\n            {label}\n          \u003c/Text\u003e\n        )}\n\n        {/* Select container */}\n        \u003cdiv\n          ref={selectRef}\n          style={{\n            backgroundColor: getBackgroundColor(),\n            borderColor: getBorderColor(),\n            color: getTextColor(),\n            boxShadow:\n              isFocused || isOpen\n                ? `0 0 0 4px ${\n                    error ? variantTokens.errorRing : success ? variantTokens.successRing : variantTokens.focusRing\n                  }`\n                : \"0 0 0 1px rgba(176,190,217,0.2), 0 1px 2px rgba(176,190,217,0.2)\",\n          }}\n          className={cn(\n            \"relative rounded-md border transition-all duration-200\",\n            \"shadow-[0_0_0_1px_rgba(176,190,217,0.2),0_1px_2px_rgba(176,190,217,0.2)]\",\n            sizeTokens.height,\n            sizeTokens.fontSize,\n            !hasSelectedOptionWithIcon \u0026\u0026 !shouldShowLeadingIcon ? sizeTokens.paddingX : \"pr-3\",\n            sizeTokens.paddingY,\n            getLeadingPadding(),\n            getTrailingPadding(),\n            {\n              \"cursor-not-allowed\": disabled,\n              \"pointer-events-none\": isEditing,\n            },\n          )}\n          tabIndex={disabled || isEditing ? -1 : 0}\n          onKeyDown={handleKeyDown}\n          onFocus={() =\u003e {\n            setIsFocused(true)\n          }}\n          onBlur={(e) =\u003e {\n            setIsFocused(false)\n          }}\n          onClick={() =\u003e {\n            if (!disabled \u0026\u0026 !isEditing) {\n              setIsOpen(!isOpen)\n              setIsFocused(true)\n            }\n          }}\n          onMouseEnter={(e) =\u003e {\n            if (!disabled \u0026\u0026 !isEditing) {\n              e.currentTarget.style.borderColor = variantTokens.hoverBorder\n            }\n          }}\n          onMouseLeave={(e) =\u003e {\n            if (!disabled \u0026\u0026 !isEditing \u0026\u0026 !isFocused \u0026\u0026 !isOpen) {\n              e.currentTarget.style.borderColor = getBorderColor()\n            }\n          }}\n          aria-expanded={isOpen}\n          aria-haspopup=\"listbox\"\n          aria-disabled={disabled || isEditing}\n          role=\"combobox\"\n        \u003e\n          {/* Icono principal - solo uno o ninguno */}\n          {hasSelectedOptionWithIcon \u0026\u0026 selectedOptions[0].icon \u0026\u0026 (\n            \u003cdiv\n              className={`absolute ${getIconLeftPosition()} top-0 h-full flex items-center`}\n              style={{\n                color: disabled ? variantTokens.disabledText : variantTokens.iconColor,\n              }}\n            \u003e\n              \u003cIcon size={iconSize} color={variant === \"default\" ? \"primary\" : variant} colorVariant=\"text\"\u003e\n                {selectedOptions[0].icon \u0026\u0026 React.createElement(selectedOptions[0].icon)}\n              \u003c/Icon\u003e\n            \u003c/div\u003e\n          )}\n\n          {/* Icono por defecto - solo si no hay selección */}\n          {shouldShowLeadingIcon \u0026\u0026 leadingIcon \u0026\u0026 (\n            \u003cdiv\n              className={`absolute ${getIconLeftPosition()} top-0 h-full flex items-center`}\n              style={{\n                color: disabled ? variantTokens.disabledText : variantTokens.iconColor,\n              }}\n            \u003e\n              \u003cIcon size={iconSize} color={variant === \"default\" ? \"primary\" : variant} colorVariant=\"text\"\u003e\n                {leadingIcon \u0026\u0026 React.createElement(leadingIcon)}\n              \u003c/Icon\u003e\n            \u003c/div\u003e\n          )}\n\n          {/* Selected values or placeholder */}\n          \u003cdiv className=\"flex-1 flex flex-wrap gap-1 items-center\"\u003e\n            {selectedOptions.length \u003e 0 ? (\n              multiple ? (\n                // Mostrar múltiples valores como chips\n                selectedOptions.map((option) =\u003e (\n                  \u003cdiv\n                    key={option.value}\n                    style={{\n                      backgroundColor: variantTokens.optionSelectedBackground,\n                    }}\n                    className=\"rounded-md px-2 py-0.5 flex items-center gap-1 max-w-[calc(100%-8px)]\"\n                  \u003e\n                    {option.icon \u0026\u0026 (\n                      \u003cspan className=\"flex-shrink-0\"\u003e\n                        \u003cIcon size={iconSize}\u003e{React.createElement(option.icon)}\u003c/Icon\u003e\n                      \u003c/span\u003e\n                    )}\n                    \u003cspan className=\"truncate\"\u003e{option.label}\u003c/span\u003e\n                    {clearable \u0026\u0026 (\n                      \u003cbutton\n                        type=\"button\"\n                        onClick={(e) =\u003e handleClear(e, option.value)}\n                        className=\"cursor-pointer flex-shrink-0 p-0.5 rounded-full hover:bg-gray-100\"\n                        aria-label={`Remove ${option.label}`}\n                      \u003e\n                        \u003cIcon size=\"xs\"\u003e{React.createElement(X)}\u003c/Icon\u003e\n                      \u003c/button\u003e\n                    )}\n                  \u003c/div\u003e\n                ))\n              ) : (\n                // Mostrar un solo valor (sin icono aquí, ya que se muestra arriba)\n                \u003cdiv className=\"flex items-center gap-2 max-w-full\"\u003e\n                  \u003cspan className=\"truncate\"\u003e{selectedOptions[0].label}\u003c/span\u003e\n                \u003c/div\u003e\n              )\n            ) : (\n              \u003cspan style={{ color: variantTokens.placeholder }}\u003e{placeholder}\u003c/span\u003e\n            )}\n          \u003c/div\u003e\n\n          {/* Trailing icons */}\n          \u003cdiv className=\"absolute right-1 top-0 h-full flex items-center gap-2\"\u003e\n            {/* Clear button */}\n            {clearable \u0026\u0026 selectedValues.length \u003e 0 \u0026\u0026 !disabled \u0026\u0026 !isEditing \u0026\u0026 (\n              \u003cbutton\n                type=\"button\"\n                onClick={handleClear}\n                className=\"rounded-full p-0.5 hover:bg-muted hover:text-foreground transition-colors flex items-center justify-center\"\n                aria-label=\"Limpiar\"\n              \u003e\n                \u003cIcon size={iconSize}\u003e{React.createElement(X)}\u003c/Icon\u003e\n              \u003c/button\u003e\n            )}\n\n            {/* Dropdown icon */}\n            \u003cdiv\n              className=\"flex items-center justify-center\"\n              style={{\n                color: disabled ? variantTokens.disabledText : variantTokens.iconColor,\n              }}\n            \u003e\n              \u003cdiv\n                className=\"p-1 rounded transition-colors duration-200\"\n                style={{\n                  backgroundColor: chevronBgColor, // Usar el nuevo token para el fondo del botón del chevron\n                }}\n              \u003e\n                \u003cAnimatePresence initial={false} mode=\"wait\"\u003e\n                  {isOpen ? (\n                    \u003cmotion.div\n                      key=\"up\"\n                      initial={{ opacity: 0, rotate: 180, scale: 0.8 }}\n                      animate={{ opacity: 1, rotate: 0, scale: 1 }}\n                      exit={{ opacity: 0, rotate: 180, scale: 0.8 }}\n                      transition={{ duration: 0.2 }}\n                    \u003e\n                      \u003cIcon size={iconSize} color={variant === \"default\" ? \"primary\" : variant} colorVariant=\"pure\"\u003e\n                        {React.createElement(ChevronUp)}\n                      \u003c/Icon\u003e\n                    \u003c/motion.div\u003e\n                  ) : (\n                    \u003cmotion.div\n                      key=\"down\"\n                      initial={{ opacity: 0, rotate: -180, scale: 0.8 }}\n                      animate={{ opacity: 1, rotate: 0, scale: 1 }}\n                      exit={{ opacity: 0, rotate: -180, scale: 0.8 }}\n                      transition={{ duration: 0.2 }}\n                    \u003e\n                      \u003cIcon size={iconSize} color={variant === \"default\" ? \"primary\" : variant} colorVariant=\"pure\"\u003e\n                        {React.createElement(ChevronDown)}\n                      \u003c/Icon\u003e\n                    \u003c/motion.div\u003e\n                  )}\n                \u003c/AnimatePresence\u003e\n              \u003c/div\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n\n          {/* Hidden input for form integration */}\n          \u003cinput\n            ref={inputRef}\n            type=\"hidden\"\n            name={name}\n            id={id ? `${id}-input` : undefined}\n            value={multiple ? selectedValues.join(\",\") : selectedValues[0] || \"\"}\n            required={required}\n            disabled={disabled}\n            aria-hidden=\"true\"\n          /\u003e\n        \u003c/div\u003e\n\n        {/* Dropdown options with animation */}\n        \u003cAnimatePresence\u003e\n          {isOpen \u0026\u0026 (\n            \u003cmotion.div\n              ref={optionsRef}\n              style={{\n                backgroundColor: variantTokens.dropdownBackground,\n                borderColor: variantTokens.dropdownBorder,\n                maxHeight: sizeTokens.dropdownMaxHeight.replace(\"max-h-\", \"\"),\n              }}\n              className=\"absolute z-50 mt-1 w-full rounded-md border shadow-md overflow-auto\"\n              role=\"listbox\"\n              aria-multiselectable={multiple}\n              initial=\"hidden\"\n              animate=\"visible\"\n              exit=\"hidden\"\n              variants={dropdownVariants}\n            \u003e\n              \u003cdiv className=\"py-1\"\u003e\n                {options.map((option, index) =\u003e {\n                  const isSelected = selectedValues.includes(option.value)\n                  return (\n                    \u003cmotion.div\n                      key={option.value}\n                      custom={index}\n                      variants={optionVariants}\n                      style={{\n                        backgroundColor: isSelected ? variantTokens.optionSelectedBackground : \"transparent\",\n                        color: isSelected ? variantTokens.optionSelectedText : variantTokens.optionText,\n                      }}\n                      className={cn(\n                        \"px-3 py-2 text-sm flex items-center cursor-pointer transition-colors\",\n                        option.disabled \u0026\u0026 \"opacity-50 cursor-not-allowed pointer-events-none\",\n                      )}\n                      onClick={() =\u003e !option.disabled \u0026\u0026 handleOptionClick(option.value)}\n                      role=\"option\"\n                      aria-selected={isSelected}\n                      aria-disabled={option.disabled}\n                      onMouseEnter={(e) =\u003e {\n                        if (!option.disabled) {\n                          e.currentTarget.style.backgroundColor = variantTokens.optionHoverBackground\n                        }\n                      }}\n                      onMouseLeave={(e) =\u003e {\n                        if (!option.disabled) {\n                          e.currentTarget.style.backgroundColor = isSelected\n                            ? variantTokens.optionSelectedBackground\n                            : \"transparent\"\n                        }\n                      }}\n                    \u003e\n                      \u003cdiv className=\"flex-1 flex items-center\"\u003e\n                        {option.icon \u0026\u0026 (\n                          \u003cspan className=\"mr-2 flex items-center\"\u003e\n                            \u003cIcon size={iconSize}\u003e{React.createElement(option.icon)}\u003c/Icon\u003e\n                          \u003c/span\u003e\n                        )}\n                        \u003cdiv\u003e\n                          \u003cdiv className=\"font-medium\"\u003e{option.label}\u003c/div\u003e\n                          {option.description \u0026\u0026 (\n                            \u003cdiv className=\"text-xs\" style={{ color: variantTokens.placeholder }}\u003e\n                              {option.description}\n                            \u003c/div\u003e\n                          )}\n                        \u003c/div\u003e\n                      \u003c/div\u003e\n                      {isSelected \u0026\u0026 (\n                        \u003cmotion.div\n                          initial={{ scale: 0.5, opacity: 0 }}\n                          animate={{ scale: 1, opacity: 1 }}\n                          transition={{ duration: 0.2 }}\n                        \u003e\n                          \u003cIcon\n                            size={iconSize}\n                            color={variant === \"default\" ? \"primary\" : variant}\n                            className=\"ml-2 flex-shrink-0\"\n                          \u003e\n                            {React.createElement(Check)}\n                          \u003c/Icon\u003e\n                        \u003c/motion.div\u003e\n                      )}\n                    \u003c/motion.div\u003e\n                  )\n                })}\n              \u003c/div\u003e\n            \u003c/motion.div\u003e\n          )}\n        \u003c/AnimatePresence\u003e\n\n        {/* Error message */}\n        {error \u0026\u0026 (\n          \u003cText variant=\"caption\" color=\"danger\" className=\"mt-1.5\"\u003e\n            {error}\n          \u003c/Text\u003e\n        )}\n\n        {/* Success message */}\n        {success \u0026\u0026 successMessage \u0026\u0026 !error \u0026\u0026 (\n          \u003cText variant=\"caption\" color=\"success\" className=\"mt-1.5\"\u003e\n            {successMessage}\n          \u003c/Text\u003e\n        )}\n\n        {/* Hint text */}\n        {hint \u0026\u0026 !(error || (success \u0026\u0026 successMessage)) \u0026\u0026 (\n          \u003cText variant=\"caption\" color=\"neutral\" className=\"mt-1.5\"\u003e\n            {hint}\n          \u003c/Text\u003e\n        )}\n      \u003c/div\u003e\n    )\n  },\n)\n\nSelectCustom.displayName = \"SelectCustom\"\n\nexport { SelectCustom }\n"])</script><script>self.__next_f.push([1,"9e:T69e,\"use client\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Text } from \"@/components/ui/text\"\nimport type { TextProps } from \"@/components/ui/text\"\nimport type { ReactNode } from \"react\"\n\nexport type ShipVariant = \"success\" | \"warning\" | \"error\" | \"info\" | \"neutral\" | \"primary\" | \"secondary\"\n\nexport interface ShipProps {\n  variant?: ShipVariant\n  children: ReactNode\n  className?: string\n  textProps?: Omit\u003cTextProps, \"children\"\u003e\n}\n\nexport function Ship({ variant = \"neutral\", children, className, textProps }: ShipProps) {\n  // Configuración de estilos según la variante\n  const variantStyles: Record\u003cShipVariant, { bg: string; textColor: string; textColorVariant: string }\u003e = {\n    success: { bg: \"bg-green-100\", textColor: \"success\", textColorVariant: \"dark\" },\n    warning: { bg: \"bg-amber-100\", textColor: \"warning\", textColorVariant: \"dark\" },\n    error: { bg: \"bg-red-100\", textColor: \"error\", textColorVariant: \"dark\" },\n    info: { bg: \"bg-blue-100\", textColor: \"info\", textColorVariant: \"dark\" },\n    neutral: { bg: \"bg-gray-100\", textColor: \"neutral\", textColorVariant: \"dark\" },\n    primary: { bg: \"bg-primary-100\", textColor: \"primary\", textColorVariant: \"dark\" },\n    secondary: { bg: \"bg-secondary-100\", textColor: \"secundary\", textColorVariant: \"dark\" },\n  }\n\n  const { bg, textColor, textColorVariant } = variantStyles[variant]\n\n  return (\n    \u003cspan className={cn(bg, \"px-2.5 py-0.5 rounded-full inline-flex items-center\", className)}\u003e\n      \u003cText\n        size=\"xs\"\n        weight=\"medium\"\n        fontType=\"body\"\n        color={textColor as any}\n        colorVariant={textColorVariant as any}\n        {...textProps}\n      \u003e\n        {children}\n      \u003c/Text\u003e\n    \u003c/span\u003e\n  )\n}\n9f:T737,\"use client\"\n\nimport Link from \"next/link\"\nimport { usePathname } from \"next/navigation\"\nimport { cn } from \"@/lib/utils\"\nimport type { LucideIcon } from \"lucide-react\"\nimport { Text } from \"@/components/ui/text\"\n\ninterface SidebarNavItem {\n  title: string\n  href: string\n  icon?: LucideIcon\n  disabled?: boolean\n}\n\ninterface SidebarNavPr"])</script><script>self.__next_f.push([1,"ops {\n  items: SidebarNavItem[]\n  className?: string\n}\n\nexport function SidebarNav({ items, className }: SidebarNavProps) {\n  const pathname = usePathname() || \"\"\n\n  return (\n    \u003cnav className={cn(\"flex flex-col space-y-1\", className)}\u003e\n      {items.map((item) =\u003e {\n        const Icon = item.icon\n        const isActive = pathname === item.href || (pathname \u0026\u0026 pathname.startsWith(`${item.href}/`))\n\n        if (item.disabled) {\n          return (\n            \u003cdiv\n              key={item.href}\n              className=\"flex items-center px-3 py-2 text-sm font-medium rounded-md opacity-70 cursor-not-allowed\"\n            \u003e\n              {Icon \u0026\u0026 \u003cIcon className=\"w-5 h-5 mr-2\" /\u003e}\n              \u003cText variant=\"muted\"\u003e{item.title}\u003c/Text\u003e\n            \u003c/div\u003e\n          )\n        }\n\n        return (\n          \u003cLink\n            key={item.href}\n            href={item.href}\n            className={cn(\n              \"flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors\",\n              isActive\n                ? \"bg-primary/10 text-primary hover:bg-primary/15\"\n                : \"hover:bg-accent hover:text-accent-foreground\",\n            )}\n          \u003e\n            {Icon \u0026\u0026 \u003cIcon className={cn(\"w-5 h-5 mr-2\", isActive ? \"text-primary\" : \"text-foreground/70\")} /\u003e}\n            \u003cText variant={isActive ? \"subtitle\" : \"default\"} className={cn(isActive ? \"font-medium\" : \"font-normal\")}\u003e\n              {item.title}\n            \u003c/Text\u003e\n          \u003c/Link\u003e\n        )\n      })}\n    \u003c/nav\u003e\n  )\n}\na0:T272a,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useEffect, useMemo, useState } from \"react\"\nimport { SustratoLogo } from \"./sustrato-logo\"\nimport { cn } from \"@/lib/utils\"\nimport { useTheme } from \"@/app/theme-provider\"\nimport { generateSustratoLoadingLogoTokens } from \"@/lib/theme/components/sustrato-loading-logo-tokens\"\n\ninterface SustratoLoadingLogoProps {\n  size?: number\n  variant?: \"spin\" | \"pulse\" | \"spin-pulse\" | \"dash\" | \"progress\"\n  speed?: \"slow\" | \"normal\" | \"fast\"\n  className?: string\n  primaryColor?: string\n  secondaryColor?: string\n  accentColor?: string\n  showText?: boolean\n  text?: string\n  breathingEffect?: boolean\n  colorTransition?: boolean\n}\n\nexport function SustratoLoadingLogo({\n  size = 48,\n  variant = \"spin\",\n  speed = \"normal\",\n  className = \"\",\n  primaryColor,\n  secondaryColor,\n  accentColor,\n  showText = false,\n  text = \"Cargando...\",\n  breathingEffect = true,\n  colorTransition = true,\n}: SustratoLoadingLogoProps) {\n  const { appColorTokens, mode } = useTheme()\n  const [progress, setProgress] = useState(0)\n  const [colorPhase, setColorPhase] = useState(0)\n\n  // Generate component-specific tokens\n  const componentTokens = useMemo(() =\u003e {\n    return appColorTokens ? generateSustratoLoadingLogoTokens(appColorTokens, mode) : null\n  }, [appColorTokens, mode])\n\n  // Use generated tokens with overrides\n  const actualPrimaryColor = primaryColor || componentTokens?.colors?.primary?.pure || \"currentColor\"\n  const actualSecondaryColor = secondaryColor || componentTokens?.colors?.secondary?.pure || \"transparent\"\n  const actualPrimaryTextColor = componentTokens?.colors?.primary?.text || \"currentColor\"\n\n  // Determinar la duración de la animación según la velocidad\n  const getDuration = () =\u003e {\n    switch (speed) {\n      case \"slow\":\n        return \"3s\"\n      case \"fast\":\n        return \"1s\"\n      case \"normal\":\n      default:\n        return \"2s\"\n    }\n  }\n\n  // Efecto para la animación de progreso\n  useEffect(() =\u003e {\n    if (variant === \"progress\") {\n      const interval = setInterval(() =\u003e {\n        setProgress((prev) =\u003e {\n          const next = prev + 1\n          return next \u003e 100 ? 0 : next\n        })\n      }, 30)\n      return () =\u003e clearInterval(interval)\n    }\n  }, [variant])\n\n  // Efecto para la transición de color\n  useEffect(() =\u003e {\n    if (colorTransition) {\n      const interval = setInterval(() =\u003e {\n        setColorPhase((prev) =\u003e (prev + 1) % 100)\n      }, 50)\n      return () =\u003e clearInterval(interval)\n    }\n  }, [colorTransition])\n\n  // Get accent colors from generated tokens\n  const accentColors = useMemo(\n    () =\u003e ({\n      bg: componentTokens?.colors?.accent?.bg || \"#e0b7ff\",\n      pure: componentTokens?.colors?.accent?.pure || \"#9333ea\",\n      text: componentTokens?.colors?.accent?.text || \"#6b21a8\",\n      dark: componentTokens?.colors?.accent.textShade || \"#581c87\",\n    }),\n    [componentTokens],\n  )\n\n  // Función para interpolar entre colores\n  const interpolateColor = (color1: string, color2: string, factor: number) =\u003e {\n    // Convertir colores hex a RGB\n    const hex1 = color1.replace(\"#\", \"\")\n    const hex2 = color2.replace(\"#\", \"\")\n\n    const r1 = Number.parseInt(hex1.substring(0, 2), 16)\n    const g1 = Number.parseInt(hex1.substring(2, 4), 16)\n    const b1 = Number.parseInt(hex1.substring(4, 6), 16)\n\n    const r2 = Number.parseInt(hex2.substring(0, 2), 16)\n    const g2 = Number.parseInt(hex2.substring(2, 4), 16)\n    const b2 = Number.parseInt(hex2.substring(4, 6), 16)\n\n    // Interpolar\n    const r = Math.round(r1 + factor * (r2 - r1))\n    const g = Math.round(g1 + factor * (g2 - g1))\n    const b = Math.round(b1 + factor * (b2 - b1))\n\n    // Convertir de vuelta a hex\n    return `#${r.toString(16).padStart(2, \"0\")}${g.toString(16).padStart(2, \"0\")}${b.toString(16).padStart(2, \"0\")}`\n  }\n\n  // Calcular el color actual basado en la fase\n  const getCurrentAccentColor = () =\u003e {\n    const phase = colorPhase / 100\n\n    if (phase \u003c 0.33) {\n      // De bg a pure\n      return interpolateColor(accentColors.bg, accentColors.pure, phase * 3)\n    } else if (phase \u003c 0.66) {\n      // De pure a text\n      return interpolateColor(accentColors.pure, accentColors.text, (phase - 0.33) * 3)\n    } else {\n      // De text a dark y de vuelta a bg\n      const subPhase = (phase - 0.66) * 3\n      if (subPhase \u003c 0.5) {\n        return interpolateColor(accentColors.text, accentColors.dark, subPhase * 2)\n      } else {\n        return interpolateColor(accentColors.dark, accentColors.bg, (subPhase - 0.5) * 2)\n      }\n    }\n  }\n\n  // Clases para las diferentes animaciones\n  const animationClasses = {\n    spin: \"animate-spin\",\n    pulse: \"animate-pulse\",\n    \"spin-pulse\": \"animate-spin-pulse\",\n    dash: \"animate-dash\",\n    progress: \"\",\n  }\n\n  // Estilos para la animación de progreso\n  const progressStyle =\n    variant === \"progress\"\n      ? {\n          strokeDasharray: 283, // Aproximadamente 2 * PI * 45 (circunferencia del círculo)\n          strokeDashoffset: 283 - (283 * progress) / 100,\n        }\n      : {}\n\n  // Estilos para la animación de dash\n  const dashStyle =\n    variant === \"dash\"\n      ? {\n          strokeDasharray: \"90 150\",\n        }\n      : {}\n\n  // Definir la animación de spin-pulse si es necesario\n  const spinPulseStyle = `\n    @keyframes spin-pulse {\n      0% {\n        transform: rotate(0deg) scale(0.95);\n      }\n      50% {\n        transform: rotate(180deg) scale(1.05);\n      }\n      100% {\n        transform: rotate(360deg) scale(0.95);\n      }\n    }\n    .animate-spin-pulse {\n      animation: spin-pulse ${getDuration()} infinite linear;\n    }\n  `\n\n  // Definir la animación de dash si es necesario\n  const dashAnimationStyle = `\n    @keyframes dash {\n      0% {\n        stroke-dashoffset: 283;\n      }\n      50% {\n        stroke-dashoffset: 0;\n      }\n      100% {\n        stroke-dashoffset: -283;\n      }\n    }\n    .animate-dash {\n      animation: dash ${getDuration()} infinite linear;\n    }\n  `\n\n  // Definir la animación de respiración para el círculo interior\n  const breathingAnimationStyle = `\n    @keyframes breathing {\n      0% {\n        transform: scale(0.85);\n      }\n      50% {\n        transform: scale(1.15);\n      }\n      100% {\n        transform: scale(0.85);\n      }\n    }\n    .animate-breathing {\n      animation: breathing ${getDuration()} infinite ease-in-out;\n    }\n  `\n\n  // Get the current inner circle color using tokens or override\n  const innerCircleColor = colorTransition\n    ? getCurrentAccentColor()\n    : accentColor || componentTokens?.colors?.accent?.pure || \"currentColor\"\n\n  // Clase para la animación de respiración\n  const breathingClass = breathingEffect ? \"animate-breathing\" : \"\"\n\n  return (\n    \u003cdiv className=\"flex flex-col items-center justify-center\"\u003e\n      {/* Estilos para las animaciones personalizadas */}\n      \u003cstyle jsx global\u003e\n        {`\n          ${variant === \"spin-pulse\" ? spinPulseStyle : \"\"}\n          ${variant === \"dash\" ? dashAnimationStyle : \"\"}\n          ${breathingEffect ? breathingAnimationStyle : \"\"}\n        `}\n      \u003c/style\u003e\n\n      {/* Versión personalizada del logo para animaciones */}\n      {variant === \"dash\" || variant === \"progress\" ? (\n        \u003cdiv className={cn(\"relative\", className)}\u003e\n          {/* Círculo de fondo */}\n          \u003csvg\n            width={size}\n            height={size}\n            viewBox=\"0 0 100 100\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"opacity-30\"\n          \u003e\n            \u003ccircle cx=\"50\" cy=\"50\" r=\"45\" stroke={actualPrimaryColor} strokeWidth=\"6\" fill=\"none\" /\u003e\n          \u003c/svg\u003e\n\n          {/* Círculo animado */}\n          \u003csvg\n            width={size}\n            height={size}\n            viewBox=\"0 0 100 100\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className={cn(\"absolute top-0 left-0\", animationClasses[variant])}\n          \u003e\n            \u003ccircle\n              cx=\"50\"\n              cy=\"50\"\n              r=\"45\"\n              stroke={actualPrimaryColor}\n              strokeWidth=\"6\"\n              fill=\"none\"\n              strokeLinecap=\"round\"\n              style={{ ...progressStyle, ...dashStyle }}\n              transform=\"rotate(-90 50 50)\"\n            /\u003e\n          \u003c/svg\u003e\n\n          {/* Punto central con efecto de respiración y transición de color */}\n          \u003csvg\n            width={size}\n            height={size}\n            viewBox=\"0 0 100 100\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"absolute top-0 left-0\"\n          \u003e\n            \u003ccircle\n              cx=\"50\"\n              cy=\"50\"\n              r=\"12\"\n              fill={innerCircleColor}\n              className={breathingClass}\n              style={{ transformOrigin: \"center\" }}\n            /\u003e\n          \u003c/svg\u003e\n        \u003c/div\u003e\n      ) : (\n        \u003cdiv className={cn(animationClasses[variant], className)}\u003e\n          {/* Logo estándar con punto central personalizado */}\n          \u003cdiv className=\"relative\"\u003e\n            \u003cSustratoLogo\n              size={size}\n              primaryColor={actualPrimaryColor}\n              secondaryColor={actualSecondaryColor}\n              accentColor=\"transparent\"\n            /\u003e\n\n            {/* Punto central personalizado con efecto de respiración y transición de color */}\n            \u003csvg\n              width={size}\n              height={size}\n              viewBox=\"0 0 100 100\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"absolute top-0 left-0\"\n            \u003e\n              \u003ccircle\n                cx=\"50\"\n                cy=\"50\"\n                r=\"12\"\n                fill={innerCircleColor}\n                className={breathingClass}\n                style={{ transformOrigin: \"center\" }}\n              /\u003e\n            \u003c/svg\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      )}\n\n      {/* Texto de carga opcional */}\n      {showText \u0026\u0026 (\n        \u003cp className=\"mt-3 text-sm font-medium\" style={{ color: actualPrimaryTextColor }}\u003e\n          {text}\n        \u003c/p\u003e\n      )}\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"a1:T3d82,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useTheme } from \"@/app/theme-provider\"\nimport { motion } from \"framer-motion\"\nimport { useEffect, useState } from \"react\"\n\nexport function SustratoLogoReactive({\n  className = \"\",\n  size = 65,\n  animate = true,\n  speed = \"normal\",\n}: {\n  className?: string\n  size?: number\n  animate?: boolean\n  speed?: \"slow\" | \"normal\" | \"fast\"\n}) {\n  const { colorScheme, mode } = useTheme()\n  const [logoColors, setLogoColors] = useState({\n    primary: \"#3D7DF6\", // Blue theme primary por defecto\n    accent: \"#8A4EF6\", // Accent color (centro púrpura)\n  })\n\n  // Definición de colores por tema\n  const themeColors = {\n    blue: {\n      primary: mode === \"dark\" ? \"#2E5EB9\" : \"#3D7DF6\",\n      secondary: mode === \"dark\" ? \"#1EA4E9\" : \"#516e99\",\n    },\n    green: {\n      primary: mode === \"dark\" ? \"#1c8e63\" : \"#24BC81\",\n      secondary: mode === \"dark\" ? \"#2CA18F\" : \"#3AD7BF\",\n    },\n    orange: {\n      primary: mode === \"dark\" ? \"#B95413\" : \"#F77019\",\n      secondary: mode === \"dark\" ? \"#6D2F0B\" : \"#913E0F\",\n    },\n  }\n\n  // Establecer la duración de la transición según la velocidad\n  const getTransitionDuration = () =\u003e {\n    switch (speed) {\n      case \"slow\":\n        return 1.5\n      case \"fast\":\n        return 0.5\n      default:\n        return 0.8\n    }\n  }\n\n  // Actualizar los colores cuando cambie el tema\n  useEffect(() =\u003e {\n    const currentTheme = (colorScheme as keyof typeof themeColors) || \"blue\"\n\n    setLogoColors({\n      primary: themeColors[currentTheme].primary,\n      accent: \"#8A4EF6\", // Siempre mantener el centro púrpura\n    })\n  }, [colorScheme, mode])\n\n  // Configuraciones para la animación\n  const transitionDuration = getTransitionDuration()\n  const transitionSettings = {\n    type: \"tween\",\n    duration: transitionDuration,\n    ease: \"easeInOut\",\n  }\n\n  // Configuración para el gradiente dinámico del círculo exterior\n  const gradientTransition = {\n    rotate: animate ? [0, 360] : 0,\n    transition: animate\n      ? {\n          rotate: {\n            repeat: Number.POSITIVE_INFINITY,\n            duration: speed === \"slow\" ? 12 : speed === \"fast\" ? 6 : 9,\n            ease: \"linear\",\n          },\n        }\n      : {},\n  }\n\n  // Obtener color secundario para el gradiente\n  const secondaryColor = themeColors[(colorScheme as keyof typeof themeColors) || \"blue\"].secondary\n\n  return (\n    \u003cdiv className={className} style={{ width: size, height: size }}\u003e\n      \u003cmotion.svg\n        width={size}\n        height={size}\n        viewBox=\"0 0 65 65\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        initial={{ opacity: 0, scale: 0.9 }}\n        animate={{ opacity: 1, scale: 1 }}\n        transition={{ duration: 0.5 }}\n      \u003e\n        {/* Definición del gradiente rotativo */}\n        \u003cmotion.defs animate={gradientTransition}\u003e\n          \u003clinearGradient id=\"logoGradient\" gradientTransform=\"rotate(0)\"\u003e\n            \u003cstop offset=\"0%\" stopColor={logoColors.primary} /\u003e\n            \u003cstop offset=\"100%\" stopColor={secondaryColor} /\u003e\n          \u003c/linearGradient\u003e\n        \u003c/motion.defs\u003e\n\n        {/* Círculo del centro (púrpura) */}\n        \u003cmotion.circle\n          cx=\"32.5\"\n          cy=\"32.5\"\n          r=\"7.76035\"\n          fill={logoColors.accent}\n          initial={{ scale: 0.8, opacity: 0.5 }}\n          animate={{ scale: 1, opacity: 1 }}\n          transition={{ duration: 0.7, delay: 0.2 }}\n        /\u003e\n\n        {/* Círculo exterior principal */}\n        \u003cmask id=\"path-2-outside-1\" maskUnits=\"userSpaceOnUse\" x=\"0\" y=\"0\" width=\"65\" height=\"65\" fill=\"black\"\u003e\n          \u003crect fill=\"white\" width=\"65\" height=\"65\" /\u003e\n          \u003cpath\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M63 32.5C63 49.3447 49.3447 63 32.5 63C15.6553 63 2 49.3447 2 32.5C2 15.6553 15.6553 2 32.5 2C38.4707 2 44.0407 3.71563 48.7438 6.68081C49.5114 7.1647 49.5531 8.24774 48.858 8.83095V8.83095C48.3822 9.23024 47.7009 9.26189 47.1742 8.9325C42.8927 6.25479 37.832 4.7071 32.4098 4.7071C17.0103 4.7071 4.52663 17.1908 4.52663 32.5902C4.52663 47.9897 17.0103 60.4734 32.4098 60.4734C47.8092 60.4734 60.2929 47.9897 60.2929 32.5902C60.2929 28.8412 59.553 25.2651 58.2113 21.9997C57.9746 21.4238 58.1226 20.7558 58.5996 20.3555V20.3555C59.2908 19.7755 60.3441 20.0007 60.6895 20.8343C62.1783 24.428 63 28.368 63 32.5Z\"\n          /\u003e\n        \u003c/mask\u003e\n\n        \u003cmotion.path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M63 32.5C63 49.3447 49.3447 63 32.5 63C15.6553 63 2 49.3447 2 32.5C2 15.6553 15.6553 2 32.5 2C38.4707 2 44.0407 3.71563 48.7438 6.68081C49.5114 7.1647 49.5531 8.24774 48.858 8.83095V8.83095C48.3822 9.23024 47.7009 9.26189 47.1742 8.9325C42.8927 6.25479 37.832 4.7071 32.4098 4.7071C17.0103 4.7071 4.52663 17.1908 4.52663 32.5902C4.52663 47.9897 17.0103 60.4734 32.4098 60.4734C47.8092 60.4734 60.2929 47.9897 60.2929 32.5902C60.2929 28.8412 59.553 25.2651 58.2113 21.9997C57.9746 21.4238 58.1226 20.7558 58.5996 20.3555V20.3555C59.2908 19.7755 60.3441 20.0007 60.6895 20.8343C62.1783 24.428 63 28.368 63 32.5Z\"\n          fill=\"url(#logoGradient)\"\n          animate={{\n            fill: animate ? \"url(#logoGradient)\" : logoColors.primary,\n          }}\n          transition={transitionSettings}\n        /\u003e\n\n        \u003cmotion.path\n          d=\"M60.6895 20.8343L58.8418 21.5998L60.6895 20.8343ZM58.2113 21.9997L60.0612 21.2396L58.2113 21.9997ZM47.1742 8.9325L46.1137 10.6282L47.1742 8.9325ZM32.5 65C50.4493 65 65 50.4493 65 32.5H61C61 48.2401 48.2401 61 32.5 61V65ZM0 32.5C0 50.4493 14.5507 65 32.5 65V61C16.7599 61 4 48.2401 4 32.5H0ZM32.5 0C14.5507 0 0 14.5507 0 32.5H4C4 16.7599 16.7599 4 32.5 4V0ZM49.8105 4.98898C44.7974 1.8284 38.8591 0 32.5 0V4C38.0822 4 43.284 5.60287 47.6772 8.37264L49.8105 4.98898ZM48.2347 7.23681C43.6445 4.36604 38.2178 2.7071 32.4098 2.7071V6.7071C37.4461 6.7071 42.1409 8.14354 46.1137 10.6282L48.2347 7.23681ZM32.4098 2.7071C15.9058 2.7071 2.52663 16.0862 2.52663 32.5902H6.52663C6.52663 18.2954 18.1149 6.7071 32.4098 6.7071V2.7071ZM2.52663 32.5902C2.52663 49.0942 15.9058 62.4734 32.4098 62.4734V58.4734C18.1149 58.4734 6.52663 46.8851 6.52663 32.5902H2.52663ZM32.4098 62.4734C48.9138 62.4734 62.2929 49.0942 62.2929 32.5902H58.2929C58.2929 46.8851 46.7046 58.4734 32.4098 58.4734V62.4734ZM62.2929 32.5902C62.2929 28.576 61.5003 24.7419 60.0612 21.2396L56.3614 22.7599C57.6057 25.7882 58.2929 29.1065 58.2929 32.5902H62.2929ZM65 32.5C65 28.1008 64.1248 23.9009 62.5372 20.0688L58.8418 21.5998C60.2319 24.955 61 28.6353 61 32.5H65ZM59.8852 21.8876C59.6096 22.1189 59.0473 22.0959 58.8418 21.5998L62.5372 20.0688C61.6409 17.9054 58.9721 17.4322 57.314 18.8235L59.8852 21.8876ZM60.0612 21.2396C60.1384 21.4275 60.1091 21.6998 59.8852 21.8876L57.314 18.8235C56.1361 19.8118 55.8109 21.4201 56.3614 22.7599L60.0612 21.2396ZM47.5725 7.29886C47.794 7.11297 48.0642 7.13019 48.2347 7.23681L46.1137 10.6282C47.3376 11.3936 48.9704 11.3475 50.1436 10.363L47.5725 7.29886ZM47.6772 8.37264C47.2236 8.08668 47.2977 7.52938 47.5725 7.29886L50.1436 10.363C51.8084 8.96609 51.7991 6.24272 49.8105 4.98898L47.6772 8.37264Z\"\n          fill=\"url(#logoGradient)\"\n          mask=\"url(#path-2-outside-1)\"\n          animate={{\n            fill: animate ? \"url(#logoGradient)\" : logoColors.primary,\n          }}\n          transition={transitionSettings}\n        /\u003e\n\n        {/* Círculo interior */}\n        \u003cmask\n          id=\"path-4-outside-2\"\n          maskUnits=\"userSpaceOnUse\"\n          x=\"12.4527\"\n          y=\"12.4527\"\n          width=\"41\"\n          height=\"41\"\n          fill=\"black\"\n        \u003e\n          \u003crect fill=\"white\" x=\"12.4527\" y=\"12.4527\" width=\"41\" height=\"41\" /\u003e\n          \u003cpath\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M50.5473 32.5C50.5473 42.4673 42.4673 50.5473 32.5 50.5473C30.0838 50.5473 27.7785 50.0725 25.6724 49.2111C25.1655 49.0038 25.0821 48.3384 25.5016 47.9864V47.9864C25.7214 47.8019 26.0261 47.7592 26.2924 47.8663C28.1941 48.6313 30.2712 49.0523 32.4466 49.0523C41.5587 49.0523 48.9455 41.6655 48.9455 32.5534C48.9455 23.4413 41.5587 16.0545 32.4466 16.0545C23.3345 16.0545 15.9477 23.4413 15.9477 32.5534C15.9477 33.5777 16.041 34.5801 16.2197 35.5528C16.2705 35.8296 16.1738 36.1146 15.9581 36.2955V36.2955C15.5299 36.6548 14.8761 36.4444 14.7715 35.8952C14.5622 34.7956 14.4527 33.6606 14.4527 32.5C14.4527 22.5327 22.5327 14.4527 32.5 14.4527C42.4673 14.4527 50.5473 22.5327 50.5473 32.5Z\"\n          /\u003e\n        \u003c/mask\u003e\n\n        \u003cmotion.path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M50.5473 32.5C50.5473 42.4673 42.4673 50.5473 32.5 50.5473C30.0838 50.5473 27.7785 50.0725 25.6724 49.2111C25.1655 49.0038 25.0821 48.3384 25.5016 47.9864V47.9864C25.7214 47.8019 26.0261 47.7592 26.2924 47.8663C28.1941 48.6313 30.2712 49.0523 32.4466 49.0523C41.5587 49.0523 48.9455 41.6655 48.9455 32.5534C48.9455 23.4413 41.5587 16.0545 32.4466 16.0545C23.3345 16.0545 15.9477 23.4413 15.9477 32.5534C15.9477 33.5777 16.041 34.5801 16.2197 35.5528C16.2705 35.8296 16.1738 36.1146 15.9581 36.2955V36.2955C15.5299 36.6548 14.8761 36.4444 14.7715 35.8952C14.5622 34.7956 14.4527 33.6606 14.4527 32.5C14.4527 22.5327 22.5327 14.4527 32.5 14.4527C42.4673 14.4527 50.5473 22.5327 50.5473 32.5Z\"\n          fill=\"url(#logoGradient)\"\n          animate={{\n            fill: animate ? \"url(#logoGradient)\" : logoColors.primary,\n          }}\n          transition={transitionSettings}\n        /\u003e\n\n        \u003cmotion.path\n          d=\"M14.7715 35.8952L12.8068 36.2692L14.7715 35.8952ZM16.2197 35.5528L14.2526 35.9141L16.2197 35.5528ZM26.2924 47.8663L27.0388 46.0108L26.2924 47.8663ZM25.6724 49.2111L24.9153 51.0623L25.6724 49.2111ZM32.5 52.5473C43.5718 52.5473 52.5473 43.5718 52.5473 32.5H48.5473C48.5473 41.3627 41.3627 48.5473 32.5 48.5473V52.5473ZM24.9153 51.0623C27.2576 52.0203 29.8197 52.5473 32.5 52.5473V48.5473C30.3479 48.5473 28.2995 48.1248 26.4295 47.36L24.9153 51.0623ZM25.546 49.7218C27.681 50.5806 30.0111 51.0523 32.4466 51.0523V47.0523C30.5312 47.0523 28.7072 46.6819 27.0388 46.0108L25.546 49.7218ZM32.4466 51.0523C42.6633 51.0523 50.9455 42.7701 50.9455 32.5534H46.9455C46.9455 40.5609 40.4541 47.0523 32.4466 47.0523V51.0523ZM50.9455 32.5534C50.9455 22.3367 42.6633 14.0545 32.4466 14.0545V18.0545C40.4541 18.0545 46.9455 24.5459 46.9455 32.5534H50.9455ZM32.4466 14.0545C22.2299 14.0545 13.9477 22.3367 13.9477 32.5534H17.9477C17.9477 24.5459 24.4391 18.0545 32.4466 18.0545V14.0545ZM13.9477 32.5534C13.9477 33.6994 14.0522 34.8228 14.2526 35.9141L18.1868 35.1915C18.0299 34.3375 17.9477 33.4559 17.9477 32.5534H13.9477ZM12.4527 32.5C12.4527 33.7867 12.5741 35.0469 12.8068 36.2692L16.7363 35.5212C16.5503 34.5443 16.4527 33.5345 16.4527 32.5H12.4527ZM32.5 12.4527C21.4282 12.4527 12.4527 21.4282 12.4527 32.5H16.4527C16.4527 23.6373 23.6373 16.4527 32.5 16.4527V12.4527ZM52.5473 32.5C52.5473 21.4282 43.5718 12.4527 32.5 12.4527V16.4527C41.3627 16.4527 48.5473 23.6373 48.5473 32.5H52.5473ZM14.6726 34.7634C15.3256 34.2155 16.5337 34.4572 16.7363 35.5212L12.8068 36.2692C13.2184 38.4316 15.7342 39.0942 17.2437 37.8276L14.6726 34.7634ZM14.2526 35.9141C14.1791 35.5139 14.3134 35.0648 14.6726 34.7634L17.2437 37.8276C18.0342 37.1643 18.362 36.1454 18.1868 35.1915L14.2526 35.9141ZM26.7872 49.5184C26.417 49.829 25.9349 49.8782 25.546 49.7218L27.0388 46.0108C26.1174 45.6401 25.0258 45.7748 24.216 46.4543L26.7872 49.5184ZM26.4295 47.36C27.4164 47.7636 27.436 48.974 26.7872 49.5184L24.216 46.4543C22.7282 47.7027 22.9146 50.244 24.9153 51.0623L26.4295 47.36Z\"\n          fill=\"url(#logoGradient)\"\n          mask=\"url(#path-4-outside-2)\"\n          animate={{\n            fill: animate ? \"url(#logoGradient)\" : logoColors.primary,\n          }}\n          transition={transitionSettings}\n        /\u003e\n\n        {/* Efecto de brillo (opcional) */}\n        {animate \u0026\u0026 (\n          \u003cmotion.circle\n            cx=\"32.5\"\n            cy=\"32.5\"\n            r=\"32\"\n            fill=\"url(#logoGradient)\"\n            opacity=\"0\"\n            animate={{\n              opacity: [0, 0.2, 0],\n            }}\n            transition={{\n              repeat: Number.POSITIVE_INFINITY,\n              duration: speed === \"slow\" ? 5 : speed === \"fast\" ? 2 : 3,\n              ease: \"easeInOut\",\n            }}\n          /\u003e\n        )}\n      \u003c/motion.svg\u003e\n    \u003c/div\u003e\n  )\n}\n\n// También exportamos un componente con texto completo para usar en el navbar o headers\nexport function SustratoLogoWithText({\n  className = \"\",\n  size = 40,\n  animate = true,\n  speed = \"normal\",\n  textClassName = \"\",\n  variant = \"horizontal\",\n}: {\n  className?: string\n  size?: number\n  animate?: boolean\n  speed?: \"slow\" | \"normal\" | \"fast\"\n  textClassName?: string\n  variant?: \"horizontal\" | \"vertical\"\n}) {\n  const { colorScheme, mode } = useTheme()\n  const [textColors, setTextColors] = useState({\n    primary: \"#3D7DF6\", // Blue theme primary default\n    accent: \"#8A4EF6\", // Accent color (purple)\n  })\n\n  // Definición de colores por tema\n  const themeColors = {\n    blue: {\n      primary: mode === \"dark\" ? \"#2E5EB9\" : \"#3D7DF6\",\n      secondary: mode === \"dark\" ? \"#1EA4E9\" : \"#516e99\",\n    },\n    green: {\n      primary: mode === \"dark\" ? \"#1c8e63\" : \"#24BC81\",\n      secondary: mode === \"dark\" ? \"#2CA18F\" : \"#3AD7BF\",\n    },\n    orange: {\n      primary: mode === \"dark\" ? \"#B95413\" : \"#F77019\",\n      secondary: mode === \"dark\" ? \"#6D2F0B\" : \"#913E0F\",\n    },\n  }\n\n  // Actualizar los colores cuando cambie el tema\n  useEffect(() =\u003e {\n    const currentTheme = (colorScheme as keyof typeof themeColors) || \"blue\"\n\n    setTextColors({\n      primary: themeColors[currentTheme].primary,\n      accent: \"#8A4EF6\", // Mantener el acento púrpura\n    })\n  }, [colorScheme, mode])\n\n  // Tamaño del texto según el tamaño del logo\n  const getTextSize = () =\u003e {\n    if (size \u003c= 30) return \"text-lg\"\n    if (size \u003c= 40) return \"text-xl\"\n    if (size \u003c= 60) return \"text-2xl\"\n    return \"text-3xl\"\n  }\n\n  // Tamaño del subtexto\n  const getSubtextSize = () =\u003e {\n    if (size \u003c= 30) return \"text-xs\"\n    if (size \u003c= 40) return \"text-sm\"\n    if (size \u003c= 60) return \"text-base\"\n    return \"text-lg\"\n  }\n\n  return (\n    \u003cdiv className={`flex ${variant === \"vertical\" ? \"flex-col items-center\" : \"items-center\"} ${className}`}\u003e\n      \u003cSustratoLogoReactive size={size} animate={animate} speed={speed} /\u003e\n\n      \u003cdiv className={`${variant === \"vertical\" ? \"mt-2 text-center\" : \"ml-3\"} ${textClassName}`}\u003e\n        \u003cdiv className={`font-bold ${getTextSize()}`}\u003e\n          \u003cmotion.span\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            transition={{ duration: 0.6, delay: 0.2 }}\n            style={{\n              background: `-webkit-linear-gradient(left, ${textColors.primary}, ${textColors.accent})`,\n              WebkitBackgroundClip: \"text\",\n              WebkitTextFillColor: \"transparent\",\n              fontFamily: \"'Chau Philomene One', sans-serif\",\n            }}\n          \u003e\n            Sustrato.ai\n          \u003c/motion.span\u003e\n        \u003c/div\u003e\n\n        {variant === \"horizontal\" \u0026\u0026 (\n          \u003cmotion.div\n            initial={{ opacity: 0, y: 5 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.5, delay: 0.4 }}\n            className={`${getSubtextSize()} text-neutral-500 dark:text-neutral-400 ml-0.5 mt-0.5 italic`}\n          \u003e\n            cultivando sinergias humano·AI\n          \u003c/motion.div\u003e\n        )}\n\n        {variant === \"vertical\" \u0026\u0026 (\n          \u003cmotion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            transition={{ duration: 0.5, delay: 0.4 }}\n            className={`${getSubtextSize()} text-neutral-500 dark:text-neutral-400 italic`}\n          \u003e\n            cultivando sinergias humano·AI\n          \u003c/motion.div\u003e\n        )}\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"a2:T4475,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { motion } from \"framer-motion\"\nimport { useEffect, useState, useRef } from \"react\"\nimport { useTheme } from \"next-themes\"\n\n// Definición de colores por tema\nconst themeColors = {\n  blue: {\n    primary: \"#3D7DF6\",\n    secondary: \"#1EA4E9\",\n    dark: \"#2E5EB9\",\n  },\n  green: {\n    primary: \"#24BC81\",\n    secondary: \"#3AD7BF\",\n    dark: \"#1c8e63\",\n  },\n  orange: {\n    primary: \"#F77019\",\n    secondary: \"#913E0F\",\n    dark: \"#B95413\",\n  },\n}\n\n// Color del centro púrpura (constante)\nconst accentColor = \"#8A4EF6\"\n\nexport function SustratoLogoRotating({\n  className = \"\",\n  size = 65,\n  speed = \"normal\",\n  initialTheme = \"blue\",\n}: {\n  className?: string\n  size?: number\n  speed?: \"slow\" | \"normal\" | \"fast\"\n  initialTheme?: \"blue\" | \"green\" | \"orange\"\n}) {\n  // Referencias para ID únicos persistentes\n  const gradientIdRef = useRef(`logoGradient_${Math.random().toString(36).substr(2, 9)}`)\n  const maskId1Ref = useRef(`path-2-outside-1-${Math.random().toString(36).substr(2, 9)}`)\n  const maskId2Ref = useRef(`path-4-outside-2-${Math.random().toString(36).substr(2, 9)}`)\n\n  // Estado para los colores del logo\n  const [currentTheme, setCurrentTheme] = useState(initialTheme)\n  const [nextTheme, setNextTheme] = useState\u003c\"blue\" | \"green\" | \"orange\" | null\u003e(null)\n  const [logoColors, setLogoColors] = useState({\n    primary: themeColors[initialTheme].primary,\n    secondary: themeColors[initialTheme].secondary,\n  })\n\n  // Obtener duración de la transición según la velocidad\n  const getDuration = () =\u003e {\n    switch (speed) {\n      case \"slow\":\n        return { transition: 2.5, rotation: 12, theme: 8, colorChange: 2 }\n      case \"fast\":\n        return { transition: 1, rotation: 5, theme: 4, colorChange: 0.8 }\n      default:\n        return { transition: 1.5, rotation: 8, theme: 6, colorChange: 1.2 }\n    }\n  }\n\n  const durations = getDuration()\n\n  // Rotar entre temas con transición realmente suave\n  useEffect(() =\u003e {\n    const themes: (\"blue\" | \"green\" | \"orange\")[] = [\"blue\", \"green\", \"orange\"]\n\n    // Para la transición inicial, preparamos el siguiente tema\n    const themeTimer = setTimeout(\n      () =\u003e {\n        const currentIndex = themes.indexOf(currentTheme)\n        const nextIndex = (currentIndex + 1) % themes.length\n        setNextTheme(themes[nextIndex])\n      },\n      (durations.theme - durations.colorChange) * 1000,\n    )\n\n    return () =\u003e clearTimeout(themeTimer)\n  }, [currentTheme, durations.theme, durations.colorChange])\n\n  // Cuando se establece el siguiente tema, iniciamos la transición gradual\n  useEffect(() =\u003e {\n    if (!nextTheme) return\n\n    const themes: (\"blue\" | \"green\" | \"orange\")[] = [\"blue\", \"green\", \"orange\"]\n\n    // Comenzamos la transición de color\n    const startTime = performance.now()\n    const fromColors = {\n      primary: themeColors[currentTheme].primary,\n      secondary: themeColors[currentTheme].secondary,\n    }\n    const toColors = {\n      primary: themeColors[nextTheme].primary,\n      secondary: themeColors[nextTheme].secondary,\n    }\n\n    const transitionDuration = durations.colorChange * 1000 // en ms\n\n    // Función de animación\n    const animateColors = (timestamp: number) =\u003e {\n      const elapsed = timestamp - startTime\n      const progress = Math.min(elapsed / transitionDuration, 1)\n\n      // Función para interpolar colores hexadecimales\n      const interpolateColor = (color1: string, color2: string, factor: number) =\u003e {\n        const r1 = Number.parseInt(color1.substring(1, 3), 16)\n        const g1 = Number.parseInt(color1.substring(3, 5), 16)\n        const b1 = Number.parseInt(color1.substring(5, 7), 16)\n\n        const r2 = Number.parseInt(color2.substring(1, 3), 16)\n        const g2 = Number.parseInt(color2.substring(3, 5), 16)\n        const b2 = Number.parseInt(color2.substring(5, 7), 16)\n\n        const r = Math.round(r1 + factor * (r2 - r1))\n        const g = Math.round(g1 + factor * (g2 - g1))\n        const b = Math.round(b1 + factor * (b2 - b1))\n\n        return `#${r.toString(16).padStart(2, \"0\")}${g.toString(16).padStart(2, \"0\")}${b.toString(16).padStart(2, \"0\")}`\n      }\n\n      // Interpolar colores\n      const interpolatedColors = {\n        primary: interpolateColor(fromColors.primary, toColors.primary, progress),\n        secondary: interpolateColor(fromColors.secondary, toColors.secondary, progress),\n      }\n\n      setLogoColors(interpolatedColors)\n\n      if (progress \u003c 1) {\n        requestAnimationFrame(animateColors)\n      } else {\n        // Transición completa, actualizar el tema actual\n        setCurrentTheme(nextTheme)\n        setNextTheme(null)\n      }\n    }\n\n    const animationFrame = requestAnimationFrame(animateColors)\n\n    return () =\u003e cancelAnimationFrame(animationFrame)\n  }, [nextTheme, currentTheme, durations.colorChange])\n\n  // Configuración para el gradiente dinámico del círculo exterior\n  const gradientTransition = {\n    rotate: [0, 360],\n    transition: {\n      rotate: {\n        repeat: Number.POSITIVE_INFINITY,\n        duration: durations.rotation,\n        ease: \"linear\",\n      },\n    },\n  }\n\n  // Asegurarnos de que el SVG tenga fondo completamente transparente\n  return (\n    \u003cdiv className={className} style={{ width: size, height: size }}\u003e\n      \u003cmotion.svg\n        width={size}\n        height={size}\n        viewBox=\"0 0 65 65\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        initial={{ opacity: 0, scale: 0.9 }}\n        animate={{ opacity: 1, scale: 1 }}\n        transition={{ duration: 0.5 }}\n        style={{ background: \"rgba(0,0,0,0)\", mixBlendMode: \"normal\" }}\n      \u003e\n        {/* Definición del gradiente rotativo */}\n        \u003cmotion.defs animate={gradientTransition}\u003e\n          \u003clinearGradient id={gradientIdRef.current} gradientTransform=\"rotate(0)\"\u003e\n            \u003cstop offset=\"0%\" stopColor={logoColors.primary} /\u003e\n            \u003cstop offset=\"100%\" stopColor={logoColors.secondary} /\u003e\n          \u003c/linearGradient\u003e\n        \u003c/motion.defs\u003e\n\n        {/* Círculo del centro (púrpura) */}\n        \u003cmotion.circle\n          cx=\"32.5\"\n          cy=\"32.5\"\n          r=\"7.76035\"\n          fill={accentColor}\n          initial={{ scale: 0.8, opacity: 0.5 }}\n          animate={{ scale: 1, opacity: 1 }}\n          transition={{ duration: 0.7, delay: 0.2 }}\n        /\u003e\n\n        {/* Círculo exterior principal */}\n        \u003cmask id={maskId1Ref.current} maskUnits=\"userSpaceOnUse\" x=\"0\" y=\"0\" width=\"65\" height=\"65\" fill=\"black\"\u003e\n          \u003crect fill=\"white\" width=\"65\" height=\"65\" /\u003e\n          \u003cpath\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M63 32.5C63 49.3447 49.3447 63 32.5 63C15.6553 63 2 49.3447 2 32.5C2 15.6553 15.6553 2 32.5 2C38.4707 2 44.0407 3.71563 48.7438 6.68081C49.5114 7.1647 49.5531 8.24774 48.858 8.83095V8.83095C48.3822 9.23024 47.7009 9.26189 47.1742 8.9325C42.8927 6.25479 37.832 4.7071 32.4098 4.7071C17.0103 4.7071 4.52663 17.1908 4.52663 32.5902C4.52663 47.9897 17.0103 60.4734 32.4098 60.4734C47.8092 60.4734 60.2929 47.9897 60.2929 32.5902C60.2929 28.8412 59.553 25.2651 58.2113 21.9997C57.9746 21.4238 58.1226 20.7558 58.5996 20.3555V20.3555C59.2908 19.7755 60.3441 20.0007 60.6895 20.8343C62.1783 24.428 63 28.368 63 32.5Z\"\n          /\u003e\n        \u003c/mask\u003e\n\n        \u003cpath\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M63 32.5C63 49.3447 49.3447 63 32.5 63C15.6553 63 2 49.3447 2 32.5C2 15.6553 15.6553 2 32.5 2C38.4707 2 44.0407 3.71563 48.7438 6.68081C49.5114 7.1647 49.5531 8.24774 48.858 8.83095V8.83095C48.3822 9.23024 47.7009 9.26189 47.1742 8.9325C42.8927 6.25479 37.832 4.7071 32.4098 4.7071C17.0103 4.7071 4.52663 17.1908 4.52663 32.5902C4.52663 47.9897 17.0103 60.4734 32.4098 60.4734C47.8092 60.4734 60.2929 47.9897 60.2929 32.5902C60.2929 28.8412 59.553 25.2651 58.2113 21.9997C57.9746 21.4238 58.1226 20.7558 58.5996 20.3555V20.3555C59.2908 19.7755 60.3441 20.0007 60.6895 20.8343C62.1783 24.428 63 28.368 63 32.5Z\"\n          fill={`url(#${gradientIdRef.current})`}\n        /\u003e\n\n        \u003cpath\n          d=\"M60.6895 20.8343L58.8418 21.5998L60.6895 20.8343ZM58.2113 21.9997L60.0612 21.2396L58.2113 21.9997ZM47.1742 8.9325L46.1137 10.6282L47.1742 8.9325ZM32.5 65C50.4493 65 65 50.4493 65 32.5H61C61 48.2401 48.2401 61 32.5 61V65ZM0 32.5C0 50.4493 14.5507 65 32.5 65V61C16.7599 61 4 48.2401 4 32.5H0ZM32.5 0C14.5507 0 0 14.5507 0 32.5H4C4 16.7599 16.7599 4 32.5 4V0ZM49.8105 4.98898C44.7974 1.8284 38.8591 0 32.5 0V4C38.0822 4 43.284 5.60287 47.6772 8.37264L49.8105 4.98898ZM48.2347 7.23681C43.6445 4.36604 38.2178 2.7071 32.4098 2.7071V6.7071C37.4461 6.7071 42.1409 8.14354 46.1137 10.6282L48.2347 7.23681ZM32.4098 2.7071C15.9058 2.7071 2.52663 16.0862 2.52663 32.5902H6.52663C6.52663 18.2954 18.1149 6.7071 32.4098 6.7071V2.7071ZM2.52663 32.5902C2.52663 49.0942 15.9058 62.4734 32.4098 62.4734V58.4734C18.1149 58.4734 6.52663 46.8851 6.52663 32.5902H2.52663ZM32.4098 62.4734C48.9138 62.4734 62.2929 49.0942 62.2929 32.5902H58.2929C58.2929 46.8851 46.7046 58.4734 32.4098 58.4734V62.4734ZM62.2929 32.5902C62.2929 28.576 61.5003 24.7419 60.0612 21.2396L56.3614 22.7599C57.6057 25.7882 58.2929 29.1065 58.2929 32.5902H62.2929ZM65 32.5C65 28.1008 64.1248 23.9009 62.5372 20.0688L58.8418 21.5998C60.2319 24.955 61 28.6353 61 32.5H65ZM59.8852 21.8876C59.6096 22.1189 59.0473 22.0959 58.8418 21.5998L62.5372 20.0688C61.6409 17.9054 58.9721 17.4322 57.314 18.8235L59.8852 21.8876ZM60.0612 21.2396C60.1384 21.4275 60.1091 21.6998 59.8852 21.8876L57.314 18.8235C56.1361 19.8118 55.8109 21.4201 56.3614 22.7599L60.0612 21.2396ZM47.5725 7.29886C47.794 7.11297 48.0642 7.13019 48.2347 7.23681L46.1137 10.6282C47.3376 11.3936 48.9704 11.3475 50.1436 10.363L47.5725 7.29886ZM47.6772 8.37264C47.2236 8.08668 47.2977 7.52938 47.5725 7.29886L50.1436 10.363C51.8084 8.96609 51.7991 6.24272 49.8105 4.98898L47.6772 8.37264Z\"\n          fill={`url(#${gradientIdRef.current})`}\n          mask={`url(#${maskId1Ref.current})`}\n        /\u003e\n\n        {/* Círculo interior */}\n        \u003cmask\n          id={maskId2Ref.current}\n          maskUnits=\"userSpaceOnUse\"\n          x=\"12.4527\"\n          y=\"12.4527\"\n          width=\"41\"\n          height=\"41\"\n          fill=\"black\"\n        \u003e\n          \u003crect fill=\"white\" x=\"12.4527\" y=\"12.4527\" width=\"41\" height=\"41\" /\u003e\n          \u003cpath\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M50.5473 32.5C50.5473 42.4673 42.4673 50.5473 32.5 50.5473C30.0838 50.5473 27.7785 50.0725 25.6724 49.2111C25.1655 49.0038 25.0821 48.3384 25.5016 47.9864V47.9864C25.7214 47.8019 26.0261 47.7592 26.2924 47.8663C28.1941 48.6313 30.2712 49.0523 32.4466 49.0523C41.5587 49.0523 48.9455 41.6655 48.9455 32.5534C48.9455 23.4413 41.5587 16.0545 32.4466 16.0545C23.3345 16.0545 15.9477 23.4413 15.9477 32.5534C15.9477 33.5777 16.041 34.5801 16.2197 35.5528C16.2705 35.8296 16.1738 36.1146 15.9581 36.2955V36.2955C15.5299 36.6548 14.8761 36.4444 14.7715 35.8952C14.5622 34.7956 14.4527 33.6606 14.4527 32.5C14.4527 22.5327 22.5327 14.4527 32.5 14.4527C42.4673 14.4527 50.5473 22.5327 50.5473 32.5Z\"\n          /\u003e\n        \u003c/mask\u003e\n\n        \u003cpath\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M50.5473 32.5C50.5473 42.4673 42.4673 50.5473 32.5 50.5473C30.0838 50.5473 27.7785 50.0725 25.6724 49.2111C25.1655 49.0038 25.0821 48.3384 25.5016 47.9864V47.9864C25.7214 47.8019 26.0261 47.7592 26.2924 47.8663C28.1941 48.6313 30.2712 49.0523 32.4466 49.0523C41.5587 49.0523 48.9455 41.6655 48.9455 32.5534C48.9455 23.4413 41.5587 16.0545 32.4466 16.0545C23.3345 16.0545 15.9477 23.4413 15.9477 32.5534C15.9477 33.5777 16.041 34.5801 16.2197 35.5528C16.2705 35.8296 16.1738 36.1146 15.9581 36.2955V36.2955C15.5299 36.6548 14.8761 36.4444 14.7715 35.8952C14.5622 34.7956 14.4527 33.6606 14.4527 32.5C14.4527 22.5327 22.5327 14.4527 32.5 14.4527C42.4673 14.4527 50.5473 22.5327 50.5473 32.5Z\"\n          fill={`url(#${gradientIdRef.current})`}\n        /\u003e\n\n        \u003cpath\n          d=\"M14.7715 35.8952L12.8068 36.2692L14.7715 35.8952ZM16.2197 35.5528L14.2526 35.9141L16.2197 35.5528ZM26.2924 47.8663L27.0388 46.0108L26.2924 47.8663ZM25.6724 49.2111L24.9153 51.0623L25.6724 49.2111ZM32.5 52.5473C43.5718 52.5473 52.5473 43.5718 52.5473 32.5H48.5473C48.5473 41.3627 41.3627 48.5473 32.5 48.5473V52.5473ZM24.9153 51.0623C27.2576 52.0203 29.8197 52.5473 32.5 52.5473V48.5473C30.3479 48.5473 28.2995 48.1248 26.4295 47.36L24.9153 51.0623ZM25.546 49.7218C27.681 50.5806 30.0111 51.0523 32.4466 51.0523V47.0523C30.5312 47.0523 28.7072 46.6819 27.0388 46.0108L25.546 49.7218ZM32.4466 51.0523C42.6633 51.0523 50.9455 42.7701 50.9455 32.5534H46.9455C46.9455 40.5609 40.4541 47.0523 32.4466 47.0523V51.0523ZM50.9455 32.5534C50.9455 22.3367 42.6633 14.0545 32.4466 14.0545V18.0545C40.4541 18.0545 46.9455 24.5459 46.9455 32.5534H50.9455ZM32.4466 14.0545C22.2299 14.0545 13.9477 22.3367 13.9477 32.5534H17.9477C17.9477 24.5459 24.4391 18.0545 32.4466 18.0545V14.0545ZM13.9477 32.5534C13.9477 33.6994 14.0522 34.8228 14.2526 35.9141L18.1868 35.1915C18.0299 34.3375 17.9477 33.4559 17.9477 32.5534H13.9477ZM12.4527 32.5C12.4527 33.7867 12.5741 35.0469 12.8068 36.2692L16.7363 35.5212C16.5503 34.5443 16.4527 33.5345 16.4527 32.5H12.4527ZM32.5 12.4527C21.4282 12.4527 12.4527 21.4282 12.4527 32.5H16.4527C16.4527 23.6373 23.6373 16.4527 32.5 16.4527V12.4527ZM52.5473 32.5C52.5473 21.4282 43.5718 12.4527 32.5 12.4527V16.4527C41.3627 16.4527 48.5473 23.6373 48.5473 32.5H52.5473ZM14.6726 34.7634C15.3256 34.2155 16.5337 34.4572 16.7363 35.5212L12.8068 36.2692C13.2184 38.4316 15.7342 39.0942 17.2437 37.8276L14.6726 34.7634ZM14.2526 35.9141C14.1791 35.5139 14.3134 35.0648 14.6726 34.7634L17.2437 37.8276C18.0342 37.1643 18.362 36.1454 18.1868 35.1915L14.2526 35.9141ZM26.7872 49.5184C26.417 49.829 25.9349 49.8782 25.546 49.7218L27.0388 46.0108C26.1174 45.6401 25.0258 45.7748 24.216 46.4543L26.7872 49.5184ZM26.4295 47.36C27.4164 47.7636 27.436 48.974 26.7872 49.5184L24.216 46.4543C22.7282 47.7027 22.9146 50.244 24.9153 51.0623L26.4295 47.36Z\"\n          fill={`url(#${gradientIdRef.current})`}\n          mask={`url(#${maskId2Ref.current})`}\n        /\u003e\n\n        {/* Efecto de brillo */}\n        \u003cmotion.circle\n          cx=\"32.5\"\n          cy=\"32.5\"\n          r=\"32\"\n          fill={`url(#${gradientIdRef.current})`}\n          opacity=\"0\"\n          animate={{\n            opacity: [0, 0.15, 0],\n          }}\n          transition={{\n            repeat: Number.POSITIVE_INFINITY,\n            duration: speed === \"slow\" ? 5 : speed === \"fast\" ? 2 : 3,\n            ease: \"easeInOut\",\n          }}\n        /\u003e\n      \u003c/motion.svg\u003e\n    \u003c/div\u003e\n  )\n}\n\n// Componente con texto fijo y logo rotativo\nexport function SustratoLogoWithTextRotating({\n  className = \"\",\n  size = 40,\n  speed = \"normal\",\n  initialTheme = \"blue\",\n  textClassName = \"\",\n  variant = \"horizontal\",\n}: {\n  className?: string\n  size?: number\n  speed?: \"slow\" | \"normal\" | \"fast\"\n  initialTheme?: \"blue\" | \"green\" | \"orange\"\n  textClassName?: string\n  variant?: \"horizontal\" | \"vertical\"\n}) {\n  const { colorScheme, mode } = useTheme()\n  const [textColors, setTextColors] = useState({\n    primary: \"#3D7DF6\", // Blue theme primary default\n    accent: \"#8A4EF6\", // Accent color (purple)\n  })\n\n  // Definición de colores por tema\n  const themeColors = {\n    blue: {\n      primary: mode === \"dark\" ? \"#2E5EB9\" : \"#3D7DF6\",\n      secondary: mode === \"dark\" ? \"#1EA4E9\" : \"#516e99\",\n    },\n    green: {\n      primary: mode === \"dark\" ? \"#1c8e63\" : \"#24BC81\",\n      secondary: mode === \"dark\" ? \"#2CA18F\" : \"#3AD7BF\",\n    },\n    orange: {\n      primary: mode === \"dark\" ? \"#B95413\" : \"#F77019\",\n      secondary: mode === \"dark\" ? \"#6D2F0B\" : \"#913E0F\",\n    },\n  }\n\n  // Actualizar los colores cuando cambie el tema global\n  useEffect(() =\u003e {\n    const currentTheme = (colorScheme as keyof typeof themeColors) || \"blue\"\n\n    setTextColors({\n      primary: themeColors[currentTheme].primary,\n      accent: \"#8A4EF6\", // Mantener el acento púrpura\n    })\n  }, [colorScheme, mode])\n\n  // Tamaño del texto según el tamaño del logo\n  const getTextSize = () =\u003e {\n    if (size \u003c= 30) return \"text-lg\"\n    if (size \u003c= 40) return \"text-xl\"\n    if (size \u003c= 60) return \"text-2xl\"\n    return \"text-3xl\"\n  }\n\n  // Tamaño del subtexto\n  const getSubtextSize = () =\u003e {\n    if (size \u003c= 30) return \"text-xs\"\n    if (size \u003c= 40) return \"text-sm\"\n    if (size \u003c= 60) return \"text-base\"\n    return \"text-lg\"\n  }\n\n  return (\n    \u003cdiv className={`flex ${variant === \"vertical\" ? \"flex-col items-center\" : \"items-center\"} ${className}`}\u003e\n      \u003cSustratoLogoRotating size={size} speed={speed} initialTheme={initialTheme} /\u003e\n\n      \u003cdiv className={`${variant === \"vertical\" ? \"mt-2 text-center\" : \"ml-3\"} ${textClassName}`}\u003e\n        \u003cdiv className={`font-bold ${getTextSize()}`}\u003e\n          \u003cspan\n            className=\"bg-clip-text text-transparent\"\n            style={{\n              backgroundImage: `linear-gradient(to right, ${textColors.primary}, ${textColors.accent})`,\n              fontFamily: \"'Chau Philomene One', sans-serif\",\n            }}\n          \u003e\n            Sustrato.ai\n          \u003c/span\u003e\n        \u003c/div\u003e\n\n        {variant === \"horizontal\" \u0026\u0026 (\n          \u003cdiv className={`${getSubtextSize()} text-neutral-500 dark:text-neutral-400 ml-0.5 mt-0.5 italic`}\u003e\n            cultivando sinergias humano·AI\n          \u003c/div\u003e\n        )}\n\n        {variant === \"vertical\" \u0026\u0026 (\n          \u003cdiv className={`${getSubtextSize()} text-neutral-500 dark:text-neutral-400 italic`}\u003e\n            cultivando sinergias humano·AI\n          \u003c/div\u003e\n        )}\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"a3:Tc68,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useTheme } from \"@/app/theme-provider\"\nimport { useEffect, useState } from \"react\"\nimport { SustratoLogoRotating } from \"@/components/ui/sustrato-logo-rotating\"\n\n// Componente con SVG rotativo pero texto fijo según el tema actual\nexport function SustratoLogoWithFixedText({\n  className = \"\",\n  size = 40,\n  speed = \"normal\",\n  initialTheme = \"blue\",\n  textClassName = \"\",\n  variant = \"horizontal\",\n}: {\n  className?: string\n  size?: number\n  speed?: \"slow\" | \"normal\" | \"fast\"\n  initialTheme?: \"blue\" | \"green\" | \"orange\"\n  textClassName?: string\n  variant?: \"horizontal\" | \"vertical\"\n}) {\n  const { colorScheme, mode } = useTheme()\n  const [textColors, setTextColors] = useState({\n    primary: \"#3D7DF6\", // Blue theme primary default\n    accent: \"#8A4EF6\", // Accent color (purple)\n  })\n\n  // Definición de colores por tema\n  const themeColors = {\n    blue: {\n      primary: mode === \"dark\" ? \"#2E5EB9\" : \"#3D7DF6\",\n      secondary: mode === \"dark\" ? \"#1EA4E9\" : \"#516e99\",\n    },\n    green: {\n      primary: mode === \"dark\" ? \"#1c8e63\" : \"#24BC81\",\n      secondary: mode === \"dark\" ? \"#2CA18F\" : \"#3AD7BF\",\n    },\n    orange: {\n      primary: mode === \"dark\" ? \"#B95413\" : \"#F77019\",\n      secondary: mode === \"dark\" ? \"#6D2F0B\" : \"#913E0F\",\n    },\n  }\n\n  // Actualizar los colores cuando cambie el tema global\n  useEffect(() =\u003e {\n    const currentTheme = (colorScheme as keyof typeof themeColors) || \"blue\"\n\n    setTextColors({\n      primary: themeColors[currentTheme].primary,\n      accent: \"#8A4EF6\", // Mantener el acento púrpura\n    })\n  }, [colorScheme, mode])\n\n  // Tamaño del texto según el tamaño del logo\n  const getTextSize = () =\u003e {\n    if (size \u003c= 30) return \"text-lg\"\n    if (size \u003c= 40) return \"text-xl\"\n    if (size \u003c= 60) return \"text-2xl\"\n    return \"text-3xl\"\n  }\n\n  // Tamaño del subtexto\n  const getSubtextSize = () =\u003e {\n    if (size \u003c= 30) return \"text-xs\"\n    if (size \u003c= 40) return \"text-sm\"\n    if (size \u003c= 60) return \"text-base\"\n    return \"text-lg\"\n  }\n\n  return (\n    \u003cdiv className={`flex ${variant === \"vertical\" ? \"flex-col items-center\" : \"items-center\"} ${className}`}\u003e\n      \u003cSustratoLogoRotating size={size} speed={speed} initialTheme={initialTheme} /\u003e\n\n      \u003cdiv className={`${variant === \"vertical\" ? \"mt-2 text-center\" : \"ml-3\"} ${textClassName}`}\u003e\n        \u003cdiv className={`font-bold ${getTextSize()}`}\u003e\n          \u003cspan\n            className=\"bg-clip-text text-transparent\"\n            style={{\n              backgroundImage: `linear-gradient(to right, ${textColors.primary}, ${textColors.accent})`,\n              fontFamily: \"'Chau Philomene One', sans-serif\",\n            }}\n          \u003e\n            Sustrato.ai\n          \u003c/span\u003e\n        \u003c/div\u003e\n\n        {variant === \"horizontal\" \u0026\u0026 (\n          \u003cdiv className={`${getSubtextSize()} text-neutral-500 dark:text-neutral-400 ml-0.5 mt-0.5 italic`}\u003e\n            cultivando sinergias humano·AI\n          \u003c/div\u003e\n        )}\n\n        {variant === \"vertical\" \u0026\u0026 (\n          \u003cdiv className={`${getSubtextSize()} text-neutral-500 dark:text-neutral-400 italic`}\u003e\n            cultivando sinergias humano·AI\n          \u003c/div\u003e\n        )}\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"a4:T1fbc,"])</script><script>self.__next_f.push([1,"export function SustratoLogo({\n  className = \"\",\n  size = 28,\n  primaryColor,\n  secondaryColor,\n  accentColor,\n}: {\n  className?: string\n  size?: number\n  primaryColor?: string\n  secondaryColor?: string\n  accentColor?: string\n}) {\n  return (\n    \u003csvg\n      width={size}\n      height={size}\n      viewBox=\"0 0 65 65\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={className}\n    \u003e\n      \u003ccircle cx=\"32.5\" cy=\"32.5\" r=\"7.76035\" fill={accentColor || \"currentColor\"} /\u003e\n      \u003cmask id=\"path-2-outside-1_16_27\" maskUnits=\"userSpaceOnUse\" x=\"0\" y=\"0\" width=\"65\" height=\"65\" fill=\"black\"\u003e\n        \u003crect fill=\"white\" width=\"65\" height=\"65\" /\u003e\n        \u003cpath\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M63 32.5C63 49.3447 49.3447 63 32.5 63C15.6553 63 2 49.3447 2 32.5C2 15.6553 15.6553 2 32.5 2C38.4707 2 44.0407 3.71563 48.7438 6.68081C49.5114 7.1647 49.5531 8.24774 48.858 8.83095V8.83095C48.3822 9.23024 47.7009 9.26189 47.1742 8.9325C42.8927 6.25479 37.832 4.7071 32.4098 4.7071C17.0103 4.7071 4.52663 17.1908 4.52663 32.5902C4.52663 47.9897 17.0103 60.4734 32.4098 60.4734C47.8092 60.4734 60.2929 47.9897 60.2929 32.5902C60.2929 28.8412 59.553 25.2651 58.2113 21.9997C57.9746 21.4238 58.1226 20.7558 58.5996 20.3555V20.3555C59.2908 19.7755 60.3441 20.0007 60.6895 20.8343C62.1783 24.428 63 28.368 63 32.5Z\"\n        /\u003e\n      \u003c/mask\u003e\n      \u003cpath\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M63 32.5C63 49.3447 49.3447 63 32.5 63C15.6553 63 2 49.3447 2 32.5C2 15.6553 15.6553 2 32.5 2C38.4707 2 44.0407 3.71563 48.7438 6.68081C49.5114 7.1647 49.5531 8.24774 48.858 8.83095V8.83095C48.3822 9.23024 47.7009 9.26189 47.1742 8.9325C42.8927 6.25479 37.832 4.7071 32.4098 4.7071C17.0103 4.7071 4.52663 17.1908 4.52663 32.5902C4.52663 47.9897 17.0103 60.4734 32.4098 60.4734C47.8092 60.4734 60.2929 47.9897 60.2929 32.5902C60.2929 28.8412 59.553 25.2651 58.2113 21.9997C57.9746 21.4238 58.1226 20.7558 58.5996 20.3555V20.3555C59.2908 19.7755 60.3441 20.0007 60.6895 20.8343C62.1783 24.428 63 28.368 63 32.5Z\"\n        fill={primaryColor || \"currentColor\"}\n      /\u003e\n      \u003cpath\n        d=\"M60.6895 20.8343L58.8418 21.5998L60.6895 20.8343ZM58.2113 21.9997L60.0612 21.2396L58.2113 21.9997ZM47.1742 8.9325L46.1137 10.6282L47.1742 8.9325ZM32.5 65C50.4493 65 65 50.4493 65 32.5H61C61 48.2401 48.2401 61 32.5 61V65ZM0 32.5C0 50.4493 14.5507 65 32.5 65V61C16.7599 61 4 48.2401 4 32.5H0ZM32.5 0C14.5507 0 0 14.5507 0 32.5H4C4 16.7599 16.7599 4 32.5 4V0ZM49.8105 4.98898C44.7974 1.8284 38.8591 0 32.5 0V4C38.0822 4 43.284 5.60287 47.6772 8.37264L49.8105 4.98898ZM48.2347 7.23681C43.6445 4.36604 38.2178 2.7071 32.4098 2.7071V6.7071C37.4461 6.7071 42.1409 8.14354 46.1137 10.6282L48.2347 7.23681ZM32.4098 2.7071C15.9058 2.7071 2.52663 16.0862 2.52663 32.5902H6.52663C6.52663 18.2954 18.1149 6.7071 32.4098 6.7071V2.7071ZM2.52663 32.5902C2.52663 49.0942 15.9058 62.4734 32.4098 62.4734V58.4734C18.1149 58.4734 6.52663 46.8851 6.52663 32.5902H2.52663ZM32.4098 62.4734C48.9138 62.4734 62.2929 49.0942 62.2929 32.5902H58.2929C58.2929 46.8851 46.7046 58.4734 32.4098 58.4734V62.4734ZM62.2929 32.5902C62.2929 28.576 61.5003 24.7419 60.0612 21.2396L56.3614 22.7599C57.6057 25.7882 58.2929 29.1065 58.2929 32.5902H62.2929ZM65 32.5C65 28.1008 64.1248 23.9009 62.5372 20.0688L58.8418 21.5998C60.2319 24.955 61 28.6353 61 32.5H65ZM59.8852 21.8876C59.6096 22.1189 59.0473 22.0959 58.8418 21.5998L62.5372 20.0688C61.6409 17.9054 58.9721 17.4322 57.314 18.8235L59.8852 21.8876ZM60.0612 21.2396C60.1384 21.4275 60.1091 21.6998 59.8852 21.8876L57.314 18.8235C56.1361 19.8118 55.8109 21.4201 56.3614 22.7599L60.0612 21.2396ZM47.5725 7.29886C47.794 7.11297 48.0642 7.13019 48.2347 7.23681L46.1137 10.6282C47.3376 11.3936 48.9704 11.3475 50.1436 10.363L47.5725 7.29886ZM47.6772 8.37264C47.2236 8.08668 47.2977 7.52938 47.5725 7.29886L50.1436 10.363C51.8084 8.96609 51.7991 6.24272 49.8105 4.98898L47.6772 8.37264Z\"\n        fill={primaryColor || \"currentColor\"}\n        mask=\"url(#path-2-outside-1_16_27)\"\n      /\u003e\n      \u003cmask\n        id=\"path-4-outside-2_16_27\"\n        maskUnits=\"userSpaceOnUse\"\n        x=\"12.4527\"\n        y=\"12.4527\"\n        width=\"41\"\n        height=\"41\"\n        fill=\"black\"\n      \u003e\n        \u003crect fill=\"white\" x=\"12.4527\" y=\"12.4527\" width=\"41\" height=\"41\" /\u003e\n        \u003cpath\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M50.5473 32.5C50.5473 42.4673 42.4673 50.5473 32.5 50.5473C30.0838 50.5473 27.7785 50.0725 25.6724 49.2111C25.1655 49.0038 25.0821 48.3384 25.5016 47.9864V47.9864C25.7214 47.8019 26.0261 47.7592 26.2924 47.8663C28.1941 48.6313 30.2712 49.0523 32.4466 49.0523C41.5587 49.0523 48.9455 41.6655 48.9455 32.5534C48.9455 23.4413 41.5587 16.0545 32.4466 16.0545C23.3345 16.0545 15.9477 23.4413 15.9477 32.5534C15.9477 33.5777 16.041 34.5801 16.2197 35.5528C16.2705 35.8296 16.1738 36.1146 15.9581 36.2955V36.2955C15.5299 36.6548 14.8761 36.4444 14.7715 35.8952C14.5622 34.7956 14.4527 33.6606 14.4527 32.5C14.4527 22.5327 22.5327 14.4527 32.5 14.4527C42.4673 14.4527 50.5473 22.5327 50.5473 32.5Z\"\n        /\u003e\n      \u003c/mask\u003e\n      \u003cpath\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M50.5473 32.5C50.5473 42.4673 42.4673 50.5473 32.5 50.5473C30.0838 50.5473 27.7785 50.0725 25.6724 49.2111C25.1655 49.0038 25.0821 48.3384 25.5016 47.9864V47.9864C25.7214 47.8019 26.0261 47.7592 26.2924 47.8663C28.1941 48.6313 30.2712 49.0523 32.4466 49.0523C41.5587 49.0523 48.9455 41.6655 48.9455 32.5534C48.9455 23.4413 41.5587 16.0545 32.4466 16.0545C23.3345 16.0545 15.9477 23.4413 15.9477 32.5534C15.9477 33.5777 16.041 34.5801 16.2197 35.5528C16.2705 35.8296 16.1738 36.1146 15.9581 36.2955V36.2955C15.5299 36.6548 14.8761 36.4444 14.7715 35.8952C14.5622 34.7956 14.4527 33.6606 14.4527 32.5C14.4527 22.5327 22.5327 14.4527 32.5 14.4527C42.4673 14.4527 50.5473 22.5327 50.5473 32.5Z\"\n        fill={primaryColor || \"currentColor\"}\n      /\u003e\n      \u003cpath\n        d=\"M14.7715 35.8952L12.8068 36.2692L14.7715 35.8952ZM16.2197 35.5528L14.2526 35.9141L16.2197 35.5528ZM26.2924 47.8663L27.0388 46.0108L26.2924 47.8663ZM25.6724 49.2111L24.9153 51.0623L25.6724 49.2111ZM32.5 52.5473C43.5718 52.5473 52.5473 43.5718 52.5473 32.5H48.5473C48.5473 41.3627 41.3627 48.5473 32.5 48.5473V52.5473ZM24.9153 51.0623C27.2576 52.0203 29.8197 52.5473 32.5 52.5473V48.5473C30.3479 48.5473 28.2995 48.1248 26.4295 47.36L24.9153 51.0623ZM25.546 49.7218C27.681 50.5806 30.0111 51.0523 32.4466 51.0523V47.0523C30.5312 47.0523 28.7072 46.6819 27.0388 46.0108L25.546 49.7218ZM32.4466 51.0523C42.6633 51.0523 50.9455 42.7701 50.9455 32.5534H46.9455C46.9455 40.5609 40.4541 47.0523 32.4466 47.0523V51.0523ZM50.9455 32.5534C50.9455 22.3367 42.6633 14.0545 32.4466 14.0545V18.0545C40.4541 18.0545 46.9455 24.5459 46.9455 32.5534H50.9455ZM32.4466 14.0545C22.2299 14.0545 13.9477 22.3367 13.9477 32.5534H17.9477C17.9477 24.5459 24.4391 18.0545 32.4466 18.0545V14.0545ZM13.9477 32.5534C13.9477 33.6994 14.0522 34.8228 14.2526 35.9141L18.1868 35.1915C18.0299 34.3375 17.9477 33.4559 17.9477 32.5534H13.9477ZM12.4527 32.5C12.4527 33.7867 12.5741 35.0469 12.8068 36.2692L16.7363 35.5212C16.5503 34.5443 16.4527 33.5345 16.4527 32.5H12.4527ZM32.5 12.4527C21.4282 12.4527 12.4527 21.4282 12.4527 32.5H16.4527C16.4527 23.6373 23.6373 16.4527 32.5 16.4527V12.4527ZM52.5473 32.5C52.5473 21.4282 43.5718 12.4527 32.5 12.4527V16.4527C41.3627 16.4527 48.5473 23.6373 48.5473 32.5H52.5473ZM14.6726 34.7634C15.3256 34.2155 16.5337 34.4572 16.7363 35.5212L12.8068 36.2692C13.2184 38.4316 15.7342 39.0942 17.2437 37.8276L14.6726 34.7634ZM14.2526 35.9141C14.1791 35.5139 14.3134 35.0648 14.6726 34.7634L17.2437 37.8276C18.0342 37.1643 18.362 36.1454 18.1868 35.1915L14.2526 35.9141ZM26.7872 49.5184C26.417 49.829 25.9349 49.8782 25.546 49.7218L27.0388 46.0108C26.1174 45.6401 25.0258 45.7748 24.216 46.4543L26.7872 49.5184ZM26.4295 47.36C27.4164 47.7636 27.436 48.974 26.7872 49.5184L24.216 46.4543C22.7282 47.7027 22.9146 50.244 24.9153 51.0623L26.4295 47.36Z\"\n        fill={primaryColor || \"currentColor\"}\n        mask=\"url(#path-4-outside-2_16_27)\"\n      /\u003e\n    \u003c/svg\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"a5:T1585,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useTheme } from \"@/app/theme-provider\"\nimport { motion } from \"framer-motion\"\nimport { useEffect, useState } from \"react\"\nimport { PageBackground } from \"@/components/ui/page-background\"\nimport type React from \"react\"\n\ninterface SustratoPageBackgroundProps {\n  children: React.ReactNode\n  variant?: \"default\" | \"gradient\" | \"ambient\" | \"subtle\" | \"minimal\"\n  animate?: boolean\n  bubbles?: boolean\n  className?: string\n}\n\nexport function SustratoPageBackground({\n  children,\n  variant = \"minimal\",\n  animate = true,\n  bubbles = false,\n  className = \"\",\n}: SustratoPageBackgroundProps) {\n  const { colorScheme, mode } = useTheme()\n  const [colors, setColors] = useState({\n    primary: \"#3D7DF6\", // Blue theme primary default\n    secondary: \"#1EA4E9\", // Blue theme tertiary default\n    accent: \"#8A4EF6\", // Accent color (purple)\n  })\n\n  // Definición de colores por tema\n  const themeColors = {\n    blue: {\n      primary: mode === \"dark\" ? \"#2E5EB9\" : \"#3D7DF6\",\n      secondary: mode === \"dark\" ? \"#1EA4E9\" : \"#516e99\",\n    },\n    green: {\n      primary: mode === \"dark\" ? \"#1c8e63\" : \"#24BC81\",\n      secondary: mode === \"dark\" ? \"#2CA18F\" : \"#3AD7BF\",\n    },\n    orange: {\n      primary: mode === \"dark\" ? \"#B95413\" : \"#F77019\",\n      secondary: mode === \"dark\" ? \"#6D2F0B\" : \"#913E0F\",\n    },\n  }\n\n  // Actualizar los colores cuando cambie el tema\n  useEffect(() =\u003e {\n    const currentTheme = (colorScheme as keyof typeof themeColors) || \"blue\"\n\n    setColors({\n      primary: themeColors[currentTheme].primary,\n      secondary: themeColors[currentTheme].secondary,\n      accent: \"#8A4EF6\", // Mantener el acento púrpura\n    })\n  }, [colorScheme, mode])\n\n  // Generar burbujas decorativas si la opción está activada\n  const generateBubbles = () =\u003e {\n    if (!bubbles) return null\n\n    // Crear entre 6 y 10 burbujas\n    const bubbleCount = Math.floor(Math.random() * 5) + 6\n    const bubbleElements = []\n\n    for (let i = 0; i \u003c bubbleCount; i++) {\n      // Calcular tamaño y posición aleatoria\n      const size = Math.floor(Math.random() * 300) + 100 // Entre 100 y 400px\n      const x = Math.floor(Math.random() * 100) // Posición X en porcentaje\n      const y = Math.floor(Math.random() * 100) // Posición Y en porcentaje\n      const opacity = Math.random() * 0.08 + 0.02 // Entre 0.02 y 0.1\n      const delay = Math.random() * 2 // Delay para la animación\n\n      // Elegir un color para cada burbuja\n      const colorIndex = Math.floor(Math.random() * 3)\n      const bubbleColor = colorIndex === 0 ? colors.primary : colorIndex === 1 ? colors.secondary : colors.accent\n\n      bubbleElements.push(\n        \u003cmotion.div\n          key={i}\n          className=\"absolute rounded-full\"\n          style={{\n            width: size,\n            height: size,\n            left: `${x}%`,\n            top: `${y}%`,\n            backgroundColor: bubbleColor,\n            opacity: opacity,\n            filter: \"blur(70px)\",\n          }}\n          initial={{ scale: 0.8, opacity: 0 }}\n          animate={{\n            scale: [0.8, 1.2, 0.9],\n            opacity: [0, opacity, 0],\n            x: [0, Math.random() * 40 - 20],\n            y: [0, Math.random() * 40 - 20],\n          }}\n          transition={{\n            duration: 15 + Math.random() * 10, // Entre 15 y 25 segundos\n            ease: \"easeInOut\",\n            delay: delay,\n            repeat: Number.POSITIVE_INFINITY,\n            repeatType: \"reverse\",\n          }}\n        /\u003e,\n      )\n    }\n\n    return bubbleElements\n  }\n\n  // Convertir la variante personalizada a la variante aceptada por PageBackground\n  const getPageBackgroundVariant = () =\u003e {\n    switch (variant) {\n      case \"ambient\":\n      case \"gradient\":\n        return \"gradient\"\n      case \"subtle\":\n        return \"subtle\"\n      case \"minimal\":\n        return \"minimal\"\n      default:\n        return \"default\"\n    }\n  }\n\n  return (\n    \u003cPageBackground variant={getPageBackgroundVariant()} className={className}\u003e\n      {/* Efectos visuales */}\n      {animate \u0026\u0026 (\n        \u003cdiv className=\"fixed inset-0 overflow-hidden pointer-events-none\"\u003e\n          {/* Burbujas decorativas */}\n          {generateBubbles()}\n\n          {/* Gradiente superior */}\n          {variant !== \"minimal\" \u0026\u0026 (\n            \u003cmotion.div\n              className=\"absolute top-0 left-0 right-0 h-[300px] bg-gradient-to-b opacity-30 pointer-events-none\"\n              style={{\n                backgroundImage: `linear-gradient(to bottom, ${colors.primary}22, transparent)`,\n              }}\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 0.3 }}\n              transition={{ duration: 1.5 }}\n            /\u003e\n          )}\n\n          {/* Resplandor lateral */}\n          {variant === \"ambient\" \u0026\u0026 (\n            \u003cmotion.div\n              className=\"absolute top-[15%] -left-[200px] w-[400px] h-[600px] rounded-full opacity-20 pointer-events-none\"\n              style={{\n                background: `radial-gradient(circle, ${colors.accent}80 0%, transparent 70%)`,\n                filter: \"blur(60px)\",\n              }}\n              animate={{\n                x: [0, 20, 0],\n                opacity: [0.2, 0.3, 0.2],\n              }}\n              transition={{\n                duration: 8,\n                repeat: Number.POSITIVE_INFINITY,\n                repeatType: \"reverse\",\n              }}\n            /\u003e\n          )}\n        \u003c/div\u003e\n      )}\n\n      {/* Contenido principal */}\n      \u003cdiv className=\"relative z-10\"\u003e{children}\u003c/div\u003e\n    \u003c/PageBackground\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"a6:T1074,"])</script><script>self.__next_f.push([1,"import { Text, type TextProps } from \"./text\"\n\nexport default {\n  title: \"UI/Text\",\n  component: Text,\n  parameters: {\n    layout: \"centered\",\n  },\n  argTypes: {\n    variant: {\n      control: \"select\",\n      options: [\"default\", \"heading\", \"subheading\", \"title\", \"subtitle\", \"label\", \"caption\", \"muted\"],\n    },\n    size: {\n      control: \"select\",\n      options: [\"xs\", \"sm\", \"base\", \"lg\", \"xl\", \"2xl\", \"3xl\", \"4xl\", \"5xl\"],\n    },\n    weight: {\n      control: \"select\",\n      options: [\"normal\", \"medium\", \"semibold\", \"bold\"],\n    },\n    align: {\n      control: \"select\",\n      options: [\"left\", \"center\", \"right\", \"justify\"],\n    },\n    as: {\n      control: \"select\",\n      options: [\"p\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"span\", \"div\"],\n    },\n    truncate: {\n      control: \"boolean\",\n    },\n    gradient: {\n      control: \"boolean\",\n    },\n  },\n}\n\nconst Template = (args: TextProps) =\u003e \u003cText {...args} /\u003e\n\nexport const Default = Template.bind({})\nDefault.args = {\n  children: \"Este es un texto de ejemplo\",\n  variant: \"default\",\n}\n\nexport const Heading = Template.bind({})\nHeading.args = {\n  children: \"Este es un encabezado\",\n  variant: \"heading\",\n  as: \"h1\",\n}\n\nexport const Subheading = Template.bind({})\nSubheading.args = {\n  children: \"Este es un subencabezado\",\n  variant: \"subheading\",\n  as: \"h2\",\n}\n\nexport const Title = Template.bind({})\nTitle.args = {\n  children: \"Este es un título\",\n  variant: \"title\",\n  as: \"h3\",\n}\n\nexport const Subtitle = Template.bind({})\nSubtitle.args = {\n  children: \"Este es un subtítulo\",\n  variant: \"subtitle\",\n}\n\nexport const Label = Template.bind({})\nLabel.args = {\n  children: \"Esta es una etiqueta\",\n  variant: \"label\",\n}\n\nexport const Caption = Template.bind({})\nCaption.args = {\n  children: \"Este es un texto de pie de foto\",\n  variant: \"caption\",\n}\n\nexport const Muted = Template.bind({})\nMuted.args = {\n  children: \"Este es un texto atenuado\",\n  variant: \"muted\",\n}\n\nexport const Gradient = Template.bind({})\nGradient.args = {\n  children: \"Este es un texto con gradiente\",\n  variant: \"heading\",\n  gradient: true,\n  size: \"4xl\",\n}\n\nexport const Truncated = Template.bind({})\nTruncated.args = {\n  children:\n    \"Este es un texto muy largo que será truncado cuando alcance el final del contenedor y se mostrará con puntos suspensivos\",\n  truncate: true,\n  className: \"max-w-xs\",\n}\n\nexport const AllVariants = () =\u003e (\n  \u003cdiv className=\"space-y-4\"\u003e\n    \u003cText variant=\"heading\" as=\"h1\"\u003e\n      Heading (h1)\n    \u003c/Text\u003e\n    \u003cText variant=\"subheading\" as=\"h2\"\u003e\n      Subheading (h2)\n    \u003c/Text\u003e\n    \u003cText variant=\"title\" as=\"h3\"\u003e\n      Title (h3)\n    \u003c/Text\u003e\n    \u003cText variant=\"subtitle\"\u003eSubtitle\u003c/Text\u003e\n    \u003cText variant=\"default\"\u003eDefault text\u003c/Text\u003e\n    \u003cText variant=\"label\"\u003eLabel\u003c/Text\u003e\n    \u003cText variant=\"caption\"\u003eCaption\u003c/Text\u003e\n    \u003cText variant=\"muted\"\u003eMuted text\u003c/Text\u003e\n  \u003c/div\u003e\n)\n\nexport const AllSizes = () =\u003e (\n  \u003cdiv className=\"space-y-2\"\u003e\n    \u003cText size=\"xs\"\u003eTamaño xs\u003c/Text\u003e\n    \u003cText size=\"sm\"\u003eTamaño sm\u003c/Text\u003e\n    \u003cText size=\"base\"\u003eTamaño base\u003c/Text\u003e\n    \u003cText size=\"lg\"\u003eTamaño lg\u003c/Text\u003e\n    \u003cText size=\"xl\"\u003eTamaño xl\u003c/Text\u003e\n    \u003cText size=\"2xl\"\u003eTamaño 2xl\u003c/Text\u003e\n    \u003cText size=\"3xl\"\u003eTamaño 3xl\u003c/Text\u003e\n    \u003cText size=\"4xl\"\u003eTamaño 4xl\u003c/Text\u003e\n    \u003cText size=\"5xl\"\u003eTamaño 5xl\u003c/Text\u003e\n  \u003c/div\u003e\n)\n\nexport const AllWeights = () =\u003e (\n  \u003cdiv className=\"space-y-2\"\u003e\n    \u003cText weight=\"normal\"\u003ePeso normal\u003c/Text\u003e\n    \u003cText weight=\"medium\"\u003ePeso medium\u003c/Text\u003e\n    \u003cText weight=\"semibold\"\u003ePeso semibold\u003c/Text\u003e\n    \u003cText weight=\"bold\"\u003ePeso bold\u003c/Text\u003e\n  \u003c/div\u003e\n)\n\nexport const AllAlignments = () =\u003e (\n  \u003cdiv className=\"space-y-4\"\u003e\n    \u003cText align=\"left\" className=\"border p-2\"\u003e\n      Alineado a la izquierda\n    \u003c/Text\u003e\n    \u003cText align=\"center\" className=\"border p-2\"\u003e\n      Alineado al centro\n    \u003c/Text\u003e\n    \u003cText align=\"right\" className=\"border p-2\"\u003e\n      Alineado a la derecha\n    \u003c/Text\u003e\n    \u003cText align=\"justify\" className=\"border p-2\"\u003e\n      Texto justificado. Este es un párrafo más largo para demostrar cómo funciona la justificación. El texto se\n      distribuye uniformemente entre los márgenes izquierdo y derecho, creando un borde limpio en ambos lados. Esto es\n      común en periódicos, revistas y libros.\n    \u003c/Text\u003e\n  \u003c/div\u003e\n)\n"])</script><script>self.__next_f.push([1,"a7:T9bf,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport type React from \"react\"\nimport { type ReactNode, useEffect, useState } from \"react\"\nimport { useTheme } from \"@/app/theme-provider\"\nimport colors from \"@/lib/theme/colors\"\n\ninterface ThemeBackgroundProps {\n  children?: ReactNode\n}\n\n/**\n * ThemeBackground - Componente que aplica el fondo según el tema actual\n * Utiliza el sistema de colores basado en JS/TS en lugar de CSS\n */\nexport function ThemeBackground({ children }: ThemeBackgroundProps) {\n  const { colorScheme, mode } = useTheme()\n  const [style, setStyle] = useState\u003cReact.CSSProperties\u003e({})\n\n  useEffect(() =\u003e {\n    try {\n      // Validar que colorScheme sea un valor válido\n      const validColorSchemes = [\"blue\", \"green\", \"orange\"] as const\n      const validColorScheme = validColorSchemes.includes(colorScheme as any) ? colorScheme : \"blue\"\n\n      // Acceder al tema de forma segura\n      const themeColors = colors.themes[validColorScheme as keyof typeof colors.themes]\n\n      // Verificar que themeColors existe\n      if (!themeColors || !themeColors.primary) {\n        console.error(`Theme colors not found for scheme: ${validColorScheme}`)\n        // Usar un color de fallback\n        setStyle({\n          backgroundColor: mode === \"dark\" ? \"#0a0d14\" : \"#f9fafb\",\n          color: mode === \"dark\" ? \"#f9fafb\" : \"#0a0d14\",\n        })\n        return\n      }\n\n      // Definir el color de fondo basado en el tema y modo\n      if (mode === \"dark\") {\n        // En modo oscuro, usar un color oscuro específico del tema\n        setStyle({\n          backgroundColor: themeColors.primary.textDark || \"#0a0d14\",\n          color: colors.neutral.gray[100],\n        })\n      } else {\n        // En modo claro, usar un color muy suave del tema\n        setStyle({\n          backgroundColor: `${themeColors.primary.bg}15` || \"#f9fafb\",\n          color: colors.neutral.gray[900],\n        })\n      }\n    } catch (error) {\n      console.error(\"Error setting theme background:\", error)\n      // Fallback en caso de error\n      setStyle({\n        backgroundColor: mode === \"dark\" ? \"#0a0d14\" : \"#f9fafb\",\n        color: mode === \"dark\" ? \"#f9fafb\" : \"#0a0d14\",\n      })\n    }\n  }, [colorScheme, mode])\n\n  return (\n    \u003cdiv\n      style={{\n        ...style,\n        position: \"fixed\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        width: \"100vw\",\n        height: \"100vh\",\n        zIndex: -1,\n        transition: \"background-color 0.3s ease\",\n      }}\n    \u003e\n      {children}\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"a8:T86a,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useTheme } from \"@/app/theme-provider\"\nimport { useEffect, useState } from \"react\"\n\nexport function ThemeDebugger() {\n  const { colorScheme, mode, setColorScheme, setMode } = useTheme()\n  const [error, setError] = useState\u003cstring | null\u003e(null)\n  const [themeState, setThemeState] = useState\u003cstring\u003e(`Theme: ${colorScheme}, Mode: ${mode}`)\n\n  useEffect(() =\u003e {\n    try {\n      setThemeState(`Theme: ${colorScheme}, Mode: ${mode}`)\n      setError(null)\n    } catch (e) {\n      setError(e instanceof Error ? e.message : String(e))\n    }\n  }, [colorScheme, mode])\n\n  const handleThemeChange = (newTheme: \"blue\" | \"green\" | \"orange\") =\u003e {\n    try {\n      setColorScheme(newTheme)\n    } catch (e) {\n      setError(e instanceof Error ? e.message : String(e))\n    }\n  }\n\n  const handleModeChange = (newMode: \"light\" | \"dark\") =\u003e {\n    try {\n      setMode(newMode)\n    } catch (e) {\n      setError(e instanceof Error ? e.message : String(e))\n    }\n  }\n\n  return (\n    \u003cdiv className=\"fixed bottom-4 right-4 z-50 bg-white dark:bg-gray-800 p-4 rounded-lg shadow-lg\"\u003e\n      \u003ch3 className=\"font-bold mb-2\"\u003eTheme Debugger\u003c/h3\u003e\n      \u003cp className=\"mb-2\"\u003e{themeState}\u003c/p\u003e\n\n      {error \u0026\u0026 \u003cdiv className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded mb-2\"\u003e{error}\u003c/div\u003e}\n\n      \u003cdiv className=\"flex gap-2 mb-2\"\u003e\n        \u003cbutton onClick={() =\u003e handleThemeChange(\"blue\")} className=\"px-3 py-1 bg-blue-500 text-white rounded\"\u003e\n          Blue\n        \u003c/button\u003e\n        \u003cbutton onClick={() =\u003e handleThemeChange(\"green\")} className=\"px-3 py-1 bg-green-500 text-white rounded\"\u003e\n          Green\n        \u003c/button\u003e\n        \u003cbutton onClick={() =\u003e handleThemeChange(\"orange\")} className=\"px-3 py-1 bg-orange-500 text-white rounded\"\u003e\n          Orange\n        \u003c/button\u003e\n      \u003c/div\u003e\n\n      \u003cdiv className=\"flex gap-2\"\u003e\n        \u003cbutton onClick={() =\u003e handleModeChange(\"light\")} className=\"px-3 py-1 bg-gray-200 text-gray-800 rounded\"\u003e\n          Light\n        \u003c/button\u003e\n        \u003cbutton onClick={() =\u003e handleModeChange(\"dark\")} className=\"px-3 py-1 bg-gray-800 text-white rounded\"\u003e\n          Dark\n        \u003c/button\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"a9:Tb6a,"])</script><script>self.__next_f.push([1,"\"use client\"\nimport { useTheme } from \"@/app/theme-provider\"\nimport { Button } from \"@/components/ui/button\"\nimport { Check, Palette } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\"\nimport { useRipple } from \"@/components/ripple/RippleProvider\"\n\nexport function ThemeSelector() {\n  const { colorScheme, setColorScheme } = useTheme()\n  const ripple = useRipple()\n\n  // Constantes para el ripple\n  const RIPPLE_COLOR = \"hsl(var(--accent) / 0.3)\"\n  const RIPPLE_SCALE = 8\n\n  return (\n    \u003cPopover\u003e\n      \u003cPopoverTrigger asChild\u003e\n        \u003cButton\n          variant=\"ghost\"\n          size=\"icon\"\n          className=\"h-8 w-8\"\n          aria-label=\"Seleccionar esquema de color\"\n          onMouseDown={(e) =\u003e ripple(e.nativeEvent, RIPPLE_COLOR, RIPPLE_SCALE)}\n        \u003e\n          \u003cPalette\n            className={cn(\"h-[18px] w-[18px]\", {\n              \"text-blue-600\": colorScheme === \"default\",\n              \"text-green-600\": colorScheme === \"green\",\n              \"text-orange-500\": colorScheme === \"orange\",\n            })}\n          /\u003e\n        \u003c/Button\u003e\n      \u003c/PopoverTrigger\u003e\n      \u003cPopoverContent className=\"w-[200px] p-2\"\u003e\n        \u003cdiv className=\"grid gap-1\"\u003e\n          \u003cButton\n            variant=\"ghost\"\n            className=\"flex items-center justify-between px-2 py-1.5 w-full\"\n            onClick={() =\u003e setColorScheme(\"default\")}\n            onMouseDown={(e) =\u003e ripple(e.nativeEvent, RIPPLE_COLOR, RIPPLE_SCALE)}\n          \u003e\n            \u003cdiv className=\"flex items-center gap-2\"\u003e\n              \u003cdiv className=\"h-4 w-4 rounded-full bg-blue-600\" /\u003e\n              \u003cspan\u003eAzul\u003c/span\u003e\n            \u003c/div\u003e\n            {colorScheme === \"default\" \u0026\u0026 \u003cCheck className=\"h-4 w-4\" /\u003e}\n          \u003c/Button\u003e\n          \u003cButton\n            variant=\"ghost\"\n            className=\"flex items-center justify-between px-2 py-1.5 w-full\"\n            onClick={() =\u003e setColorScheme(\"green\")}\n            onMouseDown={(e) =\u003e ripple(e.nativeEvent, RIPPLE_COLOR, RIPPLE_SCALE)}\n          \u003e\n            \u003cdiv className=\"flex items-center gap-2\"\u003e\n              \u003cdiv className=\"h-4 w-4 rounded-full bg-green-600\" /\u003e\n              \u003cspan\u003eVerde\u003c/span\u003e\n            \u003c/div\u003e\n            {colorScheme === \"green\" \u0026\u0026 \u003cCheck className=\"h-4 w-4\" /\u003e}\n          \u003c/Button\u003e\n          \u003cButton\n            variant=\"ghost\"\n            className=\"flex items-center justify-between px-2 py-1.5 w-full\"\n            onClick={() =\u003e setColorScheme(\"orange\")}\n            onMouseDown={(e) =\u003e ripple(e.nativeEvent, RIPPLE_COLOR, RIPPLE_SCALE)}\n          \u003e\n            \u003cdiv className=\"flex items-center gap-2\"\u003e\n              \u003cdiv className=\"h-4 w-4 rounded-full bg-orange-500\" /\u003e\n              \u003cspan\u003eNaranja\u003c/span\u003e\n            \u003c/div\u003e\n            {colorScheme === \"orange\" \u0026\u0026 \u003cCheck className=\"h-4 w-4\" /\u003e}\n          \u003c/Button\u003e\n        \u003c/div\u003e\n      \u003c/PopoverContent\u003e\n    \u003c/Popover\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"aa:T72a,\"use client\"\n\nimport type React from \"react\"\n\nimport type { ReactNode } from \"react\"\nimport { useTheme } from \"@/app/theme-provider\"\nimport colors from \"@/lib/theme/colors\"\n\ninterface ThemeTextProps {\n  children: ReactNode\n  variant?: \"title\" | \"subtitle\" | \"body\" | \"caption\"\n  className?: string\n}\n\n/**\n * ThemeText - Componente que aplica estilos de texto según el tema actual\n * Utiliza el sistema de colores basado en JS/TS en lugar de CSS\n */\nexport function ThemeText({ children, variant = \"body\", className = \"\" }: ThemeTextProps) {\n  const { colorScheme, mode } = useTheme()\n\n  // Obtener el tema actual\n  const currentTheme = colorScheme || \"blue\"\n  const themeColors = colors.themes[currentTheme as keyof typeof colors.themes]\n  const isDark = mode === \"dark\"\n\n  // Definir estilos según la variante y el tema\n  let style: React.CSSProperties = {}\n\n  switch (variant) {\n    case \"title\":\n      style = {\n        fontSize: \"2rem\",\n        fontWeight: 700,\n        color: isDark ? themeColors.primary.pure : themeColors.primary.text,\n        fontFamily: \"var(--font-playfair)\",\n      }\n      break\n    case \"subtitle\":\n      style = {\n        fontSize: \"1.5rem\",\n        fontWeight: 600,\n        color: isDark ? themeColors.secondary.pure : themeColors.secondary.text,\n        fontFamily: \"var(--font-jakarta)\",\n      }\n      break\n    case \"caption\":\n      style = {\n        fontSize: \"0.875rem\",\n        color: isDark ? colors.neutral.gray[400] : colors.neutral.gray[600],\n        fontFamily: \"var(--font-inter)\",\n      }\n      break\n    default: // body\n      style = {\n        fontSize: \"1rem\",\n        color: isDark ? colors.neutral.gray[300] : colors.neutral.gray[700],\n        fontFamily: \"var(--font-jakarta)\",\n      }\n  }\n\n  return (\n    \u003cdiv className={className} style={style}\u003e\n      {children}\n    \u003c/div\u003e\n  )\n}\nab:T3041,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState, useRef, useEffect } from \"react\"\nimport { motion, AnimatePresence } from \"framer-motion\"\nimport { LogOut, Check } from \"lucide-react\"\nimport { useTheme } from \"@/app/theme-provider\"\nimport { useAuth } from \"@/app/auth-provider\"\nimport { toast } from \"sonner\"\nimport { Text } from \"@/components/ui/text\"\nimport { Icon } from \"@/components/ui/icon\"\nimport { SelectCustom, type SelectOption } from \"@/components/ui/select-custom\"\nimport { generateUserAvatarTokens } from \"@/lib/theme/components/user-avatar-tokens\"\n\n// Traducciones amigables para los nombres de permisos\nconst permissionTranslations = {\n  can_manage_master_data: \"Administrar datos maestros\",\n  can_create_batches: \"Crear lotes\",\n  can_upload_files: \"Subir archivos\",\n  can_bulk_edit_master_data: \"Edición masiva de datos\",\n}\n\nexport function UserAvatar() {\n  const { user, logout, proyectoActual, proyectosDisponibles, seleccionarProyecto } = useAuth()\n  const { mode, appColorTokens } = useTheme()\n  const [isOpen, setIsOpen] = useState(false)\n  const menuRef = useRef\u003cHTMLDivElement\u003e(null)\n  const buttonRef = useRef\u003cHTMLButtonElement\u003e(null)\n\n  // Usar useMemo para generar los tokens solo cuando cambian las dependencias\n  const avatarTokens = appColorTokens ? generateUserAvatarTokens(appColorTokens, mode) : null\n\n  // Verificar si tenemos tokens válidos\n  const hasTokens = !!avatarTokens\n\n  // Obtener la primera letra del nombre de usuario desde el perfil\n  const getInitial = () =\u003e {\n    // Buscar un nombre para mostrar, con fallbacks\n\n    const displayName = user?.user_metadata?.public_display_name || user?.user_metadata?.name || user?.email || \"U\"\n\n    // Obtener la primera letra y convertirla a mayúscula\n    return displayName.charAt(0).toUpperCase()\n  }\n\n  // Cerrar el menú cuando se hace clic fuera de él\n  useEffect(() =\u003e {\n    const handleClickOutside = (event: MouseEvent) =\u003e {\n      if (\n        menuRef.current \u0026\u0026\n        buttonRef.current \u0026\u0026\n        !menuRef.current.contains(event.target as Node) \u0026\u0026\n        !buttonRef.current.contains(event.target as Node)\n      ) {\n        setIsOpen(false)\n      }\n    }\n\n    document.addEventListener(\"mousedown\", handleClickOutside)\n    return () =\u003e {\n      document.removeEventListener(\"mousedown\", handleClickOutside)\n    }\n  }, [])\n\n  // Variantes de animación para el menú\n  const menuVariants = {\n    hidden: {\n      opacity: 0,\n      y: -5,\n      scale: 0.95,\n      transition: {\n        duration: 0.2,\n        ease: \"easeInOut\",\n      },\n    },\n    visible: {\n      opacity: 1,\n      y: 0,\n      scale: 1,\n      transition: {\n        duration: 0.2,\n        ease: \"easeOut\",\n      },\n    },\n    exit: {\n      opacity: 0,\n      y: -5,\n      scale: 0.95,\n      transition: {\n        duration: 0.15,\n        ease: \"easeInOut\",\n      },\n    },\n  }\n\n  // Variantes para los elementos del menú\n  const itemVariants = {\n    hidden: { opacity: 0, x: -10 },\n    visible: (custom: number) =\u003e ({\n      opacity: 1,\n      x: 0,\n      transition: {\n        delay: custom * 0.05,\n        duration: 0.2,\n        ease: \"easeOut\",\n      },\n    }),\n  }\n\n  // Manejar el cierre de sesión\n  const handleLogout = async () =\u003e {\n    try {\n      await logout()\n      setIsOpen(false)\n      toast.success(\"Sesión cerrada correctamente\")\n    } catch (error) {\n      console.error(\"Error al cerrar sesión:\", error)\n      toast.error(\"Error al cerrar sesión\")\n    }\n  }\n\n  // Manejar cambio de proyecto\n  const handleProjectChange = (projectId: string | string[]) =\u003e {\n    if (typeof projectId === \"string\" \u0026\u0026 projectId) {\n      seleccionarProyecto(projectId)\n      toast.success(\"Proyecto cambiado exitosamente\")\n    }\n  }\n\n  // Convertir proyectos disponibles a opciones para el selector\n  const projectOptions: SelectOption[] = proyectosDisponibles.map((proyecto) =\u003e ({\n    value: proyecto.id,\n    label: proyecto.name,\n    disabled: false,\n  }))\n\n  // Verificar si hay permisos activos en el proyecto actual\n  const activePermissions = proyectoActual?.permissions\n    ? Object.entries(proyectoActual.permissions)\n        .filter(([key, value]) =\u003e value === true \u0026\u0026 key !== \"role_name\")\n        .map(([key]) =\u003e key as keyof typeof permissionTranslations)\n    : []\n\n  // Determinar si mostrar el selector de proyectos\n  const shouldShowProjectSelector = proyectosDisponibles.length \u003e 1\n\n  // Valores por defecto en caso de que no haya tokens\n  const defaultBackgroundColor = \"rgba(200, 200, 200, 0.5)\"\n  const defaultBorderColor = \"rgba(150, 150, 150, 0.3)\"\n  const defaultTextColor = \"#333333\"\n\n  // Obtener el nombre de usuario para mostrar\n  const userDisplayName =\n    user?.user_metadata?.public_display_name || user?.user_metadata?.name || user?.email || \"Usuario\"\n\n  return (\n    \u003cdiv className=\"relative\"\u003e\n      \u003cmotion.button\n        ref={buttonRef}\n        whileHover={{ scale: 1.05 }}\n        whileTap={{ scale: 0.95 }}\n        onClick={() =\u003e setIsOpen(!isOpen)}\n        className=\"flex items-center justify-center rounded-full border transition-colors hover:bg-gray-100 dark:hover:bg-gray-800\"\n        style={{\n          background: hasTokens \u0026\u0026 avatarTokens ? avatarTokens.avatar.backgroundGradient : defaultBackgroundColor,\n          borderColor: hasTokens \u0026\u0026 avatarTokens ? avatarTokens.avatar.borderColor : defaultBorderColor,\n          width: \"36px\",\n          height: \"36px\",\n          color: hasTokens \u0026\u0026 avatarTokens ? avatarTokens.avatar.textColor : defaultTextColor,\n          transition: hasTokens \u0026\u0026 avatarTokens ? avatarTokens.avatar.transition : \"all 0.2s ease-in-out\",\n        }}\n        aria-label=\"Menú de usuario\"\n        aria-expanded={isOpen}\n        aria-haspopup=\"true\"\n      \u003e\n        \u003cText\n          size=\"2xl\"\n          weight=\"bold\"\n          color=\"primary\"\n          colorVariant=\"text\"\n          style={{\n            fontWeight: hasTokens \u0026\u0026 avatarTokens ? avatarTokens.avatar.fontWeight : \"700\",\n          }}\n        \u003e\n          {getInitial()}\n        \u003c/Text\u003e\n      \u003c/motion.button\u003e\n\n      \u003cAnimatePresence\u003e\n        {isOpen \u0026\u0026 (\n          \u003cmotion.div\n            ref={menuRef}\n            className=\"absolute right-0 top-full z-50 mt-1 w-72 rounded-lg border\"\n            style={{\n              backgroundColor: hasTokens \u0026\u0026 avatarTokens ? avatarTokens.menu.backgroundColor : \"#ffffff\",\n              borderColor: hasTokens \u0026\u0026 avatarTokens ? avatarTokens.menu.borderColor : defaultBorderColor,\n              boxShadow: hasTokens \u0026\u0026 avatarTokens ? avatarTokens.menu.boxShadow : \"0 4px 12px rgba(0, 0, 0, 0.1)\",\n              padding: hasTokens \u0026\u0026 avatarTokens ? avatarTokens.menu.padding : \"0.75rem\",\n              borderRadius: hasTokens \u0026\u0026 avatarTokens ? avatarTokens.menu.borderRadius : \"0.75rem\",\n            }}\n            variants={menuVariants}\n            initial=\"hidden\"\n            animate=\"visible\"\n            exit=\"exit\"\n          \u003e\n            {/* Información del usuario */}\n            \u003cdiv\n              className=\"mb-3 px-2 py-1 border-b pb-3\"\n              style={{\n                borderColor:\n                  hasTokens \u0026\u0026 avatarTokens ? avatarTokens.menuHeader.borderColor : \"rgba(150, 150, 150, 0.3)\",\n              }}\n            \u003e\n              \u003cText\n                variant=\"title\"\n                size=\"base\"\n                weight=\"medium\"\n                color=\"primary\"\n                colorVariant=\"text\"\n                style={{\n                  color: hasTokens \u0026\u0026 avatarTokens ? avatarTokens.menuHeader.titleColor : undefined,\n                }}\n              \u003e\n                {userDisplayName}\n              \u003c/Text\u003e\n              \u003cText\n                size=\"xs\"\n                color=\"neutral\"\n                colorVariant=\"textShade\"\n                className=\"opacity-70\"\n                style={{\n                  color: hasTokens \u0026\u0026 avatarTokens ? avatarTokens.menuHeader.subtitleColor : undefined,\n                }}\n              \u003e\n                {user?.email}\n              \u003c/Text\u003e\n            \u003c/div\u003e\n\n            {/* Proyecto actual */}\n            \u003cdiv className=\"mb-3\"\u003e\n              \u003cText size=\"xs\" weight=\"medium\" color=\"neutral\" colorVariant=\"textShade\" className=\"mb-1 px-2\"\u003e\n                Proyecto actual\n              \u003c/Text\u003e\n\n              {shouldShowProjectSelector ? (\n                \u003cdiv className=\"px-2 mb-2\"\u003e\n                  \u003cSelectCustom\n                    size=\"sm\"\n                    options={projectOptions}\n                    value={proyectoActual?.id || \"\"}\n                    onChange={handleProjectChange}\n                    placeholder=\"Seleccionar proyecto\"\n                  /\u003e\n\n                  {/* Mostrar rol solo cuando hay un proyecto seleccionado */}\n                  {proyectoActual \u0026\u0026 proyectoActual.permissions?.role_name \u0026\u0026 (\n                    \u003cdiv className=\"mt-2 flex items-center\"\u003e\n                      \u003cText size=\"xs\" weight=\"medium\" color=\"neutral\" className=\"mr-2\"\u003e\n                        Rol:\n                      \u003c/Text\u003e\n                      \u003cspan className=\"text-xs px-2 py-0.5 bg-blue-50 text-blue-700 rounded-full\"\u003e\n                        {proyectoActual.permissions.role_name}\n                      \u003c/span\u003e\n                    \u003c/div\u003e\n                  )}\n                \u003c/div\u003e\n              ) : (\n                \u003cdiv className=\"px-2 py-1 mb-2 bg-gray-50 dark:bg-gray-800 rounded-md\"\u003e\n                  \u003cText size=\"sm\" weight=\"medium\" color=\"primary\"\u003e\n                    {proyectoActual?.name || \"No hay proyectos\"}\n                  \u003c/Text\u003e\n\n                  {/* Mostrar rol solo cuando hay un proyecto seleccionado */}\n                  {proyectoActual \u0026\u0026 proyectoActual.permissions?.role_name \u0026\u0026 (\n                    \u003cdiv className=\"mt-1 flex items-center\"\u003e\n                      \u003cText size=\"xs\" weight=\"medium\" color=\"neutral\" className=\"mr-2\"\u003e\n                        Rol:\n                      \u003c/Text\u003e\n                      \u003cspan className=\"text-xs px-2 py-0.5 bg-blue-50 text-blue-700 rounded-full\"\u003e\n                        {proyectoActual.permissions.role_name}\n                      \u003c/span\u003e\n                    \u003c/div\u003e\n                  )}\n                \u003c/div\u003e\n              )}\n            \u003c/div\u003e\n\n            {/* Permisos activos - solo si hay al menos uno */}\n            {activePermissions.length \u003e 0 \u0026\u0026 (\n              \u003cdiv className=\"mb-3\"\u003e\n                \u003cText size=\"xs\" weight=\"medium\" color=\"neutral\" colorVariant=\"textShade\" className=\"mb-1 px-2\"\u003e\n                  Tus permisos\n                \u003c/Text\u003e\n                \u003cdiv className=\"px-2 space-y-1\"\u003e\n                  {activePermissions.map((permission) =\u003e (\n                    \u003cdiv key={permission} className=\"flex items-center gap-2 py-0.5\"\u003e\n                      \u003cIcon size=\"xs\" color=\"success\"\u003e\n                        \u003cCheck className=\"h-3.5 w-3.5\" /\u003e\n                      \u003c/Icon\u003e\n                      \u003cText size=\"xs\" color=\"neutral\"\u003e\n                        {permissionTranslations[permission] || permission}\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n                  ))}\n                \u003c/div\u003e\n              \u003c/div\u003e\n            )}\n\n            \u003cdiv\n              className=\"h-px w-full bg-gray-200 dark:bg-gray-700 my-2\"\n              style={{\n                backgroundColor: hasTokens \u0026\u0026 avatarTokens ? avatarTokens.menuDivider.color : undefined,\n                margin: hasTokens \u0026\u0026 avatarTokens ? avatarTokens.menuDivider.margin : undefined,\n              }}\n            \u003e\u003c/div\u003e\n\n            \u003cdiv className=\"grid gap-1 mt-2\"\u003e\n              {/* Opción para cerrar sesión */}\n              \u003cmotion.button\n                variants={itemVariants}\n                initial=\"hidden\"\n                animate=\"visible\"\n                custom={0}\n                className=\"flex w-full items-center justify-between rounded-md px-2 py-1.5 transition-colors hover:bg-gray-100 dark:hover:bg-gray-800\"\n                onClick={handleLogout}\n              \u003e\n                \u003cdiv className=\"flex items-center gap-2\"\u003e\n                  \u003cIcon size=\"sm\" color=\"secondary\" colorVariant=\"text\"\u003e\n                    \u003cLogOut className=\"h-4 w-4\" /\u003e\n                  \u003c/Icon\u003e\n                  \u003cText color=\"secondary\" colorVariant=\"text\" size=\"sm\"\u003e\n                    Cerrar sesión\n                  \u003c/Text\u003e\n                \u003c/div\u003e\n              \u003c/motion.button\u003e\n            \u003c/div\u003e\n          \u003c/motion.div\u003e\n        )}\n      \u003c/AnimatePresence\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"ac:T4fc3,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\"\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\"\nimport { CheckCircle, AlertTriangle, XCircle, Info } from \"lucide-react\"\nimport type { ValidationResult } from \"@/lib/utils/csv-validator\"\n\ninterface CSVValidationResultProps {\n  validationResult: ValidationResult\n  onContinue: () =\u003e void\n  onCancel: () =\u003e void\n}\n\nexport function CSVValidationResult({ validationResult, onContinue, onCancel }: CSVValidationResultProps) {\n  const [showAllSegments, setShowAllSegments] = useState(false)\n  const [activeTab, setActiveTab] = useState\u003c\"summary\" | \"errors\" | \"warnings\" | \"stats\"\u003e(\"summary\")\n\n  const segmentsToShow = showAllSegments\n    ? validationResult.segmentsWithIssues\n    : validationResult.segmentsWithIssues.slice(0, 5)\n\n  const hasMoreSegments = validationResult.segmentsWithIssues.length \u003e 5\n\n  return (\n    \u003cCard className=\"w-full\"\u003e\n      \u003cCardHeader\u003e\n        \u003cdiv className=\"flex items-center justify-between\"\u003e\n          \u003cCardTitle\u003eResultado de Validación CSV\u003c/CardTitle\u003e\n          {validationResult.isValid ? (\n            \u003cBadge className=\"bg-green-500\"\u003eVálido\u003c/Badge\u003e\n          ) : (\n            \u003cBadge className=\"bg-red-500\"\u003eInválido\u003c/Badge\u003e\n          )}\n        \u003c/div\u003e\n        \u003cCardDescription\u003e\n          Se analizaron {validationResult.stats.totalSegments} segmentos de transcripción\n        \u003c/CardDescription\u003e\n      \u003c/CardHeader\u003e\n\n      \u003cdiv className=\"border-b px-6\"\u003e\n        \u003cdiv className=\"flex space-x-4\"\u003e\n          \u003cbutton\n            onClick={() =\u003e setActiveTab(\"summary\")}\n            className={`py-2 border-b-2 ${\n              activeTab === \"summary\"\n                ? \"border-primary text-primary font-medium\"\n                : \"border-transparent text-muted-foreground\"\n            }`}\n          \u003e\n            Resumen\n          \u003c/button\u003e\n          \u003cbutton\n            onClick={() =\u003e setActiveTab(\"errors\")}\n            className={`py-2 border-b-2 flex items-center ${\n              activeTab === \"errors\"\n                ? \"border-primary text-primary font-medium\"\n                : \"border-transparent text-muted-foreground\"\n            }`}\n          \u003e\n            Errores\n            {validationResult.blockingErrors.length \u003e 0 \u0026\u0026 (\n              \u003cBadge variant=\"destructive\" className=\"ml-2\"\u003e\n                {validationResult.blockingErrors.length}\n              \u003c/Badge\u003e\n            )}\n          \u003c/button\u003e\n          \u003cbutton\n            onClick={() =\u003e setActiveTab(\"warnings\")}\n            className={`py-2 border-b-2 flex items-center ${\n              activeTab === \"warnings\"\n                ? \"border-primary text-primary font-medium\"\n                : \"border-transparent text-muted-foreground\"\n            }`}\n          \u003e\n            Advertencias\n            {validationResult.warnings.length \u003e 0 \u0026\u0026 (\n              \u003cBadge variant=\"outline\" className=\"ml-2 bg-yellow-100 text-yellow-800 hover:bg-yellow-100\"\u003e\n                {validationResult.warnings.length}\n              \u003c/Badge\u003e\n            )}\n          \u003c/button\u003e\n          \u003cbutton\n            onClick={() =\u003e setActiveTab(\"stats\")}\n            className={`py-2 border-b-2 ${\n              activeTab === \"stats\"\n                ? \"border-primary text-primary font-medium\"\n                : \"border-transparent text-muted-foreground\"\n            }`}\n          \u003e\n            Estadísticas\n          \u003c/button\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n\n      \u003cCardContent className=\"pt-6\"\u003e\n        {activeTab === \"summary\" \u0026\u0026 (\n          \u003cdiv className=\"space-y-4\"\u003e\n            \u003cdiv className=\"grid grid-cols-1 md:grid-cols-3 gap-4\"\u003e\n              \u003cCard\u003e\n                \u003cCardHeader className=\"py-4\"\u003e\n                  \u003cCardTitle className=\"text-lg flex items-center\"\u003e\n                    \u003cInfo className=\"mr-2 h-5 w-5 text-blue-500\" /\u003e\n                    Segmentos\n                  \u003c/CardTitle\u003e\n                \u003c/CardHeader\u003e\n                \u003cCardContent\u003e\n                  \u003cp className=\"text-3xl font-bold\"\u003e{validationResult.stats.totalSegments}\u003c/p\u003e\n                  \u003cp className=\"text-sm text-muted-foreground\"\u003eTotal de segmentos analizados\u003c/p\u003e\n                \u003c/CardContent\u003e\n              \u003c/Card\u003e\n\n              \u003cCard\u003e\n                \u003cCardHeader className=\"py-4\"\u003e\n                  \u003cCardTitle className=\"text-lg flex items-center\"\u003e\n                    \u003cXCircle className=\"mr-2 h-5 w-5 text-red-500\" /\u003e\n                    Errores\n                  \u003c/CardTitle\u003e\n                \u003c/CardHeader\u003e\n                \u003cCardContent\u003e\n                  \u003cp className=\"text-3xl font-bold\"\u003e{validationResult.blockingErrors.length}\u003c/p\u003e\n                  \u003cp className=\"text-sm text-muted-foreground\"\u003eProblemas que impiden la carga\u003c/p\u003e\n                \u003c/CardContent\u003e\n              \u003c/Card\u003e\n\n              \u003cCard\u003e\n                \u003cCardHeader className=\"py-4\"\u003e\n                  \u003cCardTitle className=\"text-lg flex items-center\"\u003e\n                    \u003cAlertTriangle className=\"mr-2 h-5 w-5 text-yellow-500\" /\u003e\n                    Advertencias\n                  \u003c/CardTitle\u003e\n                \u003c/CardHeader\u003e\n                \u003cCardContent\u003e\n                  \u003cp className=\"text-3xl font-bold\"\u003e{validationResult.warnings.length}\u003c/p\u003e\n                  \u003cp className=\"text-sm text-muted-foreground\"\u003eProblemas que requieren atención\u003c/p\u003e\n                \u003c/CardContent\u003e\n              \u003c/Card\u003e\n            \u003c/div\u003e\n\n            {validationResult.segmentsWithIssues.length \u003e 0 \u0026\u0026 (\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-lg font-medium mb-2\"\u003eSegmentos con problemas\u003c/h3\u003e\n                \u003cTable\u003e\n                  \u003cTableHeader\u003e\n                    \u003cTableRow\u003e\n                      \u003cTableHead\u003eID\u003c/TableHead\u003e\n                      \u003cTableHead\u003eRol\u003c/TableHead\u003e\n                      \u003cTableHead\u003eTexto Original\u003c/TableHead\u003e\n                      \u003cTableHead\u003eTexto Normalizado\u003c/TableHead\u003e\n                      \u003cTableHead\u003eProblemas\u003c/TableHead\u003e\n                    \u003c/TableRow\u003e\n                  \u003c/TableHeader\u003e\n                  \u003cTableBody\u003e\n                    {segmentsToShow.map((segment) =\u003e (\n                      \u003cTableRow key={segment.id}\u003e\n                        \u003cTableCell\u003e{segment.id}\u003c/TableCell\u003e\n                        \u003cTableCell\u003e{segment.row.Rol}\u003c/TableCell\u003e\n                        \u003cTableCell className=\"max-w-[200px] truncate\"\u003e{segment.row.Texto_Original}\u003c/TableCell\u003e\n                        \u003cTableCell className=\"max-w-[200px] truncate\"\u003e{segment.row.Texto_Normalizado}\u003c/TableCell\u003e\n                        \u003cTableCell\u003e\n                          {segment.errors.length \u003e 0 \u0026\u0026 (\n                            \u003cBadge variant=\"destructive\" className=\"mr-1\"\u003e\n                              {segment.errors.length} {segment.errors.length === 1 ? \"error\" : \"errores\"}\n                            \u003c/Badge\u003e\n                          )}\n                          {segment.warnings.length \u003e 0 \u0026\u0026 (\n                            \u003cBadge variant=\"outline\" className=\"bg-yellow-100 text-yellow-800 hover:bg-yellow-100\"\u003e\n                              {segment.warnings.length} {segment.warnings.length === 1 ? \"advertencia\" : \"advertencias\"}\n                            \u003c/Badge\u003e\n                          )}\n                        \u003c/TableCell\u003e\n                      \u003c/TableRow\u003e\n                    ))}\n                  \u003c/TableBody\u003e\n                \u003c/Table\u003e\n\n                {hasMoreSegments \u0026\u0026 (\n                  \u003cButton variant=\"outline\" className=\"mt-2\" onClick={() =\u003e setShowAllSegments(!showAllSegments)}\u003e\n                    {showAllSegments\n                      ? \"Mostrar menos segmentos\"\n                      : `Ver todos los segmentos (${validationResult.segmentsWithIssues.length})`}\n                  \u003c/Button\u003e\n                )}\n              \u003c/div\u003e\n            )}\n          \u003c/div\u003e\n        )}\n\n        {activeTab === \"errors\" \u0026\u0026 (\n          \u003cdiv className=\"space-y-4\"\u003e\n            {validationResult.blockingErrors.length === 0 ? (\n              \u003cdiv className=\"flex items-center justify-center p-6 text-center\"\u003e\n                \u003cdiv\u003e\n                  \u003cCheckCircle className=\"mx-auto h-12 w-12 text-green-500\" /\u003e\n                  \u003ch3 className=\"mt-2 text-lg font-medium\"\u003eNo se encontraron errores\u003c/h3\u003e\n                  \u003cp className=\"mt-1 text-sm text-muted-foreground\"\u003e\n                    El archivo CSV no tiene errores críticos que impidan su carga.\n                  \u003c/p\u003e\n                \u003c/div\u003e\n              \u003c/div\u003e\n            ) : (\n              \u003c\u003e\n                \u003cAlert variant=\"destructive\"\u003e\n                  \u003cAlertTriangle className=\"h-4 w-4\" /\u003e\n                  \u003cAlertTitle\u003eErrores críticos detectados\u003c/AlertTitle\u003e\n                  \u003cAlertDescription\u003e\n                    Se encontraron {validationResult.blockingErrors.length} errores que impiden la carga del archivo.\n                  \u003c/AlertDescription\u003e\n                \u003c/Alert\u003e\n\n                \u003cdiv className=\"space-y-2\"\u003e\n                  {validationResult.blockingErrors.map((error, index) =\u003e (\n                    \u003cAlert key={index} variant=\"destructive\"\u003e\n                      \u003cAlertTitle\u003e{error.message}\u003c/AlertTitle\u003e\n                      {error.details \u0026\u0026 \u003cAlertDescription\u003e{error.details}\u003c/AlertDescription\u003e}\n                    \u003c/Alert\u003e\n                  ))}\n                \u003c/div\u003e\n\n                {validationResult.segmentsWithIssues.filter((s) =\u003e s.errors.length \u003e 0).length \u003e 0 \u0026\u0026 (\n                  \u003cdiv className=\"mt-4\"\u003e\n                    \u003ch3 className=\"text-lg font-medium mb-2\"\u003eSegmentos con errores\u003c/h3\u003e\n                    \u003cTable\u003e\n                      \u003cTableHeader\u003e\n                        \u003cTableRow\u003e\n                          \u003cTableHead\u003eID\u003c/TableHead\u003e\n                          \u003cTableHead\u003eRol\u003c/TableHead\u003e\n                          \u003cTableHead\u003eTexto Original\u003c/TableHead\u003e\n                          \u003cTableHead\u003eTexto Normalizado\u003c/TableHead\u003e\n                          \u003cTableHead\u003eErrores\u003c/TableHead\u003e\n                        \u003c/TableRow\u003e\n                      \u003c/TableHeader\u003e\n                      \u003cTableBody\u003e\n                        {validationResult.segmentsWithIssues\n                          .filter((s) =\u003e s.errors.length \u003e 0)\n                          .map((segment) =\u003e (\n                            \u003cTableRow key={segment.id}\u003e\n                              \u003cTableCell\u003e{segment.id}\u003c/TableCell\u003e\n                              \u003cTableCell\u003e{segment.row.Rol}\u003c/TableCell\u003e\n                              \u003cTableCell className=\"max-w-[200px] truncate\"\u003e{segment.row.Texto_Original}\u003c/TableCell\u003e\n                              \u003cTableCell className=\"max-w-[200px] truncate\"\u003e{segment.row.Texto_Normalizado}\u003c/TableCell\u003e\n                              \u003cTableCell\u003e\n                                \u003cul className=\"list-disc pl-5 text-sm\"\u003e\n                                  {segment.errors.map((error, i) =\u003e (\n                                    \u003cli key={i}\u003e{error}\u003c/li\u003e\n                                  ))}\n                                \u003c/ul\u003e\n                              \u003c/TableCell\u003e\n                            \u003c/TableRow\u003e\n                          ))}\n                      \u003c/TableBody\u003e\n                    \u003c/Table\u003e\n                  \u003c/div\u003e\n                )}\n              \u003c/\u003e\n            )}\n          \u003c/div\u003e\n        )}\n\n        {activeTab === \"warnings\" \u0026\u0026 (\n          \u003cdiv className=\"space-y-4\"\u003e\n            {validationResult.warnings.length === 0 \u0026\u0026\n            validationResult.segmentsWithIssues.filter((s) =\u003e s.warnings.length \u003e 0).length === 0 ? (\n              \u003cdiv className=\"flex items-center justify-center p-6 text-center\"\u003e\n                \u003cdiv\u003e\n                  \u003cCheckCircle className=\"mx-auto h-12 w-12 text-green-500\" /\u003e\n                  \u003ch3 className=\"mt-2 text-lg font-medium\"\u003eNo se encontraron advertencias\u003c/h3\u003e\n                  \u003cp className=\"mt-1 text-sm text-muted-foreground\"\u003e\n                    El archivo CSV no tiene advertencias que requieran atención.\n                  \u003c/p\u003e\n                \u003c/div\u003e\n              \u003c/div\u003e\n            ) : (\n              \u003c\u003e\n                {validationResult.warnings.length \u003e 0 \u0026\u0026 (\n                  \u003cdiv className=\"space-y-2\"\u003e\n                    \u003cAlert className=\"bg-yellow-50 border-yellow-200\"\u003e\n                      \u003cAlertTriangle className=\"h-4 w-4 text-yellow-800\" /\u003e\n                      \u003cAlertTitle className=\"text-yellow-800\"\u003eAdvertencias generales\u003c/AlertTitle\u003e\n                      \u003cAlertDescription className=\"text-yellow-800\"\u003e\n                        Se encontraron {validationResult.warnings.length} advertencias que requieren atención.\n                      \u003c/AlertDescription\u003e\n                    \u003c/Alert\u003e\n\n                    {validationResult.warnings.map((warning, index) =\u003e (\n                      \u003cAlert key={index} className=\"bg-yellow-50 border-yellow-200\"\u003e\n                        \u003cAlertTitle className=\"text-yellow-800\"\u003e{warning.message}\u003c/AlertTitle\u003e\n                        {warning.details \u0026\u0026 (\n                          \u003cAlertDescription className=\"text-yellow-800\"\u003e{warning.details}\u003c/AlertDescription\u003e\n                        )}\n                      \u003c/Alert\u003e\n                    ))}\n                  \u003c/div\u003e\n                )}\n\n                {validationResult.segmentsWithIssues.filter((s) =\u003e s.warnings.length \u003e 0).length \u003e 0 \u0026\u0026 (\n                  \u003cdiv className=\"mt-4\"\u003e\n                    \u003ch3 className=\"text-lg font-medium mb-2\"\u003eSegmentos con advertencias\u003c/h3\u003e\n                    \u003cTable\u003e\n                      \u003cTableHeader\u003e\n                        \u003cTableRow\u003e\n                          \u003cTableHead\u003eID\u003c/TableHead\u003e\n                          \u003cTableHead\u003eRol\u003c/TableHead\u003e\n                          \u003cTableHead\u003eTexto Original\u003c/TableHead\u003e\n                          \u003cTableHead\u003eTexto Normalizado\u003c/TableHead\u003e\n                          \u003cTableHead\u003eAdvertencias\u003c/TableHead\u003e\n                        \u003c/TableRow\u003e\n                      \u003c/TableHeader\u003e\n                      \u003cTableBody\u003e\n                        {validationResult.segmentsWithIssues\n                          .filter((s) =\u003e s.warnings.length \u003e 0)\n                          .map((segment) =\u003e (\n                            \u003cTableRow key={segment.id}\u003e\n                              \u003cTableCell\u003e{segment.id}\u003c/TableCell\u003e\n                              \u003cTableCell\u003e{segment.row.Rol}\u003c/TableCell\u003e\n                              \u003cTableCell className=\"max-w-[200px] truncate\"\u003e{segment.row.Texto_Original}\u003c/TableCell\u003e\n                              \u003cTableCell className=\"max-w-[200px] truncate\"\u003e{segment.row.Texto_Normalizado}\u003c/TableCell\u003e\n                              \u003cTableCell\u003e\n                                \u003cul className=\"list-disc pl-5 text-sm\"\u003e\n                                  {segment.warnings.map((warning, i) =\u003e (\n                                    \u003cli key={i}\u003e{warning}\u003c/li\u003e\n                                  ))}\n                                \u003c/ul\u003e\n                              \u003c/TableCell\u003e\n                            \u003c/TableRow\u003e\n                          ))}\n                      \u003c/TableBody\u003e\n                    \u003c/Table\u003e\n                  \u003c/div\u003e\n                )}\n              \u003c/\u003e\n            )}\n          \u003c/div\u003e\n        )}\n\n        {activeTab === \"stats\" \u0026\u0026 (\n          \u003cdiv className=\"space-y-6\"\u003e\n            \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n              \u003cCard\u003e\n                \u003cCardHeader\u003e\n                  \u003cCardTitle\u003eDistribución de Roles\u003c/CardTitle\u003e\n                \u003c/CardHeader\u003e\n                \u003cCardContent\u003e\n                  \u003cdiv className=\"space-y-2\"\u003e\n                    {Object.entries(validationResult.stats.rolesDistribution).map(([role, count]) =\u003e (\n                      \u003cdiv key={role} className=\"flex justify-between items-center\"\u003e\n                        \u003cdiv className=\"flex items-center\"\u003e\n                          \u003cBadge className=\"mr-2\"\u003e\n                            {role === \"I\"\n                              ? \"Investigador\"\n                              : role === \"E\"\n                                ? \"Entrevistado\"\n                                : role === \"S\"\n                                  ? \"Sistema\"\n                                  : role}\n                          \u003c/Badge\u003e\n                          \u003cspan\u003e{count} segmentos\u003c/span\u003e\n                        \u003c/div\u003e\n                        \u003cdiv className=\"w-1/2 bg-gray-200 rounded-full h-2.5\"\u003e\n                          \u003cdiv\n                            className=\"bg-blue-600 h-2.5 rounded-full\"\n                            style={{ width: `${(count / validationResult.stats.totalSegments) * 100}%` }}\n                          \u003e\u003c/div\u003e\n                        \u003c/div\u003e\n                      \u003c/div\u003e\n                    ))}\n                  \u003c/div\u003e\n                \u003c/CardContent\u003e\n              \u003c/Card\u003e\n\n              \u003cCard\u003e\n                \u003cCardHeader\u003e\n                  \u003cCardTitle\u003eNiveles de Confianza\u003c/CardTitle\u003e\n                \u003c/CardHeader\u003e\n                \u003cCardContent\u003e\n                  \u003cdiv className=\"space-y-2\"\u003e\n                    {Object.entries(validationResult.stats.confidenceLevels)\n                      .sort((a, b) =\u003e Number(b[0]) - Number(a[0]))\n                      .map(([level, count]) =\u003e (\n                        \u003cdiv key={level} className=\"flex justify-between items-center\"\u003e\n                          \u003cdiv className=\"flex items-center\"\u003e\n                            \u003cBadge\n                              className={`mr-2 ${\n                                Number(level) \u003c= 2\n                                  ? \"bg-red-500\"\n                                  : Number(level) === 3\n                                    ? \"bg-yellow-500\"\n                                    : \"bg-green-500\"\n                              }`}\n                            \u003e\n                              Nivel {level}\n                            \u003c/Badge\u003e\n                            \u003cspan\u003e{count} segmentos\u003c/span\u003e\n                          \u003c/div\u003e\n                          \u003cdiv className=\"w-1/2 bg-gray-200 rounded-full h-2.5\"\u003e\n                            \u003cdiv\n                              className={`h-2.5 rounded-full ${\n                                Number(level) \u003c= 2\n                                  ? \"bg-red-500\"\n                                  : Number(level) === 3\n                                    ? \"bg-yellow-500\"\n                                    : \"bg-green-500\"\n                              }`}\n                              style={{ width: `${(count / validationResult.stats.totalSegments) * 100}%` }}\n                            \u003e\u003c/div\u003e\n                          \u003c/div\u003e\n                        \u003c/div\u003e\n                      ))}\n                  \u003c/div\u003e\n                \u003c/CardContent\u003e\n              \u003c/Card\u003e\n            \u003c/div\u003e\n\n            \u003cCard\u003e\n              \u003cCardHeader\u003e\n                \u003cCardTitle\u003eMétricas de Texto\u003c/CardTitle\u003e\n              \u003c/CardHeader\u003e\n              \u003cCardContent\u003e\n                \u003cdiv className=\"grid grid-cols-1 md:grid-cols-3 gap-4\"\u003e\n                  \u003cdiv className=\"p-4 bg-gray-50 rounded-lg\"\u003e\n                    \u003cp className=\"text-sm text-gray-500\"\u003eLongitud promedio (original)\u003c/p\u003e\n                    \u003cp className=\"text-2xl font-bold\"\u003e{validationResult.stats.averageOriginalLength} caracteres\u003c/p\u003e\n                  \u003c/div\u003e\n\n                  \u003cdiv className=\"p-4 bg-gray-50 rounded-lg\"\u003e\n                    \u003cp className=\"text-sm text-gray-500\"\u003eLongitud promedio (normalizado)\u003c/p\u003e\n                    \u003cp className=\"text-2xl font-bold\"\u003e{validationResult.stats.averageNormalizedLength} caracteres\u003c/p\u003e\n                  \u003c/div\u003e\n\n                  \u003cdiv className=\"p-4 bg-gray-50 rounded-lg\"\u003e\n                    \u003cp className=\"text-sm text-gray-500\"\u003eTimestamps faltantes\u003c/p\u003e\n                    \u003cp className=\"text-2xl font-bold\"\u003e{validationResult.stats.missingTimestamps} segmentos\u003c/p\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n              \u003c/CardContent\u003e\n            \u003c/Card\u003e\n          \u003c/div\u003e\n        )}\n      \u003c/CardContent\u003e\n\n      \u003cCardFooter className=\"flex justify-end space-x-2\"\u003e\n        \u003cButton variant=\"outline\" onClick={onCancel}\u003e\n          Cancelar\n        \u003c/Button\u003e\n        \u003cButton onClick={onContinue} disabled={!validationResult.isValid}\u003e\n          {validationResult.isValid ? \"Continuar con la carga\" : \"Corregir errores\"}\n        \u003c/Button\u003e\n      \u003c/CardFooter\u003e\n    \u003c/Card\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"ad:Td36,"])</script><script>self.__next_f.push([1,"// contexts/LoadingContext.tsx\n\"use client\"\n\nimport { createContext, useContext, useState, type ReactNode, useMemo } from \"react\"\nimport { SustratoLoadingLogo } from \"@/components/ui/sustrato-loading-logo\" // Ajusta la ruta a tu componente\n\ninterface LoadingState {\n  isLoading: boolean\n  message?: string\n}\n\ninterface LoadingContextType extends LoadingState {\n  showLoading: (message?: string) =\u003e void\n  hideLoading: () =\u003e void\n}\n\nconst LoadingContext = createContext\u003cLoadingContextType | undefined\u003e(undefined)\n\nexport function LoadingProvider({ children }: { children: ReactNode }) {\n  const [loadingState, setLoadingState] = useState\u003cLoadingState\u003e({ isLoading: false, message: undefined })\n\n  // Usamos useMemo para evitar re-crear estas funciones en cada render si no es necesario\n  const showLoading = useMemo(\n    () =\u003e (message?: string) =\u003e {\n      console.log(\"[LoadingProvider] showLoading, mensaje:\", message)\n      setLoadingState({ isLoading: true, message })\n    },\n    [],\n  )\n\n  const hideLoading = useMemo(\n    () =\u003e () =\u003e {\n      console.log(\"[LoadingProvider] hideLoading\")\n      setLoadingState({ isLoading: false, message: undefined })\n    },\n    [],\n  )\n\n  const contextValue = useMemo(\n    () =\u003e ({\n      ...loadingState,\n      showLoading,\n      hideLoading,\n    }),\n    [loadingState, showLoading, hideLoading],\n  )\n\n  return (\n    \u003cLoadingContext.Provider value={contextValue}\u003e\n      {children}\n      {loadingState.isLoading \u0026\u0026 (\n        \u003cdiv\n          style={{\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            width: \"100vw\",\n            height: \"100vh\",\n            backgroundColor: \"rgba(0, 0, 0, 0.4)\", // Fondo semitransparente\n            zIndex: 9999, // Asegurar que esté por encima de otros elementos\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            backdropFilter: \"blur(4px)\", // Efecto blur opcional\n          }}\n          role=\"status\" // Para accesibilidad\n          aria-live=\"polite\"\n          aria-label={loadingState.message || \"Cargando\"}\n        \u003e\n          \u003cdiv\n            className=\"bg-background/80 p-6 sm:p-8 rounded-xl shadow-2xl flex flex-col items-center\"\n            // Añade estilos inline si es necesario para asegurar que se vean sobre el overlay\n          \u003e\n            \u003cSustratoLoadingLogo\n              size={64} // Tamaño para el overlay global\n              variant=\"spin-pulse\" // O la variante que prefieras\n              speed=\"normal\"\n              showText={!!loadingState.message} // Mostrar texto solo si hay mensaje\n              text={loadingState.message || \"Procesando...\"}\n              breathingEffect\n              colorTransition\n              // Puedes pasar colores si tu logo los necesita o toma del theme\n            /\u003e\n            {/* Si el texto no está integrado en SustratoLoadingLogo cuando showText es true: */}\n            {/* {loadingState.message \u0026\u0026 (\n              \u003cp className=\"mt-4 text-lg text-foreground animate-pulse\"\u003e\n                {loadingState.message}\n              \u003c/p\u003e\n            )} */}\n          \u003c/div\u003e\n        \u003c/div\u003e\n      )}\n    \u003c/LoadingContext.Provider\u003e\n  )\n}\n\nexport function useLoading() {\n  const context = useContext(LoadingContext)\n  if (context === undefined) {\n    throw new Error(\"useLoading debe ser usado dentro de un LoadingProvider\")\n  }\n  return context\n}\n"])</script><script>self.__next_f.push([1,"ae:Te37,"])</script><script>self.__next_f.push([1,"# PLAN DE REFACTORIZACIÓN DEL SISTEMA VISUAL\n\n## PROBLEMA ACTUAL\n\nEl sistema actual de estilos está fragmentado en múltiples archivos CSS con variables globales:\n\n- `globals.css`\n- `globals.css.additions`\n- `globals.css.color-classes`\n- `globals.css.dark-theme-fixes`\n- `globals.css.new-section`\n- `globals.css.simplified`\n- `globals.css.variables`\n\nEsta fragmentación ha creado un sistema **imposible de mantener** donde:\n\n1. Los cambios en un archivo pueden afectar inesperadamente a otros componentes\n2. No hay una fuente única de verdad para los colores y estilos\n3. El debugging es extremadamente difícil\n4. Cada nuevo desarrollador debe entender todo el sistema para hacer cambios simples\n5. Los temas oscuros y claros no funcionan consistentemente\n\n## DECISIÓN: MUERTE A LAS VARIABLES CSS GLOBALES\n\n**Hemos decidido abandonar completamente el enfoque de variables CSS globales** en favor de un sistema basado en JavaScript/TypeScript con las siguientes características:\n\n### Nuevo enfoque:\n\n1. **Fuente única de verdad**: Todos los colores y tokens de diseño se definirán en archivos TypeScript (`lib/theme/colors.ts`, etc.)\n\n2. **Componentes autónomos**: Cada componente importará directamente los tokens que necesita:\n   \\`\\`\\`tsx\n   import { colors } from '@/lib/theme/colors';\n   \n   function Button() {\n     return \u003cbutton style={{ backgroundColor: colors.primary[500] }}\u003eClick me\u003c/button\u003e;\n   }\n   \\`\\`\\`\n\n3. **Tipado fuerte**: TypeScript proporcionará autocompletado y verificación de tipos para todos los tokens de diseño\n\n4. **Temas coherentes**: El sistema de temas se implementará a nivel de aplicación, no a través de CSS\n\n## PLAN DE IMPLEMENTACIÓN\n\n### Fase 1: Establecer la nueva estructura\n\n1. Crear un sistema completo de tokens de diseño en TypeScript:\n   - `colors.ts` - Paletas de colores y semántica\n   - `spacing.ts` - Sistema de espaciado\n   - `typography.ts` - Fuentes, tamaños, pesos\n   - `shadows.ts` - Sistema de sombras\n   - `breakpoints.ts` - Puntos de quiebre para responsive\n\n2. Implementar un ThemeProvider mejorado que use Context API para proporcionar estos tokens a toda la aplicación\n\n### Fase 2: Migrar componentes existentes\n\n1. Comenzar con los componentes más básicos (Text, Button, Card)\n2. Eliminar todas las dependencias de variables CSS\n3. Usar directamente los tokens de diseño importados\n4. Implementar soporte para temas oscuros/claros a nivel de componente\n\n### Fase 3: Eliminar archivos CSS globales\n\n1. Mover estilos base necesarios a un único archivo CSS mínimo\n2. Eliminar gradualmente todos los archivos CSS fragmentados\n3. Documentar el nuevo sistema para futuros desarrolladores\n\n## BENEFICIOS ESPERADOS\n\n1. **Mantenibilidad**: Sistema más fácil de entender y mantener\n2. **Consistencia**: Todos los componentes usarán los mismos tokens\n3. **Rendimiento**: Menos CSS para cargar y procesar\n4. **Developer Experience**: Mejor autocompletado y detección de errores\n5. **Escalabilidad**: Más fácil añadir nuevos temas o variantes\n\n## COMPONENTES YA MIGRADOS\n\n- ✅ ProCard: Usa directamente colores de `colors.ts`\n- ✅ Text: Migrado para usar colores directamente sin variables CSS\n\n## PRÓXIMOS COMPONENTES A MIGRAR\n\n- Button\n- Card\n- Input\n- Select\n- Navbar\n\n---\n\n**NOTA IMPORTANTE PARA FUTUROS DESARROLLADORES:**\n\nNo añadas nuevas variables CSS globales. Sigue el nuevo enfoque basado en TypeScript para cualquier nuevo componente o modificación. Estamos en proceso de eliminar completamente las variables CSS globales.\n\nSi encuentras un componente que aún usa variables CSS, considera migrarlo al nuevo sistema como parte de tu trabajo.\n"])</script><script>self.__next_f.push([1,"af:T269b,"])</script><script>self.__next_f.push([1,"# Guía del Sistema Visual de Ayudas Técnicas\n\nEste documento describe el sistema visual implementado en la aplicación Ayudas Técnicas, incluyendo temas de colores, fuentes y animaciones. Sirve como guía para futuros desarrolladores que continuarán con el mejoramiento visual de los componentes.\n\n## Índice\n\n1. [Sistema de Temas](#sistema-de-temas)\n2. [Sistema de Fuentes](#sistema-de-fuentes)\n3. [Animaciones con Framer Motion](#animaciones-con-framer-motion)\n4. [Consideraciones para Nuevos Componentes](#consideraciones-para-nuevos-componentes)\n5. [Mejores Prácticas](#mejores-prácticas)\n\n## Sistema de Temas\n\nLa aplicación implementa un sistema de temas flexible que incluye un modo oscuro y tres variantes de temas claros.\n\n### Estructura\n\n- **ThemeProvider**: Gestiona el estado del tema actual y proporciona el contexto para toda la aplicación\n- **useTheme**: Hook personalizado para acceder al contexto del tema\n- **ThemeSwitcher**: Componente UI para cambiar entre temas\n\n### Temas Disponibles\n\n1. **Claro (Azul)**: Tema predeterminado con tonos azules\n2. **Verde**: Variante clara con tonos verdes\n3. **Naranja**: Variante clara con tonos naranjas\n4. **Oscuro**: Modo oscuro que puede aplicarse a cualquiera de los temas anteriores\n\n### Implementación Técnica\n\nLos temas se implementan mediante variables CSS y clases aplicadas al elemento raíz:\n\n\\`\\`\\`css\n/* Tema Claro (predeterminado) */\n:root {\n  --background: 210 40% 98%;\n  --foreground: 222 47% 11%;\n  --primary: 221 83% 53%;\n  /* ... más variables ... */\n}\n\n/* Tema Oscuro */\n.dark {\n  --background: 222 47% 11%;\n  --foreground: 210 40% 98%;\n  /* ... más variables ... */\n}\n\n/* Tema Verde */\n.theme-green {\n  --primary: 152 76% 40%;\n  /* ... más variables ... */\n}\n\n/* Tema Naranja */\n.theme-orange {\n  --primary: 24 95% 53%;\n  /* ... más variables ... */\n}\n\\`\\`\\`\n\n### Uso en Componentes\n\nPara usar el tema actual en un componente:\n\n\\`\\`\\`tsx\n'use client'\n\nimport { useTheme } from \"@/app/theme-provider\"\n\nexport function MyComponent() {\n  const { theme, setTheme } = useTheme()\n  \n  return (\n    \u003cdiv\u003e\n      \u003cp\u003eTema actual: {theme}\u003c/p\u003e\n      \u003cbutton onClick={() =\u003e setTheme('dark')}\u003eModo Oscuro\u003c/button\u003e\n    \u003c/div\u003e\n  )\n}\n\\`\\`\\`\n\n## Sistema de Fuentes\n\nComplementando el sistema de temas, la aplicación implementa un sistema de fuentes que permite a los usuarios elegir entre diferentes pares de tipografías.\n\n### Estructura\n\n- **FontProvider**: Gestiona el estado del tema de fuentes actual\n- **useFontTheme**: Hook personalizado para acceder al contexto de fuentes\n- **FontThemeSwitcher**: Componente UI para cambiar entre temas de fuentes\n\n### Temas de Fuentes Disponibles\n\n1. **Clásico**: Fuentes serif para títulos y sans-serif para texto\n   - Títulos: Playfair Display\n   - Texto: Source Sans Pro\n\n2. **Moderno**: Fuentes sans-serif contemporáneas\n   - Títulos: Montserrat\n   - Texto: Inter\n\n3. **Accesible**: Fuentes optimizadas para legibilidad\n   - Títulos: Atkinson Hyperlegible\n   - Texto: Open Sans\n\n### Implementación Técnica\n\nLos temas de fuentes se implementan mediante variables CSS y clases:\n\n\\`\\`\\`css\n:root {\n  --font-heading: var(--font-playfair), serif;\n  --font-body: var(--font-jakarta), system-ui, sans-serif;\n}\n\n.font-theme-classic {\n  --font-heading: 'Playfair Display', Georgia, serif;\n  --font-body: 'Source Sans Pro', 'Segoe UI', sans-serif;\n}\n\n.font-theme-modern {\n  --font-heading: 'Montserrat', 'Arial Black', sans-serif;\n  --font-body: 'Inter', Roboto, sans-serif;\n}\n\n.font-theme-accessible {\n  --font-heading: 'Atkinson Hyperlegible', Verdana, sans-serif;\n  --font-body: 'Open Sans', Arial, sans-serif;\n}\n\\`\\`\\`\n\n### Uso en Componentes\n\nPara usar el tema de fuentes en un componente:\n\n\\`\\`\\`tsx\n'use client'\n\nimport { useFontTheme } from \"@/app/font-provider\"\n\nexport function MyComponent() {\n  const { fontTheme, setFontTheme } = useFontTheme()\n  \n  return (\n    \u003cdiv\u003e\n      \u003cp\u003eTema de fuentes actual: {fontTheme}\u003c/p\u003e\n      \u003cbutton onClick={() =\u003e setFontTheme('modern')}\u003eModerno\u003c/button\u003e\n    \u003c/div\u003e\n  )\n}\n\\`\\`\\`\n\n## Animaciones con Framer Motion\n\nLa aplicación utiliza Framer Motion para crear animaciones fluidas y profesionales.\n\n### Componentes Principales\n\n- **Navbar**: Implementa animaciones para menús, submenús y transiciones\n- **ThemeSwitcher**: Animaciones para el menú desplegable y cambios de tema\n- **FontThemeSwitcher**: Animaciones similares para el selector de fuentes\n\n### Tipos de Animaciones Implementadas\n\n1. **Animaciones de entrada/salida**:\n   \\`\\`\\`tsx\n   \u003cmotion.div\n     initial={{ opacity: 0, y: -10 }}\n     animate={{ opacity: 1, y: 0 }}\n     exit={{ opacity: 0, y: 10 }}\n     transition={{ duration: 0.3 }}\n   \u003e\n     {/* Contenido */}\n   \u003c/motion.div\u003e\n   \\`\\`\\`\n\n2. **Animaciones de hover/tap**:\n   \\`\\`\\`tsx\n   \u003cmotion.button\n     whileHover={{ scale: 1.05 }}\n     whileTap={{ scale: 0.95 }}\n   \u003e\n     Botón con animación\n   \u003c/motion.button\u003e\n   \\`\\`\\`\n\n3. **Animaciones secuenciales**:\n   \\`\\`\\`tsx\n   \u003cmotion.div\n     initial={{ opacity: 0 }}\n     animate={{ opacity: 1 }}\n     transition={{ \n       staggerChildren: 0.1,\n       delayChildren: 0.2\n     }}\n   \u003e\n     {items.map(item =\u003e (\n       \u003cmotion.div\n         key={item.id}\n         variants={{\n           initial: { y: 20, opacity: 0 },\n           animate: { y: 0, opacity: 1 }\n         }}\n       \u003e\n         {item.content}\n       \u003c/motion.div\u003e\n     ))}\n   \u003c/motion.div\u003e\n   \\`\\`\\`\n\n4. **Animaciones de layout**:\n   \\`\\`\\`tsx\n   \u003cmotion.div layout transition={{ duration: 0.3 }}\u003e\n     {/* Contenido que cambia de tamaño/posición */}\n   \u003c/motion.div\u003e\n   \\`\\`\\`\n\n### Variantes Reutilizables\n\nSe han definido variantes reutilizables para mantener consistencia:\n\n\\`\\`\\`tsx\n// Variantes para elementos de menú\nconst menuItemVariants = {\n  hidden: { opacity: 0, y: -5 },\n  visible: { opacity: 1, y: 0 },\n  hover: { scale: 1.05, transition: { duration: 0.2 } },\n  tap: { scale: 0.95 },\n}\n\n// Variantes para submenús\nconst submenuVariants = {\n  hidden: { opacity: 0, height: 0, overflow: \"hidden\" },\n  visible: {\n    opacity: 1,\n    height: \"auto\",\n    transition: {\n      duration: 0.3,\n      staggerChildren: 0.05,\n      when: \"beforeChildren\",\n    },\n  },\n}\n\\`\\`\\`\n\n## Consideraciones para Nuevos Componentes\n\nAl desarrollar nuevos componentes o mejorar los existentes, es importante seguir estas pautas:\n\n### 1. Compatibilidad con Todos los Temas\n\n- Usar variables CSS para colores en lugar de valores hardcodeados\n- Probar el componente en todos los temas (claro, oscuro, verde, naranja)\n- Asegurar suficiente contraste en todos los temas\n\n\\`\\`\\`tsx\n// Correcto\n\u003cdiv className=\"bg-background text-foreground\"\u003e\n  \u003cspan className=\"text-primary\"\u003eTexto destacado\u003c/span\u003e\n\u003c/div\u003e\n\n// Incorrecto\n\u003cdiv style={{ backgroundColor: '#ffffff', color: '#000000' }}\u003e\n  \u003cspan style={{ color: 'blue' }}\u003eTexto destacado\u003c/span\u003e\n\u003c/div\u003e\n\\`\\`\\`\n\n### 2. Compatibilidad con Todos los Temas de Fuentes\n\n- Usar las variables de fuentes para títulos y texto\n- Evitar especificar fuentes directamente\n- Probar con diferentes tamaños de texto\n\n\\`\\`\\`tsx\n// Correcto\n\u003ch2 className=\"text-2xl font-medium\"\u003eTítulo\u003c/h2\u003e\n\u003cp className=\"text-base\"\u003ePárrafo de texto\u003c/p\u003e\n\n// Incorrecto\n\u003ch2 style={{ fontFamily: 'Montserrat', fontSize: '24px' }}\u003eTítulo\u003c/h2\u003e\n\u003cp style={{ fontFamily: 'Inter', fontSize: '16px' }}\u003ePárrafo de texto\u003c/p\u003e\n\\`\\`\\`\n\n### 3. Animaciones Consistentes\n\n- Usar las variantes de animación definidas\n- Mantener duraciones y curvas de animación consistentes\n- Considerar la accesibilidad (preferencia de movimiento reducido)\n\n\\`\\`\\`tsx\n// Ejemplo de componente con animaciones consistentes\nimport { motion } from \"framer-motion\"\n\nconst cardVariants = {\n  hidden: { opacity: 0, y: 20 },\n  visible: { opacity: 1, y: 0 },\n  hover: { y: -5, transition: { duration: 0.2 } }\n}\n\nexport function Card({ children }) {\n  return (\n    \u003cmotion.div\n      variants={cardVariants}\n      initial=\"hidden\"\n      animate=\"visible\"\n      whileHover=\"hover\"\n      transition={{ duration: 0.3 }}\n      className=\"bg-card text-card-foreground p-4 rounded-lg\"\n    \u003e\n      {children}\n    \u003c/motion.div\u003e\n  )\n}\n\\`\\`\\`\n\n### 4. Responsividad\n\n- Diseñar para móvil primero\n- Usar clases responsive de Tailwind\n- Probar en diferentes tamaños de pantalla\n\n\\`\\`\\`tsx\n\u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\"\u003e\n  {/* Contenido responsivo */}\n\u003c/div\u003e\n\\`\\`\\`\n\n## Mejores Prácticas\n\n### Estructura de Componentes\n\n1. **Separación de Responsabilidades**:\n   - Componentes UI puros en `/components/ui`\n   - Componentes específicos de dominio en carpetas dedicadas\n   - Lógica de estado en hooks personalizados\n\n2. **Composición sobre Herencia**:\n   - Crear componentes pequeños y reutilizables\n   - Componer componentes más complejos a partir de los simples\n\n3. **Consistencia Visual**:\n   - Mantener espaciado, tamaños y proporciones consistentes\n   - Usar el sistema de diseño establecido\n\n### Rendimiento\n\n1. **Optimización de Animaciones**:\n   - Animar solo propiedades eficientes (transform, opacity)\n   - Usar `layoutId` para transiciones entre estados\n   - Considerar `will-change` para animaciones complejas\n\n2. **Renderizado Condicional**:\n   - Usar `AnimatePresence` para elementos que entran/salen del DOM\n   - Implementar lazy loading para componentes pesados\n\n### Accesibilidad\n\n1. **Soporte para Preferencias de Usuario**:\n   - Respetar `prefers-reduced-motion`\n   - Asegurar suficiente contraste en todos los temas\n   - Proporcionar alternativas para interacciones basadas en hover\n\n2. **Semántica y ARIA**:\n   - Usar elementos HTML semánticos\n   - Añadir atributos ARIA cuando sea necesario\n   - Asegurar que todos los controles sean accesibles por teclado\n\n---\n\nEste documento es una guía viva que debe evolucionar junto con la aplicación. Se anima a los desarrolladores a actualizarlo con nuevas mejores prácticas y patrones a medida que se descubran.\n"])</script><script>self.__next_f.push([1,"b0:T509,\"use client\"\n\nimport { useTheme } from \"@/app/theme-provider\"\n\ntype TextColorVariant = \"pure\" | \"text\" | \"dark\"\ntype TextColorType =\n  | \"primary\"\n  | \"secondary\"\n  | \"tertiary\"\n  | \"accent\"\n  | \"success\"\n  | \"warning\"\n  | \"danger\"\n  | \"muted\"\n  | \"default\"\n\ninterface DarkModeTextOptions {\n  color?: TextColorType\n  colorVariant?: TextColorVariant\n  gradient?: boolean | TextColorType\n  forceLightVariant?: boolean\n}\n\n/**\n * Hook para adaptar automáticamente los colores de texto en modo oscuro\n * para mejorar la legibilidad\n */\nexport function useDarkModeText(options: DarkModeTextOptions = {}) {\n  const { mode } = useTheme()\n  const isDark = mode === \"dark\"\n\n  // Si no estamos en modo oscuro, devolvemos las opciones originales\n  if (!isDark \u0026\u0026 !options.forceLightVariant) {\n    return options\n  }\n\n  // Copia de las opciones para no modificar el objeto original\n  const adaptedOptions = { ...options }\n\n  // En modo oscuro, preferimos la variante \"pure\" para mejor contraste\n  if (\n    !adaptedOptions.colorVariant ||\n    adaptedOptions.colorVariant === \"text\" ||\n    adaptedOptions.colorVariant === \"dark\"\n  ) {\n    adaptedOptions.colorVariant = \"pure\"\n  }\n\n  // Asegurarnos de que adaptToDarkMode esté activado\n  adaptedOptions.adaptToDarkMode = true\n\n  return adaptedOptions\n}\nb1:T7f0b,"])</script><script>self.__next_f.push([1,"// lib/actions/member-actions.ts\n\"use server\"\n\nimport { createSupabaseServerClient } from \"@/lib/server\"\nimport type { Database } from \"@/lib/database.types\"\n\n// ========================================================================\n//  TYPE ALIASES FROM DATABASE SCHEMA\n// ========================================================================\ntype UserProfileInsert = Database[\"public\"][\"Tables\"][\"users_profiles\"][\"Insert\"]\ntype UserProfileUpdate = Database[\"public\"][\"Tables\"][\"users_profiles\"][\"Update\"]\ntype ProjectMemberInsert = Database[\"public\"][\"Tables\"][\"project_members\"][\"Insert\"]\ntype ProjectMemberUpdate = Database[\"public\"][\"Tables\"][\"project_members\"][\"Update\"]\n\ntype GetUserByEmailRpcArgs = Database[\"public\"][\"Functions\"][\"get_user_by_email\"][\"Args\"]\ntype GetUserByEmailRpcReturn = Database[\"public\"][\"Functions\"][\"get_user_by_email\"][\"Returns\"]\ntype HasPermissionRpcArgs = Database[\"public\"][\"Functions\"][\"has_permission_in_project\"][\"Args\"]\ntype HasPermissionRpcReturn = Database[\"public\"][\"Functions\"][\"has_permission_in_project\"][\"Returns\"]\n\n// ========================================================================\n//  CUSTOM INTERFACES FOR ACTION PAYLOADS AND RETURN TYPES\n// ========================================================================\nexport interface MemberProfileData {\n  user_id: string\n  first_name: string | null\n  last_name: string | null\n  public_display_name: string | null\n  public_contact_email: string | null\n  primary_institution: string | null\n  contact_phone: string | null\n  general_notes: string | null\n  preferred_language: string | null\n  pronouns: string | null\n}\n\nexport interface ProjectMemberDetails {\n  project_member_id: string\n  user_id: string\n  project_id: string\n  project_role_id: string\n  role_name: string | null\n  profile: MemberProfileData | null\n  joined_at: string | null\n  ui_theme: string | null\n  ui_font_pair: string | null\n  ui_is_dark_mode: boolean | null\n}\n\nexport interface ProjectRoleInfo {\n  id: string\n  role_name: string\n  role_description: string | null\n  can_manage_master_data: boolean\n  can_create_batches: boolean\n  can_upload_files: boolean\n  can_bulk_edit_master_data: boolean\n}\n\nexport type ResultadoOperacion\u003cT\u003e = { success: true; data: T } | { success: false; error: string; errorCode?: string }\n\nconst PERMISO_GESTIONAR_MIEMBROS = \"can_manage_master_data\"\n\n// ========================================================================\n//  INTERNAL HELPER FUNCTION: VERIFY PERMISSION\n// ========================================================================\nasync function verificarPermisoGestionMiembros(\n  supabase: Awaited\u003cReturnType\u003ctypeof createSupabaseServerClient\u003e\u003e,\n  userId: string,\n  proyectoId: string,\n): Promise\u003cboolean\u003e {\n  const { data: tienePermiso, error: rpcError } = await supabase.rpc(\"has_permission_in_project\", {\n    p_user_id: userId,\n    p_project_id: proyectoId,\n    p_permission_column: PERMISO_GESTIONAR_MIEMBROS,\n  } as HasPermissionRpcArgs)\n  if (rpcError) {\n    console.error(\"[AUTH_CHECK_ERROR] Error en RPC has_permission_in_project:\", rpcError.message)\n    return false\n  }\n  return (tienePermiso as HasPermissionRpcReturn) === true\n}\n\n// ========================================================================\n//  ACTION 1: OBTENER MIEMBROS CON PERFILES Y ROLES (USANDO LA VISTA)\n// ========================================================================\nexport async function obtenerMiembrosConPerfilesYRolesDelProyecto(\n  proyectoId: string,\n): Promise\u003cResultadoOperacion\u003cProjectMemberDetails[]\u003e\u003e {\n  const opId = `OMP-VIEW-${Math.floor(Math.random() * 10000)}`\n  console.log(`📄 [${opId}] Iniciando obtenerMiembrosConPerfilesYRolesDelProyecto (VIEW) para proyecto: ${proyectoId}`)\n  if (!proyectoId) {\n    return { success: false, error: \"Se requiere un ID de proyecto válido.\" }\n  }\n  try {\n    const supabase = await createSupabaseServerClient()\n    const { data: miembrosData, error: miembrosError } = await supabase\n      .from(\"detailed_project_members\")\n      .select(\n        `\n        project_member_id, user_id, project_id, project_role_id, joined_at,\n        role_name, \n        first_name, last_name, public_display_name, public_contact_email, \n        primary_institution, contact_phone, general_notes, preferred_language, pronouns,\n        ui_theme, ui_font_pair, ui_is_dark_mode \n      `,\n      )\n      .eq(\"project_id\", proyectoId)\n    if (miembrosError) {\n      console.error(`❌ [${opId}] Error al obtener miembros desde la vista:`, miembrosError)\n      return {\n        success: false,\n        error: `Error al obtener miembros: ${miembrosError.message}`,\n      }\n    }\n    if (!miembrosData) {\n      return { success: true, data: [] }\n    }\n    const miembrosDetallados: ProjectMemberDetails[] = miembrosData.map((m: any) =\u003e ({\n      project_member_id: m.project_member_id,\n      user_id: m.user_id,\n      project_id: m.project_id,\n      project_role_id: m.project_role_id,\n      role_name: m.role_name ?? \"Rol no definido\",\n      profile: {\n        user_id: m.user_id,\n        first_name: m.first_name,\n        last_name: m.last_name,\n        public_display_name: m.public_display_name,\n        public_contact_email: m.public_contact_email,\n        primary_institution: m.primary_institution,\n        contact_phone: m.contact_phone,\n        general_notes: m.general_notes,\n        preferred_language: m.preferred_language,\n        pronouns: m.pronouns,\n      },\n      joined_at: m.joined_at,\n      ui_theme: m.ui_theme,\n      ui_font_pair: m.ui_font_pair,\n      ui_is_dark_mode: m.ui_is_dark_mode,\n    }))\n    console.log(`🎉 [${opId}] ÉXITO: ${miembrosDetallados.length} miembros obtenidos (VIEW).`)\n    return { success: true, data: miembrosDetallados }\n  } catch (error) {\n    console.error(`❌ [${opId}] Excepción (VIEW):`, error)\n    return {\n      success: false,\n      error: `Error interno del servidor: ${(error as Error).message}`,\n    }\n  }\n}\n\n// ========================================================================\n//  ACTION: OBTENER DETALLES DE UN MIEMBRO ESPECÍFICO DEL PROYECTO\n// ========================================================================\nexport async function obtenerDetallesMiembroProyecto(\n  projectMemberId: string,\n  proyectoId: string,\n): Promise\u003cResultadoOperacion\u003cProjectMemberDetails | null\u003e\u003e {\n  const opId = `ODM-${Math.floor(Math.random() * 10000)}`\n  console.log(\n    `📄 [${opId}] Iniciando obtenerDetallesMiembroProyecto para membresía: ${projectMemberId} en proyecto: ${proyectoId}`,\n  )\n  if (!projectMemberId || !proyectoId) {\n    return {\n      success: false,\n      error: \"Se requieren projectMemberId y proyectoId válidos.\",\n    }\n  }\n  try {\n    const supabase = await createSupabaseServerClient()\n    const { data: miembroData, error: miembroError } = await supabase\n      .from(\"detailed_project_members\")\n      .select(\n        `\n        project_member_id, user_id, project_id, project_role_id, joined_at,\n        role_name, \n        first_name, last_name, public_display_name, public_contact_email, \n        primary_institution, contact_phone, general_notes, preferred_language, pronouns,\n        ui_theme, ui_font_pair, ui_is_dark_mode\n      `,\n      )\n      .eq(\"project_member_id\", projectMemberId)\n      .eq(\"project_id\", proyectoId)\n      .maybeSingle()\n    if (miembroError) {\n      console.error(`❌ [${opId}] Error al obtener detalles del miembro:`, miembroError)\n      return {\n        success: false,\n        error: `Error al obtener detalles del miembro: ${miembroError.message}`,\n      }\n    }\n    if (!miembroData) {\n      return { success: true, data: null }\n    }\n    const miembroDetallado: ProjectMemberDetails = {\n      project_member_id: miembroData.project_member_id!,\n      user_id: miembroData.user_id!,\n      project_id: miembroData.project_id!,\n      project_role_id: miembroData.project_role_id!,\n      role_name: miembroData.role_name ?? \"Rol no definido\",\n      profile: {\n        user_id: miembroData.user_id!,\n        first_name: miembroData.first_name,\n        last_name: miembroData.last_name,\n        public_display_name: miembroData.public_display_name,\n        public_contact_email: miembroData.public_contact_email,\n        primary_institution: miembroData.primary_institution,\n        contact_phone: miembroData.contact_phone,\n        general_notes: miembroData.general_notes,\n        preferred_language: miembroData.preferred_language,\n        pronouns: miembroData.pronouns,\n      },\n      joined_at: miembroData.joined_at,\n      ui_theme: miembroData.ui_theme,\n      ui_font_pair: miembroData.ui_font_pair,\n      ui_is_dark_mode: miembroData.ui_is_dark_mode,\n    }\n    console.log(`🎉 [${opId}] ÉXITO: Detalles del miembro obtenidos.`)\n    return { success: true, data: miembroDetallado }\n  } catch (error) {\n    console.error(`❌ [${opId}] Excepción:`, error)\n    return {\n      success: false,\n      error: `Error interno del servidor: ${(error as Error).message}`,\n    }\n  }\n}\n\n// ========================================================================\n//  ACTION: OBTENER ROLES DISPONIBLES PARA UN PROYECTO\n// ========================================================================\nexport async function obtenerRolesDisponiblesProyecto(\n  proyectoId: string,\n): Promise\u003cResultadoOperacion\u003cProjectRoleInfo[]\u003e\u003e {\n  const opId = `ORDP-${Math.floor(Math.random() * 10000)}`\n  console.log(`📄 [${opId}] Iniciando obtenerRolesDisponiblesProyecto para proyecto: ${proyectoId}`)\n  if (!proyectoId) {\n    return { success: false, error: \"Se requiere un ID de proyecto válido.\" }\n  }\n  try {\n    const supabase = await createSupabaseServerClient()\n    const { data: rolesData, error: rolesError } = await supabase\n      .from(\"project_roles\")\n      .select(\n        `\n        id,\n        role_name,\n        role_description,\n        can_manage_master_data,\n        can_create_batches,\n        can_upload_files,\n        can_bulk_edit_master_data\n      `,\n      )\n      .eq(\"project_id\", proyectoId)\n      .order(\"role_name\", { ascending: true })\n    if (rolesError) {\n      console.error(`❌ [${opId}] Error al obtener roles del proyecto:`, rolesError)\n      return {\n        success: false,\n        error: `Error al obtener roles: ${rolesError.message}`,\n      }\n    }\n    if (!rolesData) {\n      return { success: true, data: [] }\n    }\n    const rolesInfo: ProjectRoleInfo[] = rolesData.map((r: any) =\u003e ({\n      // any para simplificar, o usar el tipo Row de project_roles\n      id: r.id,\n      role_name: r.role_name,\n      role_description: r.role_description,\n      can_manage_master_data: r.can_manage_master_data || false,\n      can_create_batches: r.can_create_batches || false,\n      can_upload_files: r.can_upload_files || false,\n      can_bulk_edit_master_data: r.can_bulk_edit_master_data || false,\n    }))\n    console.log(`🎉 [${opId}] ÉXITO: ${rolesInfo.length} roles obtenidos para el proyecto.`)\n    return { success: true, data: rolesInfo }\n  } catch (error) {\n    console.error(`❌ [${opId}] Excepción:`, error)\n    return {\n      success: false,\n      error: `Error interno del servidor: ${(error as Error).message}`,\n    }\n  }\n}\n\n// ========================================================================\n//  ACTION: AGREGAR MIEMBRO A PROYECTO\n// ========================================================================\ninterface AddMemberPayload {\n  proyectoId: string\n  emailUsuarioNuevo: string\n  rolIdAsignar: string\n  datosPerfilInicial?: Omit\u003cPartial\u003cUserProfileInsert\u003e, \"user_id\" | \"public_contact_email\"\u003e\n}\n\nexport async function agregarMiembroAProyecto(payload: AddMemberPayload): Promise\u003c\n  ResultadoOperacion\u003c{\n    project_member_id: string\n    profile_action: \"created\" | \"existed\" | \"error\"\n  }\u003e\n\u003e {\n  const opId = `AMPv3-${Math.floor(Math.random() * 10000)}`\n  console.log(\n    `📄 [${opId}] Iniciando agregarMiembroAProyecto v3: ${payload.emailUsuarioNuevo} a proyecto ${payload.proyectoId}`,\n  )\n\n  const { proyectoId, emailUsuarioNuevo, rolIdAsignar, datosPerfilInicial } = payload\n  if (!proyectoId || !emailUsuarioNuevo || !rolIdAsignar) {\n    return {\n      success: false,\n      error: \"Faltan datos requeridos (proyectoId, emailUsuarioNuevo, rolIdAsignar).\",\n    }\n  }\n\n  try {\n    const supabase = await createSupabaseServerClient()\n    const {\n      data: { user: currentUser },\n    } = await supabase.auth.getUser()\n\n    if (!currentUser)\n      return {\n        success: false,\n        error: \"Usuario no autenticado.\",\n        errorCode: \"UNAUTHENTICATED\",\n      }\n\n    if (!(await verificarPermisoGestionMiembros(supabase, currentUser.id, proyectoId))) {\n      return {\n        success: false,\n        error: \"No tienes permiso para agregar miembros a este proyecto.\",\n        errorCode: \"FORBIDDEN\",\n      }\n    }\n    console.log(`✅ [${opId}] Permiso verificado para ${currentUser.id}`)\n\n    const { data: rpcData, error: rpcError } = await supabase.rpc(\"get_user_by_email\", {\n      user_email: emailUsuarioNuevo,\n    } as GetUserByEmailRpcArgs)\n\n    if (rpcError) {\n      console.error(`❌ [${opId}] Error en RPC get_user_by_email:`, rpcError)\n      return {\n        success: false,\n        error: `Error al buscar usuario: ${rpcError.message}`,\n        errorCode: \"RPC_ERROR\",\n      }\n    }\n    if (rpcData === null || typeof rpcData === \"undefined\") {\n      return {\n        success: false,\n        error: `Usuario con email '${emailUsuarioNuevo}' no encontrado.`,\n        errorCode: \"USER_NOT_FOUND\",\n      }\n    }\n    const targetUserId: string = rpcData // TypeScript ahora sabe que es string\n    console.log(`👤 [${opId}] Usuario a agregar ID: ${targetUserId}`)\n\n    const { data: existingMember, error: checkMemberError } = await supabase\n      .from(\"project_members\")\n      .select(\"id\")\n      .eq(\"user_id\", targetUserId)\n      .eq(\"project_id\", proyectoId)\n      .maybeSingle()\n    if (checkMemberError) {\n      console.error(`❌ [${opId}] Error verificando membresía existente:`, checkMemberError)\n      return {\n        success: false,\n        error: `Error al verificar membresía: ${checkMemberError.message}`,\n      }\n    }\n    if (existingMember) {\n      return {\n        success: false,\n        error: \"El usuario ya es miembro de este proyecto.\",\n        errorCode: \"ALREADY_MEMBER\",\n      }\n    }\n\n    let profile_action_status: \"created\" | \"existed\" | \"error\" = \"error\"\n    const { data: existingProfile, error: checkProfileError } = await supabase\n      .from(\"users_profiles\")\n      .select(\"user_id\")\n      .eq(\"user_id\", targetUserId)\n      .maybeSingle()\n    if (checkProfileError) {\n      console.error(`❌ [${opId}] Error verificando perfil existente:`, checkProfileError)\n      return {\n        success: false,\n        error: `Error al verificar perfil: ${checkProfileError.message}`,\n      }\n    }\n\n    if (!existingProfile) {\n      console.log(`ℹ️ [${opId}] Perfil no existente para ${targetUserId}. Creando...`)\n      const perfilParaInsertar: UserProfileInsert = {\n        user_id: targetUserId,\n        first_name: datosPerfilInicial?.first_name || \"Usuario\",\n        last_name: datosPerfilInicial?.last_name || \"Invitado\",\n        public_display_name:\n          datosPerfilInicial?.public_display_name ||\n          `${datosPerfilInicial?.first_name || \"Usuario\"} ${datosPerfilInicial?.last_name || \"Invitado\"}`,\n        public_contact_email: emailUsuarioNuevo,\n        primary_institution: datosPerfilInicial?.primary_institution || null,\n        contact_phone: datosPerfilInicial?.contact_phone || null,\n        general_notes: datosPerfilInicial?.general_notes || null,\n        preferred_language: datosPerfilInicial?.preferred_language || \"es\",\n        pronouns: datosPerfilInicial?.pronouns || null,\n      }\n      const { error: profileInsertError } = await supabase.from(\"users_profiles\").insert(perfilParaInsertar)\n      if (profileInsertError) {\n        console.error(`❌ [${opId}] Error al crear perfil para ${targetUserId}:`, profileInsertError)\n        profile_action_status = \"error\"\n      } else {\n        profile_action_status = \"created\"\n        console.log(`✅ [${opId}] Perfil creado para ${targetUserId}`)\n      }\n    } else {\n      profile_action_status = \"existed\"\n      console.log(`ℹ️ [${opId}] Perfil ya existente para ${targetUserId}.`)\n    }\n\n    const membresiaParaInsertar: ProjectMemberInsert = {\n      user_id: targetUserId,\n      project_id: proyectoId,\n      project_role_id: rolIdAsignar,\n      ui_theme: \"blue\",\n      ui_font_pair: \"sustrato\",\n      ui_is_dark_mode: false,\n      is_active_for_user: true,\n    }\n    const { data: nuevaMembresia, error: insertError } = await supabase\n      .from(\"project_members\")\n      .insert(membresiaParaInsertar)\n      .select(\"id\")\n      .single()\n\n    if (insertError) {\n      return {\n        success: false,\n        error: `Error al agregar miembro al proyecto: ${insertError.message}`,\n      }\n    }\n    if (!nuevaMembresia?.id) {\n      return {\n        success: false,\n        error: \"Error interno: Inserción de miembro no retornó ID.\",\n      }\n    }\n\n    console.log(\n      `🎉 [${opId}] ÉXITO: Miembro agregado. ID Membresía: ${nuevaMembresia.id}, Perfil: ${profile_action_status}`,\n    )\n    return {\n      success: true,\n      data: {\n        project_member_id: nuevaMembresia.id,\n        profile_action: profile_action_status,\n      },\n    }\n  } catch (error) {\n    console.error(`❌ [${opId}] Excepción:`, error)\n    return {\n      success: false,\n      error: `Error interno del servidor: ${(error as Error).message}`,\n    }\n  }\n}\n\n// ========================================================================\n//  ACTION 3: MODIFICAR DETALLES DE MIEMBRO (PERFIL Y/O MEMBRESÍA)\n// ========================================================================\ninterface ModifyMemberPayload {\n  projectMemberId: string\n  proyectoId: string\n  profileUpdates?: Omit\u003cPartial\u003cUserProfileUpdate\u003e, \"user_id\" | \"public_contact_email\" | \"created_at\" | \"updated_at\"\u003e\n  // Ajuste aquí para que el frontend envíe lo que tiene y la SA lo mapee\n  memberUpdates?: {\n    nuevoRolId?: string | null // Frontend envía esto si quiere cambiar el rol\n    // Incluir otros campos de project_members que el frontend podría querer actualizar\n    ui_theme?: string | null\n    ui_font_pair?: string | null\n    ui_is_dark_mode?: boolean | null\n    contact_email_for_project?: string | null\n    contextual_notes?: string | null\n  }\n}\n\nexport async function modificarDetallesMiembroEnProyecto(\n  payload: ModifyMemberPayload,\n): Promise\u003cResultadoOperacion\u003cnull\u003e\u003e {\n  const opId = `MDMv3-${Math.floor(Math.random() * 10000)}` // Versión incrementada\n  const { projectMemberId, proyectoId, profileUpdates, memberUpdates: memberUpdatesFromPayload } = payload\n\n  console.log(`📄 [${opId}] Iniciando modificarDetallesMiembroEnProyecto v3 para membresía ID: ${projectMemberId}`)\n  console.log(`[${opId}] Payload recibido:`, JSON.stringify(payload, null, 2))\n\n  if (!projectMemberId || !proyectoId) {\n    return {\n      success: false,\n      error: \"Faltan IDs requeridos (projectMemberId, proyectoId).\",\n    }\n  }\n  if (\n    (!profileUpdates || Object.keys(profileUpdates).length === 0) \u0026\u0026\n    (!memberUpdatesFromPayload || Object.keys(memberUpdatesFromPayload).length === 0)\n  ) {\n    return {\n      success: false,\n      error: \"No se proporcionaron datos para actualizar.\",\n      errorCode: \"NO_CHANGES\",\n    }\n  }\n\n  try {\n    const supabase = await createSupabaseServerClient()\n    const {\n      data: { user: currentUser },\n    } = await supabase.auth.getUser()\n\n    if (!currentUser)\n      return {\n        success: false,\n        error: \"Usuario no autenticado.\",\n        errorCode: \"UNAUTHENTICATED\",\n      }\n\n    if (!(await verificarPermisoGestionMiembros(supabase, currentUser.id, proyectoId))) {\n      return {\n        success: false,\n        error: \"No tienes permiso para modificar miembros en este proyecto.\",\n        errorCode: \"FORBIDDEN\",\n      }\n    }\n    console.log(`✅ [${opId}] Permiso verificado para ${currentUser.id}`)\n\n    const { data: miembro, error: miembroFetchError } = await supabase\n      .from(\"project_members\")\n      .select(\"user_id, project_id\")\n      .eq(\"id\", projectMemberId)\n      .single()\n\n    if (miembroFetchError) {\n      console.error(`❌ [${opId}] Error obteniendo datos del miembro:`, miembroFetchError)\n      return {\n        success: false,\n        error: `Error al obtener datos del miembro: ${miembroFetchError.message}`,\n        errorCode: \"FETCH_ERROR\",\n      }\n    }\n    if (!miembro) {\n      return {\n        success: false,\n        error: `Membresía con ID ${projectMemberId} no encontrada.`,\n        errorCode: \"MEMBER_NOT_FOUND\",\n      }\n    }\n    if (miembro.project_id !== proyectoId) {\n      return {\n        success: false,\n        error: \"Inconsistencia de datos: La membresía no pertenece al proyecto indicado.\",\n        errorCode: \"DATA_MISMATCH\",\n      }\n    }\n    const targetUserId = miembro.user_id\n\n    // Actualizar users_profiles si hay datos\n    if (profileUpdates \u0026\u0026 Object.keys(profileUpdates).length \u003e 0) {\n      // Filtrar cualquier campo que no deba ser undefined explícitamente\n      const cleanProfileUpdates = Object.entries(profileUpdates).reduce(\n        (acc, [key, value]) =\u003e {\n          if (value !== undefined) {\n            ;(acc as any)[key] = value\n          }\n          return acc\n        },\n        {} as Partial\u003cUserProfileUpdate\u003e,\n      )\n\n      if (Object.keys(cleanProfileUpdates).length \u003e 0) {\n        console.log(`🔄 [${opId}] Actualizando perfil de ${targetUserId}:`, cleanProfileUpdates)\n        const { error: profileUpdateError } = await supabase\n          .from(\"users_profiles\")\n          .update(cleanProfileUpdates) // Usar cleanProfileUpdates\n          .eq(\"user_id\", targetUserId)\n\n        if (profileUpdateError) {\n          console.error(`❌ [${opId}] Error actualizando perfil de ${targetUserId}:`, profileUpdateError)\n          return {\n            success: false,\n            error: `Error al actualizar perfil: ${profileUpdateError.message}`,\n          }\n        }\n        console.log(`✅ [${opId}] Perfil de ${targetUserId} actualizado.`)\n      }\n    }\n\n    // Actualizar project_members si hay datos\n    if (memberUpdatesFromPayload \u0026\u0026 Object.keys(memberUpdatesFromPayload).length \u003e 0) {\n      const updatesParaProjectMembersDb: Partial\u003cProjectMemberUpdate\u003e = {}\n\n      if (memberUpdatesFromPayload.nuevoRolId !== undefined) {\n        updatesParaProjectMembersDb.project_role_id = memberUpdatesFromPayload.nuevoRolId\n      }\n      if (memberUpdatesFromPayload.ui_theme !== undefined) {\n        updatesParaProjectMembersDb.ui_theme = memberUpdatesFromPayload.ui_theme\n      }\n      if (memberUpdatesFromPayload.ui_font_pair !== undefined) {\n        updatesParaProjectMembersDb.ui_font_pair = memberUpdatesFromPayload.ui_font_pair\n      }\n      if (memberUpdatesFromPayload.ui_is_dark_mode !== undefined) {\n        updatesParaProjectMembersDb.ui_is_dark_mode = memberUpdatesFromPayload.ui_is_dark_mode\n      }\n      if (memberUpdatesFromPayload.contact_email_for_project !== undefined) {\n        updatesParaProjectMembersDb.contact_email_for_project = memberUpdatesFromPayload.contact_email_for_project\n      }\n      if (memberUpdatesFromPayload.contextual_notes !== undefined) {\n        updatesParaProjectMembersDb.contextual_notes = memberUpdatesFromPayload.contextual_notes\n      }\n\n      if (Object.keys(updatesParaProjectMembersDb).length \u003e 0) {\n        console.log(`🔄 [${opId}] Actualizando membresía ${projectMemberId}:`, updatesParaProjectMembersDb)\n        const { error: memberUpdateError } = await supabase\n          .from(\"project_members\")\n          .update(updatesParaProjectMembersDb)\n          .eq(\"id\", projectMemberId)\n\n        if (memberUpdateError) {\n          console.error(`❌ [${opId}] Error actualizando membresía ${projectMemberId}:`, memberUpdateError)\n          return {\n            success: false,\n            error: `Error al actualizar membresía: ${memberUpdateError.message}`,\n          }\n        }\n        console.log(`✅ [${opId}] Membresía ${projectMemberId} actualizada.`)\n      }\n    }\n\n    console.log(`🎉 [${opId}] ÉXITO: Detalles de miembro actualizados.`)\n    return { success: true, data: null }\n  } catch (error) {\n    console.error(`❌ [${opId}] Excepción:`, error)\n    return {\n      success: false,\n      error: `Error interno del servidor: ${(error as Error).message}`,\n    }\n  }\n}\n\n// ========================================================================\n//  ACTION 4: ELIMINAR MIEMBRO DE PROYECTO\n// ========================================================================\ninterface DeleteMemberPayload {\n  projectMemberId: string\n  proyectoId: string\n}\n\nexport async function eliminarMiembroDeProyecto(payload: DeleteMemberPayload): Promise\u003cResultadoOperacion\u003cnull\u003e\u003e {\n  const opId = `EMPv2-${Math.floor(Math.random() * 10000)}`\n  const { projectMemberId, proyectoId } = payload\n  console.log(\n    `📄 [${opId}] Iniciando eliminarMiembroDeProyecto: membresía ID ${projectMemberId} de proyecto ${proyectoId}`,\n  )\n  if (!projectMemberId || !proyectoId) {\n    return {\n      success: false,\n      error: \"Faltan IDs requeridos (projectMemberId, proyectoId).\",\n    }\n  }\n  try {\n    const supabase = await createSupabaseServerClient()\n    const {\n      data: { user: currentUser },\n    } = await supabase.auth.getUser()\n    if (!currentUser)\n      return {\n        success: false,\n        error: \"Usuario no autenticado.\",\n        errorCode: \"UNAUTHENTICATED\",\n      }\n    if (!(await verificarPermisoGestionMiembros(supabase, currentUser.id, proyectoId))) {\n      return {\n        success: false,\n        error: \"No tienes permiso para eliminar miembros de este proyecto.\",\n        errorCode: \"FORBIDDEN\",\n      }\n    }\n    console.log(`✅ [${opId}] Permiso verificado para ${currentUser.id}`)\n    const { data: miembro, error: fetchError } = await supabase\n      .from(\"project_members\")\n      .select(\"project_id\")\n      .eq(\"id\", projectMemberId)\n      .single()\n    if (fetchError) {\n      console.error(`❌ [${opId}] Error obteniendo datos del miembro para eliminar:`, fetchError)\n      return {\n        success: false,\n        error: `Error al obtener datos del miembro: ${fetchError.message}`,\n        errorCode: \"FETCH_ERROR\",\n      }\n    }\n    if (!miembro) {\n      return {\n        success: false,\n        error: `Membresía con ID ${projectMemberId} no encontrada.`,\n        errorCode: \"MEMBER_NOT_FOUND\",\n      }\n    }\n    if (miembro.project_id !== proyectoId) {\n      return {\n        success: false,\n        error: \"Inconsistencia de datos: La membresía no pertenece al proyecto indicado para eliminación.\",\n        errorCode: \"DATA_MISMATCH\",\n      }\n    }\n    console.log(`🗑️ [${opId}] Eliminando membresía ${projectMemberId}`)\n    const { error: deleteError } = await supabase.from(\"project_members\").delete().eq(\"id\", projectMemberId)\n    if (deleteError) {\n      console.error(`❌ [${opId}] Error al eliminar miembro:`, deleteError)\n      return {\n        success: false,\n        error: `Error al eliminar miembro: ${deleteError.message}`,\n      }\n    }\n    console.log(`🎉 [${opId}] ÉXITO: Miembro eliminado del proyecto.`)\n    return { success: true, data: null }\n  } catch (error) {\n    console.error(`❌ [${opId}] Excepción:`, error)\n    return {\n      success: false,\n      error: `Error interno del servidor: ${(error as Error).message}`,\n    }\n  }\n}\n\n// ========================================================================\n//  DOCUMENTACIÓN PARA FRONTEND / IA ASISTENTE (la misma que antes, debería estar actualizada)\n// ========================================================================\n/*\nSOBRE ESTE ARCHIVO (`member-actions.ts`)\nEste archivo contiene Server Actions de Next.js para gestionar los miembros (investigadores)\nde los proyectos. Estas funciones se ejecutan en el servidor y pueden ser llamadas\ndirectamente desde componentes de cliente.\n\nESTRUCTURA DE RETORNO COMÚN:\nTodas las funciones devuelven un objeto:\n  - `success: true`, `data: T` (si la operación fue exitosa, T es el tipo de dato retornado)\n  - `success: false`, `error: string`, `errorCode?: string` (si hubo un error)\nManeja estos estados en tu UI (loading, mostrar error, actualizar con data).\n\nPERMISOS:\n- Las acciones de escritura (agregar, modificar, eliminar) requieren que el usuario\n  autenticado tenga el permiso `can_manage_master_data` en el proyecto.\n- La UI debe reflejar esto (deshabilitar botones si no hay permiso), aunque las\n  Server Actions SIEMPRE revalidan el permiso en el backend.\n- La función `obtenerMiembrosConPerfilesYRolesDelProyecto` es de solo lectura\n  y puede ser llamada por cualquier miembro del proyecto (la VISTA y RLS lo controlan).\n\nFUNCIONES DISPONIBLES:\n\n1. obtenerMiembrosConPerfilesYRolesDelProyecto(proyectoId: string)\n   - Propósito: Obtener la lista completa de miembros de un proyecto, con sus\n     datos de perfil, nombre de rol y algunas configuraciones de UI.\n   - Usa la VISTA `detailed_project_members` para eficiencia.\n   - Retorna: `ProjectMemberDetails[]` (ver interfaz arriba).\n     - `project_member_id`: ID único de la membresía. Úsalo como `key` y para\n       acciones de modificación/eliminación.\n     - `profile`: Objeto con datos de `users_profiles` (nombre, email, teléfono, etc.).\n\n2. agregarMiembroAProyecto(payload: AddMemberPayload)\n   - Propósito: Añadir un nuevo usuario (que ya debe existir en `auth.users`) a un proyecto.\n   - `payload`:\n     - `proyectoId: string`\n     - `emailUsuarioNuevo: string` (del usuario a añadir)\n     - `rolIdAsignar: string` (UUID del `project_roles` a asignar)\n     - `datosPerfilInicial?: Omit\u003cPartial\u003cUserProfileInsert\u003e, \"user_id\" | \"public_contact_email\"\u003e`\n       (Opcional. Si el usuario no tiene perfil, se crea uno con estos datos o defaults.\n        Ej: `{ first_name: 'Ana', last_name: 'Perez', pronouns: 'ella' }`)\n   - Lógica Interna:\n     - Verifica permisos del admin.\n     - Busca `user_id` por email.\n     - Si el `user_id` no tiene perfil, lo crea.\n     - Inserta en `project_members` con UI por defecto (`ui_theme='blue'`, `is_active_for_user=true`, etc.).\n   - Retorna: `{ project_member_id: string; profile_action: \"created\" | \"existed\" | \"error\" }`\n   - `profile_action` indica si el perfil se creó, ya existía, o hubo un error al intentar crearlo.\n   - Errores Comunes (`errorCode`): `UNAUTHENTICATED`, `FORBIDDEN`, `USER_NOT_FOUND`, `ALREADY_MEMBER`, `RPC_ERROR`.\n   - POST-ACCIÓN UI: Refrescar la lista de miembros.\n\n3. modificarDetallesMiembroEnProyecto(payload: ModifyMemberPayload)\n   - Propósito: Actualizar datos del perfil Y/O datos de la membresía de un miembro existente.\n   - `payload`:\n     - `projectMemberId: string` (ID de la fila en `project_members` a modificar)\n     - `proyectoId: string` (para validación de permisos)\n     - `profileUpdates?: Omit\u003cPartial\u003cUserProfileUpdate\u003e, \"user_id\" | ...\u003e`\n       (Objeto con campos de `users_profiles` a cambiar. Ej: `{ first_name: 'Nuevo Nombre' }`)\n     - `memberUpdates?: Omit\u003cPartial\u003cProjectMemberUpdate\u003e, \"id\" | ...\u003e`\n       (Objeto con campos de `project_members` a cambiar. Ej: `{ project_role_id: 'nuevo-rol-uuid', ui_theme: 'green' }`)\n   - Lógica Interna:\n     - Verifica permisos del admin.\n     - Actualiza `users_profiles` si se provee `profileUpdates`.\n     - Actualiza `project_members` si se provee `memberUpdates`.\n   - Retorna: `null` en `data` si es exitoso.\n   - Errores Comunes (`errorCode`): `NO_CHANGES`, `MEMBER_NOT_FOUND`, `DATA_MISMATCH`, `FETCH_ERROR`.\n   - POST-ACCIÓN UI: Refrescar detalles/lista del miembro.\n\n4. eliminarMiembroDeProyecto(payload: DeleteMemberPayload)\n   - Propósito: Quitar un miembro de un proyecto (elimina la fila de `project_members`).\n   - `payload`:\n     - `projectMemberId: string` (ID de la membresía a eliminar)\n     - `proyectoId: string` (para validación de permisos)\n   - Lógica Interna: No borra el `users_profiles` del usuario.\n   - Retorna: `null` en `data` si es exitoso.\n   - UI: SIEMPRE pedir confirmación al usuario antes de llamar.\n   - Errores Comunes (`errorCode`): `MEMBER_NOT_FOUND`, `DATA_MISMATCH`, `FETCH_ERROR`.\n   - POST-ACCIÓN UI: Refrescar lista de miembros.\n\nRPCs Y VISTA NECESARIAS EN LA BASE DE DATOS:\n- RPC `get_user_by_email`\n- RPC `has_permission_in_project`\n- VISTA `detailed_project_members` (como se definió previamente, incluyendo los nuevos campos de perfil)\n\nEsta estructura debería ser mucho más robusta y fácil de consumir desde el frontend.\n*/\n"])</script><script>self.__next_f.push([1,"b2:T23d0,"])</script><script>self.__next_f.push([1,"// lib/database.types.ts\n\nexport interface Database {\n  public: {\n    Tables: {\n      users_profiles: {\n        Row: {\n          user_id: string\n          first_name: string | null\n          last_name: string | null\n          public_display_name: string | null\n          public_contact_email: string | null\n          primary_institution: string | null\n          contact_phone: string | null\n          general_notes: string | null\n          preferred_language: string | null\n          pronouns: string | null\n          created_at: string\n          updated_at: string\n        }\n        Insert: {\n          user_id: string\n          first_name?: string | null\n          last_name?: string | null\n          public_display_name?: string | null\n          public_contact_email?: string | null\n          primary_institution?: string | null\n          contact_phone?: string | null\n          general_notes?: string | null\n          preferred_language?: string | null\n          pronouns?: string | null\n          created_at?: string\n          updated_at?: string\n        }\n        Update: {\n          user_id?: string\n          first_name?: string | null\n          last_name?: string | null\n          public_display_name?: string | null\n          public_contact_email?: string | null\n          primary_institution?: string | null\n          contact_phone?: string | null\n          general_notes?: string | null\n          preferred_language?: string | null\n          pronouns?: string | null\n          updated_at?: string\n        }\n        Relationships: [\n          {\n            foreignKeyName: \"users_profiles_user_id_fkey\"\n            columns: [\"user_id\"]\n            referencedRelation: \"users\"\n            referencedColumns: [\"id\"]\n          },\n        ]\n      }\n      projects: {\n        Row: {\n          id: string\n          name: string\n          code: string | null\n          description: string | null\n          institution_name: string | null\n          lead_researcher_user_id: string | null\n          status: string\n          module_bibliography: boolean\n          module_interviews: boolean\n          module_planning: boolean\n          created_at: string\n          updated_at: string\n        }\n        Insert: {\n          id?: string\n          name: string\n          code?: string | null\n          description?: string | null\n          institution_name?: string | null\n          lead_researcher_user_id?: string | null\n          status?: string\n          module_bibliography?: boolean\n          module_interviews?: boolean\n          module_planning?: boolean\n          created_at?: string\n          updated_at?: string\n        }\n        Update: {\n          id?: string\n          name?: string\n          code?: string | null\n          description?: string | null\n          institution_name?: string | null\n          lead_researcher_user_id?: string | null\n          status?: string\n          module_bibliography?: boolean\n          module_interviews?: boolean\n          module_planning?: boolean\n          updated_at?: string\n        }\n        Relationships: [\n          {\n            foreignKeyName: \"projects_lead_researcher_user_id_fkey\"\n            columns: [\"lead_researcher_user_id\"]\n            referencedRelation: \"users\"\n            referencedColumns: [\"id\"]\n          },\n        ]\n      }\n      project_roles: {\n        Row: {\n          id: string\n          project_id: string\n          role_name: string\n          role_description: string | null\n          can_manage_master_data: boolean\n          can_create_batches: boolean\n          can_upload_files: boolean\n          can_bulk_edit_master_data: boolean\n          created_at: string\n          updated_at: string\n        }\n        Insert: {\n          id?: string\n          project_id: string\n          role_name: string\n          role_description?: string | null\n          can_manage_master_data?: boolean\n          can_create_batches?: boolean\n          can_upload_files?: boolean\n          can_bulk_edit_master_data?: boolean\n          created_at?: string\n          updated_at?: string\n        }\n        Update: {\n          id?: string\n          project_id?: string\n          role_name?: string\n          role_description?: string | null\n          can_manage_master_data?: boolean\n          can_create_batches?: boolean\n          can_upload_files?: boolean\n          can_bulk_edit_master_data?: boolean\n          updated_at?: string\n        }\n        Relationships: [\n          {\n            foreignKeyName: \"project_roles_project_id_fkey\"\n            columns: [\"project_id\"]\n            referencedRelation: \"projects\"\n            referencedColumns: [\"id\"]\n          },\n        ]\n      }\n      project_members: {\n        Row: {\n          id: string\n          project_id: string\n          user_id: string\n          project_role_id: string\n          is_active_for_user: boolean\n          ui_theme: string | null\n          ui_font_pair: string | null\n          ui_is_dark_mode: boolean\n          contextual_notes: string | null\n          contact_email_for_project: string | null\n          joined_at: string\n          updated_at: string\n        }\n        Insert: {\n          id?: string\n          project_id: string\n          user_id: string\n          project_role_id: string\n          is_active_for_user?: boolean\n          ui_theme?: string | null\n          ui_font_pair?: string | null\n          ui_is_dark_mode?: boolean\n          contextual_notes?: string | null\n          contact_email_for_project?: string | null\n          joined_at?: string\n          updated_at?: string\n        }\n        Update: {\n          id?: string\n          project_id?: string\n          user_id?: string\n          project_role_id?: string\n          is_active_for_user?: boolean\n          ui_theme?: string | null\n          ui_font_pair?: string | null\n          ui_is_dark_mode?: boolean\n          contextual_notes?: string | null\n          contact_email_for_project?: string | null\n          updated_at?: string\n        }\n        Relationships: [\n          {\n            foreignKeyName: \"project_members_project_id_fkey\"\n            columns: [\"project_id\"]\n            referencedRelation: \"projects\"\n            referencedColumns: [\"id\"]\n          },\n          {\n            foreignKeyName: \"project_members_user_id_fkey\"\n            columns: [\"user_id\"]\n            referencedRelation: \"users\"\n            referencedColumns: [\"id\"]\n          },\n          {\n            foreignKeyName: \"project_members_project_role_id_fkey\"\n            columns: [\"project_role_id\"]\n            referencedRelation: \"project_roles\"\n            referencedColumns: [\"id\"]\n          },\n        ]\n      }\n    }\n    Views: {\n      // \u003c--- SECCIÓN MODIFICADA/AÑADIDA\n      detailed_project_members: {\n        Row: {\n          project_member_id: string | null // Asumiendo que pm.id no es NULL\n          user_id: string | null // Asumiendo que pm.user_id no es NULL\n          project_id: string | null // Asumiendo que pm.project_id no es NULL\n          project_role_id: string | null // Asumiendo que pm.project_role_id no es NULL\n          joined_at: string | null // timestamptz\n          role_name: string | null // text\n          first_name: string | null // text\n          last_name: string | null // text\n          public_display_name: string | null // text\n          public_contact_email: string | null // text\n          primary_institution: string | null // text\n          contact_phone: string | null // text\n          general_notes: string | null // text\n          preferred_language: string | null // text\n          pronouns: string | null // text\n          ui_theme: string | null // text\n          ui_font_pair: string | null // text\n          ui_is_dark_mode: boolean | null // boolean\n          // Campos de permisos del rol (si los incluiste en la VISTA)\n          can_manage_master_data?: boolean | null // boolean\n          can_create_batches?: boolean | null // boolean\n          can_upload_files?: boolean | null // boolean\n          can_bulk_edit_master_data?: boolean | null // boolean\n          // Otros campos de project_members (si los incluiste en la VISTA)\n          is_active_for_user?: boolean | null // boolean\n          contextual_notes?: string | null // text\n          contact_email_for_project?: string | null // text\n        }\n        // No se definen Insert ni Update para vistas de solo lectura por defecto\n      }\n    }\n    Functions: {\n      get_current_auth_context: {\n        Args: Record\u003cstring, unknown\u003e\n        Returns: {\n          current_uid: string | null\n          current_role: string | null\n        }[]\n      }\n      get_user_by_email: {\n        Args: {\n          user_email: string\n        }\n        Returns: string | null\n      }\n      has_permission_in_project: {\n        Args: {\n          p_user_id: string\n          p_project_id: string\n          p_permission_column: string\n        }\n        Returns: boolean\n      }\n      is_user_member_of_project: {\n        Args: {\n          p_user_id: string\n          p_project_id_to_check: string\n        }\n        Returns: boolean\n      }\n    }\n    Enums: {\n      [_ in never]: never\n    }\n    CompositeTypes: {\n      [_ in never]: never\n    }\n  }\n}\n"])</script><script>self.__next_f.push([1,"b3:T123d,"])</script><script>self.__next_f.push([1,"import {\n  Playfair_Display,\n  Montserrat,\n  Inter,\n  Open_Sans,\n  Roboto_Mono,\n  Quicksand,\n  JetBrains_Mono,\n  Ubuntu,\n  Space_Grotesk,\n  Work_Sans,\n  Marhey,\n} from \"next/font/google\"\n\n// Declarar las fuentes como constantes individuales\nconst playfairFont = Playfair_Display({\n  subsets: [\"latin\"],\n  variable: \"--font-playfair\",\n  display: \"swap\",\n})\n\nconst montserratFont = Montserrat({\n  subsets: [\"latin\"],\n  variable: \"--font-montserrat\",\n  display: \"swap\",\n})\n\nconst interFont = Inter({\n  subsets: [\"latin\"],\n  variable: \"--font-inter\",\n  display: \"swap\",\n})\n\nconst openSansFont = Open_Sans({\n  subsets: [\"latin\"],\n  variable: \"--font-open-sans\",\n  display: \"swap\",\n})\n\nconst robotoMonoFont = Roboto_Mono({\n  subsets: [\"latin\"],\n  variable: \"--font-roboto-mono\",\n  display: \"swap\",\n})\n\nconst quicksandFont = Quicksand({\n  subsets: [\"latin\"],\n  variable: \"--font-quicksand\",\n  display: \"swap\",\n})\n\nconst jetbrainsMonoFont = JetBrains_Mono({\n  subsets: [\"latin\"],\n  variable: \"--font-jetbrains-mono\",\n  display: \"swap\",\n})\n\nconst ubuntuFont = Ubuntu({\n  subsets: [\"latin\"],\n  weight: [\"300\", \"400\", \"500\", \"700\"],\n  variable: \"--font-ubuntu\",\n  display: \"swap\",\n})\n\nconst spaceGroteskFont = Space_Grotesk({\n  subsets: [\"latin\"],\n  variable: \"--font-space-grotesk\",\n  display: \"swap\",\n})\n\nconst workSansFont = Work_Sans({\n  subsets: [\"latin\"],\n  weight: [\"300\", \"400\", \"500\", \"600\", \"700\"],\n  variable: \"--font-work-sans\",\n  display: \"swap\",\n})\n\nconst marheyFont = Marhey({\n  subsets: [\"latin\"],\n  weight: [\"400\", \"500\", \"600\", \"700\"],\n  variable: \"--font-marhey\",\n  display: \"swap\",\n})\n\n// Crear el objeto fonts usando las constantes\nexport const fonts = {\n  playfair: playfairFont,\n  montserrat: montserratFont,\n  inter: interFont,\n  openSans: openSansFont,\n  robotoMono: robotoMonoFont,\n  quicksand: quicksandFont,\n  jetbrainsMono: jetbrainsMonoFont,\n  ubuntu: ubuntuFont,\n  spaceGrotesk: spaceGroteskFont,\n  workSans: workSansFont,\n  marhey: marheyFont,\n}\n\n// Exportar individualmente para compatibilidad con código existente\nexport const {\n  playfair,\n  montserrat,\n  inter,\n  openSans,\n  robotoMono,\n  quicksand,\n  jetbrainsMono,\n  ubuntu,\n  spaceGrotesk,\n  workSans,\n  marhey,\n} = fonts\n\n// Función para obtener todas las variables de fuente\nexport function getAllFontVariables() {\n  return Object.values(fonts)\n    .map((font) =\u003e font.variable)\n    .join(\" \")\n}\n\n// Tipos de temas de fuentes\nexport type FontTheme =\n  | \"sustrato\"\n  | \"default\"\n  | \"classic\"\n  | \"modern\"\n  | \"accessible\"\n  | \"technical\"\n  | \"minimalist\"\n  | \"creative\"\n\n// Configuración de pares de fuentes por tema\nexport const fontThemeConfig = {\n  default: {\n    heading: `var(--font-playfair)`,\n    body: `var(--font-inter)`,\n    headingWeight: \"600\",\n    bodyWeight: \"400\",\n    letterSpacingHeadings: \"normal\",\n    letterSpacingBody: \"normal\",\n    lineHeight: \"1.5\",\n  },\n  sustrato: {\n    heading: `var(--font-ubuntu)`,\n    body: `var(--font-work-sans)`,\n    headingWeight: \"700\",\n    bodyWeight: \"400\",\n    letterSpacingHeadings: \"-0.01em\",\n    letterSpacingBody: \"normal\",\n    lineHeight: \"1.4\",\n  },\n  classic: {\n    heading: `var(--font-playfair)`,\n    body: `var(--font-open-sans)`,\n    headingWeight: \"600\",\n    bodyWeight: \"400\",\n    letterSpacingHeadings: \"normal\",\n    letterSpacingBody: \"normal\",\n    lineHeight: \"1.5\",\n  },\n  modern: {\n    heading: `var(--font-montserrat)`,\n    body: `var(--font-inter)`,\n    headingWeight: \"600\",\n    bodyWeight: \"400\",\n    letterSpacingHeadings: \"-0.02em\",\n    letterSpacingBody: \"normal\",\n    lineHeight: \"1.4\",\n  },\n  accessible: {\n    heading: `var(--font-open-sans)`,\n    body: `var(--font-open-sans)`,\n    headingWeight: \"700\",\n    bodyWeight: \"400\",\n    letterSpacingHeadings: \"0.5px\",\n    letterSpacingBody: \"0.5px\",\n    lineHeight: \"1.6\",\n  },\n  technical: {\n    heading: `var(--font-jetbrains-mono)`,\n    body: `var(--font-roboto-mono)`,\n    headingWeight: \"600\",\n    bodyWeight: \"400\",\n    letterSpacingHeadings: \"normal\",\n    letterSpacingBody: \"-0.01em\",\n    lineHeight: \"1.5\",\n  },\n  minimalist: {\n    heading: `var(--font-space-grotesk)`,\n    body: `var(--font-inter)`,\n    headingWeight: \"600\",\n    bodyWeight: \"300\",\n    letterSpacingHeadings: \"-0.03em\",\n    letterSpacingBody: \"-0.03em\",\n    lineHeight: \"1.3\",\n  },\n  creative: {\n    heading: `var(--font-marhey)`,\n    body: `var(--font-quicksand)`,\n    headingWeight: \"700\",\n    bodyWeight: \"400\",\n    letterSpacingHeadings: \"0.01em\",\n    letterSpacingBody: \"normal\",\n    lineHeight: \"1.5\",\n  },\n}\n\n// Función para obtener la configuración de fuentes para un tema específico\nexport function getFontConfig(theme: FontTheme) {\n  return fontThemeConfig[theme]\n}\n"])</script><script>self.__next_f.push([1,"b4:T5cd,// Crear un nuevo archivo para generar estilos CSS dinámicos\n\nimport { type FontTheme, getFontConfig } from \"./font-themes\"\n\n// Genera un bloque de CSS para un tema específico\nexport function generateThemeCSS(theme: FontTheme): string {\n  const config = getFontConfig(theme)\n\n  return `\n    :root[data-font-theme=\"${theme}\"] {\n      --font-family-headings: ${config.heading};\n      --font-family-base: ${config.body};\n      --font-weight-headings: ${config.headingWeight};\n      --font-weight-base: ${config.bodyWeight};\n      --letter-spacing-headings: ${config.letterSpacingHeadings};\n      --letter-spacing-body: ${config.letterSpacingBody};\n      --line-height: ${config.lineHeight};\n    }\n  `\n}\n\n// Genera CSS para todos los temas disponibles\nexport function generateAllThemesCSS(): string {\n  const themes: FontTheme[] = [\n    \"sustrato\",\n    \"default\",\n    \"classic\",\n    \"modern\",\n    \"accessible\",\n    \"technical\",\n    \"minimalist\",\n    \"creative\",\n  ]\n\n  const baseCSS = `\n    h1, h2, h3, h4, h5, h6 {\n      font-family: var(--font-family-headings);\n      font-weight: var(--font-weight-headings);\n      letter-spacing: var(--letter-spacing-headings);\n    }\n    \n    body, p, div, span, a, button, input, textarea, select {\n      font-family: var(--font-family-base);\n      font-weight: var(--font-weight-base);\n      letter-spacing: var(--letter-spacing-body);\n      line-height: var(--line-height);\n    }\n  `\n\n  return themes.map(generateThemeCSS).join(\"\\n\") + baseCSS\n}\nb5:T180e,"])</script><script>self.__next_f.push([1,"// Configuración de cliente Supabase\nimport { createClient } from \"@supabase/supabase-js\"\n\n// Get environment variables with validation\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\n\n// Check if required environment variables are set\nif (!supabaseUrl || !supabaseAnonKey) {\n  // In development, show a helpful error message\n  if (process.env.NODE_ENV === \"development\") {\n    console.error(\"⚠️ Supabase URL and Anon Key must be provided. Check your .env.local file.\")\n  }\n}\n\nimport { createBrowserClient } from \"@supabase/ssr\"\n\nexport const supabase =\n  typeof window !== \"undefined\" \u0026\u0026 supabaseUrl \u0026\u0026 supabaseAnonKey\n    ? createBrowserClient(supabaseUrl, supabaseAnonKey)\n    : createClient(supabaseUrl || \"https://placeholder-url.supabase.co\", supabaseAnonKey || \"placeholder-key\")\n\n// Para el sandbox, vamos a crear un mock de Supabase\n// Esto solo se usa en el entorno de desarrollo del sandbox\nconst isSandbox = typeof window !== \"undefined\" \u0026\u0026 window.location.hostname.includes(\"vercel.app\")\n\n// Mock de datos para el sandbox\nconst mockFundaciones = [\n  {\n    id: 1,\n    codigo: \"FR\",\n    nombre: \"Fundación Las Rosas\",\n    descripcion: \"Fundación dedicada al cuidado de adultos mayores\",\n  },\n  {\n    id: 2,\n    codigo: \"FS\",\n    nombre: \"Fundación Sonrisas\",\n    descripcion: \"Fundación enfocada en niños con discapacidad\",\n  },\n  {\n    id: 3,\n    codigo: \"FM\",\n    nombre: \"Fundación Miradas\",\n    descripcion: \"Apoyo a personas con discapacidad visual\",\n  },\n]\n\n// Mock de usuarios para el sandbox\nconst mockUsers = [\n  {\n    id: \"1\",\n    email: \"usuario@ejemplo.com\",\n    password: \"password123\",\n  },\n]\n\n// Cliente mock para el sandbox\nexport const mockSupabase = {\n  from: (table: string) =\u003e {\n    if (table === \"fundaciones\") {\n      return {\n        select: (columns = \"*\") =\u003e ({\n          order: (column: string, { ascending = true } = {}) =\u003e ({\n            then: (callback: Function) =\u003e {\n              callback({ data: mockFundaciones, error: null })\n              return { data: mockFundaciones, error: null }\n            },\n          }),\n          eq: (column: string, value: any) =\u003e ({\n            maybeSingle: () =\u003e {\n              const found = mockFundaciones.find((f) =\u003e f[column as keyof typeof f] === value)\n              return { data: found || null, error: null }\n            },\n          }),\n        }),\n        insert: (rows: any[]) =\u003e ({\n          select: () =\u003e ({\n            single: () =\u003e {\n              const newId = mockFundaciones.length + 1\n              const newRow = { id: newId, ...rows[0] }\n              mockFundaciones.push(newRow)\n              return { data: newRow, error: null }\n            },\n          }),\n        }),\n      }\n    }\n    return {}\n  },\n  auth: {\n    signInWithPassword: async ({\n      email,\n      password,\n    }: {\n      email: string\n      password: string\n    }) =\u003e {\n      const user = mockUsers.find((u) =\u003e u.email === email \u0026\u0026 u.password === password)\n      if (user) {\n        return {\n          data: {\n            user: { id: user.id, email: user.email },\n            session: { user: { id: user.id, email: user.email } },\n          },\n          error: null,\n        }\n      }\n      return {\n        data: { user: null, session: null },\n        error: { message: \"Credenciales inválidas\" },\n      }\n    },\n    signUp: async ({\n      email,\n      password,\n    }: {\n      email: string\n      password: string\n    }) =\u003e {\n      const exists = mockUsers.some((u) =\u003e u.email === email)\n      if (exists) {\n        return {\n          data: { user: null, session: null },\n          error: { message: \"El usuario ya existe\" },\n        }\n      }\n      const newUser = { id: String(mockUsers.length + 1), email, password }\n      mockUsers.push(newUser)\n      return {\n        data: {\n          user: { id: newUser.id, email: newUser.email },\n          session: { user: { id: newUser.id, email: newUser.email } },\n        },\n        error: null,\n      }\n    },\n    signOut: async () =\u003e {\n      return { error: null }\n    },\n    getSession: async () =\u003e {\n      // Simulamos que no hay sesión activa por defecto\n      return { data: { session: null }, error: null }\n    },\n    onAuthStateChange: (callback: Function) =\u003e {\n      // Simulamos que no hay cambios de estado de autenticación\n      return { data: { subscription: { unsubscribe: () =\u003e {} } }, error: null }\n    },\n  },\n}\n\n// Exportamos el cliente adecuado según el entorno\nexport const supabaseClient = isSandbox ? mockSupabase : supabase\n\n// Funciones de autenticación (garantizando cookies en navegador)\nexport async function signIn(email: string, password: string) {\n  const client = isSandbox\n    ? mockSupabase\n    : typeof window !== \"undefined\" \u0026\u0026 supabaseUrl \u0026\u0026 supabaseAnonKey\n      ? createBrowserClient(supabaseUrl, supabaseAnonKey)\n      : createClient(supabaseUrl || \"https://placeholder-url.supabase.co\", supabaseAnonKey || \"placeholder-key\")\n  return client.auth.signInWithPassword({ email, password })\n}\n\nexport async function signUp(email: string, password: string) {\n  const client = isSandbox\n    ? mockSupabase\n    : typeof window !== \"undefined\" \u0026\u0026 supabaseUrl \u0026\u0026 supabaseAnonKey\n      ? createBrowserClient(supabaseUrl, supabaseAnonKey)\n      : createClient(supabaseUrl || \"https://placeholder-url.supabase.co\", supabaseAnonKey || \"placeholder-key\")\n  return client.auth.signUp({ email, password })\n}\n\nexport async function signOut() {\n  const client = isSandbox\n    ? mockSupabase\n    : typeof window !== \"undefined\" \u0026\u0026 supabaseUrl \u0026\u0026 supabaseAnonKey\n      ? createBrowserClient(supabaseUrl, supabaseAnonKey)\n      : createClient(supabaseUrl || \"https://placeholder-url.supabase.co\", supabaseAnonKey || \"placeholder-key\")\n  return client.auth.signOut()\n}\n\nexport async function getSession() {\n  const client = isSandbox\n    ? mockSupabase\n    : typeof window !== \"undefined\" \u0026\u0026 supabaseUrl \u0026\u0026 supabaseAnonKey\n      ? createBrowserClient(supabaseUrl, supabaseAnonKey)\n      : createClient(supabaseUrl || \"https://placeholder-url.supabase.co\", supabaseAnonKey || \"placeholder-key\")\n  return client.auth.getSession()\n}\n"])</script><script>self.__next_f.push([1,"b6:Tec4,"])</script><script>self.__next_f.push([1,"import { colors, type ColorShade, type ThemeColors as RawThemeColors } from \"./colors\"\n\nexport type { ColorShade }\n\nexport type ColorScheme = \"blue\" | \"green\" | \"orange\"\nexport type Mode = \"light\" | \"dark\"\n\n// Definición de variantes válidas para ProCard y como claves en AppColorTokens\nexport type ProCardVariant =\n  | \"primary\"\n  | \"secondary\"\n  | \"tertiary\"\n  | \"accent\"\n  | \"success\"\n  | \"warning\"\n  | \"danger\"\n  | \"neutral\"\n  | \"white\"\n//test\n/**\n * Estructura de los tokens de color simplificados que consumirán los componentes refactorizados.\n * Proporciona un acceso directo a las paletas principales del tema activo.\n */\nexport type AppColorTokens = {\n  // Paletas del tema principal (ej. azul, verde, naranja)\n  primary: ColorShade\n  secondary: ColorShade\n  tertiary: ColorShade\n\n  // Paletas semánticas globales (accent, success, etc.)\n  accent: ColorShade\n  success: ColorShade\n  warning: ColorShade\n  danger: ColorShade\n  neutral: ColorShade // Paleta neutral unificada (anteriormente también en semantic.neutral)\n  white: ColorShade\n\n  // Podrías añadir aquí tokens específicos de UI que no encajan en ColorShade\n  // Por ejemplo:\n  // bodyBackground: string;\n  // bodyText: string;\n  // focusRing: string;\n}\n\nfunction getThemePalette(colorScheme: ColorScheme, mode: Mode): RawThemeColors {\n  const themeKey = mode === \"dark\" ? `${colorScheme}Dark` : colorScheme\n  const palette = colors.themes[themeKey as keyof typeof colors.themes]\n\n  if (!palette) {\n    console.warn(`[ColorToken] Theme palette not found for themeKey: ${themeKey}. Falling back to blue light.`)\n    return colors.themes.blue // Fallback seguro\n  }\n  return palette\n}\n\nfunction getActiveSemanticShades(mode: Mode): {\n  accent: ColorShade\n  success: ColorShade\n  warning: ColorShade\n  danger: ColorShade\n  neutral: ColorShade\n  white: ColorShade\n} {\n  return {\n    accent: mode === \"dark\" ? colors.semantic.accentDark : colors.semantic.accent,\n    success: mode === \"dark\" ? colors.semantic.successDark : colors.semantic.success,\n    warning: mode === \"dark\" ? colors.semantic.warningDark : colors.semantic.warning,\n    danger: mode === \"dark\" ? colors.semantic.dangerDark : colors.semantic.danger,\n    neutral: mode === \"dark\" ? colors.semantic.neutralDark : colors.semantic.neutral,\n    white: mode === \"dark\" ? colors.semantic.whiteDark : colors.semantic.white,\n  }\n}\n\n/**\n * Crea el conjunto de tokens de color simplificados para la aplicación,\n * basado en el esquema de color y el modo seleccionados.\n */\nexport function createAppColorTokens(colorScheme: ColorScheme, mode: Mode): AppColorTokens {\n  const themePalette = getThemePalette(colorScheme, mode)\n  const activeSemanticShades = getActiveSemanticShades(mode)\n\n  return {\n    // Paletas del tema\n    primary: themePalette.primary,\n    secondary: themePalette.secondary,\n    tertiary: themePalette.tertiary,\n\n    // Paletas semánticas\n    accent: activeSemanticShades.accent,\n    success: activeSemanticShades.success,\n    warning: activeSemanticShades.warning,\n    danger: activeSemanticShades.danger,\n    neutral: activeSemanticShades.neutral,\n    white: activeSemanticShades.white,\n  }\n}\n\n/**\n * Variable global para acceder a los tokens de color activos de la aplicación.\n * Es actualizada por el ThemeProvider cuando cambia el tema o modo.\n */\nexport let appColorTokens: AppColorTokens = createAppColorTokens(\"blue\", \"light\")\n\n/**\n * Actualiza la variable global de tokens de color de la aplicación.\n * @param newTokens El nuevo conjunto de tokens a activar.\n */\nexport function updateAppColorTokens(newTokens: AppColorTokens) {\n  appColorTokens = newTokens\n  // Aquí podrías, opcionalmente, disparar eventos personalizados o actualizar\n  // variables CSS globales si tu sistema lo requiere para partes no-React.\n}\n"])</script><script>self.__next_f.push([1,"b7:T39ee,"])</script><script>self.__next_f.push([1,"/**\n * Sistema de tokens de color para Sustrato\n * Este archivo define todos los tokens de color utilizados en la aplicación,\n * organizados por componente y variante.\n */\nimport colors from \"./colors\"\nimport { generateProCardTokens } from \"./components/pro-card-tokens\"\nimport { generatePageBackgroundTokens } from \"./components/page-background-tokens\"\nimport { generateTextTokens, type TextTokens } from \"./components/text-tokens\"\nimport { generateDividerTokens, type DividerTokens } from \"./components/divider-tokens\"\nimport { generateNavbarTokens, type NavbarTokens } from \"./components/nav-tokens\"\nimport { generateIconTokens, type IconTokens } from \"./components/icon-tokens\"\nimport { generateInputTokens, type InputTokens } from \"./components/input-tokens\"\nimport { generateSelectTokens, type SelectTokens } from \"./components/select-tokens\"\nimport { generateButtonTokens, type ButtonTokens } from \"./components/button-tokens\"\nimport { generateTableTokens, type TableTokens } from \"./components/table-tokens\"\n\n// Tipos base para los tokens de color\nexport type ColorToken = string\n\n// Definición de variantes para ProCard\nexport type ProCardVariant =\n  | \"primary\"\n  | \"secondary\"\n  | \"tertiary\"\n  | \"accent\"\n  | \"success\"\n  | \"warning\"\n  | \"danger\" // Usar siempre \"danger\", nunca \"error\"\n  | \"neutral\"\n  | \"white\"\n\n// Tokens para el modo (light/dark)\nexport type ModeTokens = {\n  background: ColorToken\n  foreground: ColorToken\n  muted: ColorToken\n  mutedForeground: ColorToken\n  border: ColorToken\n}\n\n// Tokens para variantes semánticas\nexport type SemanticTokens = {\n  primary: {\n    background: ColorToken\n    foreground: ColorToken\n    border: ColorToken\n    gradient: [ColorToken, ColorToken]\n    borderGradient: [ColorToken, ColorToken]\n  }\n  secondary: {\n    background: ColorToken\n    foreground: ColorToken\n    border: ColorToken\n    gradient: [ColorToken, ColorToken]\n    borderGradient: [ColorToken, ColorToken]\n  }\n  tertiary: {\n    background: ColorToken\n    foreground: ColorToken\n    border: ColorToken\n    gradient: [ColorToken, ColorToken]\n    borderGradient: [ColorToken, ColorToken]\n  }\n  accent: {\n    background: ColorToken\n    foreground: ColorToken\n    border: ColorToken\n    gradient: [ColorToken, ColorToken]\n    borderGradient: [ColorToken, ColorToken]\n  }\n  success: {\n    background: ColorToken\n    foreground: ColorToken\n    border: ColorToken\n    gradient: [ColorToken, ColorToken]\n    borderGradient: [ColorToken, ColorToken]\n  }\n  warning: {\n    background: ColorToken\n    foreground: ColorToken\n    border: ColorToken\n    gradient: [ColorToken, ColorToken]\n    borderGradient: [ColorToken, ColorToken]\n  }\n  danger: {\n    background: ColorToken\n    foreground: ColorToken\n    border: ColorToken\n    gradient: [ColorToken, ColorToken]\n    borderGradient: [ColorToken, ColorToken]\n  }\n  neutral: {\n    background: ColorToken\n    foreground: ColorToken\n    border: ColorToken\n    gradient: [ColorToken, ColorToken]\n    borderGradient: [ColorToken, ColorToken]\n  }\n  white: {\n    background: ColorToken\n    foreground: ColorToken\n    border: ColorToken\n    gradient: [ColorToken, ColorToken]\n    borderGradient: [ColorToken, ColorToken]\n  }\n}\n\n// Tokens específicos para componentes\nexport type ComponentTokens = {\n  // ProCard\n  proCard: {\n    // Fondos precomputados para cada variante\n    backgroundGradient: Record\u003cProCardVariant, string\u003e\n    // Bordes precomputados para cada variante\n    border: Record\u003cProCardVariant, string\u003e\n    // Gradientes de borde precomputados para cada variante y dirección\n    borderGradientTop: Record\u003cProCardVariant, string\u003e\n    borderGradientLeft: Record\u003cProCardVariant, string\u003e\n    // Estado seleccionado\n    selected: string\n  }\n\n  // Text tokens\n  text: TextTokens\n\n  // ThemeBackground\n  themeBackground: {\n    background: ColorToken\n    foreground: ColorToken\n  }\n\n  // PageBackground\n  pageBackground: {\n    default: {\n      background: ColorToken\n      backgroundImage: string\n    }\n    gradient: {\n      background: ColorToken\n      backgroundImage: string\n    }\n    subtle: {\n      background: ColorToken\n      backgroundImage: string\n    }\n    minimal: {\n      background: ColorToken\n      backgroundImage: string\n    }\n  }\n\n  // Divider tokens\n  divider: DividerTokens\n\n  // Navbar tokens\n  navbar: NavbarTokens\n\n  // Icon tokens\n  icon: IconTokens\n\n  // Input tokens\n  input: InputTokens\n\n  // Select tokens\n  select: SelectTokens\n\n  // Button tokens\n  button: ButtonTokens\n\n  // Table tokens\n  table: TableTokens\n}\n\n// Estructura completa de tokens de color\nexport type ColorTokens = {\n  mode: ModeTokens\n  semantic: SemanticTokens\n  component: ComponentTokens\n}\n\nexport type ColorScheme = \"blue\" | \"green\" | \"orange\"\nexport type Mode = \"light\" | \"dark\"\n\n/**\n * Función para diluir un color hexadecimal\n * @param hexColor Color hexadecimal (con o sin #)\n * @param opacity Opacidad entre 0 y 1\n * @returns Color RGBA como string\n */\nfunction diluteColor(hexColor: string, opacity = 0.5): string {\n  // Asegurarse de que el color comienza con #\n  const hex = hexColor.startsWith(\"#\") ? hexColor.substring(1) : hexColor\n\n  // Convertir a RGB\n  const r = Number.parseInt(hex.substring(0, 2), 16)\n  const g = Number.parseInt(hex.substring(2, 4), 16)\n  const b = Number.parseInt(hex.substring(4, 6), 16)\n\n  // Devolver como rgba\n  return `rgba(${r}, ${g}, ${b}, ${opacity})`\n}\n\n/**\n * Genera los tokens de color para el modo (light/dark)\n */\nfunction generateModeTokens(colorScheme: ColorScheme, mode: Mode): ModeTokens {\n  const isDark = mode === \"dark\"\n  const themeColors = colors.themes[colorScheme]\n\n  return {\n    background: isDark ? colors.neutral.gray[900] : colors.neutral.white,\n    foreground: isDark ? colors.neutral.gray[100] : colors.neutral.gray[900],\n    muted: isDark ? colors.neutral.gray[800] : colors.neutral.gray[100],\n    mutedForeground: isDark ? colors.neutral.gray[400] : colors.neutral.gray[500],\n    border: isDark ? colors.neutral.gray[700] : colors.neutral.gray[200],\n  }\n}\n\n/**\n * Genera los tokens semánticos basados en el esquema de color y modo\n */\nfunction generateSemanticTokens(colorScheme: ColorScheme, mode: Mode): SemanticTokens {\n  const isDark = mode === \"dark\"\n  const themeColors = colors.themes[colorScheme]\n  const semanticColors = colors.semantic\n\n  // Función auxiliar para generar tokens básicos para cada variante semántica\n  const generateBasicTokens = (color: any) =\u003e ({\n    background: isDark ? color.bgDark : color.bg,\n    foreground: isDark ? color.textDark : color.text,\n    border: isDark ? color.pureDark : color.pure,\n  })\n\n  // Obtener colores base para cada variante\n  const primaryBase = generateBasicTokens(themeColors.primary)\n  const secondaryBase = generateBasicTokens(themeColors.secondary)\n  const tertiaryBase = generateBasicTokens(themeColors.tertiary)\n  const accentBase = generateBasicTokens(semanticColors.accent)\n  const successBase = generateBasicTokens(semanticColors.success)\n  const warningBase = generateBasicTokens(semanticColors.warning)\n  const dangerBase = generateBasicTokens(semanticColors.danger)\n\n  // Colores para gradientes específicos\n  const accentColor = isDark ? semanticColors.accent.pureDark : semanticColors.accent.pure\n  const primaryColor = isDark ? themeColors.primary.pureDark : themeColors.primary.pure\n  const secondaryColor = isDark ? themeColors.secondary.pureDark : themeColors.secondary.pure\n\n  // Diluir los colores de fondo para primary, secondary y tertiary con una opacidad intermedia\n  // Usamos 0.35 para modo oscuro y 0.4 para modo claro, que es un punto intermedio entre los valores anteriores\n  const dilutedPrimaryBg = diluteColor(primaryBase.background, isDark ? 0.35 : 0.4)\n  const dilutedSecondaryBg = diluteColor(secondaryBase.background, isDark ? 0.35 : 0.4)\n  const dilutedTertiaryBg = diluteColor(tertiaryBase.background, isDark ? 0.35 : 0.4)\n\n  // Color de fondo para white\n  const whiteBg = isDark ? colors.neutral.gray[800] : colors.neutral.white\n  const whiteBgLight = isDark ? colors.neutral.gray[900] : colors.neutral.gray[50]\n\n  return {\n    // Primario, secundario y terciario con fondos diluidos a un nivel intermedio\n    primary: {\n      ...primaryBase,\n      background: dilutedPrimaryBg, // Color de fondo con dilución intermedia\n      gradient: [dilutedPrimaryBg, isDark ? colors.neutral.gray[800] : colors.neutral.white] as [string, string],\n      borderGradient: [primaryColor, accentColor] as [string, string], // Borde: primario hacia accent\n    },\n    secondary: {\n      ...secondaryBase,\n      background: dilutedSecondaryBg, // Color de fondo con dilución intermedia\n      gradient: [dilutedSecondaryBg, isDark ? colors.neutral.gray[800] : colors.neutral.white] as [string, string],\n      borderGradient: [secondaryColor, accentColor] as [string, string], // Borde: secundario hacia accent\n    },\n    tertiary: {\n      ...tertiaryBase,\n      background: dilutedTertiaryBg, // Color de fondo con dilución intermedia\n      gradient: [dilutedTertiaryBg, isDark ? colors.neutral.gray[800] : colors.neutral.white] as [string, string],\n      borderGradient: [isDark ? themeColors.tertiary.pureDark : themeColors.tertiary.pure, accentColor] as [\n        string,\n        string,\n      ], // Borde: terciario hacia accent\n    },\n\n    // Accent (sin cambios)\n    accent: {\n      ...accentBase,\n      gradient: [accentBase.background, isDark ? colors.neutral.gray[800] : colors.neutral.white] as [string, string],\n      borderGradient: [accentColor, primaryColor] as [string, string], // Borde: accent hacia primario\n    },\n\n    // Success, warning, danger (sin cambios)\n    success: {\n      ...successBase,\n      gradient: [successBase.background, isDark ? colors.neutral.gray[800] : colors.neutral.white] as [string, string],\n      borderGradient: [\n        isDark ? semanticColors.success.pureDark : semanticColors.success.pure,\n        isDark ? semanticColors.success.textDark : semanticColors.success.text,\n      ] as [string, string],\n    },\n    warning: {\n      ...warningBase,\n      gradient: [warningBase.background, isDark ? colors.neutral.gray[800] : colors.neutral.white] as [string, string],\n      borderGradient: [\n        isDark ? semanticColors.warning.pureDark : semanticColors.warning.pure,\n        isDark ? semanticColors.warning.textDark : semanticColors.warning.text,\n      ] as [string, string],\n    },\n    danger: {\n      ...dangerBase,\n      gradient: [dangerBase.background, isDark ? colors.neutral.gray[800] : colors.neutral.white] as [string, string],\n      borderGradient: [\n        isDark ? semanticColors.danger.pureDark : semanticColors.danger.pure,\n        isDark ? semanticColors.danger.textDark : semanticColors.danger.text,\n      ] as [string, string],\n    },\n\n    // Neutral (sin cambios)\n    neutral: {\n      background: isDark ? colors.neutral.gray[800] : colors.neutral.gray[100],\n      foreground: isDark ? colors.neutral.gray[200] : colors.neutral.gray[800],\n      border: isDark ? colors.neutral.gray[600] : colors.neutral.gray[300],\n      gradient: [\n        isDark ? colors.neutral.gray[700] : colors.neutral.gray[200],\n        isDark ? colors.neutral.gray[900] : colors.neutral.white,\n      ] as [string, string], // Gradiente de fondo original\n      borderGradient: [isDark ? colors.neutral.gray[600] : colors.neutral.gray[300], secondaryColor] as [\n        string,\n        string,\n      ], // Borde: neutral hacia secundario\n    },\n\n    // White\n    white: {\n      background: whiteBg,\n      foreground: isDark ? colors.neutral.gray[200] : colors.neutral.gray[800],\n      border: isDark ? colors.neutral.gray[700] : colors.neutral.gray[200],\n      gradient: [whiteBg, whiteBgLight] as [string, string],\n      borderGradient: [\n        isDark ? colors.neutral.gray[700] : colors.neutral.gray[300],\n        isDark ? colors.neutral.gray[600] : colors.neutral.gray[400],\n      ] as [string, string],\n    },\n  }\n}\n\n/**\n * Genera los tokens específicos para componentes\n */\nfunction generateComponentTokens(\n  colorScheme: ColorScheme,\n  mode: Mode,\n  semanticTokens: SemanticTokens,\n  modeTokens: ModeTokens,\n): ComponentTokens {\n  const isDark = mode === \"dark\"\n  const themeColors = colors.themes[colorScheme]\n\n  // Generar tokens para ProCard usando el módulo específico\n  const proCardTokens = generateProCardTokens(colorScheme, mode, semanticTokens, themeColors)\n\n  // Generar tokens de texto usando el nuevo módulo\n  const textTokens = generateTextTokens(colorScheme, mode)\n\n  // ThemeBackground tokens\n  const themeBackgroundTokens = {\n    background: isDark ? colors.neutral.gray[900] : colors.neutral.white,\n    foreground: isDark ? colors.neutral.gray[100] : colors.neutral.gray[900],\n  }\n\n  // PageBackground tokens\n  const pageBackgroundTokens = {\n    default: generatePageBackgroundTokens(colorScheme, mode, \"default\"),\n    gradient: generatePageBackgroundTokens(colorScheme, mode, \"gradient\"),\n    subtle: generatePageBackgroundTokens(colorScheme, mode, \"subtle\"),\n    minimal: generatePageBackgroundTokens(colorScheme, mode, \"minimal\"),\n  }\n\n  // Divider tokens\n  const dividerTokens = generateDividerTokens(colorScheme, mode)\n\n  // Navbar tokens\n  const navbarTokens = generateNavbarTokens(colorScheme, mode)\n\n  // Icon tokens\n  const iconTokens = generateIconTokens(colorScheme, mode)\n\n  // Input tokens\n  const inputTokens = generateInputTokens(colorScheme, mode)\n\n  // Select tokens\n  const selectTokens = generateSelectTokens(colorScheme, mode)\n\n  // Button tokens - asegurarnos de que se generen correctamente\n  const buttonTokens = generateButtonTokens(colorScheme, mode)\n\n  // Table tokens\n  const tableTokens = generateTableTokens(colorScheme, mode, semanticTokens, modeTokens)\n\n  return {\n    input: inputTokens,\n    proCard: proCardTokens,\n    text: textTokens,\n    themeBackground: themeBackgroundTokens,\n    pageBackground: pageBackgroundTokens,\n    divider: dividerTokens,\n    navbar: navbarTokens,\n    icon: iconTokens,\n    select: selectTokens,\n    button: buttonTokens,\n    table: tableTokens,\n  }\n}\n\n/**\n * Crea todos los tokens de color basados en el esquema de color y modo\n */\nexport function createColorTokens(colorScheme: ColorScheme, mode: Mode): ColorTokens {\n  const modeTokens = generateModeTokens(colorScheme, mode)\n  const semanticTokens = generateSemanticTokens(colorScheme, mode)\n  const componentTokens = generateComponentTokens(colorScheme, mode, semanticTokens, modeTokens)\n\n  return {\n    mode: modeTokens,\n    semantic: semanticTokens,\n    component: componentTokens,\n  }\n}\n\n// Exportamos un objeto vacío como placeholder inicial\n// Este será reemplazado por el ThemeProvider en tiempo de ejecución\nexport let colorTokens: ColorTokens = {} as ColorTokens\n\n// Función para actualizar los tokens de color globalmente\nexport function updateColorTokens(tokens: ColorTokens): void {\n  colorTokens = tokens\n}\n"])</script><script>self.__next_f.push([1,"b8:T126f,"])</script><script>self.__next_f.push([1,"// ... (todo el contenido existente de colors.ts)\n\nexport default colors;\n\n// Propuestas para un nuevo tema VERDE que se diferencie más de 'success'\n// Para usar una de estas, descomenta el bloque, completa las definiciones\n// (secondary, tertiary, y sus variantes Dark), y añade la nueva clave de tema\n// (ej. \"greenTeal\") al tipo ColorScheme en lib/theme/ColorToken.ts.\n\n/*\n// Propuesta 1: Verde Azulado/Cerceta Oscuro (Teal)\n// ================================================\n// Añadir 'greenTeal' y 'greenTealDark' a la exportación de 'themes'\n// y 'greenTeal' a ColorScheme en ColorToken.ts\n\nconst greenTealThemeColors = {\n  primary: {\n    pure: \"#0D7A73\",      // Cerceta oscuro y rico\n    pureShade: \"#095751\",  // Más oscuro\n    pureDark: \"#095751\",   // Legado\n    text: \"#042A27\",      // Texto oscuro para fondo claro\n    contrastText: \"#E0F7F6\", // Texto claro para botones oscuros/primarios\n    textShade: \"#06403B\",  // Shade de texto oscuro\n    textDark: \"#06403B\",   // Legado\n    bg: \"#E0F7F6\",        // Fondo claro con tinte cerceta\n    bgShade: \"#B3E7E4\",   // Shade de fondo claro\n    bgDark: \"#B3E7E4\",    // Legado\n  },\n  secondary: { // Ejemplo, ajustar valores\n    pure: \"#3D8F8A\",      // Cerceta más apagado\n    pureShade: \"#2C6A66\",\n    pureDark: \"#2C6A66\",\n    text: \"#133C39\",\n    contrastText: \"#D6F0EE\",\n    textShade: \"#1E5753\",\n    textDark: \"#1E5753\",\n    bg: \"#EBF5F4\",\n    bgShade: \"#C7E0DE\",\n    bgDark: \"#C7E0DE\",\n  },\n  tertiary: { // Ejemplo, ajustar valores\n    pure: \"#5DB0AA\",      // Cerceta aún más claro\n    pureShade: \"#42807B\",\n    pureDark: \"#42807B\",\n    text: \"#205B57\",\n    contrastText: \"#DDF3F1\",\n    textShade: \"#2F6F6A\",\n    textDark: \"#2F6F6A\",\n    bg: \"#EFF7F6\",\n    bgShade: \"#D3E7E5\",\n    bgDark: \"#D3E7E5\",\n  },\n} as ThemeColors;\n\nconst greenTealDarkThemeColors = {\n  primary: {\n    pure: \"#1EBEB2\",      // Cerceta más brillante para modo oscuro\n    pureShade: \"#0D7A73\",  // Corresponde al pure del modo claro\n    pureDark: \"#0D7A73\",   // Legado\n    text: \"#A1E0DB\",      // Texto claro tintado para fondo oscuro\n    contrastText: \"#042A27\", // Texto oscuro para botones cerceta brillantes\n    textShade: \"#7FD1CA\",  // Shade de texto claro\n    textDark: \"#7FD1CA\",   // Legado\n    bg: \"#042A27\",        // Fondo muy oscuro con base cerceta\n    bgShade: \"#021A17\",   // Shade de fondo oscuro\n    bgDark: \"#021A17\",    // Legado\n  },\n  secondary: { // Ejemplo, ajustar valores\n    pure: \"#5DB0AA\", \n    pureShade: \"#3D8F8A\",\n    pureDark: \"#3D8F8A\",\n    text: \"#A1D9D5\",\n    contrastText: \"#0A2C2A\",\n    textShade: \"#8CCBC6\",\n    textDark: \"#8CCBC6\",\n    bg: \"#0E3B38\",\n    bgShade: \"#072523\",\n    bgDark: \"#072523\",\n  },\n  tertiary: { // Ejemplo, ajustar valores\n    pure: \"#7BC4BF\", \n    pureShade: \"#5DB0AA\",\n    pureDark: \"#5DB0AA\",\n    text: \"#AEDCDF\",\n    contrastText: \"#103835\",\n    textShade: \"#9CD3CF\",\n    textDark: \"#9CD3CF\",\n    bg: \"#134541\",\n    bgShade: \"#0A2E2B\",\n    bgDark: \"#0A2E2B\",\n  },\n} as ThemeColors;\n\n// Para activarlo, añadirías a themes:\n// greenTeal: greenTealThemeColors,\n// greenTealDark: greenTealDarkThemeColors,\n*/\n\n/*\n// Propuesta 2: Verde Oliva\n// =======================\n// Añadir 'greenOlive' y 'greenOliveDark' a la exportación de 'themes'\n// y 'greenOlive' a ColorScheme en ColorToken.ts\n\nconst greenOliveThemeColors = {\n  primary: {\n    pure: \"#6B7F00\",      // Verde oliva\n    pureShade: \"#4D5C00\",  // Más oscuro\n    pureDark: \"#4D5C00\",   // Legado\n    text: \"#262E00\",      // Texto oscuro para fondo claro\n    contrastText: \"#E6EDC1\", // Texto claro para botones oliva\n    textShade: \"#3A4500\",  // Shade de texto oscuro\n    textDark: \"#3A4500\",   // Legado\n    bg: \"#F3F7E0\",        // Fondo claro con tinte oliva\n    bgShade: \"#DCE3B3\",   // Shade de fondo claro\n    bgDark: \"#DCE3B3\",    // Legado\n  },\n  // ... definir secondary y tertiary para greenOlive\n} as ThemeColors;\n\nconst greenOliveDarkThemeColors = {\n  primary: {\n    pure: \"#A8C800\",      // Oliva más brillante para modo oscuro\n    pureShade: \"#6B7F00\",  // Corresponde al pure del modo claro\n    pureDark: \"#6B7F00\",   // Legado\n    text: \"#D7E3A0\",      // Texto claro tintado para fondo oscuro\n    contrastText: \"#262E00\", // Texto oscuro para botones oliva brillantes\n    textShade: \"#C5D687\",  // Shade de texto claro\n    textDark: \"#C5D687\",   // Legado\n    bg: \"#262E00\",        // Fondo muy oscuro con base oliva\n    bgShade: \"#1A1E00\",   // Shade de fondo oscuro\n    bgDark: \"#1A1E00\",    // Legado\n  },\n  // ... definir secondaryDark y tertiaryDark para greenOliveDark\n} as ThemeColors;\n\n// Para activarlo, añadirías a themes:\n// greenOlive: greenOliveThemeColors,\n// greenOliveDark: greenOliveDarkThemeColors,\n*/\n"])</script><script>self.__next_f.push([1,"b9:T341d,"])</script><script>self.__next_f.push([1,"/**\n * Sistema de tokens de color para Sustrato\n * Este archivo define todos los tokens de color utilizados en la aplicación,\n * organizados por componente y variante.\n */\nimport colors from \"./colors\"\nimport type { ProCardComponentTokens } from \"./components/pro-card-tokens\"\nimport type { TextTokens } from \"./components/text-tokens\"\nimport { generateNavbarTokens, type NavbarTokens } from \"./components/nav-tokens\"\n\n// Tipos base para los tokens de color\nexport type ColorToken = string\n\n// Definición de variantes para ProCard\nexport type ProCardVariant =\n  | \"primary\"\n  | \"secondary\"\n  | \"tertiary\"\n  | \"accent\"\n  | \"success\"\n  | \"warning\"\n  | \"danger\" // Usar siempre \"danger\", nunca \"error\"\n  | \"neutral\"\n  | \"white\"\n\n// Tokens para el modo (light/dark)\nexport type ModeTokens = {\n  background: ColorToken\n  foreground: ColorToken\n  muted: ColorToken\n  mutedForeground: ColorToken\n  border: ColorToken\n}\n\n// Tokens para variantes semánticas\nexport type SemanticTokens = {\n  primary: {\n    background: ColorToken\n    foreground: ColorToken\n    border: ColorToken\n    gradient: [ColorToken, ColorToken]\n    borderGradient: [ColorToken, ColorToken]\n  }\n  secondary: {\n    background: ColorToken\n    foreground: ColorToken\n    border: ColorToken\n    gradient: [ColorToken, ColorToken]\n    borderGradient: [ColorToken, ColorToken]\n  }\n  tertiary: {\n    background: ColorToken\n    foreground: ColorToken\n    border: ColorToken\n    gradient: [ColorToken, ColorToken]\n    borderGradient: [ColorToken, ColorToken]\n  }\n  accent: {\n    background: ColorToken\n    foreground: ColorToken\n    border: ColorToken\n    gradient: [ColorToken, ColorToken]\n    borderGradient: [ColorToken, ColorToken]\n  }\n  success: {\n    background: ColorToken\n    foreground: ColorToken\n    border: ColorToken\n    gradient: [ColorToken, ColorToken]\n    borderGradient: [ColorToken, ColorToken]\n  }\n  warning: {\n    background: ColorToken\n    foreground: ColorToken\n    border: ColorToken\n    gradient: [ColorToken, ColorToken]\n    borderGradient: [ColorToken, ColorToken]\n  }\n  danger: {\n    background: ColorToken\n    foreground: ColorToken\n    border: ColorToken\n    gradient: [ColorToken, ColorToken]\n    borderGradient: [ColorToken, ColorToken]\n  }\n  neutral: {\n    background: ColorToken\n    foreground: ColorToken\n    border: ColorToken\n    gradient: [ColorToken, ColorToken]\n    borderGradient: [ColorToken, ColorToken]\n  }\n  white: {\n    background: ColorToken\n    foreground: ColorToken\n    border: ColorToken\n    gradient: [ColorToken, ColorToken]\n    borderGradient: [ColorToken, ColorToken]\n  }\n}\n\n// Tokens específicos para componentes\nexport type ComponentTokens = {\n  // ProCard\n  proCard: ProCardComponentTokens\n\n  // Text tokens\n  text: TextTokens\n\n  // ThemeBackground\n  themeBackground: {\n    background: ColorToken\n    foreground: ColorToken\n  }\n\n  // PageBackground\n  pageBackground: {\n    default: {\n      background: ColorToken\n      backgroundImage: string\n    }\n    gradient: {\n      background: ColorToken\n      backgroundImage: string\n    }\n    subtle: {\n      background: ColorToken\n      backgroundImage: string\n    }\n    minimal: {\n      background: ColorToken\n      backgroundImage: string\n    }\n  }\n\n  // Divider tokens\n\n  // Navbar tokens\n  navbar: NavbarTokens\n\n  // Icon tokens\n}\n\n// Estructura completa de tokens de color\nexport type ColorTokens = {\n  mode: ModeTokens\n  semantic: SemanticTokens\n  component: ComponentTokens\n}\n\nexport type ColorScheme = \"blue\" | \"green\" | \"orange\"\nexport type Mode = \"light\" | \"dark\"\n\n/**\n * Función para diluir un color hexadecimal\n * @param hexColor Color hexadecimal (con o sin #)\n * @param opacity Opacidad entre 0 y 1\n * @returns Color RGBA como string\n */\nfunction diluteColor(hexColor: string, opacity = 0.5): string {\n  // Asegurarse de que el color comienza con #\n  const hex = hexColor.startsWith(\"#\") ? hexColor.substring(1) : hexColor\n\n  // Convertir a RGB\n  const r = Number.parseInt(hex.substring(0, 2), 16)\n  const g = Number.parseInt(hex.substring(2, 4), 16)\n  const b = Number.parseInt(hex.substring(4, 6), 16)\n\n  // Devolver como rgba\n  return `rgba(${r}, ${g}, ${b}, ${opacity})`\n}\n\n/**\n * Genera los tokens de color para el modo (light/dark)\n */\nfunction generateModeTokens(colorScheme: ColorScheme, mode: Mode): ModeTokens {\n  const isDark = mode === \"dark\"\n  const themeColors = colors.themes[colorScheme]\n\n  return {\n    background: isDark ? colors.neutral.gray[900] : colors.neutral.white,\n    foreground: isDark ? colors.neutral.gray[100] : colors.neutral.gray[900],\n    muted: isDark ? colors.neutral.gray[800] : colors.neutral.gray[100],\n    mutedForeground: isDark ? colors.neutral.gray[400] : colors.neutral.gray[500],\n    border: isDark ? colors.neutral.gray[700] : colors.neutral.gray[200],\n  }\n}\n\n/**\n * Genera los tokens semánticos basados en el esquema de color y modo\n */\nfunction generateSemanticTokens(colorScheme: ColorScheme, mode: Mode): SemanticTokens {\n  const isDark = mode === \"dark\"\n  const themeColors = colors.themes[colorScheme]\n  const semanticColors = colors.semantic\n\n  // Función auxiliar para generar tokens básicos para cada variante semántica\n  const generateBasicTokens = (color: any) =\u003e ({\n    background: isDark ? color.bgDark : color.bg,\n    foreground: isDark ? color.textDark : color.text,\n    border: isDark ? color.pureDark : color.pure,\n  })\n\n  // Obtener colores base para cada variante\n  const primaryBase = generateBasicTokens(themeColors.primary)\n  const secondaryBase = generateBasicTokens(themeColors.secondary)\n  const tertiaryBase = generateBasicTokens(themeColors.tertiary)\n  const accentBase = generateBasicTokens(semanticColors.accent)\n  const successBase = generateBasicTokens(semanticColors.success)\n  const warningBase = generateBasicTokens(semanticColors.warning)\n  const dangerBase = generateBasicTokens(semanticColors.danger)\n\n  // Colores para gradientes específicos\n  const accentColor = isDark ? semanticColors.accent.pureDark : semanticColors.accent.pure\n  const primaryColor = isDark ? themeColors.primary.pureDark : themeColors.primary.pure\n  const secondaryColor = isDark ? themeColors.secondary.pureDark : themeColors.secondary.pure\n\n  // Diluir los colores de fondo para primary, secondary y tertiary con una opacidad intermedia\n  // Usamos 0.35 para modo oscuro y 0.4 para modo claro, que es un punto intermedio entre los valores anteriores\n  const dilutedPrimaryBg = diluteColor(primaryBase.background, isDark ? 0.35 : 0.4)\n  const dilutedSecondaryBg = diluteColor(secondaryBase.background, isDark ? 0.35 : 0.4)\n  const dilutedTertiaryBg = diluteColor(tertiaryBase.background, isDark ? 0.35 : 0.4)\n\n  // Color de fondo para white\n  const whiteBg = isDark ? colors.neutral.gray[800] : colors.neutral.white\n  const whiteBgLight = isDark ? colors.neutral.gray[900] : colors.neutral.gray[50]\n\n  return {\n    // Primario, secundario y terciario con fondos diluidos a un nivel intermedio\n    primary: {\n      ...primaryBase,\n      background: dilutedPrimaryBg, // Color de fondo con dilución intermedia\n      gradient: [dilutedPrimaryBg, isDark ? colors.neutral.gray[800] : colors.neutral.white] as [string, string],\n      borderGradient: [primaryColor, accentColor] as [string, string], // Borde: primario hacia accent\n    },\n    secondary: {\n      ...secondaryBase,\n      background: dilutedSecondaryBg, // Color de fondo con dilución intermedia\n      gradient: [dilutedSecondaryBg, isDark ? colors.neutral.gray[800] : colors.neutral.white] as [string, string],\n      borderGradient: [secondaryColor, accentColor] as [string, string], // Borde: secundario hacia accent\n    },\n    tertiary: {\n      ...tertiaryBase,\n      background: dilutedTertiaryBg, // Color de fondo con dilución intermedia\n      gradient: [dilutedTertiaryBg, isDark ? colors.neutral.gray[800] : colors.neutral.white] as [string, string],\n      borderGradient: [isDark ? themeColors.tertiary.pureDark : themeColors.tertiary.pure, accentColor] as [\n        string,\n        string,\n      ], // Borde: terciario hacia accent\n    },\n\n    // Accent (sin cambios)\n    accent: {\n      ...accentBase,\n      gradient: [accentBase.background, isDark ? colors.neutral.gray[800] : colors.neutral.white] as [string, string],\n      borderGradient: [accentColor, primaryColor] as [string, string], // Borde: accent hacia primario\n    },\n\n    // Success, warning, danger (sin cambios)\n    success: {\n      ...successBase,\n      gradient: [successBase.background, isDark ? colors.neutral.gray[800] : colors.neutral.white] as [string, string],\n      borderGradient: [\n        isDark ? semanticColors.success.pureDark : semanticColors.success.pure,\n        isDark ? semanticColors.success.textDark : semanticColors.success.text,\n      ] as [string, string],\n    },\n    warning: {\n      ...warningBase,\n      gradient: [warningBase.background, isDark ? colors.neutral.gray[800] : colors.neutral.white] as [string, string],\n      borderGradient: [\n        isDark ? semanticColors.warning.pureDark : semanticColors.warning.pure,\n        isDark ? semanticColors.warning.textDark : semanticColors.warning.text,\n      ] as [string, string],\n    },\n    danger: {\n      ...dangerBase,\n      gradient: [dangerBase.background, isDark ? colors.neutral.gray[800] : colors.neutral.white] as [string, string],\n      borderGradient: [\n        isDark ? semanticColors.danger.pureDark : semanticColors.danger.pure,\n        isDark ? semanticColors.danger.textDark : semanticColors.danger.text,\n      ] as [string, string],\n    },\n\n    // Neutral (sin cambios)\n    neutral: {\n      background: isDark ? colors.neutral.gray[800] : colors.neutral.gray[100],\n      foreground: isDark ? colors.neutral.gray[200] : colors.neutral.gray[800],\n      border: isDark ? colors.neutral.gray[600] : colors.neutral.gray[300],\n      gradient: [\n        isDark ? colors.neutral.gray[700] : colors.neutral.gray[200],\n        isDark ? colors.neutral.gray[900] : colors.neutral.white,\n      ] as [string, string], // Gradiente de fondo original\n      borderGradient: [isDark ? colors.neutral.gray[600] : colors.neutral.gray[300], secondaryColor] as [\n        string,\n        string,\n      ], // Borde: neutral hacia secundario\n    },\n\n    // White\n    white: {\n      background: whiteBg,\n      foreground: isDark ? colors.neutral.gray[200] : colors.neutral.gray[800],\n      border: isDark ? colors.neutral.gray[700] : colors.neutral.gray[200],\n      gradient: [whiteBg, whiteBgLight] as [string, string],\n      borderGradient: [\n        isDark ? colors.neutral.gray[700] : colors.neutral.gray[300],\n        isDark ? colors.neutral.gray[600] : colors.neutral.gray[400],\n      ] as [string, string],\n    },\n  }\n}\n\n/**\n * Genera los tokens específicos para componentes\n */\nfunction generateComponentTokens(\n  colorScheme: ColorScheme,\n  mode: Mode,\n  semanticTokens: SemanticTokens,\n  modeTokens: ModeTokens,\n): ComponentTokens {\n  const isDark = mode === \"dark\"\n  const themeColors = colors.themes[colorScheme]\n\n  // Componentes Refactorizados: Ya NO se generan aquí.\n  // Se usarán placeholders o valores mínimos ya que los componentes refactorizados\n  // no consumen de legacyColorTokens.component.proCard, .text, .pageBackground\n  const proCardPlaceholder = {} as ProCardComponentTokens // Placeholder\n  const textPlaceholder = {} as TextTokens // Placeholder\n\n  // Componentes Legacy: Usan la lógica original\n  const themeBackgroundTokens = {\n    background: isDark ? colors.neutral.gray[900] : colors.neutral.white,\n    foreground: isDark ? colors.neutral.gray[100] : colors.neutral.gray[900],\n  }\n\n  // PageBackground también está refactorizado. Se usa un placeholder.\n  // Los componentes refactorizados NO deben buscar aquí.\n  const pageBackgroundPlaceholder = {\n    default: { background: \"\", backgroundImage: \"\" },\n    gradient: { background: \"\", backgroundImage: \"\" },\n    subtle: { background: \"\", backgroundImage: \"\" },\n    minimal: { background: \"\", backgroundImage: \"\" },\n  } as ComponentTokens[\"pageBackground\"]\n\n  const navbarTokens = generateNavbarTokens(colorScheme, mode)\n\n  // Corregir la llamada a generateInputTokens para que use solo 2 argumentos\n\n  return {\n    // Componentes refactorizados usan placeholders\n    proCard: proCardPlaceholder,\n    text: textPlaceholder,\n    pageBackground: pageBackgroundPlaceholder, // Usar el placeholder\n\n    // Componentes legacy\n    themeBackground: themeBackgroundTokens,\n\n    navbar: navbarTokens,\n  }\n}\n\n/**\n * Crea todos los tokens de color basados en el esquema de color y modo.\n * Esta es la función que el theme-provider usa como `createLegacyColorTokens`.\n */\nexport function createColorTokens(colorScheme: ColorScheme, mode: Mode): ColorTokens {\n  const modeTokens = generateModeTokens(colorScheme, mode)\n  const semanticTokens = generateSemanticTokens(colorScheme, mode)\n  const componentTokens = generateComponentTokens(colorScheme, mode, semanticTokens, modeTokens)\n\n  return {\n    mode: modeTokens,\n    semantic: semanticTokens,\n    component: componentTokens,\n  }\n}\n\n// Exportamos un objeto vacío como placeholder inicial\n// Este será reemplazado por el ThemeProvider en tiempo de ejecución\nexport let colorTokens: ColorTokens = {} as ColorTokens\n\n// Función para actualizar los tokens de color globalmente\nexport function updateColorTokens(tokens: ColorTokens): void {\n  colorTokens = tokens\n}\n"])</script><script>self.__next_f.push([1,"ba:T30ac,"])</script><script>self.__next_f.push([1,"/**\n * Sistema de colores para Sustrato\n * Este archivo sirve como fuente única de verdad para todos los colores utilizados en la aplicación.\n */\n\n// Tipos para mejor autocompletado y seguridad de tipos\nexport type ColorShade = {\n  pure: string\n  pureShade: string // alias de pureDark\n  pureDark: string // legado, alias de pureShade\n  text: string\n  contrastText: string // nuevo: color para párrafos casi blanco tintado\n  textShade: string // alias de textDark\n  textDark: string // legado, alias de textShade\n  bg: string\n  bgShade: string // alias de bgDark\n  bgDark: string // legado, alias de bgShade\n}\n\ntype ThemeSet = {\n  // Nuevo tipo para agrupar light y dark variants\n  light: ThemeColors\n  dark: ThemeColors\n}\n\ntype SemanticSet = {\n  // Nuevo tipo para agrupar light y dark variants\n  light: SemanticColors\n  dark: SemanticColors\n}\n\nexport type ThemeColors = {\n  primary: ColorShade\n  secondary: ColorShade\n  tertiary: ColorShade\n}\n\ntype SemanticColors = {\n  accent: ColorShade\n  success: ColorShade\n  warning: ColorShade\n  danger: ColorShade\n  neutral: ColorShade\n  white: ColorShade\n}\n\n// Tipo para las variantes oscuras semánticas\ntype DarkSemanticColors = {\n  accentDark: ColorShade\n  successDark: ColorShade\n  warningDark: ColorShade\n  dangerDark: ColorShade\n  neutralDark: ColorShade\n  whiteDark: ColorShade\n}\n\n// Tipo combinado para el objeto semantic exportado\n// Esto es lo que realmente contiene el objeto 'semantic'\nexport interface AllSemanticColors extends SemanticColors {\n  accentDark: ColorShade\n  successDark: ColorShade\n  warningDark: ColorShade\n  dangerDark: ColorShade\n  neutralDark: ColorShade\n  whiteDark: ColorShade\n}\n\n// Temas de colores\nexport const themes = {\n  blue: {\n    // Contenedor para blue light\n    primary: {\n      pure: \"#3D7DF6\",\n      pureShade: \"#2E5EB9\",\n      pureDark: \"#2E5EB9\",\n      text: \"#1f4487\",\n      contrastText: \"#ECF2FE\",\n      textShade: \"#132951\",\n      textDark: \"#132951\",\n      bg: \"#DDE5FA\",\n      bgShade: \"#A6ACBC\",\n      bgDark: \"#A6ACBC\",\n    },\n    secondary: {\n      pure: \"#516e99\",\n      pureShade: \"#3D5373\",\n      pureDark: \"#3D5373\",\n      text: \"#364866\",\n      contrastText: \"#EEF1F5\",\n      textShade: \"#202B3D\",\n      textDark: \"#202B3D\",\n      bg: \"#D2E1FF\",\n      bgShade: \"#A0B0CC\",\n      bgDark: \"#A0B0CC\",\n    },\n    tertiary: {\n      pure: \"#1EA4E9\",\n      pureShade: \"#177BAF\",\n      pureDark: \"#177BAF\",\n      text: \"#115f87\",\n      contrastText: \"#E9F6FD\",\n      textShade: \"#0A3951\",\n      textDark: \"#0A3951\",\n      bg: \"#d7f1fe\",\n      bgShade: \"#95B0BD\",\n      bgDark: \"#95B0BD\",\n    },\n  } as ThemeColors,\n  blueDark: {\n    // Dark variant for blue\n    primary: {\n      pure: \"#5896F8\", // Lighter blue for dark bg\n      pureShade: \"#3D7DF6\", // Corresponds to light.pure\n      pureDark: \"#3D7DF6\",\n      text: \"#ADC8F9\", // Tinted light blue\n      contrastText: \"#0A1A33\", // Dark blue for light blue button\n      textShade: \"#8FB0EA\", // Slightly darker tinted light blue\n      textDark: \"#BDBDBD\", // Mantener como alias de textShade si es necesario, o ajustar a #8FB0EA\n      bg: \"#0F1A2A\", // Very dark blue\n      bgShade: \"#0A111C\", // Even darker\n      bgDark: \"#0A111C\",\n    },\n    secondary: {\n      pure: \"#7DA0D1\", // Lighter\n      pureShade: \"#516e99\", // Corresponds to light.pure\n      pureDark: \"#516e99\",\n      text: \"#BCCEE5\", // Tinted light blue-gray\n      contrastText: \"#101C2F\",\n      textShade: \"#A3B8D3\", // Slightly darker\n      textDark: \"#BDBDBD\", // Mantener o ajustar a #A3B8D3\n      bg: \"#1B283D\", // Darker\n      bgShade: \"#121A27\",\n      bgDark: \"#121A27\",\n    },\n    tertiary: {\n      pure: \"#5DC1F0\", // Lighter\n      pureShade: \"#1EA4E9\", // Corresponds to light.pure\n      pureDark: \"#1EA4E9\",\n      text: \"#A8DDF6\", // Tinted light cyan-blue\n      contrastText: \"#07293D\",\n      textShade: \"#8EC7E8\", // Slightly darker\n      textDark: \"#BDBDBD\", // Mantener o ajustar a #8EC7E8\n      bg: \"#0A2D40\", // Darker\n      bgShade: \"#051D2B\",\n      bgDark: \"#051D2B\",\n    },\n  } as ThemeColors,\n\n  green: {\n    primary: {\n      pure: \"#0D7A73\", // Cerceta oscuro y rico\n      pureShade: \"#095751\", // Más oscuro\n      pureDark: \"#095751\", // Legado\n      text: \"#042A27\", // Texto oscuro para fondo claro\n      contrastText: \"#E0F7F6\", // Texto claro para botones oscuros/primarios\n      textShade: \"#06403B\", // Shade de texto oscuro\n      textDark: \"#06403B\", // Legado\n      bg: \"#E0F7F6\", // Fondo claro con tinte cerceta\n      bgShade: \"#B3E7E4\", // Shade de fondo claro\n      bgDark: \"#B3E7E4\", // Legado\n    },\n    secondary: {\n      pure: \"#3D8F8A\", // Cerceta más apagado\n      pureShade: \"#2C6A66\",\n      pureDark: \"#2C6A66\",\n      text: \"#133C39\",\n      contrastText: \"#D6F0EE\",\n      textShade: \"#1E5753\",\n      textDark: \"#1E5753\",\n      bg: \"#EBF5F4\",\n      bgShade: \"#C7E0DE\",\n      bgDark: \"#C7E0DE\",\n    },\n    tertiary: {\n      pure: \"#6ECFCA\",\n      pureShade: \"#54B2AC\",\n      pureDark: \"#54B2AC\",\n      text: \"#2B6B66\",\n      contrastText: \"#E0F7F6\",\n      textShade: \"#3E8A84\",\n      textDark: \"#3E8A84\",\n      bg: \"#eef7ea\",\n      bgShade: \"#c1e2ec\",\n      bgDark: \"#D6EFEC\",\n    },\n  } as ThemeColors,\n  greenDark: {\n    primary: {\n      pure: \"#1EBEB2\", // Cerceta más brillante para modo oscuro\n      pureShade: \"#0D7A73\", // Corresponde al pure del modo claro\n      pureDark: \"#0D7A73\", // Legado\n      text: \"#A1E0DB\", // Texto claro tintado para fondo oscuro (Green Teal Dark Text)\n      contrastText: \"#042A27\", // Texto oscuro para botones cerceta brillantes\n      textShade: \"#7FD1CA\", // Shade de texto claro (Green Teal Dark TextShade)\n      textDark: \"#7FD1CA\", // Legado\n      bg: \"#042A27\", // Fondo muy oscuro con base cerceta\n      bgShade: \"#021A17\", // Shade de fondo oscuro\n      bgDark: \"#021A17\", // Legado\n    },\n    secondary: {\n      pure: \"#5DB0AA\",\n      pureShade: \"#3D8F8A\",\n      pureDark: \"#3D8F8A\",\n      text: \"#A1D9D5\",\n      contrastText: \"#0A2C2A\",\n      textShade: \"#8CCBC6\",\n      textDark: \"#8CCBC6\",\n      bg: \"#0E3B38\",\n      bgShade: \"#072523\",\n      bgDark: \"#072523\",\n    },\n    tertiary: {\n      pure: \"#8BE6E0\",\n      pureShade: \"#6ECFCA\",\n      pureDark: \"#6ECFCA\",\n      text: \"#C2F0ED\",\n      contrastText: \"#0F3E3A\",\n      textShade: \"#A1E0DB\",\n      textDark: \"#A1E0DB\",\n      bg: \"#103F3B\",\n      bgShade: \"#0A2D2A\",\n      bgDark: \"#0A2D2A\",\n    },\n  } as ThemeColors,\n\n  orange: {\n    // Light variant\n    primary: {\n      pure: \"#F77019\",\n      pureShade: \"#B95413\",\n      pureDark: \"#B95413\",\n      text: \"#99450f\",\n      contrastText: \"#FEF1E8\",\n      textShade: \"#5C2909\",\n      textDark: \"#5C2909\",\n      bg: \"#FAECE3\",\n      bgShade: \"#BCB1AA\",\n      bgDark: \"#BCB1AA\",\n    },\n    secondary: {\n      pure: \"#913E0F\",\n      pureShade: \"#6D2F0B\",\n      pureDark: \"#6D2F0B\",\n      text: \"#5e2909\",\n      contrastText: \"#F4ECE7\",\n      textShade: \"#381905\",\n      textDark: \"#381905\",\n      bg: \"#E1D1C6\",\n      bgShade: \"#A99D95\",\n      bgDark: \"#A99D95\",\n    },\n    tertiary: {\n      pure: \"#7B294E\",\n      pureShade: \"#561C36\",\n      pureDark: \"#561C36\",\n      text: \"#4A1B32\",\n      contrastText: \"#F2EAED\",\n      textShade: \"#2C1020\",\n      textDark: \"#2C1020\",\n      bg: \"#F5E6ED\",\n      bgShade: \"#BFA3B5\",\n      bgDark: \"#BFA3B5\",\n    },\n  } as ThemeColors,\n  orangeDark: {\n    // Dark variant for orange\n    primary: {\n      pure: \"#FB8C4A\", // Lighter orange\n      pureShade: \"#F77019\", // Corresponds to light.pure\n      pureDark: \"#F77019\",\n      text: \"#FCC6A4\", // Tinted light orange\n      contrastText: \"#3D1C06\", // Dark orange for light orange button\n      textShade: \"#F8B890\", // Slightly darker\n      textDark: \"#BDBDBD\", // Mantener o ajustar a #F8B890\n      bg: \"#301606\", // Very dark orange\n      bgShade: \"#200E02\",\n      bgDark: \"#200E02\",\n    },\n    secondary: {\n      pure: \"#C26B3C\", // Lighter\n      pureShade: \"#913E0F\",\n      pureDark: \"#913E0F\",\n      text: \"#D9AD99\", // Tinted light brown-orange\n      contrastText: \"#301405\",\n      textShade: \"#C99C86\", // Slightly darker\n      textDark: \"#BDBDBD\", // Mantener o ajustar a #C99C86\n      bg: \"#2A1204\", // Darker\n      bgShade: \"#1B0B01\",\n      bgDark: \"#1B0B01\",\n    },\n    tertiary: {\n      pure: \"#B05A7F\", // Lighter\n      pureShade: \"#7B294E\",\n      pureDark: \"#7B294E\",\n      text: \"#D0A7BB\", // Tinted light wine/purple\n      contrastText: \"#300D1E\",\n      textShade: \"#C295AB\", // Slightly darker\n      textDark: \"#BDBDBD\", // Mantener o ajustar a #C295AB\n      bg: \"#2F0A1D\", // Darker\n      bgShade: \"#1F0513\",\n      bgDark: \"#1F0513\",\n    },\n  } as ThemeColors,\n}\n\n// Colores semánticos universales\nexport const semantic: AllSemanticColors = {\n  accent: {\n    // Light variant\n    pure: \"#8A4EF6\",\n    pureShade: \"#683BB9\",\n    pureDark: \"#683BB9\",\n    text: \"#5A3E9C\",\n    contrastText: \"#F3EDFE\",\n    textShade: \"#4D2C8A\",\n    textDark: \"#4D2C8A\",\n    bg: \"#E8D9F9\",\n    bgShade: \"#AEA3BB\",\n    bgDark: \"#AEA3BB\",\n  },\n  accentDark: {\n    // Dark variant\n    pure: \"#A475F8\",\n    pureShade: \"#8A4EF6\",\n    pureDark: \"#8A4EF6\",\n    text: \"#C6A9FA\",\n    contrastText: \"#271347\",\n    textShade: \"#B592F4\",\n    textDark: \"#C6B3E7\",\n    bg: \"#1A0F2A\",\n    bgShade: \"#100A1B\",\n    bgDark: \"#100A1B\",\n  },\n\n  success: {\n    // Light variant\n    pure: \"#3DFF94\",\n    pureShade: \"#2DBF6F\",\n    pureDark: \"#2DBF6F\",\n    text: \"#45574d\",\n    contrastText: \"#1f3c2b\",\n    textShade: \"#33413A\",\n    textDark: \"#33413A\",\n    bg: \"#cffae3\",\n    bgShade: \"#9BBDAA\",\n    bgDark: \"#9BBDAA\",\n  },\n  successDark: {\n    // Dark variant\n    pure: \"#60FFAA\",\n    pureShade: \"#3DFF94\",\n    pureDark: \"#3DFF94\",\n    text: \"#97FBC9\",\n    contrastText: \"#0F3B22\",\n    textShade: \"#7EEBB6\",\n    textDark: \"#B3E7C6\",\n    bg: \"#0A2A1A\",\n    bgShade: \"#051B10\",\n    bgDark: \"#051B10\",\n  },\n\n  warning: {\n    // Light variant\n    pure: \"#FFEE3D\",\n    pureShade: \"#BFB32F\",\n    pureDark: \"#BFB32F\",\n    text: \"#6E671A\",\n    contrastText: \"#3d3b27\",\n    textShade: \"#524D13\",\n    textDark: \"#524D13\",\n    bg: \"#FAF7DF\",\n    bgShade: \"#BBB9A7\",\n    bgDark: \"#BBB9A7\",\n  },\n  warningDark: {\n    // Dark variant\n    pure: \"#FFF260\",\n    pureShade: \"#FFEE3D\",\n    pureDark: \"#FFEE3D\",\n    text: \"#FFF7A0\",\n    contrastText: \"#3B3809\",\n    textShade: \"#FFF58C\",\n    textDark: \"#1A1905\",\n    bg: \"#292608\",\n    bgShade: \"#1B1A03\",\n    bgDark: \"#1B1A03\",\n  },\n\n  danger: {\n    // Light variant\n    pure: \"#ED3A45\",\n    pureShade: \"#B22B34\",\n    pureDark: \"#B22B34\",\n    text: \"#6B1A1F\",\n    contrastText: \"#FDEBEC\",\n    textShade: \"#501317\",\n    textDark: \"#501317\",\n    bg: \"#F7DDDF\",\n    bgShade: \"#B9A6A7\",\n    bgDark: \"#B9A6A7\",\n  },\n  dangerDark: {\n    // Dark variant\n    pure: \"#F2606B\",\n    pureShade: \"#ED3A45\",\n    pureDark: \"#ED3A45\",\n    text: \"#F7A0A6\",\n    contrastText: \"#420B10\",\n    textShade: \"#F38C93\",\n    textDark: \"#E7B3B7\",\n    bg: \"#2A0A0D\",\n    bgShade: \"#1B0507\",\n    bgDark: \"#1B0507\",\n  },\n\n  neutral: {\n    // Light variant (as previously defined)\n    pure: \"#6B7280\",\n    pureShade: \"#4B5563\",\n    pureDark: \"#4B5563\",\n    text: \"#1F2937\",\n    contrastText: \"#F0F1F3\",\n    textShade: \"#111827\",\n    textDark: \"#111827\",\n    bg: \"#F9FAFB\",\n    bgShade: \"#c6c8cb\",\n    bgDark: \"#c6c8cb\",\n  },\n  neutralDark: {\n    // Dark variant for Neutral\n    pure: \"#9CA3AF\",\n    pureShade: \"#6B7280\",\n    pureDark: \"#6B7280\",\n    text: \"#E5E7EB\",\n    contrastText: \"#1F2937\",\n    textShade: \"#D1D5DB\",\n    textDark: \"#D1D5DB\",\n    bg: \"#111827\",\n    bgShade: \"#000000\",\n    bgDark: \"#000000\",\n  },\n  white: {\n    pure: \"#FFFFFF\",\n    pureShade: \"#F3F4F6\",\n    pureDark: \"#F3F4F6\",\n    text: \"#1F2937\",\n    contrastText: \"#111827\",\n    textShade: \"#374151\",\n    textDark: \"#374151\",\n    bg: \"#FFFFFF\",\n    bgShade: \"#F9FAFB\",\n    bgDark: \"#F9FAFB\",\n  },\n  whiteDark: {\n    pure: \"#E5E7EB\",\n    pureShade: \"#D1D5DB\",\n    pureDark: \"#D1D5DB\",\n    text: \"#1F2937\",\n    contrastText: \"#111827\",\n    textShade: \"#374151\",\n    textDark: \"#374151\",\n    bg: \"#F3F4F6\",\n    bgShade: \"#E5E7EB\",\n    bgDark: \"#E5E7EB\",\n  },\n}\n\n// Colores neutrales\nexport const neutral = {\n  white: \"#FFFFFF\",\n  black: \"#000000\",\n  gray: {\n    50: \"#F9FAFB\",\n    100: \"#F3F4F6\",\n    200: \"#E5E7EB\",\n    300: \"#D1D5DB\",\n    400: \"#9CA3AF\",\n    500: \"#6B7280\",\n    600: \"#4B5563\",\n    700: \"#374151\",\n    800: \"#1F2937\",\n    900: \"#111827\",\n  },\n}\n\n// Exportación del objeto completo para facilitar la importación\nexport const colors = {\n  themes,\n  semantic,\n  neutral,\n}\n\nexport default colors\n"])</script><script>self.__next_f.push([1,"bb:T2768,"])</script><script>self.__next_f.push([1,"// --- START OF FILE Copia de table-tokens.txt (CON CORRECCIÓN DE ERRORES DE LINTER) ---\n\nimport tinycolor from \"tinycolor2\"\nimport type { ColorScheme, Mode } from \"../color-tokens\"\nimport type { SemanticTokens, ModeTokens, ProCardVariant } from \"../color-tokens\"\nimport loadedColors from \"../colors\"\n\nexport type CellVariant = ProCardVariant\n\nexport interface TableTokens {\n  // ... (interfaz sin cambios) ...\n  container: {\n    backgroundColor: string\n    borderColor: string\n  }\n  header: {\n    backgroundColor: string\n    foregroundColor: string\n    borderColor: string\n    sortIconColor: string\n    sortIconHoverColor: string\n    resizeHandleColor: string\n  }\n  row: {\n    default: {\n      backgroundColor: string\n      foregroundColor: string\n      borderColor: string\n      hoverBackgroundColor: string\n    }\n    status: {\n      success: {\n        backgroundColor: string\n        foregroundColor: string\n        hoverBackgroundColor: string\n        borderColor?: string\n      }\n      warning: {\n        backgroundColor: string\n        foregroundColor: string\n        hoverBackgroundColor: string\n        borderColor?: string\n      }\n      danger: {\n        backgroundColor: string\n        foregroundColor: string\n        hoverBackgroundColor: string\n        borderColor?: string\n      }\n      info: {\n        backgroundColor: string\n        foregroundColor: string\n        hoverBackgroundColor: string\n        borderColor?: string\n      }\n      neutral: {\n        backgroundColor: string\n        foregroundColor: string\n        hoverBackgroundColor: string\n        borderColor?: string\n      }\n    }\n    subRowBackgroundColor: string\n    subRowIndentBorderColor: string\n  }\n  cell: {\n    borderColor: string\n    foregroundColor: string\n    variants: Record\u003c\n      CellVariant,\n      {\n        backgroundColor: string\n        foregroundColor: string\n        hoverBackgroundColor: string\n        borderColor?: string\n      }\n    \u003e\n  }\n  toolbar: {\n    columnSelector: {\n      backgroundColor: string\n      foregroundColor: string\n    }\n  }\n  tooltip: {\n    backgroundColor: string\n    foregroundColor: string\n    borderColor: string\n    borderColorLongContent: string\n  }\n  expander: {\n    circleBackground: string\n    circleBorderColor: string\n    iconColor: string\n    expandedCircleBackground: string\n    expandedIconColor: string\n  }\n}\n\nexport function generateTableTokens(\n  colorScheme: ColorScheme,\n  mode: Mode,\n  semanticTokensFromHook: SemanticTokens,\n  modeColors: ModeTokens, // Este es el tipo que no tiene 'card', 'popover', etc.\n): TableTokens {\n  const isDark = mode === \"dark\"\n  const currentThemeColors = loadedColors.themes[colorScheme]\n  const semanticBaseColors = loadedColors.semantic\n  const neutralBaseColors = loadedColors.neutral\n\n  const generateVariantStyle = (variant: CellVariant) =\u003e {\n    // ... (sin cambios en esta función interna)\n    let backgroundColor: string,\n      foregroundColor: string,\n      hoverBackgroundColor: string,\n      borderColor: string | undefined = undefined\n\n    const colorSetMap = {\n      primary: currentThemeColors.primary,\n      secondary: currentThemeColors.secondary,\n      tertiary: currentThemeColors.tertiary,\n      accent: semanticBaseColors.accent,\n      success: semanticBaseColors.success,\n      warning: semanticBaseColors.warning,\n      danger: semanticBaseColors.danger,\n    }\n\n    if (variant in colorSetMap) {\n      const cSet = colorSetMap[variant as keyof typeof colorSetMap]\n      backgroundColor = isDark ? cSet.bgDark : cSet.bg\n      foregroundColor = isDark ? cSet.textDark : cSet.text\n      hoverBackgroundColor = isDark\n        ? tinycolor(cSet.bgDark).darken(5).toString()\n        : tinycolor(cSet.bg).darken(10).toString()\n\n      borderColor = isDark ? cSet.pure : cSet.pureDark\n    } else if (variant === \"white\") {\n      backgroundColor = isDark ? neutralBaseColors.gray[800] : neutralBaseColors.white\n      foregroundColor = isDark ? neutralBaseColors.gray[200] : neutralBaseColors.gray[800]\n      hoverBackgroundColor = isDark ? neutralBaseColors.gray[700] : neutralBaseColors.gray[100]\n      borderColor = isDark ? neutralBaseColors.gray[600] : neutralBaseColors.gray[300]\n    } else if (variant === \"neutral\") {\n      backgroundColor = isDark ? neutralBaseColors.gray[700] : neutralBaseColors.gray[50]\n      foregroundColor = isDark ? neutralBaseColors.gray[200] : neutralBaseColors.gray[700]\n      hoverBackgroundColor = isDark ? neutralBaseColors.gray[600] : neutralBaseColors.gray[100]\n      borderColor = isDark ? neutralBaseColors.gray[500] : neutralBaseColors.gray[200]\n    } else {\n      backgroundColor = isDark ? neutralBaseColors.gray[800] : neutralBaseColors.white\n      foregroundColor = isDark ? neutralBaseColors.gray[200] : neutralBaseColors.gray[800]\n      hoverBackgroundColor = isDark ? neutralBaseColors.gray[700] : neutralBaseColors.gray[200]\n    }\n    return {\n      backgroundColor,\n      foregroundColor,\n      hoverBackgroundColor,\n      borderColor,\n    }\n  }\n\n  const cellVariantTokens = {} as TableTokens[\"cell\"][\"variants\"]\n  const allCellVariants: CellVariant[] = [\n    \"primary\",\n    \"secondary\",\n    \"tertiary\",\n    \"accent\",\n    \"success\",\n    \"warning\",\n    \"danger\",\n    \"neutral\",\n    \"white\",\n  ]\n  allCellVariants.forEach((variant) =\u003e {\n    cellVariantTokens[variant] = generateVariantStyle(variant)\n  })\n\n  const containerBackgroundColor = modeColors.background\n  const containerBorderColor = modeColors.border\n\n  const headerBackgroundColor = isDark ? currentThemeColors.primary.pureDark : currentThemeColors.primary.pure\n  const headerForegroundColor = neutralBaseColors.white\n  const headerBorderColor = modeColors.border\n  const sortIconColor = tinycolor(headerForegroundColor).setAlpha(0.7).toString()\n  const sortIconHoverColor = headerForegroundColor\n  const resizeHandleColor = tinycolor(semanticTokensFromHook.primary.background).setAlpha(0.3).toString()\n\n  const rowDefaultBackgroundColor = modeColors.background\n  const rowDefaultForegroundColor = modeColors.foreground\n  const rowDefaultBorderColor = tinycolor(modeColors.border).setAlpha(0.5).toString()\n  const rowDefaultHoverBackgroundColor = isDark ? neutralBaseColors.gray[700] : neutralBaseColors.gray[100] // Cambiado a gray[100] para modo claro para un hover más sutil que gray[300]\n\n  const generateRowStatusStyles = (statusKey: CellVariant) =\u003e {\n    const variantStyle = generateVariantStyle(statusKey)\n    return {\n      backgroundColor: variantStyle.backgroundColor,\n      foregroundColor: variantStyle.foregroundColor,\n      hoverBackgroundColor: variantStyle.hoverBackgroundColor,\n      borderColor: variantStyle.borderColor,\n    }\n  }\n\n  const rowStatusColors = {\n    success: generateRowStatusStyles(\"success\"),\n    warning: generateRowStatusStyles(\"warning\"),\n    danger: generateRowStatusStyles(\"danger\"),\n    info: generateRowStatusStyles(\"accent\"),\n    neutral: {\n      ...generateRowStatusStyles(\"neutral\"),\n      borderColor: rowDefaultBorderColor,\n    },\n  }\n\n  const subRowBackgroundColor = tinycolor(modeColors.muted)\n    .setAlpha(isDark ? 0.25 : 0.4)\n    .toString()\n  const subRowIndentBorderColor = semanticTokensFromHook.primary.border || semanticTokensFromHook.primary.background\n\n  const cellGeneralBorderColor = tinycolor(modeColors.border).setAlpha(0.7).toString()\n  const cellDefaultForegroundColor = modeColors.foreground\n\n  // --- CORRECCIÓN PARA TOKENS DE TOOLBAR Y TOOLTIP ---\n  const columnSelectorBackgroundColor = modeColors.muted // Volver a usar modeColors.muted\n  const columnSelectorForegroundColor = modeColors.foreground // Usar modeColors.foreground\n\n  const tooltipBackgroundColor = modeColors.background // Usar modeColors.background para el tooltip\n  const tooltipForegroundColor = modeColors.foreground // Usar modeColors.foreground\n  const tooltipBorderColor = modeColors.border\n  const tooltipBorderColorLongContent = semanticBaseColors.accent.pure\n\n  const expanderCircleBg = currentThemeColors.primary.pure\n  const expanderIconColor = neutralBaseColors.white\n  const expanderCircleBorder = neutralBaseColors.white\n  // Consideración: Si primary.text es muy oscuro (como #1f4487), podría no ser ideal para un fondo.\n  // primary.pureDark (#2E5EB9) podría ser una mejor alternativa si primary.text no funciona bien.\n  const expanderExpandedCircleBg = currentThemeColors.primary.pureDark // Manteniendo tu sugerencia, pero con advertencia.\n  // Alternativa: currentThemeColors.primary.pureDark;\n\n  const expanderTokens = {\n    circleBackground: expanderCircleBg,\n    circleBorderColor: expanderCircleBorder,\n    iconColor: expanderIconColor,\n    expandedCircleBackground: expanderExpandedCircleBg,\n    expandedIconColor: expanderIconColor,\n  }\n\n  return {\n    container: {\n      backgroundColor: containerBackgroundColor,\n      borderColor: containerBorderColor,\n    },\n    header: {\n      backgroundColor: headerBackgroundColor,\n      foregroundColor: headerForegroundColor,\n      borderColor: headerBorderColor,\n      sortIconColor: sortIconColor,\n      sortIconHoverColor: sortIconHoverColor,\n      resizeHandleColor: resizeHandleColor,\n    },\n    row: {\n      default: {\n        backgroundColor: rowDefaultBackgroundColor,\n        foregroundColor: rowDefaultForegroundColor,\n        borderColor: rowDefaultBorderColor,\n        hoverBackgroundColor: rowDefaultHoverBackgroundColor,\n      },\n      status: rowStatusColors,\n      subRowBackgroundColor: subRowBackgroundColor,\n      subRowIndentBorderColor: subRowIndentBorderColor,\n    },\n    cell: {\n      borderColor: cellGeneralBorderColor,\n      foregroundColor: cellDefaultForegroundColor,\n      variants: cellVariantTokens,\n    },\n    toolbar: {\n      columnSelector: {\n        backgroundColor: columnSelectorBackgroundColor,\n        foregroundColor: columnSelectorForegroundColor,\n      },\n    },\n    tooltip: {\n      backgroundColor: tooltipBackgroundColor,\n      foregroundColor: tooltipForegroundColor,\n      borderColor: tooltipBorderColor,\n      borderColorLongContent: tooltipBorderColorLongContent,\n    },\n    expander: expanderTokens,\n  }\n}\n// --- END OF FILE ---\n"])</script><script>self.__next_f.push([1,"bc:Tc66,"])</script><script>self.__next_f.push([1,"import type { AppColorTokens } from \"../ColorToken\"\n\nexport type BadgeVariant =\n  | \"default\"\n  | \"secondary\"\n  | \"destructive\"\n  | \"outline\"\n  | \"success\"\n  | \"warning\"\n  | \"info\"\n  | \"neutral\"\n\nexport interface BadgeTokenSet {\n  background: string\n  subtleBackgroundColor: string\n  contrastTextColor: string\n  regularTextColor: string\n  borderColor: string\n  subtleBorderColor: string\n}\n\nexport type BadgeTokens = Record\u003cBadgeVariant, BadgeTokenSet\u003e\n\nexport function generateBadgeTokens(appColorTokens: AppColorTokens): BadgeTokens {\n  return {\n    default: {\n      background: appColorTokens.primary.pure,\n      subtleBackgroundColor: appColorTokens.primary.bg,\n      contrastTextColor: appColorTokens.primary.contrastText,\n      regularTextColor: appColorTokens.primary.text,\n      borderColor: \"transparent\",\n      subtleBorderColor: appColorTokens.primary.bgShade,\n    },\n    secondary: {\n      background: appColorTokens.secondary.pure,\n      subtleBackgroundColor: appColorTokens.secondary.bg,\n      contrastTextColor: appColorTokens.secondary.contrastText,\n      regularTextColor: appColorTokens.secondary.text,\n      borderColor: \"transparent\",\n      subtleBorderColor: appColorTokens.secondary.bgShade,\n    },\n    destructive: {\n      background: appColorTokens.danger.pure,\n      subtleBackgroundColor: appColorTokens.danger.bg,\n      contrastTextColor: appColorTokens.danger.contrastText,\n      regularTextColor: appColorTokens.danger.text,\n      borderColor: \"transparent\",\n      subtleBorderColor: appColorTokens.danger.bgShade,\n    },\n    outline: {\n      background: \"transparent\",\n      subtleBackgroundColor: \"transparent\",\n      contrastTextColor: appColorTokens.neutral.text,\n      regularTextColor: appColorTokens.neutral.text,\n      borderColor: appColorTokens.neutral.text,\n      subtleBorderColor: appColorTokens.neutral.bgShade,\n    },\n    success: {\n      background: appColorTokens.success.pure,\n      subtleBackgroundColor: appColorTokens.success.bg,\n      contrastTextColor: appColorTokens.success.contrastText,\n      regularTextColor: appColorTokens.success.text,\n      borderColor: \"transparent\",\n      subtleBorderColor: appColorTokens.success.bgShade,\n    },\n    warning: {\n      background: appColorTokens.warning.pure,\n      subtleBackgroundColor: appColorTokens.warning.bg,\n      contrastTextColor: appColorTokens.warning.contrastText,\n      regularTextColor: appColorTokens.warning.text,\n      borderColor: \"transparent\",\n      subtleBorderColor: appColorTokens.warning.bgShade,\n    },\n    info: {\n      background: appColorTokens.accent.pure,\n      subtleBackgroundColor: appColorTokens.accent.bg,\n      contrastTextColor: appColorTokens.accent.contrastText,\n      regularTextColor: appColorTokens.accent.text,\n      borderColor: \"transparent\",\n      subtleBorderColor: appColorTokens.accent.bgShade,\n    },\n    neutral: {\n      background: appColorTokens.neutral.bg,\n      subtleBackgroundColor: appColorTokens.neutral.bg,\n      contrastTextColor: appColorTokens.neutral.text,\n      regularTextColor: appColorTokens.neutral.text,\n      borderColor: \"transparent\",\n      subtleBorderColor: appColorTokens.neutral.bgShade,\n    },\n  }\n}\n"])</script><script>self.__next_f.push([1,"bd:T215e,"])</script><script>self.__next_f.push([1,"import type { AppColorTokens } from \"../ColorToken\"\n\nexport type CheckVariant =\n  | \"primary\"\n  | \"secondary\"\n  | \"tertiary\"\n  | \"accent\"\n  | \"success\"\n  | \"warning\"\n  | \"danger\"\n  | \"neutral\"\nexport type CheckSize = \"xs\" | \"sm\" | \"md\" | \"lg\" | \"xl\"\nexport type CheckVisualVariant = \"default\" | \"outline\" | \"subtle\" | \"solid\"\n\nexport interface CheckTokens {\n  // Colores base\n  background: string\n  border: string\n  check: string\n  text: string\n\n  // Estados\n  hover: {\n    background: string\n    border: string\n  }\n  focus: {\n    outline: string\n  }\n  active: {\n    background: string\n    border: string\n  }\n  checked: {\n    background: string\n    border: string\n    check: string\n  }\n  disabled: {\n    background: string\n    border: string\n    check: string\n    text: string\n    opacity: number\n  }\n\n  // Tamaños\n  size: {\n    box: string\n    checkThickness: number\n    borderRadius: string\n    fontSize: string\n    padding: string\n  }\n}\n\nexport function generateCheckTokens(\n  appColorTokens: AppColorTokens,\n  size: CheckSize = \"md\",\n  variant: CheckVariant = \"primary\",\n  visualVariant: CheckVisualVariant = \"default\",\n): CheckTokens {\n  const sizeTokens = getSizeTokens(size)\n\n  if (variant === \"neutral\") {\n    return generateNeutralTokens(appColorTokens.neutral, visualVariant, sizeTokens)\n  } else {\n    const baseColorTokenSet = getColorForVariant(variant, appColorTokens)\n    return generateColorTokens(\n      baseColorTokenSet,\n      visualVariant,\n      sizeTokens,\n      appColorTokens.neutral,\n      appColorTokens,\n      variant,\n    )\n  }\n}\n\n// Función para obtener el color base según la variante\nfunction getColorForVariant(variant: CheckVariant, appColorTokens: AppColorTokens) {\n  switch (variant) {\n    case \"primary\":\n      return appColorTokens.primary\n    case \"secondary\":\n      return appColorTokens.secondary\n    case \"tertiary\":\n      return appColorTokens.tertiary\n    case \"accent\":\n      return appColorTokens.accent\n    case \"success\":\n      return appColorTokens.success\n    case \"warning\":\n      return appColorTokens.warning\n    case \"danger\":\n      return appColorTokens.danger\n    default:\n      return appColorTokens.primary\n  }\n}\n\n// Función para obtener tokens de tamaño\nfunction getSizeTokens(size: CheckSize) {\n  switch (size) {\n    case \"xs\":\n      return {\n        box: \"16px\",\n        checkThickness: 2.5,\n        borderRadius: \"3px\",\n        fontSize: \"0.75rem\",\n        padding: \"0.25rem\",\n      }\n    case \"sm\":\n      return {\n        box: \"18px\",\n        checkThickness: 3,\n        borderRadius: \"4px\",\n        fontSize: \"0.875rem\",\n        padding: \"0.375rem\",\n      }\n    case \"lg\":\n      return {\n        box: \"24px\",\n        checkThickness: 4,\n        borderRadius: \"6px\",\n        fontSize: \"1.125rem\",\n        padding: \"0.625rem\",\n      }\n    case \"xl\":\n      return {\n        box: \"28px\",\n        checkThickness: 5,\n        borderRadius: \"7px\",\n        fontSize: \"1.25rem\",\n        padding: \"0.75rem\",\n      }\n    default: // md\n      return {\n        box: \"20px\",\n        checkThickness: 3.5,\n        borderRadius: \"5px\",\n        fontSize: \"1rem\",\n        padding: \"0.5rem\",\n      }\n  }\n}\n\n// Función para generar tokens para la variante neutral\nfunction generateNeutralTokens(\n  neutralTokenSet: AppColorTokens[\"neutral\"],\n  visualVariant: CheckVisualVariant,\n  sizeTokens: any,\n): CheckTokens {\n  let background: string\n  let border: string\n  let check: string\n  let checkedBackground: string\n  let checkedBorder: string\n\n  const checkColor = neutralTokenSet.contrastText\n\n  switch (visualVariant) {\n    case \"outline\":\n      background = \"transparent\"\n      border = neutralTokenSet.bgShade\n      check = checkColor\n      checkedBackground = \"transparent\"\n      checkedBorder = neutralTokenSet.text\n      break\n    case \"subtle\":\n      background = `${neutralTokenSet.bg}40`\n      border = neutralTokenSet.bgShade\n      check = checkColor\n      checkedBackground = `${neutralTokenSet.bg}80`\n      checkedBorder = neutralTokenSet.text\n      break\n    case \"solid\":\n      background = neutralTokenSet.bg\n      border = neutralTokenSet.bgShade\n      check = checkColor\n      checkedBackground = neutralTokenSet.bgShade\n      checkedBorder = neutralTokenSet.text\n      break\n    default: // default\n      background = \"#ffffff\"\n      border = neutralTokenSet.bgShade\n      check = checkColor\n      checkedBackground = \"#ffffff\"\n      checkedBorder = neutralTokenSet.text\n      break\n  }\n\n  // Hover, focus y active para neutral\n  const hoverBackground = `${neutralTokenSet.bg}60`\n  const hoverBorder = neutralTokenSet.text\n  const focusOutline = `${neutralTokenSet.pure}60`\n  const activeBackground = `${neutralTokenSet.bg}80`\n  const activeBorder = neutralTokenSet.contrastText\n\n  return {\n    background,\n    border,\n    check: neutralTokenSet.contrastText,\n    text: neutralTokenSet.text,\n\n    hover: {\n      background: hoverBackground,\n      border: hoverBorder,\n    },\n\n    focus: {\n      outline: focusOutline,\n    },\n\n    active: {\n      background: activeBackground,\n      border: activeBorder,\n    },\n\n    checked: {\n      background: checkedBackground,\n      border: checkedBorder,\n      check: visualVariant === \"solid\" ? neutralTokenSet.contrastText : checkColor,\n    },\n\n    disabled: {\n      background: `${neutralTokenSet.bg}30`,\n      border: `${neutralTokenSet.bgShade}50`,\n      check: `${neutralTokenSet.text}50`,\n      text: `${neutralTokenSet.text}50`,\n      opacity: 0.6,\n    },\n\n    size: sizeTokens,\n  }\n}\n\n// Función para generar tokens para variantes de color\nfunction generateColorTokens(\n  baseColorTokenSet: AppColorTokens[keyof AppColorTokens] \u0026 {\n    pure: string\n    bg: string\n    contrastText: string\n    text: string\n    bgShade: string\n  },\n  visualVariant: CheckVisualVariant,\n  sizeTokens: any,\n  neutralTokenSet: AppColorTokens[\"neutral\"],\n  appColorTokens: AppColorTokens,\n  variant: CheckVariant,\n): CheckTokens {\n  if (!baseColorTokenSet || !baseColorTokenSet.pure) {\n    return generateNeutralTokens(neutralTokenSet, visualVariant, sizeTokens)\n  }\n\n  let background: string\n  let border: string\n  let check: string\n  let checkedBackground: string\n  let checkedBorder: string\n\n  const useSecondaryCheck =\n    visualVariant === \"default\" \u0026\u0026 variant === \"primary\" \u0026\u0026 appColorTokens.secondary \u0026\u0026 appColorTokens.secondary.pure\n\n  const defaultCheckColor = baseColorTokenSet.contrastText\n  const checkColorOnWhite = baseColorTokenSet.pure\n\n  switch (visualVariant) {\n    case \"outline\":\n      background = \"transparent\"\n      border = baseColorTokenSet.pure\n      check = useSecondaryCheck ? appColorTokens.secondary.pure : checkColorOnWhite\n      checkedBackground = \"transparent\"\n      checkedBorder = baseColorTokenSet.pure\n      break\n    case \"subtle\":\n      background = `${baseColorTokenSet.pure}20`\n      border = `${baseColorTokenSet.pure}60`\n      check = useSecondaryCheck ? appColorTokens.secondary.pure : checkColorOnWhite\n      checkedBackground = `${baseColorTokenSet.pure}40`\n      checkedBorder = baseColorTokenSet.pure\n      break\n    case \"solid\":\n      background = baseColorTokenSet.bg\n      border = baseColorTokenSet.pure\n      check = baseColorTokenSet.contrastText\n      checkedBackground = baseColorTokenSet.pure\n      checkedBorder = baseColorTokenSet.pure\n      break\n    default: // default (typically white background, colored border/check)\n      background = \"#ffffff\"\n      border = baseColorTokenSet.pure\n      check = useSecondaryCheck ? appColorTokens.secondary.pure : checkColorOnWhite\n      checkedBackground = \"#ffffff\"\n      checkedBorder = baseColorTokenSet.pure\n      break\n  }\n\n  return {\n    background,\n    border,\n    check: defaultCheckColor,\n    text: neutralTokenSet.text,\n\n    hover: {\n      background: `${baseColorTokenSet.pure}20`,\n      border: baseColorTokenSet.pure,\n    },\n\n    focus: {\n      outline: `${baseColorTokenSet.pure}60`,\n    },\n\n    active: {\n      background: `${baseColorTokenSet.pure}30`,\n      border: baseColorTokenSet.bgShade,\n    },\n\n    checked: {\n      background: checkedBackground,\n      border: checkedBorder,\n      check:\n        visualVariant === \"solid\"\n          ? baseColorTokenSet.contrastText\n          : useSecondaryCheck\n            ? appColorTokens.secondary.pure\n            : checkColorOnWhite,\n    },\n\n    disabled: {\n      background: `${neutralTokenSet.bg}30`,\n      border: `${neutralTokenSet.bgShade}50`,\n      check: `${neutralTokenSet.text}50`,\n      text: `${neutralTokenSet.text}50`,\n      opacity: 0.6,\n    },\n\n    size: sizeTokens,\n  }\n}\n"])</script><script>self.__next_f.push([1,"be:Td4f,"])</script><script>self.__next_f.push([1,"import type { AppColorTokens } from \"../ColorToken\"\n\nexport type DividerVariant = \"gradient\" | \"solid\" | \"subtle\"\nexport type DividerSize = \"xs\" | \"sm\" | \"md\" | \"lg\" | \"xl\"\n\nexport interface DividerTokens {\n  // Variantes de divider\n  variants: {\n    gradient: {\n      backgroundImage: string\n    }\n    solid: {\n      background: string\n    }\n    subtle: {\n      background: string\n    }\n  }\n  // Tamaños predefinidos\n  sizes: {\n    xs: {\n      height: string\n      width: string\n      borderRadius: string\n    }\n    sm: {\n      height: string\n      width: string\n      borderRadius: string\n    }\n    md: {\n      height: string\n      width: string\n      borderRadius: string\n    }\n    lg: {\n      height: string\n      width: string\n      borderRadius: string\n    }\n    xl: {\n      height: string\n      width: string\n      borderRadius: string\n    }\n  }\n}\n\n// Helper function to convert hex to RGBA and handle potential errors\nfunction hexToRgba(hex: string, alpha: number): string {\n  const hexValue = hex.startsWith(\"#\") ? hex.slice(1) : hex\n\n  const fullHex =\n    hexValue.length === 3\n      ? hexValue\n          .split(\"\")\n          .map((char) =\u003e char + char)\n          .join(\"\")\n      : hexValue\n\n  if (fullHex.length !== 6) {\n    console.warn(`[DividerTokens/hexToRgba] Invalid hex color format: \"${hex}\". Falling back to black with alpha.`)\n    return `rgba(0, 0, 0, ${alpha})`\n  }\n\n  const r = Number.parseInt(fullHex.slice(0, 2), 16)\n  const g = Number.parseInt(fullHex.slice(2, 4), 16)\n  const b = Number.parseInt(fullHex.slice(4, 6), 16)\n\n  if (isNaN(r) || isNaN(g) || isNaN(b)) {\n    console.warn(`[DividerTokens/hexToRgba] Could not parse hex color: \"${hex}\". Falling back to black with alpha.`)\n    return `rgba(0, 0, 0, ${alpha})`\n  }\n\n  return `rgba(${r}, ${g}, ${b}, ${alpha})`\n}\n\n/**\n * Genera los tokens para el componente Divider\n */\nexport function generateDividerTokens(appColorTokens: AppColorTokens): DividerTokens {\n  // Ya no se necesita themeKey ni buscar en colors.themes directamente,\n  // appColorTokens ya tiene los colores del tema y modo correctos.\n\n  // Colores para el gradiente\n  const primaryColor = appColorTokens.primary.pure\n  const secondaryColor = appColorTokens.secondary.pure\n  const accentColor = appColorTokens.accent.pure // appColorTokens.accent ya está resuelto para el modo\n\n  // Color para la variante sólida\n  const solidColor = appColorTokens.primary.pure\n\n  // Color para la variante sutil (calculado como RGBA del primario del tema/modo activo)\n  const subtleBaseColor = appColorTokens.primary.pure\n  const subtleColor = hexToRgba(subtleBaseColor, 0.3)\n\n  return {\n    variants: {\n      gradient: {\n        backgroundImage: `linear-gradient(to right, ${primaryColor}, ${accentColor}, ${secondaryColor})`,\n      },\n      solid: {\n        background: solidColor,\n      },\n      subtle: {\n        background: subtleColor,\n      },\n    },\n    sizes: {\n      xs: {\n        height: \"2px\",\n        width: \"60px\",\n        borderRadius: \"1px\",\n      },\n      sm: {\n        height: \"2px\",\n        width: \"100px\",\n        borderRadius: \"1px\",\n      },\n      md: {\n        height: \"3px\",\n        width: \"150px\",\n        borderRadius: \"1.5px\",\n      },\n      lg: {\n        height: \"4px\",\n        width: \"200px\",\n        borderRadius: \"2px\",\n      },\n      xl: {\n        height: \"5px\",\n        width: \"250px\",\n        borderRadius: \"2.5px\",\n      },\n    },\n  }\n}\n"])</script><script>self.__next_f.push([1,"bf:T11ab,"])</script><script>self.__next_f.push([1,"import type { AppColorTokens, Mode } from \"../ColorToken\"\nimport tinycolor from \"tinycolor2\"\n\nexport interface FontSelectorTokens {\n  closed: {\n    backgroundColor: string\n    borderColor: string\n    borderRadius: string\n    padding: string\n    minWidth: string\n    cursor: string\n    display: string\n    alignItems: string\n    justifyContent: string\n    transition: string\n    hover: {\n      backgroundColor: string\n      borderColor: string\n    }\n    focus: {\n      borderColor: string\n      boxShadow: string\n    }\n  }\n  closedLabelText: {\n    color: string\n    fontSize: string\n    fontWeight: string\n  }\n  closedSelectedFontText: {\n    color: string\n    fontSize: string\n    fontWeight: string\n    marginLeft: string\n  }\n  icon: {\n    color: string\n    size: string\n  }\n  dropdown: {\n    backgroundColor: string\n    borderColor: string\n    borderRadius: string\n    marginTop: string\n    boxShadow: string\n    padding: string\n    maxHeight: string\n    overflowY: string\n  }\n  item: {\n    padding: string\n    borderRadius: string\n    cursor: string\n    hover: {\n      backgroundColor: string\n    }\n    selected: {\n      backgroundColor: string\n    }\n  }\n  itemParagraph: {\n    color: string\n    fontSize: string\n    lineHeight: string\n    marginBottom: string\n    firstOfType: {}\n    lastOfType: {\n      marginBottom: string\n    }\n  }\n  separator: {\n    height: string\n    backgroundColor: string\n    margin: string\n  }\n}\n\nexport function generateFontSelectorTokens(appColorTokens: AppColorTokens, mode: Mode): FontSelectorTokens {\n  const { primary, secondary, tertiary, neutral, white } = appColorTokens\n\n  // Determine appropriate colors based on mode\n  const isDark = mode === \"dark\"\n  const surfaceColor = isDark ? neutral.bg : white.bg\n  const outlineColor = neutral.pure\n  const outlineVariantColor = neutral.bgShade\n  const onSurfaceColor = neutral.text\n  const onSurfaceVariantColor = neutral.textShade\n\n  // Create semi-transparent colors\n  const primaryA10 = tinycolor(primary.pure).setAlpha(0.1).toRgbString()\n  const primaryA20 = tinycolor(primary.pure).setAlpha(0.2).toRgbString()\n\n  return {\n    closed: {\n      backgroundColor: isDark ? neutral.bgShade : white.bg,\n      borderColor: isDark ? neutral.pure : neutral.bgShade,\n      borderRadius: \"8px\",\n      padding: \"8px 12px\",\n      minWidth: \"180px\",\n      cursor: \"pointer\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n      transition: \"background-color 0.2s ease-in-out, border-color 0.2s ease-in-out\",\n      hover: {\n        backgroundColor: isDark\n          ? tinycolor(neutral.bgShade).lighten(5).toString()\n          : tinycolor(white.bg).darken(5).toString(),\n        borderColor: isDark ? primary.pure : primary.bgShade,\n      },\n      focus: {\n        borderColor: primary.pure,\n        boxShadow: `0 0 0 2px ${primaryA20}`,\n      },\n    },\n    closedLabelText: {\n      color: onSurfaceVariantColor,\n      fontSize: \"14px\",\n      fontWeight: \"500\",\n    },\n    closedSelectedFontText: {\n      color: primary.pure,\n      fontSize: \"14px\",\n      fontWeight: \"400\",\n      marginLeft: \"8px\",\n    },\n    icon: {\n      color: onSurfaceVariantColor,\n      size: \"20px\",\n    },\n    dropdown: {\n      backgroundColor: surfaceColor,\n      borderColor: outlineColor,\n      borderRadius: \"8px\",\n      marginTop: \"4px\",\n      boxShadow: \"0 4px 12px rgba(0, 0, 0, 0.1)\",\n      padding: \"8px\",\n      maxHeight: \"400px\",\n      overflowY: \"auto\",\n    },\n    item: {\n      padding: \"12px\",\n      borderRadius: \"6px\",\n      cursor: \"pointer\",\n      hover: {\n        backgroundColor: isDark\n          ? tinycolor(neutral.bg).lighten(5).toString()\n          : tinycolor(white.bg).darken(5).toString(),\n      },\n      selected: {\n        backgroundColor: primaryA10,\n      },\n    },\n    itemParagraph: {\n      color: onSurfaceColor,\n      fontSize: \"14px\",\n      lineHeight: \"1.6\",\n      marginBottom: \"8px\",\n      firstOfType: {},\n      lastOfType: {\n        marginBottom: \"0\",\n      },\n    },\n    separator: {\n      height: \"1px\",\n      backgroundColor: outlineVariantColor,\n      margin: \"8px 0\",\n    },\n  }\n}\n\n// Helper function to get token value\nexport function getFontSelectorTokenValue(tokens: FontSelectorTokens, path: string): any {\n  const parts = path.split(\".\")\n  let current: any = tokens\n\n  for (const part of parts) {\n    if (current \u0026\u0026 typeof current === \"object\" \u0026\u0026 part in current) {\n      current = current[part]\n    } else {\n      return undefined // Token not found\n    }\n  }\n\n  return current\n}\n"])</script><script>self.__next_f.push([1,"c0:Tbe0,"])</script><script>self.__next_f.push([1,"import type { AppColorTokens, ColorShade, Mode } from \"../ColorToken\" // ÚNICA importación necesaria para los tokens\n\n// Tipos para los tokens de iconos\nexport type IconSize = \"xs\" | \"sm\" | \"md\" | \"lg\" | \"xl\" | \"2xl\"\nexport type IconColor =\n  | \"default\"\n  | \"primary\"\n  | \"secondary\"\n  | \"tertiary\"\n  | \"accent\"\n  | \"success\"\n  | \"warning\"\n  | \"danger\"\n  | \"neutral\"\n  | \"white\"\n\nexport type IconColorToken = {\n  pure: string\n  text: string\n  shade: string // 'shade' es la variante principal para tonos más oscuros/matizados\n  bg: string\n}\n\nexport type IconTokens = {\n  colors: Record\u003cIconColor, IconColorToken\u003e\n}\n\n/**\n * Genera los tokens para iconos utilizando AppColorTokens.\n * Se confía en que AppColorTokens ya proporciona los colores correctos para el modo (claro/oscuro)\n * y que estos colores ya tienen el contraste adecuado.\n * La función 'ensureContrast' y 'tinycolor' se eliminan.\n * Las referencias a 'colorScheme', 'colors.themes', 'colors.semantic' se eliminan.\n */\nexport function generateIconTokens(appTokens: AppColorTokens, mode: Mode): IconTokens {\n  // 'mode' se recibe por consistencia, pero AppColorTokens ya es consciente del modo.\n\n  // Función auxiliar para generar IconColorToken a partir de una paleta ColorShade de AppColorTokens\n  const generateColorTokenFromPalette = (colorPalette: ColorShade): IconColorToken =\u003e {\n    // Decidimos qué variante 'Shade' de la paleta se usará para la propiedad 'shade' del IconColorToken.\n    // Usaremos 'textShade' como el 'shade' principal del icono.\n    // Podría ser 'pureShade' si el diseño específico del icono o del tema lo requiere para ciertos colores.\n    return {\n      pure: colorPalette.pure,\n      text: colorPalette.text,\n      shade: colorPalette.textShade, // Asignamos la variante 'textShade' a la propiedad 'shade'\n      bg: colorPalette.bg,\n    }\n  }\n\n  // El token 'default' se genera consistentemente usando la paleta neutral de appTokens.\n  // Esto significa que 'default' y 'neutral' serán funcionalmente idénticos\n  // a menos que se introduzca una lógica de derivación específica para 'default' en el futuro.\n  const defaultToken: IconColorToken = generateColorTokenFromPalette(appTokens.neutral)\n  const neutralToken: IconColorToken = generateColorTokenFromPalette(appTokens.neutral)\n  const whiteToken: IconColorToken = generateColorTokenFromPalette(appTokens.white)\n\n  return {\n    colors: {\n      default: defaultToken,\n      primary: generateColorTokenFromPalette(appTokens.primary),\n      secondary: generateColorTokenFromPalette(appTokens.secondary),\n      tertiary: generateColorTokenFromPalette(appTokens.tertiary),\n      accent: generateColorTokenFromPalette(appTokens.accent), // Asumiendo que accent es parte de AppColorTokens.theme o AppColorTokens.semantic\n      success: generateColorTokenFromPalette(appTokens.success),\n      warning: generateColorTokenFromPalette(appTokens.warning),\n      danger: generateColorTokenFromPalette(appTokens.danger),\n      neutral: neutralToken,\n      white: whiteToken,\n    },\n  }\n}\n"])</script><script>self.__next_f.push([1,"c1:T15cc,"])</script><script>self.__next_f.push([1,"import tinycolor from \"tinycolor2\"\nimport type { AppColorTokens, ColorShade, Mode } from \"../ColorToken\"\n\nexport type InputSize = \"sm\" | \"md\" | \"lg\"\nexport type InputVariant = \"default\" | \"primary\" | \"secondary\" | \"tertiary\" | \"accent\" | \"neutral\"\n\nexport type InputTokens = {\n  variants: Record\u003c\n    InputVariant,\n    {\n      background: string\n      border: string\n      text: string\n      placeholder: string\n      focusBorder: string\n      focusRing: string\n      hoverBorder: string\n      errorBorder: string\n      errorRing: string\n      errorBackground: string\n      successBorder: string\n      successRing: string\n      successText: string\n      successBackground: string\n      iconColor: string\n      disabledBackground: string\n      disabledBorder: string\n      disabledText: string\n      editingBackground: string\n    }\n  \u003e\n  sizes: Record\u003c\n    InputSize,\n    {\n      height: string\n      fontSize: string\n      paddingX: string\n      paddingY: string\n      iconSize: string\n      iconPadding: string\n    }\n  \u003e\n}\n\nexport function generateInputTokens(appColorTokens: AppColorTokens, mode: Mode): InputTokens {\n  const { primary, secondary, tertiary, accent, neutral, danger, success, white } = appColorTokens\n\n  // Determinar colores de texto apropiados según el modo y fondo\n  // En modo oscuro, usamos text que ya está pensado para fondos oscuros\n  const textColor = mode === \"dark\" ? neutral.text : neutral.text\n  const placeholderColor = tinycolor(textColor).setAlpha(0.6).toRgbString()\n\n  // Usar el color primary para los iconos, similar a select-tokens\n  const iconColor =\n    mode === \"dark\"\n      ? tinycolor(primary.text).setAlpha(0.9).toRgbString()\n      : tinycolor(primary.pure).setAlpha(0.9).toRgbString()\n\n  // Color de fondo según el modo\n  const backgroundColorByMode = mode === \"dark\" ? neutral.bg : white.bg\n\n  // Colores para estados especiales\n  const errorBg = tinycolor(danger.bg)\n    .setAlpha(mode === \"dark\" ? 0.3 : 0.5)\n    .toRgbString()\n  const successBg = tinycolor(success.bg)\n    .setAlpha(mode === \"dark\" ? 0.3 : 0.5)\n    .toRgbString()\n  const editingBg = tinycolor(tertiary.bg ? tertiary.bg : neutral.bg)\n    .setAlpha(mode === \"dark\" ? 0.3 : 0.5)\n    .toRgbString()\n\n  // Manejo de estados de borde según el modo\n  const borderColor = neutral.pure\n  const hoverBorderColor = mode === \"dark\" ? tinycolor(neutral.pure).lighten(10).toString() : neutral.bgShade\n\n  // Estados deshabilitados\n  const disabledBackground = neutral.bgShade\n  const disabledBorder = tinycolor(neutral.pure).setAlpha(0.4).toRgbString()\n  const disabledText = tinycolor(textColor).setAlpha(0.5).toRgbString()\n\n  const commonVariantStyles = {\n    text: textColor,\n    placeholder: placeholderColor,\n    errorBorder: danger.pure,\n    errorRing: tinycolor(danger.pure).setAlpha(0.2).toRgbString(),\n    errorBackground: errorBg,\n    successBorder: success.pure,\n    successRing: tinycolor(success.pure).setAlpha(0.2).toRgbString(),\n    successText: success.text,\n    successBackground: successBg,\n    iconColor: iconColor,\n    disabledBackground: disabledBackground,\n    disabledBorder: disabledBorder,\n    disabledText: disabledText,\n    editingBackground: editingBg,\n  }\n\n  const createColoredVariant = (variantShade: ColorShade) =\u003e {\n    // Ajuste del color del borde al pasar el ratón según el modo\n    const variantHoverBorder =\n      mode === \"dark\" ? tinycolor(variantShade.pure).lighten(10).toString() : variantShade.bgShade\n\n    // Ajuste del color del icono según la variante\n    const variantIconColor =\n      mode === \"dark\"\n        ? tinycolor(variantShade.text).setAlpha(0.9).toRgbString()\n        : tinycolor(variantShade.pure).setAlpha(0.9).toRgbString()\n\n    return {\n      background: backgroundColorByMode,\n      border: variantShade.pure,\n      focusBorder: variantShade.pure,\n      focusRing: tinycolor(variantShade.pure).setAlpha(0.2).toRgbString(),\n      hoverBorder: variantHoverBorder,\n      ...commonVariantStyles,\n      iconColor: variantIconColor, // Sobreescribir iconColor para cada variante\n    }\n  }\n\n  return {\n    variants: {\n      default: {\n        background: backgroundColorByMode,\n        border: borderColor,\n        focusBorder: primary.pure,\n        focusRing: tinycolor(primary.pure).setAlpha(0.2).toRgbString(),\n        hoverBorder: hoverBorderColor,\n        ...commonVariantStyles,\n      },\n      primary: createColoredVariant(primary),\n      secondary: createColoredVariant(secondary),\n      tertiary: createColoredVariant(tertiary),\n      accent: createColoredVariant(accent),\n      neutral: {\n        ...createColoredVariant(neutral),\n        focusBorder: neutral.pure,\n        focusRing: tinycolor(neutral.pure).setAlpha(0.2).toRgbString(),\n        hoverBorder: mode === \"dark\" ? tinycolor(neutral.pure).lighten(10).toString() : neutral.bgShade,\n      },\n    },\n    sizes: {\n      sm: {\n        height: \"h-8\",\n        fontSize: \"text-xs\",\n        paddingX: \"px-2\",\n        paddingY: \"py-1\",\n        iconSize: \"h-3 w-3\", // Ligeramente más grande para mejor visibilidad\n        iconPadding: \"pl-7 pr-2\",\n      },\n      md: {\n        height: \"h-10\",\n        fontSize: \"text-sm\",\n        paddingX: \"px-3\",\n        paddingY: \"py-2\",\n        iconSize: \"h-4 w-4\", // Ligeramente más grande para mejor visibilidad\n        iconPadding: \"pl-10 pr-3\",\n      },\n      lg: {\n        height: \"h-12\",\n        fontSize: \"text-base\",\n        paddingX: \"px-4\",\n        paddingY: \"py-2.5\",\n        iconSize: \"h-5 w-5\", // Ligeramente más grande para mejor visibilidad\n        iconPadding: \"pl-12 pr-4\",\n      },\n    },\n  }\n}\n"])</script><script>self.__next_f.push([1,"c2:T1039,"])</script><script>self.__next_f.push([1,"import colors from \"../colors\"\nimport type { ColorScheme, Mode } from \"../color-tokens\"\nimport tinycolor from \"tinycolor2\"\n\nexport interface NavbarTokens {\n  logo: {\n    primary: string\n    secondary: string\n    accent: string\n    titleGradient: string // Nuevo token para el degradado del título\n  }\n  gradientBar: {\n    start: string\n    middle: string\n    end: string\n  }\n  hover: {\n    bg: string\n  }\n  active: {\n    bg: string\n  }\n  background: {\n    normal: string\n    scrolled: string\n  }\n  submenu: {\n    background: string\n    border: string\n  }\n  icon: {\n    default: string\n    active: string\n    arrow: string\n  }\n  shadow: string\n}\n\n/**\n * Ajusta el color para mejorar el contraste en modo oscuro\n * @param color Color base\n * @param isDark Si estamos en modo oscuro\n * @param factor Factor de ajuste de luminosidad\n */\nfunction adjustColorForContrast(color: string, isDark: boolean, factor = 0.2): string {\n  if (!isDark) return color\n\n  const tColor = tinycolor(color)\n  // Si ya es muy luminoso en modo oscuro, lo dejamos como está\n  if (tColor.getLuminance() \u003e 0.6) return color\n\n  // Aumentamos la luminosidad para mejor contraste en modo oscuro\n  return tColor.lighten(factor * 100).toString()\n}\n\n/**\n * Crea un color de fondo oscuro con un sutil tinte del color del tema\n * @param baseColor Color base del tema\n * @returns Color oscuro con tinte\n */\nfunction createThemedDarkBackground(baseColor: string): string {\n  const color = tinycolor(baseColor)\n  // Oscurecer significativamente el color pero mantener un sutil tinte\n  return color.setAlpha(0.15).darken(75).toRgbString()\n}\n\nexport const generateNavbarTokens = (colorScheme: ColorScheme, mode: Mode): NavbarTokens =\u003e {\n  const isDark = mode === \"dark\"\n  const theme = colors.themes[colorScheme] || colors.themes[\"blue\"]\n  const semantic = colors.semantic\n  const neutral = colors.neutral\n\n  // Colores básicos\n  const whiteColor = neutral.white\n  const grayColor = isDark ? neutral.gray[800] : neutral.gray[100]\n  const borderColor = isDark ? neutral.gray[700] : neutral.gray[200]\n\n  // Colores primarios con ajuste de contraste para modo oscuro\n  const primaryColor = isDark ? adjustColorForContrast(theme.primary.pureDark, isDark) : theme.primary.pure\n\n  const accentColor = isDark ? adjustColorForContrast(semantic.accent.pureDark, isDark) : semantic.accent.pure\n  const secondaryColor = isDark ? adjustColorForContrast(theme.secondary.pureDark, isDark) : theme.secondary.pure\n\n  const tertiaryColor = isDark ? adjustColorForContrast(theme.tertiary.pureDark, isDark) : theme.tertiary.pure\n\n  // Crear el degradado específico para el título del logo\n  const titleGradient = `linear-gradient(to right, ${primaryColor}, ${accentColor})`\n\n  // Crear un fondo oscuro con un sutil tinte del color primario del tema\n  const themedDarkBackground = createThemedDarkBackground(theme.primary.pure)\n\n  return {\n    logo: {\n      primary: primaryColor,\n      secondary: secondaryColor,\n      accent: accentColor,\n      titleGradient: titleGradient, // Nuevo token para el degradado del título\n    },\n    gradientBar: {\n      start: primaryColor,\n      middle: accentColor,\n      // En modo oscuro, usamos un color más suave para el final del gradiente\n      end: isDark ? neutral.gray[700] : whiteColor,\n    },\n    hover: {\n      // Más visible en modo oscuro, usando color accent para el hover\n      bg: isDark ? `${accentColor}22` : `${accentColor}15`,\n    },\n    active: {\n      // Más visible en modo oscuro\n      bg: isDark ? `${primaryColor}33` : `${theme.primary.pure}15`,\n    },\n    background: {\n      normal: \"transparent\",\n      // Usar un fondo oscuro con tinte del color del tema\n      scrolled: isDark ? themedDarkBackground : `${whiteColor}DD`,\n    },\n    submenu: {\n      background: isDark ? neutral.gray[800] : whiteColor,\n      border: borderColor,\n    },\n    icon: {\n      default: tertiaryColor,\n      // Cambiar a secondaryColor en lugar de accentColor\n      active: secondaryColor,\n      arrow: tertiaryColor,\n    },\n    // Sombra más sutil en modo oscuro\n    shadow: isDark ? \"0 4px 8px rgba(0, 0, 0, 0.3)\" : \"0 4px 6px -1px rgba(0, 0, 0, 0.1)\",\n  }\n}\n"])</script><script>self.__next_f.push([1,"c3:Tf4b,"])</script><script>self.__next_f.push([1,"import type { Mode } from \"../ColorToken\"\nimport type { AppColorTokens } from \"../ColorToken\"\n\n// Tipos de variantes para PageBackground\nexport type PageBackgroundVariant = \"default\" | \"gradient\" | \"subtle\" | \"minimal\"\n\n// Estructura de tokens para PageBackground\nexport type PageBackgroundTokens = {\n  background: string\n  backgroundImage: string\n}\n\n/**\n * Genera los tokens para PageBackground según la variante, AppColorTokens y modo\n */\nexport function generatePageBackgroundTokens(\n  appTokens: AppColorTokens,\n  mode: Mode,\n  variant: PageBackgroundVariant,\n): PageBackgroundTokens {\n  const isDark = mode === \"dark\"\n\n  // Color de fondo base derivado de AppColorTokens\n  const baseBackgroundColor = appTokens.neutral.bg\n\n  // Colores para los gradientes (asumiendo que .pure son HEX)\n  const themePrimaryPure = appTokens.primary.pure\n  const themeSecondaryPure = appTokens.secondary.pure\n  const globalAccentPure = appTokens.accent.pure\n\n  // Opacidades HEX para los toques de color (muy sutiles)\n  const touchOpacityHex = isDark ? \"0A\" : \"10\" // ~4% y ~6%\n  const defaultOpacityHex = isDark ? \"0F\" : \"1A\" // ~6% y ~10%\n\n  // Opacidades para gradientes radiales (originales, concatenadas a HEX)\n  const primaryOpacityRadial = variant === \"gradient\" \u0026\u0026 isDark ? \"20\" : isDark ? \"25\" : \"35\"\n  const secondaryOpacityRadial = variant === \"gradient\" \u0026\u0026 isDark ? \"15\" : isDark ? \"20\" : \"30\"\n  const accentOpacityRadial = variant === \"gradient\" \u0026\u0026 isDark ? \"15\" : isDark ? \"20\" : \"25\" // Usando la misma lógica que tertiary antes\n  const subtleOpacityRadial = isDark ? \"15\" : \"20\"\n\n  // Opacidad HEX muy sutil para el tinte de primary.pure en la variante \"gradient\"\n  const primaryPureTintOpacityGradient = isDark ? \"1A\" : \"26\" // ~10% para oscuro, ~15% para claro (ajustable)\n  // Para accent.bg, generalmente no necesitaremos opacidad adicional en el gradiente si ya es un color de fondo.\n\n  // Opacidad HEX muy sutil para los tintes en las esquinas para la variante \"gradient\"\n  const cornerTintOpacityGradient = isDark ? \"1A\" : \"26\" // ~10% para oscuro, ~15% para claro (ajustable)\n\n  // Generar tokens según la variante\n  switch (variant) {\n    case \"gradient\":\n      return {\n        background: baseBackgroundColor,\n        backgroundImage: `\n          radial-gradient(circle at top right, ${appTokens.primary.pure}${primaryPureTintOpacityGradient}, transparent 25%),\n          radial-gradient(circle at bottom left, ${appTokens.accent.bg}, transparent 15%)\n        `,\n      }\n\n    case \"subtle\":\n      return {\n        background: baseBackgroundColor,\n        backgroundImage: `\n          radial-gradient(circle at top right, ${themePrimaryPure}${subtleOpacityRadial}, transparent 70%),\n          radial-gradient(circle at bottom left, ${globalAccentPure}${subtleOpacityRadial}, transparent 70%)\n        `,\n      }\n\n    case \"minimal\":\n      return {\n        background: baseBackgroundColor,\n        backgroundImage: `\n          linear-gradient(to bottom, \n            ${themePrimaryPure}${touchOpacityHex} 0%, \n            transparent 40%, \n            transparent 60%, \n            ${globalAccentPure}${touchOpacityHex} 100%\n          )\n        `,\n      }\n\n    case \"default\": // Cambiado para usar los nuevos toques de color y gradientes duales\n      return {\n        background: baseBackgroundColor,\n        backgroundImage: `\n          linear-gradient(to top, \n            ${themePrimaryPure}${defaultOpacityHex} 0%, \n            transparent 50%\n          ),\n          linear-gradient(to bottom,\n            ${globalAccentPure}${defaultOpacityHex} 0%,\n            transparent 50%\n          )\n        `,\n      }\n\n    default: // Fallback por si se añade una variante y no se maneja (aunque TypeScript debería ayudar)\n      return {\n        background: baseBackgroundColor,\n        backgroundImage: `linear-gradient(to bottom, ${themePrimaryPure}${touchOpacityHex}, transparent 80%)`,\n      }\n  }\n}\n"])</script><script>self.__next_f.push([1,"c4:T1dcc,"])</script><script>self.__next_f.push([1,"import type { AppColorTokens, Mode, ProCardVariant } from \"../ColorToken\"\n\n/**\n * Genera los tokens de fondo para ProCard usando AppColorTokens.\n */\nexport function generateProCardBackgroundGradients(\n  appTokens: AppColorTokens,\n  mode: Mode,\n): Record\u003cProCardVariant, string\u003e {\n  const variants: ProCardVariant[] = [\n    \"primary\",\n    \"secondary\",\n    \"tertiary\",\n    \"accent\",\n    \"success\",\n    \"warning\",\n    \"danger\",\n    \"neutral\",\n    \"white\",\n  ]\n  const gradients: Partial\u003cRecord\u003cProCardVariant, string\u003e\u003e = {}\n  const isDark = mode === \"dark\"\n\n  for (const variant of variants) {\n    let color1: string | undefined\n    let color2: string | undefined\n\n    // Fallback defensivo si appTokens no está completamente formado o falta una variante\n    const currentVariantTokens = appTokens?.[variant] as AppColorTokens[ProCardVariant] | undefined\n    const neutralTokens = appTokens?.neutral\n    const whiteTokens = appTokens?.white\n\n    if (variant === \"white\") {\n      color1 = whiteTokens?.bg\n      color2 = isDark ? whiteTokens?.bgShade : neutralTokens?.bg\n    } else if (variant === \"primary\" || variant === \"secondary\" || variant === \"tertiary\") {\n      color1 = currentVariantTokens?.bg\n      color2 = isDark ? neutralTokens?.bgShade : whiteTokens?.bg\n    } else {\n      color1 = currentVariantTokens?.bg\n      color2 = neutralTokens?.bg\n    }\n\n    if (color1 \u0026\u0026 color2) {\n      gradients[variant] = `linear-gradient(135deg, ${color1} 0%, ${color2} 90%)`\n    } else {\n      console.warn(\n        `ProCard: Tokens for background gradient variant '${variant}' not fully defined. C1: ${color1}, C2: ${color2}`,\n      )\n      gradients[variant] = `linear-gradient(135deg, #808080 0%, #C0C0C0 100%)`\n    }\n  }\n  return gradients as Record\u003cProCardVariant, string\u003e\n}\n\n/**\n * Genera los tokens de borde para ProCard usando AppColorTokens.\n */\nexport function generateProCardBorders(appTokens: AppColorTokens): Record\u003cProCardVariant, string\u003e {\n  const variants: ProCardVariant[] = [\n    \"primary\",\n    \"secondary\",\n    \"tertiary\",\n    \"accent\",\n    \"success\",\n    \"warning\",\n    \"danger\",\n    \"neutral\",\n    \"white\",\n  ]\n  const borders: Partial\u003cRecord\u003cProCardVariant, string\u003e\u003e = {}\n\n  for (const variant of variants) {\n    const currentVariantTokens = appTokens?.[variant] as AppColorTokens[ProCardVariant] | undefined\n    borders[variant] = currentVariantTokens?.pureShade ?? \"#808080\"\n  }\n  return borders as Record\u003cProCardVariant, string\u003e\n}\n\n/**\n * Genera los tokens de gradiente de borde superior para ProCard usando AppColorTokens.\n */\nexport function generateProCardBorderGradientsTop(appTokens: AppColorTokens): Record\u003cProCardVariant, string\u003e {\n  const variants: ProCardVariant[] = [\n    \"primary\",\n    \"secondary\",\n    \"tertiary\",\n    \"accent\",\n    \"success\",\n    \"warning\",\n    \"danger\",\n    \"neutral\",\n    \"white\",\n  ]\n  const gradients: Partial\u003cRecord\u003cProCardVariant, string\u003e\u003e = {}\n\n  for (const variant of variants) {\n    const currentVariantTokens = appTokens?.[variant] as AppColorTokens[ProCardVariant] | undefined\n    const primaryTokens = appTokens?.primary\n    const accentTokens = appTokens?.accent\n    const neutralTokens = appTokens?.neutral\n\n    const color1 = currentVariantTokens?.pure\n    let color2: string | undefined\n\n    if (variant === \"primary\" || variant === \"secondary\" || variant === \"tertiary\") {\n      color2 = accentTokens?.pure\n    } else if (variant === \"success\" || variant === \"warning\" || variant === \"danger\") {\n      color2 = neutralTokens?.pure\n    } else if (variant === \"accent\" || variant === \"neutral\" || variant === \"white\") {\n      color2 = primaryTokens?.pure\n    } else {\n      color2 = neutralTokens?.pure\n    }\n\n    if (color1 \u0026\u0026 color2) {\n      gradients[variant] = `linear-gradient(90deg, ${color1} 0%, ${color2} 100%)`\n    } else {\n      console.warn(`ProCard: Tokens for top border gradient variant '${variant}' not fully defined.`)\n      gradients[variant] = `linear-gradient(90deg, #808080 0%, #C0C0C0 100%)`\n    }\n  }\n  return gradients as Record\u003cProCardVariant, string\u003e\n}\n\n/**\n * Genera los tokens de gradiente de borde izquierdo para ProCard usando AppColorTokens.\n */\nexport function generateProCardBorderGradientsLeft(appTokens: AppColorTokens): Record\u003cProCardVariant, string\u003e {\n  const variants: ProCardVariant[] = [\n    \"primary\",\n    \"secondary\",\n    \"tertiary\",\n    \"accent\",\n    \"success\",\n    \"warning\",\n    \"danger\",\n    \"neutral\",\n    \"white\",\n  ]\n  const gradients: Partial\u003cRecord\u003cProCardVariant, string\u003e\u003e = {}\n\n  for (const variant of variants) {\n    const currentVariantTokens = appTokens?.[variant] as AppColorTokens[ProCardVariant] | undefined\n    const primaryTokens = appTokens?.primary\n    const accentTokens = appTokens?.accent\n    const neutralTokens = appTokens?.neutral\n\n    const color1 = currentVariantTokens?.pure\n    let color2: string | undefined\n\n    if (variant === \"primary\" || variant === \"secondary\" || variant === \"tertiary\") {\n      color2 = accentTokens?.pure\n    } else if (variant === \"success\" || variant === \"warning\" || variant === \"danger\") {\n      color2 = neutralTokens?.pure\n    } else if (variant === \"accent\" || variant === \"neutral\" || variant === \"white\") {\n      color2 = primaryTokens?.pure\n    } else {\n      color2 = neutralTokens?.pure\n    }\n\n    if (color1 \u0026\u0026 color2) {\n      gradients[variant] = `linear-gradient(180deg, ${color1} 0%, ${color2} 100%)`\n    } else {\n      console.warn(`ProCard: Tokens for left border gradient variant '${variant}' not fully defined.`)\n      gradients[variant] = `linear-gradient(180deg, #808080 0%, #C0C0C0 100%)`\n    }\n  }\n  return gradients as Record\u003cProCardVariant, string\u003e\n}\n\n/**\n * Genera todos los tokens para ProCard usando AppColorTokens.\n * Ahora devuelve un objeto 'selected' con colores por variante.\n */\nexport type ProCardComponentTokens = {\n  backgroundGradient: Record\u003cProCardVariant, string\u003e\n  border: Record\u003cProCardVariant, string\u003e\n  borderGradientTop: Record\u003cProCardVariant, string\u003e\n  borderGradientLeft: Record\u003cProCardVariant, string\u003e\n  selected: Record\u003cProCardVariant, string\u003e // Cambiado para ser específico de la variante\n}\n\nexport function generateProCardTokens(appTokens: AppColorTokens | any, mode: Mode): ProCardComponentTokens {\n  const selectedTokens: Partial\u003cRecord\u003cProCardVariant, string\u003e\u003e = {}\n  const variants: ProCardVariant[] = [\n    \"primary\",\n    \"secondary\",\n    \"tertiary\",\n    \"accent\",\n    \"success\",\n    \"warning\",\n    \"danger\",\n    \"neutral\",\n    \"white\",\n  ]\n\n  // Fallback si appTokens no es la estructura esperada (llamada desde sistema legacy)\n  const defaultPureShade = typeof appTokens?.primary?.pureShade === \"string\" ? appTokens.primary.pureShade : \"#0000FF\"\n\n  for (const variant of variants) {\n    // Acceso defensivo a las propiedades de appTokens\n    const currentVariantTokens = appTokens?.[variant] as AppColorTokens[ProCardVariant] | undefined\n    selectedTokens[variant] = currentVariantTokens?.pureShade ?? defaultPureShade\n  }\n\n  // Asegurarse de que generateProCardBackgroundGradients también sea defensivo si appTokens es 'any'\n  // o pasarle un appTokens 'seguro' o mock si es 'any'\n  const safeAppTokens =\n    appTokens \u0026\u0026 typeof appTokens === \"object\" \u0026\u0026 appTokens.primary\n      ? (appTokens as AppColorTokens)\n      : ({} as AppColorTokens)\n\n  return {\n    backgroundGradient: generateProCardBackgroundGradients(safeAppTokens, mode),\n    border: generateProCardBorders(safeAppTokens),\n    borderGradientTop: generateProCardBorderGradientsTop(safeAppTokens),\n    borderGradientLeft: generateProCardBorderGradientsLeft(safeAppTokens),\n    selected: selectedTokens as Record\u003cProCardVariant, string\u003e,\n  }\n}\n"])</script><script>self.__next_f.push([1,"c5:T1752,"])</script><script>self.__next_f.push([1,"import type { AppColorTokens } from \"../ColorToken\"\n\nexport type ProgressVariant =\n  | \"primary\"\n  | \"secondary\"\n  | \"tertiary\"\n  | \"accent\"\n  | \"success\"\n  | \"warning\"\n  | \"danger\"\n  | \"neutral\"\n  | \"termometro\"\nexport type ProgressSize = \"xs\" | \"sm\" | \"md\" | \"lg\" | \"xl\"\n\nexport interface ProgressTokens {\n  trackColor: string\n  barColor: string\n  barGradient: string\n  accentGradient: string\n  borderRadius: string\n  transition: string\n}\n\n/**\n * Genera los tokens para el componente Progress\n */\nexport function generateProgressTokens(\n  appColorTokens: AppColorTokens,\n  variant: ProgressVariant = \"primary\",\n): ProgressTokens {\n  // const isDark = mode === \"dark\" // Removed\n  // const themeColors = colors.themes[colorScheme] // Removed\n  // const semanticColors = colors.semantic // Removed\n  // const accentColor = semanticColors.accent // Will use appColorTokens.accent\n\n  // Función para obtener los colores base según la variante\n  const getBaseColors = () =\u003e {\n    switch (variant) {\n      case \"primary\": {\n        const mainColor = appColorTokens.primary.pure\n        const secondColor = appColorTokens.secondary.pure\n        return {\n          track: `${appColorTokens.primary.bg}40`,\n          bar: mainColor,\n          gradient: `linear-gradient(90deg, ${mainColor}, ${secondColor})`,\n          accentGradient: `linear-gradient(90deg, ${mainColor}, ${appColorTokens.accent.pure})`,\n        }\n      }\n      case \"secondary\": {\n        const mainColor = appColorTokens.secondary.pure\n        const primaryColor = appColorTokens.primary.pure\n        return {\n          track: `${appColorTokens.secondary.bg}40`,\n          bar: mainColor,\n          gradient: `linear-gradient(90deg, ${primaryColor}, ${mainColor})`,\n          accentGradient: `linear-gradient(90deg, ${mainColor}, ${appColorTokens.accent.pure})`,\n        }\n      }\n      case \"tertiary\": {\n        const mainColor = appColorTokens.tertiary.pure\n        const secondaryColor = appColorTokens.secondary.pure\n        return {\n          track: `${appColorTokens.tertiary.bg}40`,\n          bar: mainColor,\n          gradient: `linear-gradient(90deg, ${secondaryColor}, ${mainColor})`,\n          accentGradient: `linear-gradient(90deg, ${mainColor}, ${appColorTokens.accent.pure})`,\n        }\n      }\n      case \"accent\": {\n        const mainColor = appColorTokens.accent.pure\n        const primaryColor = appColorTokens.primary.pure\n        return {\n          track: `${appColorTokens.accent.bg}40`,\n          bar: mainColor,\n          gradient: `linear-gradient(90deg, ${primaryColor}, ${mainColor})`,\n          accentGradient: `linear-gradient(90deg, ${mainColor}, ${primaryColor})`,\n        }\n      }\n      case \"success\": {\n        const mainColor = appColorTokens.success.pure\n        // const accentColor = appColorTokens.accent.pure; // Replaced direct use\n        return {\n          track: `${appColorTokens.success.bg}40`,\n          bar: mainColor,\n          gradient: `linear-gradient(90deg, ${appColorTokens.accent.pure}, ${mainColor})`,\n          accentGradient: `linear-gradient(90deg, ${mainColor}, ${appColorTokens.accent.pure})`,\n        }\n      }\n      case \"warning\": {\n        const mainColor = appColorTokens.warning.pure\n        const dangerColor = appColorTokens.danger.pure\n        return {\n          track: `${appColorTokens.warning.bg}40`,\n          bar: mainColor,\n          gradient: `linear-gradient(90deg, ${dangerColor}, ${mainColor})`,\n          accentGradient: `linear-gradient(90deg, ${mainColor}, ${appColorTokens.accent.pure})`,\n        }\n      }\n      case \"danger\": {\n        const mainColor = appColorTokens.danger.pure\n        const warningColor = appColorTokens.warning.pure\n        return {\n          track: `${appColorTokens.danger.bg}40`,\n          bar: mainColor,\n          gradient: `linear-gradient(90deg, ${mainColor}, ${warningColor})`,\n          accentGradient: `linear-gradient(90deg, ${mainColor}, ${appColorTokens.accent.pure})`,\n        }\n      }\n      case \"neutral\": {\n        // const darkColor = isDark ? colors.neutral.gray[400] : colors.neutral.gray[600] // Removed\n        // const lightColor = isDark ? colors.neutral.gray[600] : colors.neutral.gray[400] // Removed\n        return {\n          track: `${appColorTokens.neutral.bg}40`,\n          bar: appColorTokens.neutral.text, // Using neutral text for the bar\n          gradient: `linear-gradient(90deg, ${appColorTokens.neutral.text}, ${appColorTokens.neutral.bgShade})`,\n          accentGradient: `linear-gradient(90deg, ${appColorTokens.neutral.text}, ${appColorTokens.accent.pure})`,\n        }\n      }\n      case \"termometro\": {\n        const dangerColor = appColorTokens.danger.pure\n        const warningColor = appColorTokens.warning.pure\n        const successColor = appColorTokens.success.pure\n        return {\n          track: `${appColorTokens.neutral.bg}40`, // Neutral track for thermometer\n          bar: warningColor, // Color base (no se usa directamente para el degradado principal)\n          gradient: `linear-gradient(90deg, ${dangerColor}, ${warningColor}, ${successColor})`,\n          accentGradient: `linear-gradient(90deg, ${dangerColor}, ${appColorTokens.accent.pure}, ${successColor})`,\n        }\n      }\n      default: {\n        // Fallback to primary\n        const mainColor = appColorTokens.primary.pure\n        const secondColor = appColorTokens.secondary.pure\n        return {\n          track: `${appColorTokens.primary.bg}40`,\n          bar: mainColor,\n          gradient: `linear-gradient(90deg, ${mainColor}, ${secondColor})`,\n          accentGradient: `linear-gradient(90deg, ${mainColor}, ${appColorTokens.accent.pure})`,\n        }\n      }\n    }\n  }\n\n  const baseColors = getBaseColors()\n\n  return {\n    trackColor: baseColors.track,\n    barColor: baseColors.bar,\n    barGradient: baseColors.gradient,\n    accentGradient: baseColors.accentGradient,\n    borderRadius: \"9999px\", // Siempre redondeado\n    transition: \"width 0.3s ease-in-out\",\n  }\n}\n"])</script><script>self.__next_f.push([1,"c6:T24ae,"])</script><script>self.__next_f.push([1,"import tinycolor from \"tinycolor2\"\nimport type { AppColorTokens, ColorShade, Mode } from \"../ColorToken\"\n\nexport type SelectSize = \"sm\" | \"md\" | \"lg\"\nexport type SelectVariant = \"default\" | \"primary\" | \"secondary\" | \"tertiary\" | \"accent\" | \"neutral\"\n\nexport type SelectTokens = {\n  variants: Record\u003c\n    SelectVariant,\n    {\n      background: string\n      border: string\n      text: string\n      placeholder: string\n      focusBorder: string\n      focusRing: string\n      hoverBorder: string\n      errorBorder: string\n      errorRing: string\n      errorBackground: string\n      successBorder: string\n      successRing: string\n      successText: string\n      successBackground: string\n      iconColor: string\n      disabledBackground: string\n      disabledBorder: string\n      disabledText: string\n      editingBackground: string\n      // Dropdown específicos\n      dropdownBackground: string\n      dropdownBorder: string\n      optionHoverBackground: string\n      optionSelectedBackground: string\n      optionSelectedText: string\n      optionText: string\n      // Nuevo token para el fondo del botón del chevron\n      chevronButtonBackground: string\n    }\n  \u003e\n  sizes: Record\u003c\n    SelectSize,\n    {\n      height: string\n      fontSize: string\n      paddingX: string\n      paddingY: string\n      iconSize: string\n      iconPadding: string\n      // Dropdown específicos\n      optionPaddingX: string\n      optionPaddingY: string\n      dropdownMaxHeight: string\n    }\n  \u003e\n}\n\nexport function generateSelectTokens(appColorTokens: AppColorTokens, mode: Mode): SelectTokens {\n  // Usamos neutral.text directamente, que ya está definido correctamente según el modo\n  const textColor = appColorTokens.neutral.text\n  const placeholderTextColor = tinycolor(textColor).setAlpha(0.6).toRgbString()\n\n  // Definir color de icono por defecto basado en primary\n  const defaultIconColor =\n    mode === \"dark\"\n      ? tinycolor(appColorTokens.primary.text).setAlpha(0.9).toRgbString()\n      : tinycolor(appColorTokens.primary.pure).setAlpha(0.9).toRgbString()\n\n  // Función para generar variantes\n  const generateVariant = (baseColor: ColorShade) =\u003e {\n    // Para el borde normal, usamos gris en lugar del color de la variante\n    const borderColor = appColorTokens.neutral.pure\n    const focusBorderColor = baseColor.pure\n    const focusRingColor = tinycolor(baseColor.pure).setAlpha(0.2).toRgbString()\n\n    // Fondos con degradado sutil para estados especiales\n    const errorBgColor = tinycolor(appColorTokens.danger.bg)\n      .setAlpha(mode === \"dark\" ? 0.3 : 0.5)\n      .toRgbString()\n\n    const successBgColor = tinycolor(appColorTokens.success.bg)\n      .setAlpha(mode === \"dark\" ? 0.3 : 0.5)\n      .toRgbString()\n\n    const editingBgColor = tinycolor(appColorTokens.tertiary.bg)\n      .setAlpha(mode === \"dark\" ? 0.3 : 0.5)\n      .toRgbString()\n\n    // Colores específicos para el dropdown\n    const dropdownBgColor = mode === \"dark\" ? appColorTokens.neutral.bg : appColorTokens.white.bg\n    const optionHoverBgColor = tinycolor(baseColor.pure).setAlpha(0.15).toRgbString()\n    const optionSelectedBgColor = tinycolor(baseColor.pure).setAlpha(0.25).toRgbString()\n    const optionSelectedTextColor = baseColor.pure\n\n    // Color del icono según la variante y el modo\n    const variantIconColor =\n      mode === \"dark\"\n        ? tinycolor(baseColor.text).setAlpha(0.9).toRgbString()\n        : tinycolor(baseColor.pure).setAlpha(0.9).toRgbString()\n\n    // Nuevo color para el fondo del botón del chevron con mejor contraste\n    const chevronButtonBgColor =\n      mode === \"dark\"\n        ? tinycolor(baseColor.pure).setAlpha(0.2).toRgbString()\n        : tinycolor(baseColor.bg).darken(5).toRgbString()\n\n    return {\n      background: mode === \"dark\" ? appColorTokens.neutral.bg : appColorTokens.white.bg,\n      border: borderColor,\n      text: textColor,\n      placeholder: placeholderTextColor,\n      focusBorder: focusBorderColor,\n      focusRing: focusRingColor,\n      hoverBorder:\n        mode === \"dark\"\n          ? tinycolor(baseColor.pure).lighten(10).toString()\n          : tinycolor(baseColor.pure).darken(10).toString(),\n      errorBorder: appColorTokens.danger.pure,\n      errorRing: tinycolor(appColorTokens.danger.pure).setAlpha(0.2).toRgbString(),\n      errorBackground: errorBgColor,\n      successBorder: appColorTokens.success.pure,\n      successRing: tinycolor(appColorTokens.success.pure).setAlpha(0.2).toRgbString(),\n      successText: appColorTokens.success.text,\n      successBackground: successBgColor,\n      iconColor: variantIconColor,\n      disabledBackground: appColorTokens.neutral.bgShade,\n      disabledBorder: tinycolor(appColorTokens.neutral.pure).setAlpha(0.4).toRgbString(),\n      disabledText: tinycolor(appColorTokens.neutral.text).setAlpha(0.5).toRgbString(),\n      editingBackground: editingBgColor,\n      // Dropdown específicos\n      dropdownBackground: dropdownBgColor,\n      dropdownBorder: mode === \"dark\" ? appColorTokens.neutral.bgShade : appColorTokens.neutral.pure,\n      optionHoverBackground: optionHoverBgColor,\n      optionSelectedBackground: optionSelectedBgColor,\n      optionSelectedText: optionSelectedTextColor,\n      optionText: appColorTokens.neutral.text,\n      // Nuevo token para el fondo del botón del chevron\n      chevronButtonBackground: chevronButtonBgColor,\n    }\n  }\n\n  // Generar fondo de edición para el tema terciario\n  const tertiaryEditingBg = tinycolor(appColorTokens.tertiary.bg)\n    .setAlpha(mode === \"dark\" ? 0.3 : 0.5)\n    .toRgbString()\n\n  // Fondos con degradado sutil para estados especiales\n  const errorBgColor = tinycolor(appColorTokens.danger.bg)\n    .setAlpha(mode === \"dark\" ? 0.3 : 0.5)\n    .toRgbString()\n\n  const successBgColor = tinycolor(appColorTokens.success.bg)\n    .setAlpha(mode === \"dark\" ? 0.3 : 0.5)\n    .toRgbString()\n\n  // Colores específicos para el dropdown en variante default\n  const defaultOptionHoverBgColor = tinycolor(appColorTokens.primary.pure).setAlpha(0.15).toRgbString()\n  const defaultOptionSelectedBgColor = tinycolor(appColorTokens.primary.pure).setAlpha(0.25).toRgbString()\n  const defaultOptionSelectedTextColor = appColorTokens.primary.pure\n\n  // Nuevo token para el fondo del botón del chevron con mejor contraste\n  const defaultChevronButtonBgColor =\n    mode === \"dark\"\n      ? tinycolor(appColorTokens.primary.pure).setAlpha(0.2).toRgbString()\n      : tinycolor(appColorTokens.primary.bg).darken(5).toRgbString()\n\n  return {\n    variants: {\n      default: {\n        background: mode === \"dark\" ? appColorTokens.neutral.bg : appColorTokens.white.bg,\n        border: mode === \"dark\" ? appColorTokens.neutral.pure : appColorTokens.neutral.pure,\n        text: textColor,\n        placeholder: placeholderTextColor,\n        focusBorder: appColorTokens.primary.pure,\n        focusRing: tinycolor(appColorTokens.primary.pure).setAlpha(0.2).toRgbString(),\n        hoverBorder: appColorTokens.neutral.bgShade,\n        errorBorder: appColorTokens.danger.pure,\n        errorRing: tinycolor(appColorTokens.danger.pure).setAlpha(0.2).toRgbString(),\n        errorBackground: errorBgColor,\n        successBorder: appColorTokens.success.pure,\n        successRing: tinycolor(appColorTokens.success.pure).setAlpha(0.2).toRgbString(),\n        successText: appColorTokens.success.text,\n        successBackground: successBgColor,\n        iconColor: defaultIconColor,\n        disabledBackground: appColorTokens.neutral.bgShade,\n        disabledBorder: tinycolor(appColorTokens.neutral.pure).setAlpha(0.4).toRgbString(),\n        disabledText: tinycolor(appColorTokens.neutral.text).setAlpha(0.5).toRgbString(),\n        editingBackground: tertiaryEditingBg,\n        dropdownBackground: mode === \"dark\" ? appColorTokens.neutral.bg : appColorTokens.white.bg,\n        dropdownBorder: mode === \"dark\" ? appColorTokens.neutral.bgShade : appColorTokens.neutral.pure,\n        optionHoverBackground: defaultOptionHoverBgColor,\n        optionSelectedBackground: defaultOptionSelectedBgColor,\n        optionSelectedText: defaultOptionSelectedTextColor,\n        optionText: appColorTokens.neutral.text,\n        chevronButtonBackground: defaultChevronButtonBgColor,\n      },\n      primary: generateVariant(appColorTokens.primary),\n      secondary: generateVariant(appColorTokens.secondary),\n      tertiary: generateVariant(appColorTokens.tertiary),\n      accent: generateVariant(appColorTokens.accent),\n      neutral: {\n        ...generateVariant(appColorTokens.neutral),\n      },\n    },\n    sizes: {\n      sm: {\n        height: \"h-8\",\n        fontSize: \"text-xs\",\n        paddingX: \"px-2\",\n        paddingY: \"py-1\",\n        iconSize: \"h-2.5 w-2.5\",\n        iconPadding: \"pl-7 pr-2\",\n        optionPaddingX: \"px-2\",\n        optionPaddingY: \"py-1\",\n        dropdownMaxHeight: \"max-h-40\",\n      },\n      md: {\n        height: \"h-10\",\n        fontSize: \"text-sm\",\n        paddingX: \"px-3\",\n        paddingY: \"py-2\",\n        iconSize: \"h-3.5 w-3.5\",\n        iconPadding: \"pl-10 pr-3\",\n        optionPaddingX: \"px-3\",\n        optionPaddingY: \"py-2\",\n        dropdownMaxHeight: \"max-h-60\",\n      },\n      lg: {\n        height: \"h-12\",\n        fontSize: \"text-base\",\n        paddingX: \"px-4\",\n        paddingY: \"py-2.5\",\n        iconSize: \"h-4 w-4\",\n        iconPadding: \"pl-12 pr-4\",\n        optionPaddingX: \"px-4\",\n        optionPaddingY: \"py-2.5\",\n        dropdownMaxHeight: \"max-h-72\",\n      },\n    },\n  }\n}\n"])</script><script>self.__next_f.push([1,"c7:Ta3b,"])</script><script>self.__next_f.push([1,"import type { AppColorTokens, Mode } from \"../ColorToken\"\nimport type { ColorShade } from \"../colors\" // Asegúrate que ColorShade se exporte desde colors.ts o ColorToken.ts\n\n/**\n * Estructura de los tokens de color específicos para SustratoLoadingLogo.\n */\nexport type SustratoLoadingLogoComponentTokens = {\n  colors: {\n    primary: Pick\u003cColorShade, \"pure\" | \"text\"\u003e // Solo necesitamos 'pure' y 'text'\n    secondary: Pick\u003cColorShade, \"pure\"\u003e // Solo 'pure'\n    accent: ColorShade // Necesitamos toda la paleta accent para transiciones\n  }\n}\n\n/**\n * Genera los tokens de color para el componente SustratoLoadingLogo\n * utilizando los AppColorTokens globales.\n *\n * @param appTokens Los tokens de color globales de la aplicación.\n * @param mode El modo actual ('light' o 'dark'). No se usa directamente aquí, pero es buena práctica pasarlo.\n * @returns Un objeto con los colores necesarios para SustratoLoadingLogo.\n */\nexport function generateSustratoLoadingLogoTokens(\n  appTokens: AppColorTokens | any, // Permitir 'any' para compatibilidad inicial si viene de un contexto antiguo\n  mode: Mode,\n): SustratoLoadingLogoComponentTokens {\n  // Fallback defensivo si appTokens no tiene la estructura esperada\n  const safeAppTokens =\n    appTokens \u0026\u0026 typeof appTokens === \"object\" \u0026\u0026 appTokens.primary\n      ? (appTokens as AppColorTokens)\n      : ({\n          // Provide un mock/fallback seguro si appTokens no es válido\n          primary: { pure: \"#3D7DF6\", text: \"#1f4487\" },\n          secondary: { pure: \"#516e99\" },\n          accent: {\n            pure: \"#8A4EF6\",\n            pureShade: \"#683BB9\",\n            text: \"#5A3E9C\",\n            contrastText: \"#F3EDFE\",\n            textShade: \"#4D2C8A\",\n            bg: \"#E8D9F9\",\n            bgShade: \"#AEA3BB\",\n            // Asegúrate de incluir pureDark y textDark si interpolateColor los necesita explícitamente\n            // o si ColorShade los requiere. Si no, puedes omitirlos si usas los alias.\n            pureDark: \"#683BB9\",\n            textDark: \"#4D2C8A\",\n          },\n        } as unknown as AppColorTokens) // Usa unknown para forzar el tipo seguro\n\n  return {\n    colors: {\n      primary: {\n        pure: safeAppTokens.primary.pure,\n        text: safeAppTokens.primary.text,\n      },\n      secondary: {\n        pure: safeAppTokens.secondary.pure,\n      },\n      // Aseguramos que accent tenga todos los campos requeridos por ColorShade\n      // Si generate... solo necesita algunos, podríamos ser más específicos,\n      // pero pasar el objeto completo es más simple si la estructura coincide.\n      accent: safeAppTokens.accent,\n    },\n  }\n}\n"])</script><script>self.__next_f.push([1,"c8:T2390,"])</script><script>self.__next_f.push([1,"// --- START OF FILE Copia de table-tokens.txt (CON CORRECCIÓN DE ERRORES DE LINTER) ---\n\nimport tinycolor from \"tinycolor2\"\nimport type { AppColorTokens } from \"../ColorToken\"\nimport type { ProCardVariant } from \"../color-tokens\"\n\nexport type CellVariant = ProCardVariant\n\nexport interface TableTokens {\n  container: {\n    backgroundColor: string\n    borderColor: string\n  }\n  header: {\n    backgroundColor: string\n    foregroundColor: string\n    borderColor: string\n    sortIconColor: string\n    sortIconHoverColor: string\n    resizeHandleColor: string\n  }\n  row: {\n    default: {\n      backgroundColor: string\n      foregroundColor: string\n      borderColor: string\n      hoverBackgroundColor: string\n    }\n    status: {\n      success: {\n        backgroundColor: string\n        foregroundColor: string\n        hoverBackgroundColor: string\n        borderColor?: string\n      }\n      warning: {\n        backgroundColor: string\n        foregroundColor: string\n        hoverBackgroundColor: string\n        borderColor?: string\n      }\n      danger: {\n        backgroundColor: string\n        foregroundColor: string\n        hoverBackgroundColor: string\n        borderColor?: string\n      }\n      info: {\n        backgroundColor: string\n        foregroundColor: string\n        hoverBackgroundColor: string\n        borderColor?: string\n      }\n      neutral: {\n        backgroundColor: string\n        foregroundColor: string\n        hoverBackgroundColor: string\n        borderColor?: string\n      }\n    }\n    subRowBackgroundColor: string\n    subRowIndentBorderColor: string\n  }\n  cell: {\n    borderColor: string\n    foregroundColor: string\n    variants: Record\u003c\n      CellVariant,\n      {\n        backgroundColor: string\n        foregroundColor: string\n        hoverBackgroundColor: string\n        borderColor?: string\n      }\n    \u003e\n  }\n  toolbar: {\n    columnSelector: {\n      backgroundColor: string\n      foregroundColor: string\n    }\n  }\n  tooltip: {\n    default: {\n      backgroundColor: string\n      foregroundColor: string\n      borderColor: string\n    }\n    longContent: {\n      backgroundColor: string\n      foregroundColor: string\n      borderColor: string\n    }\n  }\n  expander: {\n    circleBackground: string\n    circleBorderColor: string\n    iconColor: string\n    expandedCircleBackground: string\n    expandedIconColor: string\n  }\n}\n\nexport function generateTableTokens(appColorTokens: AppColorTokens): TableTokens {\n  const generateVariantStyle = (variant: CellVariant, currentAppColorTokens: AppColorTokens) =\u003e {\n    let backgroundColor: string,\n      foregroundColor: string,\n      hoverBackgroundColor: string,\n      borderColor: string | undefined = undefined\n\n    const { primary, secondary, tertiary, accent, success, warning, danger, neutral, white } = currentAppColorTokens\n\n    if (variant === \"white\") {\n      const tokenSet = white\n      backgroundColor = tokenSet.bg\n      foregroundColor = tokenSet.text\n      hoverBackgroundColor = tokenSet.bgShade || tokenSet.bg\n      borderColor = tokenSet.pure\n    } else if (variant === \"neutral\") {\n      const tokenSet = neutral\n      backgroundColor = tokenSet.bg\n      foregroundColor = tokenSet.text\n      hoverBackgroundColor = tokenSet.bgShade || tokenSet.bg\n      borderColor = tokenSet.bgShade\n    } else if (currentAppColorTokens[variant as keyof AppColorTokens]) {\n      const tokenSet = currentAppColorTokens[variant as keyof typeof currentAppColorTokens] as typeof primary\n      if (tokenSet \u0026\u0026 typeof tokenSet === \"object\" \u0026\u0026 \"bg\" in tokenSet \u0026\u0026 \"text\" in tokenSet \u0026\u0026 \"pure\" in tokenSet) {\n        backgroundColor = tokenSet.bg\n        foregroundColor = tokenSet.text\n        hoverBackgroundColor = tokenSet.bgShade || tokenSet.bg\n        borderColor = tokenSet.pure\n      } else {\n        backgroundColor = neutral.bg\n        foregroundColor = neutral.text\n        hoverBackgroundColor = neutral.bgShade\n        borderColor = neutral.bgShade\n      }\n    } else {\n      backgroundColor = neutral.bg\n      foregroundColor = neutral.text\n      hoverBackgroundColor = neutral.bgShade\n      borderColor = neutral.bgShade\n    }\n    return {\n      backgroundColor,\n      foregroundColor,\n      hoverBackgroundColor,\n      borderColor,\n    }\n  }\n\n  const cellVariantTokens = {} as TableTokens[\"cell\"][\"variants\"]\n  const allCellVariants: CellVariant[] = [\n    \"primary\",\n    \"secondary\",\n    \"tertiary\",\n    \"accent\",\n    \"success\",\n    \"warning\",\n    \"danger\",\n    \"neutral\",\n    \"white\",\n  ]\n  allCellVariants.forEach((variant) =\u003e {\n    cellVariantTokens[variant] = generateVariantStyle(variant, appColorTokens)\n  })\n\n  const containerBackgroundColor = appColorTokens.neutral.bg\n  const containerBorderColor = appColorTokens.neutral.bgShade\n\n  const headerBackgroundColor = appColorTokens.primary.pure\n  const headerForegroundColor = appColorTokens.primary.contrastText\n  const headerBorderColor = appColorTokens.neutral.bgShade\n  const sortIconColor = tinycolor(headerForegroundColor).setAlpha(0.7).toString()\n  const sortIconHoverColor = headerForegroundColor\n  const resizeHandleColor = tinycolor(appColorTokens.primary.bg).setAlpha(0.5).toString()\n\n  const rowDefaultBackgroundColor = appColorTokens.neutral.bg\n  const rowDefaultForegroundColor = appColorTokens.neutral.text\n  const rowDefaultBorderColor = tinycolor(appColorTokens.neutral.bgShade).setAlpha(0.5).toString()\n  const rowDefaultHoverBackgroundColor = appColorTokens.neutral.bgShade\n\n  const generateRowStatusStyles = (statusKey: CellVariant) =\u003e {\n    const variantStyle = generateVariantStyle(statusKey, appColorTokens)\n    return {\n      backgroundColor: variantStyle.backgroundColor,\n      foregroundColor: variantStyle.foregroundColor,\n      hoverBackgroundColor: variantStyle.hoverBackgroundColor,\n      borderColor: variantStyle.borderColor,\n    }\n  }\n\n  const rowStatusColors = {\n    success: generateRowStatusStyles(\"success\"),\n    warning: generateRowStatusStyles(\"warning\"),\n    danger: generateRowStatusStyles(\"danger\"),\n    info: generateRowStatusStyles(\"accent\"),\n    neutral: {\n      ...generateRowStatusStyles(\"neutral\"),\n      borderColor: rowDefaultBorderColor,\n    },\n  }\n\n  const subRowBackgroundColor = tinycolor(appColorTokens.neutral.bg).setAlpha(0.3).toString()\n  const subRowIndentBorderColor = appColorTokens.primary.pure\n\n  const cellGeneralBorderColor = tinycolor(appColorTokens.neutral.bgShade).setAlpha(0.7).toString()\n  const cellDefaultForegroundColor = appColorTokens.neutral.text\n\n  const columnSelectorBackgroundColor = appColorTokens.neutral.bg\n  const columnSelectorForegroundColor = appColorTokens.neutral.text\n\n  const tooltipDefaultBackgroundColor = appColorTokens.neutral.bgShade\n  const tooltipDefaultForegroundColor = appColorTokens.neutral.contrastText\n  const tooltipDefaultBorderColor = appColorTokens.neutral.text\n\n  const tooltipLongContentBackgroundColor = \"#ffffff\"\n  const tooltipLongContentForegroundColor = appColorTokens.primary.text\n  const tooltipLongContentBorderColor = appColorTokens.accent.pure\n\n  const expanderCircleBg = appColorTokens.primary.pure\n  const expanderIconColor = appColorTokens.primary.contrastText\n  const expanderCircleBorder = appColorTokens.primary.contrastText\n  const expanderExpandedCircleBg = appColorTokens.primary.bgShade || appColorTokens.primary.bg\n\n  const expanderTokens = {\n    circleBackground: expanderCircleBg,\n    circleBorderColor: expanderCircleBorder,\n    iconColor: expanderIconColor,\n    expandedCircleBackground: expanderExpandedCircleBg,\n    expandedIconColor: expanderIconColor,\n  }\n\n  return {\n    container: {\n      backgroundColor: containerBackgroundColor,\n      borderColor: containerBorderColor,\n    },\n    header: {\n      backgroundColor: headerBackgroundColor,\n      foregroundColor: headerForegroundColor,\n      borderColor: headerBorderColor,\n      sortIconColor: sortIconColor,\n      sortIconHoverColor: sortIconHoverColor,\n      resizeHandleColor: resizeHandleColor,\n    },\n    row: {\n      default: {\n        backgroundColor: rowDefaultBackgroundColor,\n        foregroundColor: rowDefaultForegroundColor,\n        borderColor: rowDefaultBorderColor,\n        hoverBackgroundColor: rowDefaultHoverBackgroundColor,\n      },\n      status: rowStatusColors,\n      subRowBackgroundColor: subRowBackgroundColor,\n      subRowIndentBorderColor: subRowIndentBorderColor,\n    },\n    cell: {\n      borderColor: cellGeneralBorderColor,\n      foregroundColor: cellDefaultForegroundColor,\n      variants: cellVariantTokens,\n    },\n    toolbar: {\n      columnSelector: {\n        backgroundColor: columnSelectorBackgroundColor,\n        foregroundColor: columnSelectorForegroundColor,\n      },\n    },\n    tooltip: {\n      default: {\n        backgroundColor: tooltipDefaultBackgroundColor,\n        foregroundColor: tooltipDefaultForegroundColor,\n        borderColor: tooltipDefaultBorderColor,\n      },\n      longContent: {\n        backgroundColor: tooltipLongContentBackgroundColor,\n        foregroundColor: tooltipLongContentForegroundColor,\n        borderColor: tooltipLongContentBorderColor,\n      },\n    },\n    expander: expanderTokens,\n  }\n}\n// --- END OF FILE ---\n"])</script><script>self.__next_f.push([1,"c9:T11a1,"])</script><script>self.__next_f.push([1,"import type { AppColorTokens, Mode, ColorShade } from \"../ColorToken\"\n\nexport type TextTokenColorSet = {\n  pure: string\n  text: string\n  dark: string\n  textShade: string\n}\n\nexport type TextTokens = {\n  colors: {\n    default: TextTokenColorSet\n    primary: TextTokenColorSet\n    secondary: TextTokenColorSet\n    tertiary: TextTokenColorSet\n    accent: TextTokenColorSet\n    success: TextTokenColorSet\n    warning: TextTokenColorSet\n    danger: TextTokenColorSet\n    muted: TextTokenColorSet\n    neutral: TextTokenColorSet\n  }\n  gradients: {\n    primary: { start: string; middle: string; end: string }\n    secondary: { start: string; middle: string; end: string }\n    tertiary: { start: string; middle: string; end: string }\n    accent: { start: string; middle: string; end: string }\n    success: { start: string; middle: string; end: string }\n    warning: { start: string; middle: string; end: string }\n    danger: { start: string; middle: string; end: string }\n  }\n  variants: {\n    default: { size: string; weight: string; color: string }\n    heading: { size: string; weight: string; color: string }\n    subheading: { size: string; weight: string; color: string }\n    title: { size: string; weight: string; color: string }\n    subtitle: { size: string; weight: string; color: string }\n    label: { size: string; weight: string; color: string }\n    caption: { size: string; weight: string; color: string }\n    muted: { size: string; weight: string; color: string }\n  }\n}\n\nexport function generateTextTokens(appTokens: AppColorTokens, mode: Mode): TextTokens {\n  const isDark = mode === \"dark\"\n\n  // Helper para mapear un ColorShade de AppColorTokens a la estructura TextTokenColorSet\n  const mapColorShadeToTokenSet = (shade: ColorShade): TextTokenColorSet =\u003e ({\n    pure: shade.pure,\n    text: shade.text,\n    textShade: shade.textShade,\n    dark: shade.textShade,\n  })\n\n  const textColors = {\n    default: {\n      pure: isDark ? appTokens.neutral.bg : appTokens.neutral.text,\n      text: appTokens.neutral.text,\n      textShade: appTokens.neutral.textShade,\n      dark: appTokens.neutral.textShade,\n    },\n    primary: mapColorShadeToTokenSet(appTokens.primary),\n    secondary: mapColorShadeToTokenSet(appTokens.secondary),\n    tertiary: mapColorShadeToTokenSet(appTokens.tertiary),\n    accent: mapColorShadeToTokenSet(appTokens.accent),\n    success: mapColorShadeToTokenSet(appTokens.success),\n    warning: mapColorShadeToTokenSet(appTokens.warning),\n    danger: mapColorShadeToTokenSet(appTokens.danger),\n    muted: {\n      pure: appTokens.neutral.textShade,\n      text: appTokens.neutral.textShade,\n      textShade: isDark ? appTokens.neutral.pure : appTokens.neutral.text,\n      dark: isDark ? appTokens.neutral.pure : appTokens.neutral.text,\n    },\n    neutral: mapColorShadeToTokenSet(appTokens.neutral),\n  }\n\n  const textGradients = {\n    primary: {\n      start: appTokens.primary.pure,\n      middle: appTokens.primary.pureShade,\n      end: appTokens.primary.textShade,\n    },\n    secondary: {\n      start: appTokens.secondary.pure,\n      middle: appTokens.secondary.pureShade,\n      end: appTokens.secondary.textShade,\n    },\n    tertiary: {\n      start: appTokens.tertiary.pure,\n      middle: appTokens.tertiary.pureShade,\n      end: appTokens.tertiary.textShade,\n    },\n    accent: {\n      start: appTokens.accent.pure,\n      middle: appTokens.accent.pureShade,\n      end: appTokens.accent.textShade,\n    },\n    success: {\n      start: appTokens.success.pure,\n      middle: appTokens.success.pureShade,\n      end: appTokens.success.textShade,\n    },\n    warning: {\n      start: appTokens.warning.pure,\n      middle: appTokens.warning.pureShade,\n      end: appTokens.warning.textShade,\n    },\n    danger: {\n      start: appTokens.danger.pure,\n      middle: appTokens.danger.pureShade,\n      end: appTokens.danger.textShade,\n    },\n  }\n\n  const variantDefaults = {\n    default: { size: \"base\", weight: \"normal\", color: \"default\" },\n    heading: { size: \"3xl\", weight: \"bold\", color: \"default\" },\n    subheading: { size: \"2xl\", weight: \"semibold\", color: \"default\" },\n    title: { size: \"xl\", weight: \"semibold\", color: \"primary\" },\n    subtitle: { size: \"lg\", weight: \"medium\", color: \"secondary\" },\n    label: { size: \"sm\", weight: \"medium\", color: \"default\" },\n    caption: { size: \"xs\", weight: \"normal\", color: \"muted\" },\n    muted: { size: \"sm\", weight: \"normal\", color: \"muted\" },\n  } as const\n\n  return {\n    colors: textColors,\n    gradients: textGradients,\n    variants: variantDefaults,\n  }\n}\n"])</script><script>self.__next_f.push([1,"ca:T1683,"])</script><script>self.__next_f.push([1,"import type { AppColorTokens, ColorShade, Mode } from \"../ColorToken\"\nimport tinycolor from \"tinycolor2\"\n\nexport type TextareaVariant =\n  | \"default\"\n  | \"neutral\"\n  | \"white\"\n  | \"tertiary\"\n  | \"primary\"\n  | \"secondary\"\n  | \"success\"\n  | \"warning\"\n  | \"danger\"\n  | \"info\"\nexport type TextareaSize = \"sm\" | \"md\" | \"lg\"\n\nexport interface TextareaVariantTokens {\n  background: string\n  border: string\n  text: string\n  placeholder: string\n  iconColor: string\n  disabledBackground: string\n  disabledBorder: string\n  disabledText: string\n  errorBackground: string\n  errorBorder: string\n  errorText: string\n  errorRing: string\n  successBackground: string\n  successBorder: string\n  successText: string\n  successRing: string\n  warningText: string\n  focusBorder: string\n  focusRing: string\n  hoverBorder: string\n  editingBackground: string\n  optionSelectedBackground: string\n  optionSelectedText: string\n  optionHoverBackground: string\n  optionText: string\n  dropdownBackground: string\n  dropdownBorder: string\n}\n\nexport interface TextareaSizeTokens {\n  height: string\n  minHeight: string\n  fontSize: string\n  paddingX: string\n  paddingY: string\n  dropdownMaxHeight: string\n}\n\nexport interface TextareaTokens {\n  variants: Record\u003cTextareaVariant, TextareaVariantTokens\u003e\n  sizes: Record\u003cTextareaSize, TextareaSizeTokens\u003e\n}\n\nexport function generateTextareaTokens(appColorTokens: AppColorTokens, mode: Mode): TextareaTokens {\n  const { primary, secondary, tertiary, neutral, danger, success, warning, accent, white } = appColorTokens\n\n  const info = accent\n\n  // Determinar colores de texto apropiados según el modo\n  const textColor = neutral.text\n  const placeholderColor = tinycolor(textColor).setAlpha(0.6).toRgbString()\n\n  // Usar el color primary para los iconos, similar a select e input\n  const mainIconColor =\n    mode === \"dark\"\n      ? tinycolor(primary.text).setAlpha(0.9).toRgbString()\n      : tinycolor(primary.pure).setAlpha(0.9).toRgbString()\n\n  // Color de fondo según el modo\n  const backgroundColorByMode = mode === \"dark\" ? neutral.bg : white.bg\n\n  const disabledBackground = neutral.bgShade\n  const disabledBorder = tinycolor(neutral.pure).setAlpha(0.4).toRgbString()\n  const disabledText = tinycolor(textColor).setAlpha(0.5).toRgbString()\n\n  const editingBackground = tinycolor(tertiary.bg ? tertiary.bg : neutral.bg)\n    .setAlpha(mode === \"dark\" ? 0.3 : 0.5)\n    .toRgbString()\n\n  const createColoredVariant = (shade: ColorShade, shadeForFocusRing?: ColorShade) =\u003e {\n    const focusRingColor = shadeForFocusRing ? shadeForFocusRing.pure : shade.pure\n\n    // Ajuste del color del icono según la variante\n    const variantIconColor =\n      mode === \"dark\"\n        ? tinycolor(shade.text).setAlpha(0.9).toRgbString()\n        : tinycolor(shade.pure).setAlpha(0.9).toRgbString()\n\n    // Ajuste del color del borde al pasar el ratón según el modo\n    const variantHoverBorder = mode === \"dark\" ? tinycolor(shade.pure).lighten(10).toString() : shade.bgShade\n\n    return {\n      background: backgroundColorByMode,\n      border: shade.pure,\n      text: textColor,\n      placeholder: placeholderColor,\n      iconColor: variantIconColor,\n      disabledBackground,\n      disabledBorder,\n      disabledText,\n      errorBackground: tinycolor(danger.bg)\n        .setAlpha(mode === \"dark\" ? 0.3 : 0.5)\n        .toRgbString(),\n      errorBorder: danger.pure,\n      errorText: danger.text,\n      errorRing: tinycolor(danger.pure).setAlpha(0.2).toRgbString(),\n      successBackground: tinycolor(success.bg)\n        .setAlpha(mode === \"dark\" ? 0.3 : 0.5)\n        .toRgbString(),\n      successBorder: success.pure,\n      successText: success.text,\n      successRing: tinycolor(success.pure).setAlpha(0.2).toRgbString(),\n      warningText: warning.text,\n      focusBorder: shade.pure,\n      focusRing: tinycolor(focusRingColor).setAlpha(0.2).toRgbString(),\n      hoverBorder: variantHoverBorder,\n      editingBackground,\n      optionSelectedBackground: primary.bg,\n      optionSelectedText: primary.contrastText,\n      optionHoverBackground: neutral.bg,\n      optionText: neutral.text,\n      dropdownBackground: mode === \"dark\" ? neutral.bg : white.bg,\n      dropdownBorder: mode === \"dark\" ? neutral.bgShade : neutral.pure,\n    }\n  }\n\n  const defaultVariantTokens = {\n    ...createColoredVariant(neutral, primary),\n    border: neutral.pure,\n    hoverBorder: mode === \"dark\" ? tinycolor(neutral.pure).lighten(10).toString() : neutral.bgShade,\n    iconColor: mainIconColor,\n  }\n\n  return {\n    variants: {\n      default: defaultVariantTokens,\n      neutral: createColoredVariant(neutral),\n      white: {\n        ...createColoredVariant(neutral),\n        background: mode === \"dark\" ? neutral.bg : white.pure,\n        dropdownBackground: mode === \"dark\" ? neutral.bg : white.pure,\n      },\n      tertiary: createColoredVariant(tertiary),\n      primary: createColoredVariant(primary),\n      secondary: createColoredVariant(secondary),\n      success: createColoredVariant(success),\n      warning: createColoredVariant(warning),\n      danger: createColoredVariant(danger),\n      info: createColoredVariant(info),\n    },\n    sizes: {\n      sm: {\n        height: \"h-auto\",\n        minHeight: \"min-h-[70px]\",\n        fontSize: \"text-sm\",\n        paddingX: \"px-3\",\n        paddingY: \"py-1.5\",\n        dropdownMaxHeight: \"max-h-[200px]\",\n      },\n      md: {\n        height: \"h-auto\",\n        minHeight: \"min-h-[80px]\",\n        fontSize: \"text-base\",\n        paddingX: \"px-4\",\n        paddingY: \"py-2\",\n        dropdownMaxHeight: \"max-h-[300px]\",\n      },\n      lg: {\n        height: \"h-auto\",\n        minHeight: \"min-h-[100px]\",\n        fontSize: \"text-lg\",\n        paddingX: \"px-4\",\n        paddingY: \"py-3\",\n        dropdownMaxHeight: \"max-h-[400px]\",\n      },\n    },\n  }\n}\n"])</script><script>self.__next_f.push([1,"cb:Tce1,"])</script><script>self.__next_f.push([1,"import type { AppColorTokens, Mode } from \"../ColorToken\"\nimport tinycolor from \"tinycolor2\"\n\nexport interface UserAvatarTokens {\n  avatar: {\n    backgroundColor: string\n    backgroundGradient: string\n    borderColor: string\n    textColor: string\n    fontWeight: string\n    transition: string\n    hover: {\n      backgroundColor: string\n      borderColor: string\n      transform: string\n    }\n  }\n  menu: {\n    backgroundColor: string\n    borderColor: string\n    borderRadius: string\n    boxShadow: string\n    padding: string\n  }\n  menuItem: {\n    padding: string\n    borderRadius: string\n    hoverBackgroundColor: string\n    textColor: string\n    iconColor: string\n  }\n  menuHeader: {\n    borderColor: string\n    padding: string\n    titleColor: string\n    subtitleColor: string\n  }\n  menuDivider: {\n    color: string\n    margin: string\n  }\n}\n\nexport function generateUserAvatarTokens(appColorTokens: AppColorTokens, mode: Mode): UserAvatarTokens {\n  const { primary, tertiary, neutral, white } = appColorTokens\n\n  // Determinar colores apropiados basados en el modo\n  const isDark = mode === \"dark\"\n  const surfaceColor = isDark ? neutral.bg : white.bg\n  const borderColor = isDark ? `${tertiary.text}40` : `${tertiary.text}30`\n\n  // Crear gradiente para el fondo del avatar\n  const gradientStart = primary.pure\n  const gradientEnd = primary.pureShade\n  const backgroundGradient = `linear-gradient(135deg, ${gradientStart}, ${gradientEnd})`\n\n  // Crear colores semi-transparentes para efectos\n  const primaryA10 = tinycolor(primary.pure).setAlpha(0.1).toRgbString()\n  const primaryA20 = tinycolor(primary.pure).setAlpha(0.2).toRgbString()\n\n  return {\n    avatar: {\n      backgroundColor: primary.pure,\n      backgroundGradient: backgroundGradient,\n      borderColor: borderColor,\n      textColor: primary.contrastText,\n      fontWeight: \"700\", // Más peso para la letra como solicitado\n      transition: \"all 0.2s ease-in-out\",\n      hover: {\n        backgroundColor: primary.pureShade,\n        borderColor: tertiary.text,\n        transform: \"scale(1.05)\",\n      },\n    },\n    menu: {\n      backgroundColor: surfaceColor,\n      borderColor: isDark ? neutral.pure : neutral.bgShade,\n      borderRadius: \"0.75rem\",\n      boxShadow: \"0 4px 12px rgba(0, 0, 0, 0.1)\",\n      padding: \"0.75rem\",\n    },\n    menuItem: {\n      padding: \"0.5rem 0.75rem\",\n      borderRadius: \"0.375rem\",\n      hoverBackgroundColor: isDark\n        ? tinycolor(neutral.bg).lighten(5).toString()\n        : tinycolor(white.bg).darken(5).toString(),\n      textColor: neutral.text,\n      iconColor: primary.pure,\n    },\n    menuHeader: {\n      borderColor: isDark ? `${neutral.pure}50` : `${neutral.bgShade}50`,\n      padding: \"0.5rem\",\n      titleColor: primary.text,\n      subtitleColor: neutral.textShade,\n    },\n    menuDivider: {\n      color: isDark ? neutral.pure : neutral.bgShade,\n      margin: \"0.5rem 0\",\n    },\n  }\n}\n\n// Helper function to get token value\nexport function getUserAvatarTokenValue(tokens: UserAvatarTokens, path: string): any {\n  const parts = path.split(\".\")\n  let current: any = tokens\n\n  for (const part of parts) {\n    if (current \u0026\u0026 typeof current === \"object\" \u0026\u0026 part in current) {\n      current = current[part]\n    } else {\n      return undefined // Token not found\n    }\n  }\n\n  return current\n}\n"])</script><script>self.__next_f.push([1,"cc:Tbb5,"])</script><script>self.__next_f.push([1,"/**\n * Este archivo sirve como punto de entrada para todo el sistema de diseño\n * Centraliza la importación de todos los tokens y utilidades\n */\n\nimport { colors } from \"./colors\"\n\n// Espaciado\nexport const spacing = {\n  0: \"0\",\n  px: \"1px\",\n  0.5: \"0.125rem\",\n  1: \"0.25rem\",\n  1.5: \"0.375rem\",\n  2: \"0.5rem\",\n  2.5: \"0.625rem\",\n  3: \"0.75rem\",\n  3.5: \"0.875rem\",\n  4: \"1rem\",\n  5: \"1.25rem\",\n  6: \"1.5rem\",\n  7: \"1.75rem\",\n  8: \"2rem\",\n  9: \"2.25rem\",\n  10: \"2.5rem\",\n  11: \"2.75rem\",\n  12: \"3rem\",\n  14: \"3.5rem\",\n  16: \"4rem\",\n  20: \"5rem\",\n  24: \"6rem\",\n  28: \"7rem\",\n  32: \"8rem\",\n  36: \"9rem\",\n  40: \"10rem\",\n  44: \"11rem\",\n  48: \"12rem\",\n  52: \"13rem\",\n  56: \"14rem\",\n  60: \"15rem\",\n  64: \"16rem\",\n  72: \"18rem\",\n  80: \"20rem\",\n  96: \"24rem\",\n}\n\n// Tipografía\nexport const typography = {\n  fonts: {\n    heading: \"var(--font-heading)\",\n    body: \"var(--font-body)\",\n  },\n  fontSizes: {\n    xs: \"0.75rem\",\n    sm: \"0.875rem\",\n    base: \"1rem\",\n    lg: \"1.125rem\",\n    xl: \"1.25rem\",\n    \"2xl\": \"1.5rem\",\n    \"3xl\": \"1.875rem\",\n    \"4xl\": \"2.25rem\",\n    \"5xl\": \"3rem\",\n    \"6xl\": \"3.75rem\",\n    \"7xl\": \"4.5rem\",\n    \"8xl\": \"6rem\",\n    \"9xl\": \"8rem\",\n  },\n  fontWeights: {\n    normal: \"400\",\n    medium: \"500\",\n    semibold: \"600\",\n    bold: \"700\",\n    extrabold: \"800\",\n  },\n  lineHeights: {\n    none: \"1\",\n    tight: \"1.25\",\n    snug: \"1.375\",\n    normal: \"1.5\",\n    relaxed: \"1.625\",\n    loose: \"2\",\n  },\n  letterSpacings: {\n    tighter: \"-0.05em\",\n    tight: \"-0.025em\",\n    normal: \"0\",\n    wide: \"0.025em\",\n    wider: \"0.05em\",\n    widest: \"0.1em\",\n  },\n}\n\n// Sombras\nexport const shadows = {\n  sm: \"0 1px 2px 0 rgba(0, 0, 0, 0.05)\",\n  DEFAULT: \"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)\",\n  md: \"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)\",\n  lg: \"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)\",\n  xl: \"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)\",\n  \"2xl\": \"0 25px 50px -12px rgba(0, 0, 0, 0.25)\",\n  inner: \"inset 0 2px 4px 0 rgba(0, 0, 0, 0.06)\",\n  none: \"none\",\n}\n\n// Breakpoints\nexport const breakpoints = {\n  sm: \"640px\",\n  md: \"768px\",\n  lg: \"1024px\",\n  xl: \"1280px\",\n  \"2xl\": \"1536px\",\n}\n\n// Radios de borde\nexport const borderRadius = {\n  none: \"0\",\n  sm: \"0.125rem\",\n  DEFAULT: \"0.25rem\",\n  md: \"0.375rem\",\n  lg: \"0.5rem\",\n  xl: \"0.75rem\",\n  \"2xl\": \"1rem\",\n  \"3xl\": \"1.5rem\",\n  full: \"9999px\",\n}\n\n// Transiciones\nexport const transitions = {\n  DEFAULT: \"150ms cubic-bezier(0.4, 0, 0.2, 1)\",\n  fast: \"100ms cubic-bezier(0.4, 0, 0.2, 1)\",\n  slow: \"300ms cubic-bezier(0.4, 0, 0.2, 1)\",\n  timing: {\n    DEFAULT: \"cubic-bezier(0.4, 0, 0.2, 1)\",\n    linear: \"linear\",\n    in: \"cubic-bezier(0.4, 0, 1, 1)\",\n    out: \"cubic-bezier(0, 0, 0.2, 1)\",\n    \"in-out\": \"cubic-bezier(0.4, 0, 0.2, 1)\",\n  },\n}\n\n// Exportar todo junto\nexport const designSystem = {\n  colors,\n  spacing,\n  typography,\n  shadows,\n  breakpoints,\n  borderRadius,\n  transitions,\n}\n\nexport default designSystem\n"])</script><script>self.__next_f.push([1,"cd:T44d,export type Size = \"xs\" | \"sm\" | \"md\" | \"lg\" | \"xl\"\n\nexport interface SizeTokens {\n  spacing: {\n    [key in Size]: string\n  }\n  fontSize: {\n    [key in Size]: string\n  }\n  borderRadius: {\n    [key in Size]: string\n  }\n  iconSize: {\n    [key in Size]: string\n  }\n  lineHeight: {\n    [key in Size]: string\n  }\n}\n\nexport const sizeTokens: SizeTokens = {\n  spacing: {\n    xs: \"0.5rem\", // 8px\n    sm: \"0.75rem\", // 12px\n    md: \"1rem\", // 16px\n    lg: \"1.5rem\", // 24px\n    xl: \"2rem\", // 32px\n  },\n  fontSize: {\n    xs: \"0.75rem\", // 12px\n    sm: \"0.875rem\", // 14px\n    md: \"1rem\", // 16px\n    lg: \"1.125rem\", // 18px\n    xl: \"1.25rem\", // 20px\n  },\n  borderRadius: {\n    xs: \"0.125rem\", // 2px\n    sm: \"0.25rem\", // 4px\n    md: \"0.375rem\", // 6px\n    lg: \"0.5rem\", // 8px\n    xl: \"0.75rem\", // 12px\n  },\n  iconSize: {\n    xs: \"1rem\", // 16px\n    sm: \"1.25rem\", // 20px\n    md: \"1.5rem\", // 24px\n    lg: \"1.75rem\", // 28px\n    xl: \"2rem\", // 32px\n  },\n  lineHeight: {\n    xs: \"1rem\", // 16px\n    sm: \"1.25rem\", // 20px\n    md: \"1.5rem\", // 24px\n    lg: \"1.75rem\", // 28px\n    xl: \"2rem\", // 32px\n  },\n}\nce:T1027,"])</script><script>self.__next_f.push([1,"/**\n * Utilidad para transformar colores y mejorar el contraste en modo oscuro\n */\n\n// Función para convertir un color hex a componentes RGB\nexport function hexToRgb(hex: string): { r: number; g: number; b: number } | null {\n  // Eliminar el # si existe\n  hex = hex.replace(/^#/, \"\")\n\n  // Convertir formato abreviado (por ejemplo, #03F) a formato completo (por ejemplo, #0033FF)\n  if (hex.length === 3) {\n    hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2]\n  }\n\n  const result = /^([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex)\n  return result\n    ? {\n        r: Number.parseInt(result[1], 16),\n        g: Number.parseInt(result[2], 16),\n        b: Number.parseInt(result[3], 16),\n      }\n    : null\n}\n\n// Función para convertir componentes RGB a color hex\nexport function rgbToHex(r: number, g: number, b: number): string {\n  return (\n    \"#\" +\n    [r, g, b]\n      .map((x) =\u003e {\n        const hex = Math.max(0, Math.min(255, Math.round(x))).toString(16)\n        return hex.length === 1 ? \"0\" + hex : hex\n      })\n      .join(\"\")\n  )\n}\n\n// Función para aumentar el brillo de un color\nexport function increaseBrightness(color: string, percent: number): string {\n  const rgb = hexToRgb(color)\n  if (!rgb) return color\n\n  const { r, g, b } = rgb\n\n  // Aumentar cada componente según el porcentaje\n  const factor = 1 + percent / 100\n  const newR = r * factor\n  const newG = g * factor\n  const newB = b * factor\n\n  return rgbToHex(newR, newG, newB)\n}\n\n// Función para calcular la luminancia de un color (para determinar el contraste)\nexport function getLuminance(color: string): number {\n  const rgb = hexToRgb(color)\n  if (!rgb) return 0\n\n  // Convertir a espacio de color sRGB\n  const { r, g, b } = rgb\n  const sRGB = [r / 255, g / 255, b / 255].map((val) =\u003e {\n    return val \u003c= 0.03928 ? val / 12.92 : Math.pow((val + 0.055) / 1.055, 2.4)\n  })\n\n  // Calcular luminancia según fórmula WCAG\n  return 0.2126 * sRGB[0] + 0.7152 * sRGB[1] + 0.0722 * sRGB[2]\n}\n\n// Función para calcular el contraste entre dos colores\nexport function getContrast(color1: string, color2: string): number {\n  const luminance1 = getLuminance(color1)\n  const luminance2 = getLuminance(color2)\n\n  const brightest = Math.max(luminance1, luminance2)\n  const darkest = Math.min(luminance1, luminance2)\n\n  return (brightest + 0.05) / (darkest + 0.05)\n}\n\n// Función para ajustar un color hasta alcanzar un contraste mínimo con el fondo\nexport function adjustColorForContrast(color: string, backgroundColor: string, minContrast = 4.5): string {\n  let adjustedColor = color\n  let currentContrast = getContrast(adjustedColor, backgroundColor)\n  const brightnessIncrement = 5\n  let attempts = 0\n  const maxAttempts = 20 // Evitar bucles infinitos\n\n  while (currentContrast \u003c minContrast \u0026\u0026 attempts \u003c maxAttempts) {\n    adjustedColor = increaseBrightness(adjustedColor, brightnessIncrement)\n    currentContrast = getContrast(adjustedColor, backgroundColor)\n    attempts++\n  }\n\n  return adjustedColor\n}\n\n// Función principal para adaptar colores en modo oscuro\nexport function adaptColorForDarkMode(color: string, darkBackgroundColor = \"#1F2937\"): string {\n  // Primero verificamos si el color ya tiene buen contraste\n  const currentContrast = getContrast(color, darkBackgroundColor)\n\n  // Si el contraste ya es bueno (4.5:1 es el mínimo recomendado por WCAG AA)\n  if (currentContrast \u003e= 4.5) {\n    return color\n  }\n\n  // Si no, ajustamos el color para mejorar el contraste\n  return adjustColorForContrast(color, darkBackgroundColor)\n}\n\n// Función para adaptar un gradiente para modo oscuro\nexport function adaptGradientForDarkMode(\n  startColor: string,\n  middleColor: string,\n  endColor: string,\n  darkBackgroundColor = \"#1F2937\",\n): { start: string; middle: string; end: string } {\n  // Adaptamos cada color del gradiente\n  const adaptedStart = adaptColorForDarkMode(startColor, darkBackgroundColor)\n  const adaptedMiddle = adaptColorForDarkMode(middleColor, darkBackgroundColor)\n  const adaptedEnd = adaptColorForDarkMode(endColor, darkBackgroundColor)\n\n  return {\n    start: adaptedStart,\n    middle: adaptedMiddle,\n    end: adaptedEnd,\n  }\n}\n"])</script><script>self.__next_f.push([1,"cf:T46a4,"])</script><script>self.__next_f.push([1,"import Papa from \"papaparse\"\nimport type { Entrevistado, Investigador } from \"@/types/supabase\"\n\n// Tipos para la validación\nexport interface CSVRow {\n  ID: string\n  Hablante: string\n  Timestamp: string\n  Rol: string\n  Texto_Original: string\n  Texto_Normalizado: string\n  Nivel_de_Confianza: string\n}\n\nexport interface ValidationResult {\n  isValid: boolean\n  blockingErrors: ValidationError[]\n  warnings: ValidationWarning[]\n  stats: ValidationStats\n  segmentsWithIssues: SegmentWithIssues[]\n}\n\nexport interface ValidationError {\n  type: string\n  message: string\n  details?: string\n}\n\nexport interface ValidationWarning {\n  type: string\n  message: string\n  details?: string\n}\n\nexport interface ValidationStats {\n  totalSegments: number\n  rolesDistribution: { [key: string]: number }\n  confidenceLevels: { [key: string]: number }\n  averageOriginalLength: number\n  averageNormalizedLength: number\n  missingTimestamps: number\n}\n\nexport interface SegmentWithIssues {\n  id: string\n  row: CSVRow\n  errors: string[]\n  warnings: string[]\n}\n\nexport interface ExpresionPermitida {\n  expresionOriginal: string\n  normalizacionesEsperadas: string[]\n  esPermitidaComoNormalizacion: boolean\n}\n\n// Función principal de validación\nexport async function validateCSV(\n  csvContent: string,\n  entrevistado?: Entrevistado,\n  investigador?: Investigador,\n  idioma = \"es-ES\",\n): Promise\u003cValidationResult\u003e {\n  // Obtener expresiones permitidas de la base de datos\n  let expresionesPermitidas: ExpresionPermitida[] = []\n\n  try {\n    const { supabaseClient } = await import(\"@/lib/supabase\")\n    // Primero obtenemos las expresiones permitidas\n    const { data: expresiones, error } = await supabaseClient\n      .from(\"expresiones_permitidas\")\n      .select(\"*\")\n      .eq(\"idioma\", idioma)\n\n    if (error) {\n      console.error(\"Error al obtener expresiones permitidas:\", error)\n    } else if (expresiones) {\n      // Para cada expresión, obtenemos sus normalizaciones esperadas\n      expresionesPermitidas = await Promise.all(\n        expresiones.map(async (expresion) =\u003e {\n          const { data: normalizaciones, error: normError } = await supabaseClient\n            .from(\"normalizaciones_esperadas\")\n            .select(\"texto\")\n            .eq(\"expresion_id\", expresion.id)\n\n          return {\n            expresionOriginal: expresion.expresion_original,\n            normalizacionesEsperadas: normalizaciones ? normalizaciones.map((n) =\u003e n.texto) : [],\n            esPermitidaComoNormalizacion: expresion.es_permitida_como_normalizacion,\n          }\n        }),\n      )\n    }\n  } catch (error) {\n    console.error(\"Error al consultar expresiones permitidas:\", error)\n    // Si hay error, usamos una lista predeterminada\n    expresionesPermitidas = [\n      {\n        expresionOriginal: \"sí\",\n        normalizacionesEsperadas: [\"Afirmación\", \"Respuesta afirmativa\", \"Confirma\"],\n        esPermitidaComoNormalizacion: false,\n      },\n      {\n        expresionOriginal: \"no\",\n        normalizacionesEsperadas: [\"Negación\", \"Respuesta negativa\", \"Rechaza\"],\n        esPermitidaComoNormalizacion: false,\n      },\n      {\n        expresionOriginal: \"ok\",\n        normalizacionesEsperadas: [\"Expresa conformidad\", \"Muestra acuerdo\", \"Acepta\"],\n        esPermitidaComoNormalizacion: false,\n      },\n      {\n        expresionOriginal: \"hmm\",\n        normalizacionesEsperadas: [\"Asentimiento breve\", \"Muestra duda\", \"Reflexiona\"],\n        esPermitidaComoNormalizacion: false,\n      },\n      {\n        expresionOriginal: \"Fin.\",\n        normalizacionesEsperadas: [\"Fin.\"],\n        esPermitidaComoNormalizacion: true,\n      },\n    ]\n  }\n\n  // Parsear el CSV\n  const { data, errors: parseErrors } = Papa.parse\u003cCSVRow\u003e(csvContent, {\n    header: true,\n    skipEmptyLines: true,\n  })\n\n  if (parseErrors.length \u003e 0) {\n    return {\n      isValid: false,\n      blockingErrors: [\n        {\n          type: \"parse_error\",\n          message: \"Error al parsear el archivo CSV\",\n          details: parseErrors.map((e) =\u003e e.message).join(\", \"),\n        },\n      ],\n      warnings: [],\n      stats: createEmptyStats(),\n      segmentsWithIssues: [],\n    }\n  }\n\n  // Inicializar resultado\n  const result: ValidationResult = {\n    isValid: true,\n    blockingErrors: [],\n    warnings: [],\n    stats: createEmptyStats(),\n    segmentsWithIssues: [],\n  }\n\n  // Validar estructura del CSV\n  validateStructure(data, result)\n  if (result.blockingErrors.length \u003e 0) {\n    result.isValid = false\n    return result\n  }\n\n  // Validar continuidad de IDs\n  validateIdContinuity(data, result)\n\n  // Validar niveles de confianza\n  validateConfidenceLevels(data, result)\n\n  // Validar marca de fin de archivo\n  validateEndMark(data, result)\n\n  // Validar texto normalizado\n  validateNormalizedText(data, result, expresionesPermitidas)\n\n  // Validar consistencia de hablantes (si se proporcionan entrevistado e investigador)\n  if (entrevistado \u0026\u0026 investigador) {\n    validateSpeakerConsistency(data, result, entrevistado, investigador)\n  }\n\n  // Calcular estadísticas\n  calculateStats(data, result)\n\n  // Determinar validez final\n  result.isValid = result.blockingErrors.length === 0\n\n  return result\n}\n\n// Funciones auxiliares de validación\n\nfunction validateStructure(data: CSVRow[], result: ValidationResult): void {\n  if (data.length === 0) {\n    result.blockingErrors.push({\n      type: \"empty_file\",\n      message: \"El archivo CSV está vacío\",\n    })\n    return\n  }\n\n  // Verificar que todas las filas tengan las columnas requeridas\n  const requiredColumns = [\n    \"ID\",\n    \"Hablante\",\n    \"Timestamp\",\n    \"Rol\",\n    \"Texto_Original\",\n    \"Texto_Normalizado\",\n    \"Nivel_de_Confianza\",\n  ]\n  const firstRow = data[0]\n\n  const missingColumns = requiredColumns.filter((col) =\u003e !(col in firstRow))\n  if (missingColumns.length \u003e 0) {\n    result.blockingErrors.push({\n      type: \"missing_columns\",\n      message: \"Faltan columnas requeridas en el CSV\",\n      details: `Columnas faltantes: ${missingColumns.join(\", \")}`,\n    })\n  }\n}\n\nfunction validateIdContinuity(data: CSVRow[], result: ValidationResult): void {\n  const ids = data.map((row) =\u003e Number.parseInt(row.ID, 10)).filter((id) =\u003e !isNaN(id))\n\n  if (ids.length === 0) {\n    result.blockingErrors.push({\n      type: \"invalid_ids\",\n      message: \"No se encontraron IDs válidos en el CSV\",\n    })\n    return\n  }\n\n  // Verificar que los IDs sean consecutivos\n  ids.sort((a, b) =\u003e a - b)\n  const min = ids[0]\n  const max = ids[ids.length - 1]\n\n  if (max - min + 1 !== ids.length) {\n    // Hay lagunas en los IDs\n    const expectedIds = Array.from({ length: max - min + 1 }, (_, i) =\u003e min + i)\n    const missingIds = expectedIds.filter((id) =\u003e !ids.includes(id))\n\n    result.blockingErrors.push({\n      type: \"id_gaps\",\n      message: \"Hay segmentos faltantes en la transcripción\",\n      details: `IDs faltantes: ${missingIds.join(\", \")}`,\n    })\n  }\n}\n\nfunction validateConfidenceLevels(data: CSVRow[], result: ValidationResult): void {\n  const lowConfidenceSegments: string[] = []\n  const mediumConfidenceSegments: string[] = []\n\n  data.forEach((row) =\u003e {\n    const confidenceLevel = Number.parseInt(row.Nivel_de_Confianza, 10)\n    if (isNaN(confidenceLevel)) {\n      result.blockingErrors.push({\n        type: \"invalid_confidence\",\n        message: `Nivel de confianza inválido en el segmento ${row.ID}`,\n        details: `Valor: ${row.Nivel_de_Confianza}`,\n      })\n      return\n    }\n\n    if (confidenceLevel \u003c= 2) {\n      lowConfidenceSegments.push(row.ID)\n    } else if (confidenceLevel === 3) {\n      mediumConfidenceSegments.push(row.ID)\n    }\n  })\n\n  if (lowConfidenceSegments.length \u003e 0) {\n    result.blockingErrors.push({\n      type: \"low_confidence\",\n      message: \"Se detectaron segmentos con baja confianza (≤2)\",\n      details: `Segmentos: ${lowConfidenceSegments.join(\", \")}`,\n    })\n  }\n\n  if (mediumConfidenceSegments.length \u003e 0) {\n    result.warnings.push({\n      type: \"medium_confidence\",\n      message: \"Algunos segmentos tienen nivel de confianza medio (3)\",\n      details: `Segmentos: ${mediumConfidenceSegments.join(\", \")}`,\n    })\n  }\n}\n\nfunction validateEndMark(data: CSVRow[], result: ValidationResult): void {\n  // Verificar si la última fila tiene rol \"S\" (Sistema)\n  if (data.length === 0) return\n\n  const lastRow = data[data.length - 1]\n  if (lastRow.Rol !== \"S\") {\n    result.blockingErrors.push({\n      type: \"missing_end_mark\",\n      message: \"No se detectó marca de fin de transcripción\",\n      details: 'El último segmento debe tener rol \"S\" (Sistema)',\n    })\n  }\n}\n\nfunction validateNormalizedText(\n  data: CSVRow[],\n  result: ValidationResult,\n  expresionesPermitidas: ExpresionPermitida[],\n): void {\n  data.forEach((row) =\u003e {\n    const segmentIssues: SegmentWithIssues = {\n      id: row.ID,\n      row,\n      errors: [],\n      warnings: [],\n    }\n\n    const textoOriginal = row.Texto_Original.trim()\n    const textoNormalizado = row.Texto_Normalizado.trim()\n\n    // Validar longitud mínima del texto normalizado\n    if (textoNormalizado.length \u003c 10) {\n      // Verificar si es una excepción permitida\n      const esExcepcionPermitida = expresionesPermitidas.some(\n        (exp) =\u003e\n          exp.esPermitidaComoNormalizacion \u0026\u0026 textoNormalizado.toLowerCase() === exp.expresionOriginal.toLowerCase(),\n      )\n\n      if (!esExcepcionPermitida \u0026\u0026 row.Rol !== \"S\") {\n        // Ignorar para marcas de sistema\n        segmentIssues.errors.push(`Texto normalizado demasiado corto (${textoNormalizado.length} caracteres)`)\n      }\n    }\n\n    // Validar si una expresión corta original ha sido adecuadamente normalizada\n    const expresionCorta = expresionesPermitidas.find(\n      (exp) =\u003e textoOriginal.toLowerCase() === exp.expresionOriginal.toLowerCase(),\n    )\n\n    if (expresionCorta) {\n      // Si el texto original es una expresión corta conocida\n      if (\n        textoOriginal.toLowerCase() === textoNormalizado.toLowerCase() \u0026\u0026\n        !expresionCorta.esPermitidaComoNormalizacion \u0026\u0026\n        row.Rol !== \"S\"\n      ) {\n        segmentIssues.errors.push(\n          `La expresión \"${textoOriginal}\" debería normalizarse. Sugerencias: ${expresionCorta.normalizacionesEsperadas.join(\", \")}`,\n        )\n      } else {\n        // Verificar si la normalización está entre las esperadas\n        const normalizacionEsperada = expresionCorta.normalizacionesEsperadas.some((norm) =\u003e\n          textoNormalizado.toLowerCase().includes(norm.toLowerCase()),\n        )\n\n        if (!normalizacionEsperada \u0026\u0026 !expresionCorta.esPermitidaComoNormalizacion \u0026\u0026 row.Rol !== \"S\") {\n          segmentIssues.warnings.push(\n            `La normalización de \"${textoOriginal}\" podría no ser óptima. Sugerencias: ${expresionCorta.normalizacionesEsperadas.join(\", \")}`,\n          )\n        }\n      }\n    }\n\n    // Validaciones básicas de formato para texto normalizado\n    // Eliminamos esta validación por ser demasiado estricta\n    // Solo verificamos si el texto es largo (más de 50 caracteres) y no tiene ningún signo de puntuación\n    if (\n      textoNormalizado.length \u003e 50 \u0026\u0026\n      !textoNormalizado.includes(\".\") \u0026\u0026\n      !textoNormalizado.includes(\"!\") \u0026\u0026\n      !textoNormalizado.includes(\"?\") \u0026\u0026\n      row.Rol !== \"S\"\n    ) {\n      segmentIssues.warnings.push(\"El texto normalizado es largo y no contiene signos de puntuación\")\n    }\n\n    // Validar timestamps vacíos (ignorar para rol \"S\")\n    if ((row.Timestamp === \"--\" || row.Timestamp.trim() === \"\") \u0026\u0026 row.Rol !== \"S\") {\n      segmentIssues.warnings.push(\"El segmento no tiene marca de tiempo\")\n    }\n\n    // Añadir el segmento a la lista si tiene problemas\n    if (segmentIssues.errors.length \u003e 0 || segmentIssues.warnings.length \u003e 0) {\n      result.segmentsWithIssues.push(segmentIssues)\n    }\n  })\n}\n\nfunction validateSpeakerConsistency(\n  data: CSVRow[],\n  result: ValidationResult,\n  entrevistado: Entrevistado,\n  investigador: Investigador,\n): void {\n  // Crear una advertencia general si no hay coincidencia de hablantes\n  const inconsistentEntrevistadoSegments: string[] = []\n  const inconsistentInvestigadorSegments: string[] = []\n\n  // Preparar nombres para comparación (en minúsculas)\n  const entrevistadoNombre = `${entrevistado.nombre} ${entrevistado.apellido}`.toLowerCase()\n  const entrevistadoNombreSolo = entrevistado.nombre.toLowerCase()\n  const entrevistadoApellidoSolo = entrevistado.apellido.toLowerCase()\n\n  const investigadorNombre = `${investigador.nombre} ${investigador.apellido}`.toLowerCase()\n  const investigadorNombreSolo = investigador.nombre.toLowerCase()\n  const investigadorApellidoSolo = investigador.apellido.toLowerCase()\n\n  data.forEach((row) =\u003e {\n    const hablante = row.Hablante.toLowerCase()\n    const palabrasHablante = hablante.split(/\\s+/) // Dividir el hablante en palabras\n\n    if (row.Rol === \"E\") {\n      // Verificar si el hablante coincide con el entrevistado\n      // Consideramos coincidencia si:\n      // 1. El hablante es exactamente igual al nombre completo del entrevistado\n      // 2. El hablante contiene el nombre Y apellido completos (en cualquier orden)\n      // 3. El hablante es exactamente igual al nombre o apellido del entrevistado\n      const coincideNombreCompleto = hablante === entrevistadoNombre\n      const contieneNombreYApellido =\n        hablante.includes(entrevistadoNombreSolo) \u0026\u0026 hablante.includes(entrevistadoApellidoSolo)\n      const esExactamenteNombreOApellido =\n        palabrasHablante.includes(entrevistadoNombreSolo) || palabrasHablante.includes(entrevistadoApellidoSolo)\n\n      const coincideEntrevistado = coincideNombreCompleto || contieneNombreYApellido || esExactamenteNombreOApellido\n\n      if (!coincideEntrevistado) {\n        inconsistentEntrevistadoSegments.push(row.ID)\n\n        // Añadir advertencia al segmento específico\n        const segmentIndex = result.segmentsWithIssues.findIndex((s) =\u003e s.id === row.ID)\n        if (segmentIndex \u003e= 0) {\n          result.segmentsWithIssues[segmentIndex].warnings.push(\n            `El hablante \"${row.Hablante}\" no coincide con el entrevistado seleccionado (${entrevistado.nombre} ${entrevistado.apellido})`,\n          )\n        } else {\n          result.segmentsWithIssues.push({\n            id: row.ID,\n            row,\n            errors: [],\n            warnings: [\n              `El hablante \"${row.Hablante}\" no coincide con el entrevistado seleccionado (${entrevistado.nombre} ${entrevistado.apellido})`,\n            ],\n          })\n        }\n      }\n    } else if (row.Rol === \"I\") {\n      // Verificar si el hablante coincide con el investigador\n      // Usamos la misma lógica que para el entrevistado\n      const coincideNombreCompleto = hablante === investigadorNombre\n      const contieneNombreYApellido =\n        hablante.includes(investigadorNombreSolo) \u0026\u0026 hablante.includes(investigadorApellidoSolo)\n      const esExactamenteNombreOApellido =\n        palabrasHablante.includes(investigadorNombreSolo) || palabrasHablante.includes(investigadorApellidoSolo)\n\n      const coincideInvestigador = coincideNombreCompleto || contieneNombreYApellido || esExactamenteNombreOApellido\n\n      if (!coincideInvestigador) {\n        inconsistentInvestigadorSegments.push(row.ID)\n\n        // Añadir advertencia al segmento específico\n        const segmentIndex = result.segmentsWithIssues.findIndex((s) =\u003e s.id === row.ID)\n        if (segmentIndex \u003e= 0) {\n          result.segmentsWithIssues[segmentIndex].warnings.push(\n            `El hablante \"${row.Hablante}\" no coincide con el investigador seleccionado (${investigador.nombre} ${investigador.apellido})`,\n          )\n        } else {\n          result.segmentsWithIssues.push({\n            id: row.ID,\n            row,\n            errors: [],\n            warnings: [\n              `El hablante \"${row.Hablante}\" no coincide con el investigador seleccionado (${investigador.nombre} ${investigador.apellido})`,\n            ],\n          })\n        }\n      }\n    }\n  })\n\n  // Añadir advertencias generales si hay inconsistencias\n  if (inconsistentEntrevistadoSegments.length \u003e 0) {\n    result.warnings.push({\n      type: \"inconsistent_entrevistado\",\n      message: `Hay ${inconsistentEntrevistadoSegments.length} segmentos donde el hablante no coincide con el entrevistado seleccionado`,\n      details: `Segmentos: ${inconsistentEntrevistadoSegments.join(\", \")}`,\n    })\n  }\n\n  if (inconsistentInvestigadorSegments.length \u003e 0) {\n    result.warnings.push({\n      type: \"inconsistent_investigador\",\n      message: `Hay ${inconsistentInvestigadorSegments.length} segmentos donde el hablante no coincide con el investigador seleccionado`,\n      details: `Segmentos: ${inconsistentInvestigadorSegments.join(\", \")}`,\n    })\n  }\n}\n\nfunction calculateStats(data: CSVRow[], result: ValidationResult): void {\n  const stats: ValidationStats = {\n    totalSegments: data.length,\n    rolesDistribution: {},\n    confidenceLevels: {},\n    averageOriginalLength: 0,\n    averageNormalizedLength: 0,\n    missingTimestamps: 0,\n  }\n\n  let totalOriginalLength = 0\n  let totalNormalizedLength = 0\n\n  data.forEach((row) =\u003e {\n    // Contar distribución de roles\n    stats.rolesDistribution[row.Rol] = (stats.rolesDistribution[row.Rol] || 0) + 1\n\n    // Contar niveles de confianza\n    const confidenceLevel = row.Nivel_de_Confianza\n    stats.confidenceLevels[confidenceLevel] = (stats.confidenceLevels[confidenceLevel] || 0) + 1\n\n    // Sumar longitudes de texto\n    totalOriginalLength += row.Texto_Original.length\n    totalNormalizedLength += row.Texto_Normalizado.length\n\n    // Contar timestamps vacíos\n    if (row.Timestamp === \"--\" || row.Timestamp.trim() === \"\") {\n      stats.missingTimestamps++\n    }\n  })\n\n  // Calcular promedios\n  stats.averageOriginalLength = data.length \u003e 0 ? Math.round(totalOriginalLength / data.length) : 0\n  stats.averageNormalizedLength = data.length \u003e 0 ? Math.round(totalNormalizedLength / data.length) : 0\n\n  result.stats = stats\n}\n\nfunction createEmptyStats(): ValidationStats {\n  return {\n    totalSegments: 0,\n    rolesDistribution: {},\n    confidenceLevels: {},\n    averageOriginalLength: 0,\n    averageNormalizedLength: 0,\n    missingTimestamps: 0,\n  }\n}\n"])</script><script>self.__next_f.push([1,"d0:Tbe4,"])</script><script>self.__next_f.push([1,"// middleware.ts - OPTIMIZADO\nimport { createMiddlewareClient } from \"@/lib/supabase-middleware-client\"\nimport { NextResponse } from \"next/server\"\n\nimport type { NextRequest } from \"next/server\"\n\nexport async function middleware(req: NextRequest) {\n  const requestId = Math.floor(Math.random() * 10000)\n  console.log(`[MW:${requestId}] Ejecutando para: ${req.nextUrl.pathname}`)\n\n  const publicRoutes = [\"/login\", \"/signup\", \"/reset-password\", \"/contact\"]\n  if (publicRoutes.some((route) =\u003e req.nextUrl.pathname === route || req.nextUrl.pathname.startsWith(`${route}/`))) {\n    console.log(`[MW:${requestId}] Ruta pública - acceso permitido`)\n    return NextResponse.next()\n  }\n\n  const skipPatterns = [\n    \"/_next\",\n    \"/api/\",\n    \"favicon\",\n    \".json\",\n    \".ico\",\n    \".png\",\n    \".jpg\",\n    \".svg\",\n    \".js\",\n    \".css\",\n    \".woff\",\n    \".woff2\",\n  ]\n  if (skipPatterns.some((pattern) =\u003e req.nextUrl.pathname.includes(pattern))) {\n    return NextResponse.next()\n  }\n\n  const res = NextResponse.next()\n\n  try {\n    const supabase = createMiddlewareClient(req, res) // createMiddlewareClient es de @supabase/ssr\n\n    // CAMBIO SUGERIDO AQUÍ: Usar getUser() en lugar de getSession()\n    const {\n      data: { user },\n      error: userError,\n    } = await supabase.auth.getUser() // getUser() devuelve { data: { user }, error }\n\n    if (userError || !user) {\n      // Si hay error o no hay usuario (sesión inválida/expirada)\n      console.log(\n        `[MW:${requestId}] Sin sesión válida (error: ${userError?.message}) o usuario no encontrado - redirigiendo a /login`,\n      )\n      const loginUrl = new URL(\"/login\", req.url)\n      loginUrl.searchParams.set(\"redirectTo\", req.nextUrl.pathname)\n      return NextResponse.redirect(loginUrl)\n    }\n\n    // Si hay usuario, la sesión es válida y ha sido autenticada contra el servidor de Supabase\n    console.log(`[MW:${requestId}] Sesión válida y autenticada para usuario: ${user.id.substring(0, 8)}...`)\n    return res // Continuar con la respuesta original (que ya tiene la cookie de sesión actualizada si fue necesario)\n  } catch (e) {\n    // Este catch es para errores inesperados en el proceso del middleware mismo\n    console.error(`[MW:${requestId}] Error inesperado en middleware:`, e)\n    // En caso de error, permitir el acceso podría ser una opción,\n    // o podrías redirigir a una página de error o login como fallback seguro.\n    // Por ahora, mantendremos NextResponse.next() para no bloquear si algo sale muy mal.\n    return NextResponse.next()\n  }\n}\n\n// Configuración del middleware: asegura que se ejecute en las rutas necesarias\n// y excluye las rutas estáticas o de API internas de Next.js.\nexport const config = {\n  matcher: [\n    /*\n     * Match all request paths except for the ones starting with:\n     * - _next/static (static files)\n     * - _next/image (image optimization files)\n     * - favicon.ico (favicon file)\n     * Feel free to modify this pattern to include more paths.\n     */\n    \"/((?!_next/static|_next/image|favicon.ico).*)\",\n  ],\n}\n"])</script><script>self.__next_f.push([1,"d1:T5cd,\"use client\"\n\nimport type React from \"react\"\nimport { createContext, useContext } from \"react\"\nimport { useAuth } from \"@/app/auth-provider\"\n\n// Tipo para los permisos del proyecto\nexport interface ProjectPermissions {\n  can_manage_master_data?: boolean\n  can_create_batches?: boolean\n  can_upload_files?: boolean\n  can_bulk_edit_master_data?: boolean\n  role_name?: string\n  // Otros permisos relevantes\n}\n\ninterface ProyectoContextType {\n  proyectoActual: any | null // Usamos any por ahora, idealmente debería ser un tipo más específico\n  permisos: ProjectPermissions | null\n  cargandoProyecto: boolean\n}\n\nconst ProyectoContext = createContext\u003cProyectoContextType | undefined\u003e(undefined)\n\nexport function ProyectoProvider({ children }: { children: React.ReactNode }) {\n  // Utilizamos el contexto de autenticación para obtener información del proyecto actual\n  const { proyectoActual, cargandoProyectos } = useAuth()\n\n  // Extraer los permisos del proyecto actual para fácil acceso\n  const permisos: ProjectPermissions | null = proyectoActual?.permissions || null\n\n  const value = {\n    proyectoActual,\n    permisos,\n    cargandoProyecto: cargandoProyectos,\n  }\n\n  return \u003cProyectoContext.Provider value={value}\u003e{children}\u003c/ProyectoContext.Provider\u003e\n}\n\nexport function useProyectoActual() {\n  const context = useContext(ProyectoContext)\n  if (context === undefined) {\n    throw new Error(\"useProyectoActual debe ser usado dentro de un ProyectoProvider\")\n  }\n  return context\n}\nd2:T5acb,"])</script><script>self.__next_f.push([1,"# Entre algoritmos y humanidad: por qué la IA no es una amenaza para las humanidades, sino una oportunidad ética que no podemos postergar\n\n**I. Introducción: la IA como palabra maldita en los claustros**\n\nEn ciertos espacios académicos, sobre todo aquellos vinculados a las humanidades, mencionar la palabra *inteligencia artificial* provoca una reacción inmediata, casi visceral: miradas que se desvían, cejas que se arquean, una mueca breve de desconfianza. La IA aparece allí como una palabra maldita, un tótem de todo lo que amenaza: la deshumanización, la automatización sin alma, el vaciamiento de la reflexión crítica, la trampa del “todo ya hecho”. Y sin embargo, esta reacción defensiva no es tanto racional como simbólica. Porque lo que se teme no es tanto la IA en sí, sino lo que se cree que representa.\n\nEste gesto —de rechazo elegante o burla intelectual— se repite con una familiaridad inquietante. Hay algo en la IA que incomoda profundamente a quienes han hecho de la palabra, el pensamiento lento y la subjetividad compleja sus herramientas fundamentales. La reacción es entendible: durante décadas, las humanidades han sido desplazadas del centro de la conversación cultural por una lógica tecnocientífica que premia la cuantificación, la automatización y la eficiencia sobre lo simbólico, lo ético y lo ambivalente. Así, la aparición de modelos generativos, capaces de redactar ensayos, sintetizar ideas o imitar estilos, se vive como una nueva amenaza existencial: *¿y si ahora también escriben como nosotros?*\n\nPero aquí es donde comienza el malentendido. Porque la IA, en su estado actual, no “piensa” como los humanos. No “comprende”, en el sentido profundo que se le da a esa palabra en filosofía o semiótica. Lo que hace —y hace con una velocidad y alcance descomunal— es **recorrer patrones**, proponer asociaciones plausibles, generar texto que suena coherente. Lo hace sin intención, sin biografía, sin ideología. Y sin embargo, **lo que genera puede ser profundamente significativo**, especialmente cuando un humano lo lee, lo interpreta y lo resignifica.\n\nEl problema entonces no es la IA. El problema es **no saber cómo entrar en relación con ella sin quedar reducidos ni inflados**. No saber cómo pensarla **sin miedo, sin fe ciega, sin desprecio automático**. Y sobre todo, no comprender que **si el campo humanista no se involucra en su diseño, uso y crítica**, entonces la IA será lo que otros —con otros valores, otras agendas, otras prioridades— decidan que sea.\n\nLo urgente, entonces, no es cerrar la puerta. Lo urgente es **cambiar el tono de la conversación**. No para rendirse, sino para habitar este presente con la altura que se espera de quienes reflexionan sobre el mundo. La IA no es un enemigo. Tampoco es una solución mágica. Es, como toda herramienta histórica, **un espejo y un cincel**: nos refleja y nos moldea, pero solo si decidimos usarlo.\n\nY el primer paso, antes de discutir su ética, sus límites o su aplicación, es simplemente este: **nombrarla sin miedo**, traerla a la mesa sin cinismo, y atreverse a pensar **cómo** queremos que exista en nuestras prácticas, y **con quién** la queremos construir.\n\n**II. La paradoja del intelectual que teme el lenguaje de su época**\n\nHay una imagen que, si no fuese tan triste, resultaría cómica: la de un pensador brillante, formado en la crítica, en la historia de las ideas, en la decodificación de símbolos y discursos... que, al escuchar la palabra *algoritmo*, desvía la conversación hacia cualquier otro lado. La paradoja es profunda: quienes han dedicado su vida a estudiar las grandes transformaciones del pensamiento humano, temen o ignoran precisamente la transformación más radical de nuestro tiempo. Y lo hacen, muchas veces, **en nombre de la profundidad**.\n\nEste fenómeno no es nuevo. La historia del pensamiento está llena de momentos en los que las élites intelectuales resistieron tecnologías que luego transformaron el mundo. Ocurrió con la imprenta, cuando muchos humanistas creían que mecanizar la palabra destruiría su aura sagrada. Ocurrió con el cine, que durante décadas fue visto como un arte menor, “popular”, incapaz de sostener discurso crítico. Ocurrió con la televisión, con los videojuegos, con internet. Y ahora, ocurre con la IA.\n\nLa constante es siempre la misma: **el prejuicio de que lo nuevo es superficial por el solo hecho de ser nuevo**. Como si la profundidad fuese un atributo temporal, reservado solo a lo que ya tiene historia, tradición, libros publicados. Pero la verdadera profundidad no está en el objeto que se estudia, sino en **la mirada que lo aborda**. Un meme puede ser más filosóficamente fértil que un tratado, si se lo interroga con rigor. Una conversación con una IA puede ser más reveladora que una disertación, si se sabe leer entre líneas.\n\nEntonces, ¿por qué el rechazo? Porque esta vez, lo nuevo no solo desafía las formas, sino también **las jerarquías**. La IA no llega a las universidades por el canal tradicional del saber: no viene desde una disciplina, no tiene teoría establecida, ni una escuela, ni bibliografía canónica. Viene desde la ingeniería, desde la industria, desde los márgenes del discurso académico. Y eso, para muchos, es inadmisible. La IA no habla el idioma tradicional del humanismo. Y por eso se la sospecha.\n\nPero aquí está el núcleo de la paradoja: **si el intelectual se niega a aprender el lenguaje de su tiempo, renuncia a su capacidad de intervención real**. Puede seguir escribiendo libros brillantes, sí. Puede seguir denunciando la deshumanización del mundo, la aceleración sin sentido, la pérdida del cuerpo, del aura, del vínculo. Pero lo hará **sin capacidad de incidencia**, como quien grita desde la playa mientras los barcos parten.\n\nAprender el lenguaje de los sistemas, de los modelos, de los datasets, no es traicionar las humanidades. Es **actualizarlas**. Es hacer que puedan seguir siendo lo que fueron: espacios de resistencia, de complejidad, de sentido. Y eso implica entrar a la IA **no como fanáticos ni enemigos**, sino como interlocutores.\n\nPorque el verdadero humanista no es quien repite los gestos del pasado, sino quien se atreve a pensar lo nuevo **sin renunciar a su raíz**. Y hoy, lo nuevo tiene nombre, y lo pronuncia una generación que necesita de quienes saben mirar más allá del uso y del miedo.\n\n**III. La ética no es enemiga de la técnica: es su brújula**\n\nUna de las falsas dicotomías más persistentes en el discurso contemporáneo es la que enfrenta técnica y ética como si fueran planos inconciliables. La técnica, se dice, sería la esfera del hacer, del cálculo, de la eficiencia. La ética, en cambio, la esfera del deber, de los fines, de lo humano. Y por tanto, la tecnología —máxima expresión del hacer sin pausa— parecería estar condenada a escapar de toda brújula moral. Esta idea, aún sostenida en muchos claustros, no resiste ni el peso de la historia ni el pulso del presente.\n\nPorque si algo muestra el devenir técnico del mundo, es que **toda tecnología sin ética se vuelve acumulación sin sentido**, mientras que **toda ética sin técnica se convierte en discurso impotente, que no transforma ni toca la vida real**.\n\nLa IA, en particular, deja esta tensión en carne viva. Nunca antes habíamos creado una herramienta que pudiera replicar tan bien los procesos del lenguaje humano. Nunca antes una tecnología nos había devuelto palabras, ideas, estilos, conversaciones. Y eso obliga a replantear lo ético no como un límite externo (“hasta dónde puede llegar esta tecnología”), sino como **una dimensión interna**: *¿para qué la usamos?, ¿qué valores expresa?, ¿a quién sirve?, ¿a quién deja fuera?*\n\nEs tentador pensar la ética como el freno. Pero lo más valioso que puede hacer la ética no es detener, sino **orientar**. No decir “no se puede”, sino preguntar “¿de qué manera sí?”. Porque el problema no es que existan herramientas poderosas, sino que **no haya quienes sepan pensarlas desde lo humano**. Y eso es lo que sucede cuando las humanidades ceden el terreno.\n\nNo hay ética sin logos. La ética que no se sostiene en razonamiento, se convierte en humo. Reglas sin justificación, indignación sin contexto. Y no hay técnica sin ethos: lo técnico que no se interroga a sí mismo, reproduce modelos de poder, de exclusión, de reproducción ciega. La ética y la técnica no se oponen: se necesitan. **Una es lenguaje. La otra, dirección.**\n\nPor eso es un error, en nombre de la ética, renunciar a la técnica. El desarrollo ético no consiste en marginarse de las herramientas, sino en **entrar en ellas con espíritu crítico y voluntad de transformación**. La pregunta ya no es “¿deberíamos usar IA?”, sino “¿qué IA vale la pena usar, y para qué?”. Lo otro es cederle la herramienta a quienes solo buscan extraer valor, sin importar a quién se lleva por delante.\n\nAsí como no dejamos la educación en manos de la automatización, ni la salud solo en manos de algoritmos, tampoco podemos dejar el desarrollo cultural, creativo, intelectual en manos de la lógica productiva. Y eso solo es posible si **nos apropiamos del instrumento sin perder la mirada que lo interroga**.\n\nEn ese sentido, el lugar ético del académico humanista hoy **no está fuera de la tecnología**, sino **en el centro mismo de su diseño, aplicación y sentido**. Porque sin ética, la IA será solo otra extensión del capital. Pero sin técnica, la ética será otra voz marginal, que nadie escucha cuando más la necesitamos.\n\n\n**IV. El mito del reemplazo y la fantasía de la pureza intelectual**\n\nUna de las narrativas más arraigadas y al mismo tiempo más empobrecedoras en torno a la inteligencia artificial es la del *reemplazo*. Se repite en artículos, conferencias, pasillos académicos: “la IA viene a suplantar al humano”, “pronto los algoritmos escribirán mejor que nosotros”, “ya no hará falta pensar, todo lo hará la máquina”. Bajo esa lógica, cada avance técnico se vive como una pérdida: del rol, del sentido, de la dignidad. Pero esta narrativa es tan simplista como falsa. Y más aún: es peligrosa, porque paraliza.\n\nLo cierto es que la IA no reemplaza lo humano: **reconfigura los bordes de lo que lo humano puede hacer**. Automatiza ciertas tareas, sí. Propone atajos. Mejora la velocidad en muchos procesos. Pero en ningún caso —ni siquiera en los más sofisticados— reemplaza la **singularidad situada, encarnada, afectiva** del pensamiento humano. Un ensayo generado por IA puede parecer coherente, pero carece de biografía, de voz, de tensión vital. Una poesía puede rimar y tener imágenes, pero no tiene memoria ni herida. La IA puede componer, pero **no vive lo que compone**.\n\nY aquí es donde aparece otro mito: el de la *pureza intelectual*. Como si lo verdaderamente humano fuese lo que no se contamina con lo artificial. Como si escribir con IA fuera hacer trampa. Como si usar un modelo generativo invalidara el pensamiento, la creatividad, el rigor. Esta fantasía de pureza, además de ingenua, es ciega al hecho de que **toda producción humana ha estado siempre mediada por herramientas**: desde la pluma hasta el procesador de texto, desde la biblioteca hasta el buscador.\n\nEl verdadero problema no es usar o no usar IA. El verdadero problema es **creer que usarla implica renunciar a lo que nos hace humanos**. Nada más lejos. El uso consciente, crítico, ético y creativo de estas herramientas puede —y debe— **ampliar nuestro rango de pensamiento**, nuestra sensibilidad, nuestra capacidad expresiva. No se trata de delegar el sentido, sino de **dialogar con lo generado, reescribirlo, intervenirlo, traducirlo a nuestra voz**.\n\nRechazar la IA por miedo al reemplazo es no entender que **la diferencia sigue siendo nuestro mayor valor**. La diferencia en estilo, en visión, en sensibilidad. Pero también en el modo de usar la herramienta. Porque no todos usan la IA igual. No todos preguntan lo mismo. No todos saben leer entre líneas, corregir, combinar. Ahí aparece la agencia humana: no en evitar la máquina, sino en **saber hacerla hablar de otra manera**.\n\nY si algo podemos aportar desde las humanidades, es justamente eso: el arte de la diferencia, la sospecha frente a lo obvio, la capacidad de crear desvíos en lo programado. No se trata de imitar lo humano con IA, ni de humanizarnos por imitación tecnológica. Se trata de asumir que **la potencia de lo humano no está en lo que la máquina no puede hacer, sino en lo que la máquina no puede significar**.\n\nAceptar esa diferencia no es resignación, es oportunidad. Es entender que el verdadero diálogo con la IA no ocurre en la obediencia ni en el rechazo, sino en **la sinergia crítica, consciente, situada**. Desde ahí podemos crear, pensar, y sobre todo: **seguir siendo humanos en un mundo que cambia su médula simbólica a cada segundo**.\n\n**V. Co-creación: una práctica, no un eslogan**\n\nEn los últimos años, el término *co-creación* ha empezado a circular en discursos sobre inteligencia artificial como si fuese un bálsamo, una palabra-puente que calma las tensiones entre lo humano y lo tecnológico. Pero en muchos casos, esta noción queda atrapada en el terreno de lo retórico. Se habla de co-creación como si se tratara de un gesto simbólico, una forma de suavizar el impacto de la automatización o de disfrazar el reemplazo con una pátina colaborativa. Sin embargo, **la co-creación real no ocurre en los slogans**. Ocurre en la práctica concreta, en el barro de los proyectos, en el hacer cotidiano con herramientas nuevas que aún no tienen tradición, pero ya tienen consecuencias.\n\nHablar desde la experiencia cambia todo. Porque cuando uno desarrolla herramientas de IA para el ámbito humanista, no desde la teoría, sino desde la construcción viva, se hace evidente que **la IA no reemplaza: expande, traduce, reorganiza y desafía**. En ese hacer se descubre que el verdadero valor está en lo que emerge entre los dos polos —humano y artificial— cuando se los deja dialogar sin miedo ni reverencia.\n\nLa co-creación es, entonces, un acto de presencia: **estar frente a la IA con disposición a dejarse sorprender, pero también con voluntad de intervenir**. No todo lo que la IA produce tiene valor, pero muchas veces, en su torpeza aparente, se abren caminos insospechados. Una frase inesperada, una asociación absurda, una estructura nueva: esas “equivocaciones” son fértiles si el humano sabe leerlas como tal. Es en esa interacción donde aparece la inteligencia extendida: no en la perfección del output, sino en la capacidad humana de **ver sentido donde la máquina solo calcula probabilidad**.\n\nDesde este enfoque, herramientas como Gemini, GPT o Claude dejan de ser motores de texto para convertirse en **espacios de ensayo cognitivo**. Se puede pensar con ellos. Reescribir con ellos. E incluso descubrir ideas que uno no había formulado antes, pero que estaban latentes. La co-creación no es repartir el mérito de una obra entre humano y máquina, sino asumir que **el proceso mismo de creación ha cambiado**: ahora hay más voces, más capas, más alteridad.\n\nEn el contexto académico humanista, esto tiene un impacto decisivo. Porque permite **expandir los modos de producción intelectual**: analizar más textos en menos tiempo, contrastar estilos, mapear ideas, generar esquemas de pensamiento, dinamizar la escritura. Lejos de empobrecer la labor, la IA bien usada **la complejiza, la exige, la acelera en algunas partes y la ralentiza en otras**. Permite experimentar, probar hipótesis, jugar con formas sin perder profundidad.\n\nPero esto solo ocurre si se entra en la co-creación desde la conciencia. Usar IA sin pensar es replicar patrones. Pero usarla críticamente es **introducir sesgo positivo, intención, dirección**. Y ahí es donde el humanista vuelve a ocupar su lugar no como observador marginal, sino como **arquitecto de nuevas formas de sentido**.\n\nCo-crear no es abdicar. Es asumir que el mundo cambió, y que el pensamiento humano se enriquece cuando **dialoga con lo otro**, incluso si ese otro no siente, no comprende, no vive. Porque muchas veces, lo que nos ayuda a pensar no necesita ser consciente. Solo necesita estar bien situado, bien usado, bien intervenido.\n\nY eso —más que cualquier argumento de principio— es lo que transforma el uso de la IA en una práctica ética: **la responsabilidad en el hacer, la apertura en la escucha, y la capacidad de dar forma a lo informe para que algo nuevo emerja**.\n\n\n\n**VI. El costo ético de no participar**\n\nEn los debates académicos sobre inteligencia artificial, mucho se habla de los peligros de su uso: sesgos algorítmicos, desinformación, sustitución de trabajos, deshumanización de procesos educativos. Estas preocupaciones son legítimas y deben estar sobre la mesa. Pero hay un riesgo del que se habla mucho menos, y que sin embargo puede ser más grave a largo plazo: **el costo ético de no participar**.\n\nPorque cuando las humanidades renuncian a involucrarse activamente en el desarrollo, el uso y la reflexión crítica sobre las IA, no están tomando una posición “neutral” ni “prudente”. Están, de hecho, **cediendo el terreno simbólico y cultural** a lógicas que rara vez comparten sus valores. Lógicas empresariales, extractivas, tecnocráticas. Lógicas que optimizan rendimiento, pero no sentido. Que buscan escala, pero no cuidado. Que automatizan decisiones que deberían estar mediadas por la ética, la historia, la diferencia.\n\nCada vez que un comité académico rechaza incorporar IA por temor a banalizar la enseñanza o el pensamiento, **otro sistema la incorpora sin ese cuidado**, en plataformas de consumo masivo, algoritmos de vigilancia o motores de productividad que sí modelan cultura. Cada ausencia deja un vacío. Y ese vacío se llena. No con mejores ideas, sino con las más rápidas. Con las más rentables. Con las menos incómodas.\n\nNo participar en la conversación sobre IA **no nos protege del problema**. Solo **nos excluye de su resolución**.\n\nY aquí el dilema se vuelve nítido: si las humanidades no dialogan con la inteligencia artificial, si no están presentes en su diseño, en sus usos, en sus límites, **¿con qué autoridad reclamarán luego las consecuencias?** ¿Con qué cara criticarán la forma en que se generen saberes, se difunda información o se eduquen generaciones enteras a través de modelos algorítmicos que jamás ayudaron a formar?\n\nNo alcanza con denunciar los riesgos desde fuera. La verdadera ética hoy exige **una ética de la implicación**. No del uso ciego, pero sí del compromiso activo. Porque la ética no es solo un marco de evaluación a posteriori. Es también **una forma de presencia**: estar ahí donde se toman decisiones que afectan lo común, aunque sea incómodo, aunque sea difícil aprender el nuevo lenguaje, aunque implique renunciar a cierta zona de confort intelectual.\n\nDejar la IA en manos de ingenieros sin filósofos, de empresas sin educadores, de tecnólogos sin artistas, no es una posición ética. Es una **irresponsabilidad camuflada de prudencia**.\n\nY es especialmente contradictorio que esto ocurra en espacios que se han definido históricamente como defensores de lo humano, lo crítico, lo complejo. Porque si los humanistas no están donde se juega el sentido del futuro, ¿quién ocupará ese lugar? ¿Quién hablará por la complejidad cuando el algoritmo la aplaste en nombre de la eficiencia?\n\nEl gesto verdaderamente ético, hoy, es comprometerse con la herramienta antes de que sea irrecuperable. Es poner el cuerpo, la palabra, la duda, **justo donde otros solo ven código y oportunidad de negocio**.\n\nLa ética, entonces, no se juega solo en lo que decimos de la IA. Se juega, sobre todo, **en nuestra voluntad de habitarla, tensionarla, transformarla desde dentro**, antes de que sea demasiado tarde.\n\n\n**VII. Hacia un nuevo pacto académico**\n\nTodo lo anterior no conduce a una postura entusiasta, ni a una rendición, ni a una celebración ingenua del avance tecnológico. Conduce, más bien, a una **llamada al coraje**: el coraje de pensar más allá del binarismo, de habitar las paradojas sin temor, de ejercer una crítica que no sea cómoda ni autoindulgente, sino eficaz y situada. Lo que proponemos, desde esta mirada, no es adoptar la inteligencia artificial como fin, ni como moda, ni como destino inevitable. Lo que proponemos es **crear un nuevo pacto académico**, donde las humanidades recuperen su lugar no como guardianas del pasado, sino como **artífices del presente**.\n\nEse pacto no se basa en la obediencia a lo nuevo, sino en la **coherencia con lo que siempre fue el espíritu humanista**: interrogar, imaginar, traducir el mundo, abrir espacios de sentido. Pero para hacerlo hoy, hay que estar dispuestos a aprender lenguajes que no nacieron en las aulas, sino en los centros de datos. Hay que estar dispuestos a convivir con herramientas que no tienen alma, pero que modifican profundamente el modo en que escribimos, pensamos, creamos y enseñamos.\n\nUn nuevo pacto implica reconocer que la IA ya está aquí —en el aula, en el archivo, en el texto, en la investigación— y que su impacto será tan profundo como el de la imprenta o la alfabetización digital. Pero a diferencia de otras revoluciones, **ésta aún está abierta a ser moldeada**. No está cerrada. No está completa. Y ese margen de indeterminación es nuestra oportunidad.\n\n¿Qué pasaría si en vez de replegarnos, decidiéramos usar estos modelos con sensibilidad humanista? ¿Qué pasaría si formáramos a nuestros estudiantes no solo para consumir IA, sino para leerla críticamente, para intervenirla, para imaginar sus usos desde la filosofía, el arte, la historia, la pedagogía, la literatura? ¿Qué pasaría si dejáramos de pensar la IA como un campo ajeno, y comenzáramos a diseñar desde las humanidades herramientas, criterios, marcos y metodologías propias?\n\nLa invitación, entonces, no es a celebrar lo técnico. Es a **cohabitar lo técnico desde lo ético, lo poético, lo simbólico y lo político**. Es a no delegar nuestra voz. A no renunciar a la posibilidad de incidir en cómo esta tecnología será usada, enseñada, comprendida.\n\nNo estamos ante el fin del pensamiento humanista. Estamos ante **una bifurcación histórica**, en la que podemos elegir si queremos ser espectadores de una nueva forma de producir sentido, o coautores de ella.\n\nLa IA no va a esperar a que los comités éticos resuelvan su postura. No va a pedir permiso a los departamentos académicos. No va a detenerse. Pero **todavía podemos decidir con qué rostro, con qué valores, con qué lenguaje se desarrollará en nuestras instituciones**.\n\nEste texto no pide adhesión ciega, ni urgencia irreflexiva. Pide algo más difícil: **responsabilidad activa**. Una ética del presente. Un deseo de hacer puente, no muro. Y una convicción: **que lo humano no se defiende negando lo nuevo, sino creando desde allí algo que todavía no existe**.\n"])</script><script>self.__next_f.push([1,"d3:T97c,"])</script><script>self.__next_f.push([1,"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\nbody {\n  font-family: Arial, Helvetica, sans-serif;\n}\n\n@layer utilities {\n  .text-balance {\n    text-wrap: balance;\n  }\n}\n\n@layer base {\n  :root {\n    --background: 0 0% 100%;\n    --foreground: 0 0% 3.9%;\n    --card: 0 0% 100%;\n    --card-foreground: 0 0% 3.9%;\n    --popover: 0 0% 100%;\n    --popover-foreground: 0 0% 3.9%;\n    --primary: 0 0% 9%;\n    --primary-foreground: 0 0% 98%;\n    --secondary: 0 0% 96.1%;\n    --secondary-foreground: 0 0% 9%;\n    --muted: 0 0% 96.1%;\n    --muted-foreground: 0 0% 45.1%;\n    --accent: 0 0% 96.1%;\n    --accent-foreground: 0 0% 9%;\n    --destructive: 0 84.2% 60.2%;\n    --destructive-foreground: 0 0% 98%;\n    --border: 0 0% 89.8%;\n    --input: 0 0% 89.8%;\n    --ring: 0 0% 3.9%;\n    --chart-1: 12 76% 61%;\n    --chart-2: 173 58% 39%;\n    --chart-3: 197 37% 24%;\n    --chart-4: 43 74% 66%;\n    --chart-5: 27 87% 67%;\n    --radius: 0.5rem;\n    --sidebar-background: 0 0% 98%;\n    --sidebar-foreground: 240 5.3% 26.1%;\n    --sidebar-primary: 240 5.9% 10%;\n    --sidebar-primary-foreground: 0 0% 98%;\n    --sidebar-accent: 240 4.8% 95.9%;\n    --sidebar-accent-foreground: 240 5.9% 10%;\n    --sidebar-border: 220 13% 91%;\n    --sidebar-ring: 217.2 91.2% 59.8%;\n  }\n  .dark {\n    --background: 0 0% 3.9%;\n    --foreground: 0 0% 98%;\n    --card: 0 0% 3.9%;\n    --card-foreground: 0 0% 98%;\n    --popover: 0 0% 3.9%;\n    --popover-foreground: 0 0% 98%;\n    --primary: 0 0% 98%;\n    --primary-foreground: 0 0% 9%;\n    --secondary: 0 0% 14.9%;\n    --secondary-foreground: 0 0% 98%;\n    --muted: 0 0% 14.9%;\n    --muted-foreground: 0 0% 63.9%;\n    --accent: 0 0% 14.9%;\n    --accent-foreground: 0 0% 98%;\n    --destructive: 0 62.8% 30.6%;\n    --destructive-foreground: 0 0% 98%;\n    --border: 0 0% 14.9%;\n    --input: 0 0% 14.9%;\n    --ring: 0 0% 83.1%;\n    --chart-1: 220 70% 50%;\n    --chart-2: 160 60% 45%;\n    --chart-3: 30 80% 55%;\n    --chart-4: 280 65% 60%;\n    --chart-5: 340 75% 55%;\n    --sidebar-background: 240 5.9% 10%;\n    --sidebar-foreground: 240 4.8% 95.9%;\n    --sidebar-primary: 224.3 76.3% 48%;\n    --sidebar-primary-foreground: 0 0% 100%;\n    --sidebar-accent: 240 3.7% 15.9%;\n    --sidebar-accent-foreground: 240 4.8% 95.9%;\n    --sidebar-border: 240 3.7% 15.9%;\n    --sidebar-ring: 217.2 91.2% 59.8%;\n  }\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n  body {\n    @apply bg-background text-foreground;\n  }\n}\n"])</script><script>self.__next_f.push([1,"d4:T8c6,"])</script><script>self.__next_f.push([1,"import type { Config } from \"tailwindcss\"\n\nconst config = {\n  darkMode: [\"class\"],\n  content: [\n    \"./pages/**/*.{ts,tsx}\",\n    \"./components/**/*.{ts,tsx}\",\n    \"./app/**/*.{ts,tsx}\",\n    \"./src/**/*.{ts,tsx}\",\n    \"*.{js,ts,jsx,tsx,mdx}\",\n  ],\n  prefix: \"\",\n  theme: {\n    container: {\n      center: true,\n      padding: \"2rem\",\n      screens: {\n        \"2xl\": \"1400px\",\n      },\n    },\n    extend: {\n      colors: {\n        border: \"hsl(var(--border))\",\n        input: \"hsl(var(--input))\",\n        ring: \"hsl(var(--ring))\",\n        background: \"hsl(var(--background))\",\n        foreground: \"hsl(var(--foreground))\",\n        primary: {\n          DEFAULT: \"hsl(var(--primary))\",\n          foreground: \"hsl(var(--primary-foreground))\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary))\",\n          foreground: \"hsl(var(--secondary-foreground))\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive))\",\n          foreground: \"hsl(var(--destructive-foreground))\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted))\",\n          foreground: \"hsl(var(--muted-foreground))\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent))\",\n          foreground: \"hsl(var(--accent-foreground))\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover))\",\n          foreground: \"hsl(var(--popover-foreground))\",\n        },\n        card: {\n          DEFAULT: \"hsl(var(--card))\",\n          foreground: \"hsl(var(--card-foreground))\",\n        },\n      },\n      borderRadius: {\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\",\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/line-clamp\")],\n} satisfies Config\n\nexport default config\n"])</script><script>self.__next_f.push([1,"d5:T87c,"])</script><script>self.__next_f.push([1,"// Tipos para las tablas de Supabase\nexport type Fundacion = {\n  id: number\n  codigo: string\n  nombre: string\n  descripcion: string | null\n}\n\nexport type Entrevistado = {\n  id: number\n  codigo: string\n  nombre: string\n  apellido: string\n  cargo: string | null\n  fundacion_id: number\n  contacto: string | null\n  notas: string | null\n  fundacion?: Fundacion\n}\n\nexport type Investigador = {\n  id: number\n  codigo: string\n  nombre: string\n  apellido: string\n  email: string | null\n  telefono: string | null\n  institucion: string | null\n  cargo: string | null\n  notas: string | null\n  fecha_creacion: string\n}\n\nexport type Entrevista = {\n  id: number\n  codigo_entrevista: string\n  fundacion_id: number\n  entrevistado_id: number\n  investigador_id: number | null\n  numero_entrevista: number\n  fecha_entrevista: string | null\n  duracion: number | null\n  notas: string | null\n  fecha_creacion: string\n  fundacion?: Fundacion\n  entrevistado?: Entrevistado\n  investigador?: Investigador\n}\n\nexport type Transcripcion = {\n  id: number\n  entrevista_id: number\n  id_segmento: number\n  hablante: string\n  timestamp: string | null\n  rol: string\n  texto_original: string\n  texto_normalizado: string\n  nivel_confianza: number\n  fecha_creacion: string\n  entrevista?: Entrevista\n}\n\nexport type MatrizCategoria = {\n  id: number\n  nombre: string\n  descripcion: string | null\n  orden: number\n}\n\nexport type MatrizSubcategoria = {\n  id: number\n  categoria_id: number\n  nombre: string\n  descripcion: string | null\n  orden: number\n  categoria?: MatrizCategoria\n}\n\nexport type MatrizCodigo = {\n  id: number\n  codigo: string\n  categoria_id: number\n  subcategoria_id: number\n  descripcion: string | null\n  categoria?: MatrizCategoria\n  subcategoria?: MatrizSubcategoria\n}\n\nexport type TranscripcionMatriz = {\n  id: number\n  transcripcion_id: number\n  codigo_matriz_id: number\n  relevancia: number\n  notas: string | null\n  transcripcion?: Transcripcion\n  codigo_matriz?: MatrizCodigo\n}\n\nexport type MatrizVaciado = {\n  id: number\n  entrevistado_id: number\n  codigo_matriz_id: number\n  contenido: string | null\n  fecha_actualizacion: string\n  entrevistado?: Entrevistado\n  codigo_matriz?: MatrizCodigo\n}\n"])</script><script>self.__next_f.push([1,"d6:T78b,import { Text } from \"@/components/ui/text\"\nimport { PageBackground } from \"@/components/ui/page-background\"\nimport { Divider } from \"@/components/ui/divider\"\nimport { HomeCards } from \"@/components/HomeCards\"\n\nexport default function Home() {\n  // TEMPORARY DEBUG CODE - REMOVE AFTER FIXING\n  console.log(\"Supabase URL:\", process.env.NEXT_PUBLIC_SUPABASE_URL ? \"Set\" : \"Not set\")\n  console.log(\"Supabase Anon Key:\", process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY ? \"Set\" : \"Not set\")\n\n  return (\n    \u003cPageBackground variant=\"gradient\"\u003e\n      {/* Hero Section */}\n      \u003csection className=\"text-center pt-20 pb-8 md:pt-24 md:pb-10\"\u003e\n        \u003cdiv className=\"flex flex-col items-center mb-4\"\u003e\n          \u003cText\n            variant=\"label\"\n            color=\"primary\"\n            colorVariant=\"pure\"\n            className=\"uppercase tracking-wider mb-3 font-bold\"\n            fontType=\"heading\"\n          \u003e\n            Universidad Católica de Chile\n          \u003c/Text\u003e\n          \u003cDivider variant=\"gradient\" size=\"md\" className=\"mb-8\" /\u003e\n        \u003c/div\u003e\n\n        \u003cText as=\"h1\" variant=\"heading\" size=\"5xl\" gradient=\"primary\" className=\"mb-2\" fontType=\"heading\"\u003e\n          Ayudas Técnicas\n        \u003c/Text\u003e\n\n        \u003cText as=\"h2\" variant=\"subheading\" size=\"3xl\" gradient=\"secondary\" className=\"mb-6\" fontType=\"heading\"\u003e\n          Escuela de Trabajo Social\n        \u003c/Text\u003e\n\n        \u003cText variant=\"subtitle\" size=\"xl\" color=\"neutral\" className=\"max-w-2xl mx-auto\" fontType=\"body\"\u003e\n          Plataforma de herramientas para investigación y análisis de datos cualitativos\n        \u003c/Text\u003e\n      \u003c/section\u003e\n\n      {/* Cards Section */}\n      \u003cHomeCards /\u003e\n\n      {/* Footer Section */}\n      \u003cdiv className=\"text-center mt-8\"\u003e\n        \u003cText variant=\"muted\" className=\"mb-1\" fontType=\"body\"\u003e\n          Proyecto desarrollado por la Escuela de Trabajo Social de la Universidad Católica de Chile\n        \u003c/Text\u003e\n      \u003c/div\u003e\n    \u003c/PageBackground\u003e\n  )\n}\nd7:T25c4,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport type React from \"react\"\nimport { cn } from \"@/lib/utils\"\nimport { useFontTheme } from \"@/app/font-provider\"\nimport { useTheme } from \"@/app/theme-provider\"\nimport { generateTextTokens, type TextTokens } from \"@/lib/theme/components/text-tokens\"\nimport { useMemo } from \"react\"\n// import type {\n//   TextVariant,\n//   TextSize,\n//   TextWeight,\n//   TextAlign,\n//   TextColor,\n//   ColorVariant as OriginalColorVariant,\n//   GradientType,\n// } from \"@/lib/theme/components/text-tokens\";\n\n// Definiciones de tipo locales\ntype TextVariant = keyof TextTokens[\"variants\"]\ntype TextColor = keyof TextTokens[\"colors\"]\ntype GradientType = keyof TextTokens[\"gradients\"] | boolean\ntype TextSize = \"xs\" | \"sm\" | \"base\" | \"md\" | \"lg\" | \"xl\" | \"2xl\" | \"3xl\" | \"4xl\" | \"5xl\"\ntype TextWeight = \"normal\" | \"medium\" | \"semibold\" | \"bold\"\ntype TextAlign = \"left\" | \"center\" | \"right\" | \"justify\"\ntype OriginalColorVariant = \"pure\" | \"text\" | \"dark\"\n\n// Tipo para la fuente del par a utilizar\nexport type FontPairType = \"heading\" | \"body\"\n\n// Extender ColorVariant para incluir textShade y marcar dark como legacy\nexport type ColorVariant = OriginalColorVariant | \"textShade\"\n\nexport interface TextProps extends React.HTMLAttributes\u003cHTMLElement\u003e {\n  variant?: TextVariant\n  size?: TextSize\n  weight?: TextWeight\n  align?: TextAlign\n  as?: React.ElementType\n  truncate?: boolean\n  gradient?: GradientType\n  color?: TextColor\n  /**\n   * Define la variante del color a utilizar.\n   * - \"pure\": Usa el color puro (generalmente más brillante).\n   * - \"text\": Usa el color optimizado para texto sobre fondos claros.\n   * - \"dark\": (Legacy) Usa una variante más oscura o alternativa del color de texto. Preferir \"textShade\".\n   * - \"textShade\": Usa una variante más oscura o alternativa del color de texto, ideal para variaciones sutiles o énfasis.\n   * @default \"text\"\n   */\n  colorVariant?: ColorVariant\n  className?: string\n  children: React.ReactNode\n  useHeadingFont?: boolean // Prop anterior (mantenida por compatibilidad)\n  fontType?: FontPairType // Nueva prop para especificar explícitamente qué tipo de fuente usar\n}\n\nexport function Text({\n  variant = \"default\",\n  size,\n  weight,\n  align,\n  as: Component = \"p\",\n  truncate = false,\n  gradient: initialGradient = false,\n  color: initialColor,\n  colorVariant = \"text\",\n  className,\n  children,\n  useHeadingFont,\n  fontType,\n  ...props\n}: TextProps) {\n  const { appColorTokens, mode } = useTheme()\n  const { fontTheme } = useFontTheme()\n\n  const textTokens = useMemo(() =\u003e {\n    return generateTextTokens(appColorTokens, mode)\n  }, [appColorTokens, mode])\n\n  let effectiveVariantForStyleDefaults = variant\n  if (\n    typeof Component === \"string\" \u0026\u0026\n    Component.startsWith(\"h\") \u0026\u0026\n    Component.length === 2 \u0026\u0026\n    !fontType \u0026\u0026\n    useHeadingFont === undefined \u0026\u0026\n    (variant === \"default\" ||\n      variant === \"label\" ||\n      variant === \"caption\" ||\n      variant === \"muted\" ||\n      variant === \"subtitle\")\n  ) {\n    effectiveVariantForStyleDefaults = \"heading\"\n  }\n\n  const styleDefaults = textTokens.variants[effectiveVariantForStyleDefaults]\n  const colorVariantDefaultName = textTokens.variants[variant].color\n\n  // Redirigir color=\"default\" a color=\"neutral\"\n  let finalColorName: TextColor =\n    initialColor === \"default\" ? \"neutral\" : initialColor || (colorVariantDefaultName as TextColor)\n  let finalGradient: GradientType | boolean = initialGradient\n  const finalColorVariant: ColorVariant = colorVariant || \"text\"\n\n  if (initialColor === undefined \u0026\u0026 initialGradient === false) {\n    if (variant === \"heading\") {\n      finalGradient = \"primary\"\n    } else if (variant === \"subheading\") {\n      finalColorName = \"secondary\"\n    } else if (variant === \"title\") {\n      finalColorName = \"tertiary\"\n    }\n  }\n\n  const finalSize = size || (styleDefaults.size as TextSize)\n  const finalWeight = weight || (styleDefaults.weight as TextWeight)\n\n  const determineFontType = (): FontPairType =\u003e {\n    if (fontType) return fontType\n\n    if (useHeadingFont !== undefined) return useHeadingFont ? \"heading\" : \"body\"\n\n    if (typeof Component === \"string\" \u0026\u0026 Component.startsWith(\"h\") \u0026\u0026 Component.length === 2) {\n      return \"heading\"\n    }\n\n    switch (variant) {\n      case \"heading\":\n      case \"title\":\n      case \"subheading\":\n        return \"heading\"\n      case \"subtitle\":\n        return \"heading\"\n      case \"default\":\n      case \"label\":\n      case \"caption\":\n      case \"muted\":\n        return \"body\"\n      default:\n        return \"body\"\n    }\n  }\n\n  const finalFontType = determineFontType()\n\n  const sizeStyles: Record\u003cTextSize, string\u003e = {\n    xs: \"text-xs\",\n    sm: \"text-sm\",\n    base: \"text-base\",\n    md: \"text-md\",\n    lg: \"text-lg\",\n    xl: \"text-xl\",\n    \"2xl\": \"text-2xl\",\n    \"3xl\": \"text-3xl\",\n    \"4xl\": \"text-4xl\",\n    \"5xl\": \"text-5xl\",\n  }\n  const weightStyles: Record\u003cTextWeight, string\u003e = {\n    normal: \"font-normal\",\n    medium: \"font-medium\",\n    semibold: \"font-semibold\",\n    bold: \"font-bold\",\n  }\n  const alignStyles: Record\u003cTextAlign, string\u003e = {\n    left: \"text-left\",\n    center: \"text-center\",\n    right: \"text-right\",\n    justify: \"text-justify\",\n  }\n  const variantStyles: Record\u003cTextVariant, string\u003e = {\n    default: \"\",\n    heading: \"tracking-tight\",\n    subheading: \"\",\n    title: \"\",\n    subtitle: \"\",\n    label: \"\",\n    caption: \"\",\n    muted: \"\",\n  }\n\n  const classes = cn(\n    variantStyles[variant],\n    sizeStyles[finalSize],\n    weightStyles[finalWeight],\n    align \u0026\u0026 alignStyles[align],\n    truncate \u0026\u0026 \"truncate\",\n    className,\n  )\n\n  const getTextColor = () =\u003e {\n    if (finalGradient) return \"transparent\"\n\n    if (!textTokens?.colors) return \"inherit\"\n    const tokenSet = textTokens.colors[finalColorName]\n    if (!tokenSet) return \"inherit\"\n\n    if (finalColorVariant === \"textShade\" \u0026\u0026 tokenSet.textShade) return tokenSet.textShade\n    if (finalColorVariant === \"dark\" \u0026\u0026 tokenSet.dark) return tokenSet.dark\n    if (finalColorVariant === \"pure\" \u0026\u0026 tokenSet.pure) return tokenSet.pure\n    return tokenSet.text\n  }\n\n  const baseStyle: React.CSSProperties = {\n    color: getTextColor(),\n    fontFamily: finalFontType === \"heading\" ? \"var(--font-family-headings)\" : \"var(--font-family-base)\",\n    fontWeight: finalFontType === \"heading\" ? \"var(--font-weight-headings)\" : \"var(--font-weight-base)\",\n    letterSpacing: finalFontType === \"heading\" ? \"var(--letter-spacing-headings)\" : \"var(--letter-spacing-body)\",\n    lineHeight: \"var(--line-height)\",\n  }\n\n  if (!finalGradient) {\n    return (\n      \u003cComponent className={classes} style={baseStyle} {...props}\u003e\n        {children}\n      \u003c/Component\u003e\n    )\n  }\n\n  if (!textTokens?.gradients) {\n    const fallbackTextColorStyle: React.CSSProperties = {\n      ...baseStyle,\n      color: (() =\u003e {\n        if (!textTokens?.colors) return \"inherit\"\n        const tokenSet = textTokens.colors[finalColorName]\n        if (!tokenSet) return \"inherit\"\n        if (finalColorVariant === \"textShade\" \u0026\u0026 tokenSet.textShade) return tokenSet.textShade\n        if (finalColorVariant === \"dark\" \u0026\u0026 tokenSet.dark) return tokenSet.dark\n        if (finalColorVariant === \"pure\" \u0026\u0026 tokenSet.pure) return tokenSet.pure\n        return tokenSet.text\n      })(),\n    }\n\n    return (\n      \u003cComponent className={classes} style={fallbackTextColorStyle} {...props}\u003e\n        {children}\n      \u003c/Component\u003e\n    )\n  }\n\n  const gradientTypeToUse = finalGradient === true ? \"primary\" : finalGradient\n\n  const gradientColors = textTokens.gradients[gradientTypeToUse as Exclude\u003cTextColor, \"default\" | \"muted\" | \"neutral\"\u003e]\n\n  if (!gradientColors) {\n    const fallbackTextColorStyle: React.CSSProperties = {\n      ...baseStyle,\n      color: (() =\u003e {\n        if (!textTokens?.colors) return \"inherit\"\n        const tokenSet = textTokens.colors[finalColorName]\n        if (!tokenSet) return \"inherit\"\n        if (finalColorVariant === \"textShade\" \u0026\u0026 tokenSet.textShade) return tokenSet.textShade\n        if (finalColorVariant === \"dark\" \u0026\u0026 tokenSet.dark) return tokenSet.dark\n        if (finalColorVariant === \"pure\" \u0026\u0026 tokenSet.pure) return tokenSet.pure\n        return tokenSet.text\n      })(),\n    }\n    return (\n      \u003cComponent className={classes} style={fallbackTextColorStyle} {...props}\u003e\n        {children}\n      \u003c/Component\u003e\n    )\n  }\n\n  const gradientStyle: React.CSSProperties = {\n    backgroundImage: `linear-gradient(\n      to right,\n      ${gradientColors.start},\n      ${gradientColors.middle} 50%,\n      ${gradientColors.end}\n    )`,\n    backgroundSize: \"100% 100%\",\n    backgroundRepeat: \"no-repeat\",\n    WebkitBackgroundClip: \"text\",\n    WebkitTextFillColor: \"transparent\",\n    backgroundClip: \"text\",\n    color: \"transparent\",\n    fontFamily: finalFontType === \"heading\" ? \"var(--font-family-headings)\" : \"var(--font-family-base)\",\n    fontWeight: finalFontType === \"heading\" ? \"var(--font-weight-headings)\" : \"var(--font-weight-base)\",\n    letterSpacing: finalFontType === \"heading\" ? \"var(--letter-spacing-headings)\" : \"var(--letter-spacing-body)\",\n    lineHeight: \"var(--line-height)\",\n    paddingBottom: \"0.1em\",\n    display: \"inline\",\n  }\n\n  const containerStyle: React.CSSProperties = {\n    fontFamily: finalFontType === \"heading\" ? \"var(--font-family-headings)\" : \"var(--font-family-base)\",\n    fontWeight: finalFontType === \"heading\" ? \"var(--font-weight-headings)\" : \"var(--font-weight-base)\",\n    letterSpacing: finalFontType === \"heading\" ? \"var(--letter-spacing-headings)\" : \"var(--letter-spacing-body)\",\n    lineHeight: \"var(--line-height)\",\n  }\n\n  return (\n    \u003cComponent className={classes} style={containerStyle} {...props}\u003e\n      \u003cspan style={gradientStyle}\u003e{children}\u003c/span\u003e\n    \u003c/Component\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"d8:Td8d0,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { Text } from \"@/components/ui/text\"\nimport { ProCard } from \"@/components/ui/pro-card\"\nimport { useTheme } from \"@/app/theme-provider\"\nimport { Button } from \"@/components/ui/button\"\nimport { Switch } from \"@/components/ui/switch\"\nimport { Label } from \"@/components/ui/label\"\nimport { useFontTheme } from \"@/app/font-provider\"\n\nexport default function ShowroomText() {\n  const { setColorScheme, setMode, colorScheme, mode, appColorTokens } = useTheme()\n  const { fontTheme, setFontTheme } = useFontTheme()\n  const [mounted, setMounted] = useState(false)\n\n  useEffect(() =\u003e {\n    setMounted(true)\n  }, [])\n\n  if (!mounted || !appColorTokens) return null\n\n  return (\n    \u003cdiv className=\"container mx-auto py-8 space-y-8\"\u003e\n      \u003csection className=\"text-center space-y-4\"\u003e\n        \u003cText variant=\"heading\" size=\"4xl\" gradient=\"primary\"\u003e\n          Showroom de Texto\n        \u003c/Text\u003e\n        \u003cText variant=\"subtitle\" className=\"max-w-2xl mx-auto\"\u003e\n          Guía completa del componente Text con todas sus propiedades y ejemplos de uso\n        \u003c/Text\u003e\n      \u003c/section\u003e\n\n      \u003cProCard variant=\"neutral\" className=\"p-0 md:p-0\" shadow=\"none\" noPadding\u003e\n        \u003cdiv className=\"p-6 md:p-8\"\u003e\n          \u003csection className=\"bg-transparent dark:bg-transparent rounded-lg pb-6 shadow-none\"\u003e\n            \u003cdiv className=\"flex flex-col md:flex-row md:items-center justify-between gap-6\"\u003e\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText variant=\"title\"\u003eConfiguración del Tema\u003c/Text\u003e\n                \u003cText variant=\"muted\"\u003eCambia el esquema de color y el modo para ver cómo se adapta el texto\u003c/Text\u003e\n              \u003c/div\u003e\n\n              \u003cdiv className=\"flex flex-wrap gap-4 justify-center\"\u003e\n                \u003cdiv className=\"flex items-center space-x-2\"\u003e\n                  \u003cButton\n                    variant={colorScheme === \"blue\" ? \"default\" : \"outline\"}\n                    onClick={() =\u003e setColorScheme(\"blue\")}\n                    className=\"w-24\"\n                  \u003e\n                    Azul\n                  \u003c/Button\u003e\n                  \u003cButton\n                    variant={colorScheme === \"green\" ? \"default\" : \"outline\"}\n                    onClick={() =\u003e setColorScheme(\"green\")}\n                    className=\"w-24\"\n                  \u003e\n                    Verde\n                  \u003c/Button\u003e\n                  \u003cButton\n                    variant={colorScheme === \"orange\" ? \"default\" : \"outline\"}\n                    onClick={() =\u003e setColorScheme(\"orange\")}\n                    className=\"w-24\"\n                  \u003e\n                    Naranja\n                  \u003c/Button\u003e\n                \u003c/div\u003e\n\n                \u003cdiv className=\"flex items-center space-x-2\"\u003e\n                  \u003cSwitch\n                    id=\"dark-mode\"\n                    checked={mode === \"dark\"}\n                    onCheckedChange={(checked) =\u003e setMode(checked ? \"dark\" : \"light\")}\n                  /\u003e\n                  \u003cLabel htmlFor=\"dark-mode\"\u003eModo Oscuro\u003c/Label\u003e\n                \u003c/div\u003e\n              \u003c/div\u003e\n            \u003c/div\u003e\n          \u003c/section\u003e\n\n          \u003cTabs defaultValue=\"variantes\" className=\"w-full\"\u003e\n            \u003cTabsList className=\"grid w-full grid-cols-2 md:grid-cols-4 lg:grid-cols-9\"\u003e\n              \u003cTabsTrigger value=\"variantes\"\u003eVariantes\u003c/TabsTrigger\u003e\n              \u003cTabsTrigger value=\"tamaños\"\u003eTamaños\u003c/TabsTrigger\u003e\n              \u003cTabsTrigger value=\"pesos\"\u003ePesos\u003c/TabsTrigger\u003e\n              \u003cTabsTrigger value=\"alineacion\"\u003eAlineación\u003c/TabsTrigger\u003e\n              \u003cTabsTrigger value=\"prop-as\"\u003eProp 'as'\u003c/TabsTrigger\u003e\n              \u003cTabsTrigger value=\"colores\"\u003eColores\u003c/TabsTrigger\u003e\n              \u003cTabsTrigger value=\"variantes-color\"\u003eVariantes Color\u003c/TabsTrigger\u003e\n              \u003cTabsTrigger value=\"gradientes\"\u003eGradientes\u003c/TabsTrigger\u003e\n              \u003cTabsTrigger value=\"ejemplos\"\u003eEjemplos\u003c/TabsTrigger\u003e\n            \u003c/TabsList\u003e\n\n            \u003cTabsContent value=\"variantes\" className=\"mt-6\"\u003e\n              \u003cProCard variant=\"neutral\" shadow=\"md\" noPadding\u003e\n                \u003cProCard.Header\u003e\n                  \u003cProCard.Title\u003eVariantes de Texto\u003c/ProCard.Title\u003e\n                  \u003cText variant=\"subtitle\"\u003e\n                    El componente Text ofrece diferentes variantes para diferentes contextos\n                  \u003c/Text\u003e\n                \u003c/ProCard.Header\u003e\n                \u003cProCard.Content className=\"space-y-8\"\u003e\n                  \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n                    \u003cdiv className=\"space-y-2\"\u003e\n                      \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                        \u003cText\u003eDefault: Texto normal para párrafos y contenido general.\u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                          variant=\"default\"\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n\n                      \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                        \u003cText variant=\"heading\"\u003eHeading: Para encabezados principales.\u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                          variant=\"heading\"\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n\n                      \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                        \u003cText variant=\"subheading\"\u003eSubheading: Para encabezados secundarios.\u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                          variant=\"subheading\"\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n\n                      \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                        \u003cText variant=\"title\"\u003eTitle: Para títulos de secciones.\u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                          variant=\"title\"\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n\n                    \u003cdiv className=\"space-y-2\"\u003e\n                      \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                        \u003cText variant=\"subtitle\"\u003eSubtitle: Para subtítulos o descripciones.\u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                          variant=\"subtitle\"\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n\n                      \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                        \u003cText variant=\"label\"\u003eLabel: Para etiquetas de formularios.\u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                          variant=\"label\"\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n\n                      \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                        \u003cText variant=\"caption\"\u003eCaption: Para textos pequeños explicativos.\u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                          variant=\"caption\"\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n\n                      \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                        \u003cText variant=\"muted\"\u003eMuted: Para texto secundario menos prominente.\u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                          variant=\"muted\"\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n\n                  \u003cdiv className=\"p-4 border rounded-md bg-background shadow-sm dark:bg-gray-800/50\"\u003e\n                    \u003cText variant=\"title\" className=\"mb-2\"\u003e\n                      Uso de Variantes\n                    \u003c/Text\u003e\n                    \u003cpre className=\"bg-gray-100 dark:bg-gray-900/70 p-3 rounded-md overflow-x-auto\"\u003e\n                      \u003ccode\u003e{`\u003cText\u003eTexto predeterminado\u003c/Text\u003e\n\u003cText variant=\"heading\"\u003eEncabezado principal\u003c/Text\u003e\n\u003cText variant=\"subheading\"\u003eEncabezado secundario\u003c/Text\u003e\n\u003cText variant=\"title\"\u003eTítulo de sección\u003c/Text\u003e\n\u003cText variant=\"subtitle\"\u003eSubtítulo descriptivo\u003c/Text\u003e\n\u003cText variant=\"label\"\u003eEtiqueta de formulario\u003c/Text\u003e\n\u003cText variant=\"caption\"\u003eTexto pequeño explicativo\u003c/Text\u003e\n\u003cText variant=\"muted\"\u003eTexto secundario atenuado\u003c/Text\u003e`}\u003c/code\u003e\n                    \u003c/pre\u003e\n                  \u003c/div\u003e\n                \u003c/ProCard.Content\u003e\n              \u003c/ProCard\u003e\n            \u003c/TabsContent\u003e\n\n            \u003cTabsContent value=\"tamaños\" className=\"mt-6\"\u003e\n              \u003cProCard variant=\"neutral\" shadow=\"md\" noPadding\u003e\n                \u003cProCard.Header\u003e\n                  \u003cProCard.Title\u003eTamaños de Texto\u003c/ProCard.Title\u003e\n                  \u003cText variant=\"subtitle\"\u003e\n                    El componente Text ofrece diferentes tamaños para adaptarse a diferentes necesidades\n                  \u003c/Text\u003e\n                \u003c/ProCard.Header\u003e\n                \u003cProCard.Content className=\"space-y-8\"\u003e\n                  \u003cdiv className=\"space-y-4\"\u003e\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText size=\"xs\"\u003eTamaño xs: Texto extra pequeño.\u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        size=\"xs\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText size=\"sm\"\u003eTamaño sm: Texto pequeño.\u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        size=\"sm\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText size=\"md\"\u003eTamaño md: Texto mediano.\u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        size=\"md\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText size=\"base\"\u003eTamaño base: Texto normal (por defecto).\u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        size=\"base\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText size=\"lg\"\u003eTamaño lg: Texto grande.\u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        size=\"lg\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText size=\"xl\"\u003eTamaño xl: Texto extra grande.\u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        size=\"xl\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText size=\"2xl\"\u003eTamaño 2xl: Texto doble extra grande.\u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        size=\"2xl\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText size=\"3xl\"\u003eTamaño 3xl: Texto triple extra grande.\u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        size=\"3xl\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText size=\"4xl\"\u003eTamaño 4xl: Texto cuádruple extra grande.\u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        size=\"4xl\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText size=\"5xl\"\u003eTamaño 5xl: Texto quíntuple extra grande.\u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        size=\"5xl\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n\n                  \u003cdiv className=\"p-4 border rounded-md bg-background shadow-sm dark:bg-gray-800/50\"\u003e\n                    \u003cText variant=\"title\" className=\"mb-2\"\u003e\n                      Combinación con Variantes\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-4\"\u003e\n                      \u003cdiv\u003e\n                        \u003cText variant=\"heading\" size=\"3xl\"\u003e\n                          Encabezado Grande\n                        \u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                          variant=\"heading\" size=\"3xl\"\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv\u003e\n                        \u003cText variant=\"title\" size=\"xl\"\u003e\n                          Título Mediano\n                        \u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                          variant=\"title\" size=\"xl\"\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n                \u003c/ProCard.Content\u003e\n              \u003c/ProCard\u003e\n            \u003c/TabsContent\u003e\n\n            \u003cTabsContent value=\"pesos\" className=\"mt-6\"\u003e\n              \u003cProCard variant=\"neutral\" shadow=\"md\" noPadding\u003e\n                \u003cProCard.Header\u003e\n                  \u003cProCard.Title\u003ePesos de Texto\u003c/ProCard.Title\u003e\n                  \u003cText variant=\"subtitle\"\u003e\n                    El componente Text ofrece diferentes pesos para enfatizar o suavizar el texto\n                  \u003c/Text\u003e\n                \u003c/ProCard.Header\u003e\n                \u003cProCard.Content className=\"space-y-8\"\u003e\n                  \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText weight=\"normal\" size=\"xl\"\u003e\n                        Peso normal: Texto con peso normal.\n                      \u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        weight=\"normal\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText weight=\"medium\" size=\"xl\"\u003e\n                        Peso medium: Texto con peso medio.\n                      \u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        weight=\"medium\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText weight=\"semibold\" size=\"xl\"\u003e\n                        Peso semibold: Texto con peso semi-negrita.\n                      \u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        weight=\"semibold\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText weight=\"bold\" size=\"xl\"\u003e\n                        Peso bold: Texto con peso negrita.\n                      \u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        weight=\"bold\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n\n                  \u003cdiv className=\"p-4 border rounded-md bg-background shadow-sm dark:bg-gray-800/50\"\u003e\n                    \u003cText variant=\"title\" className=\"mb-2\"\u003e\n                      Combinación con Variantes y Tamaños\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"space-y-4\"\u003e\n                      \u003cdiv\u003e\n                        \u003cText variant=\"heading\" size=\"2xl\" weight=\"bold\"\u003e\n                          Encabezado en Negrita\n                        \u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                          variant=\"heading\" size=\"2xl\" weight=\"bold\"\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv\u003e\n                        \u003cText variant=\"subtitle\" size=\"lg\" weight=\"medium\"\u003e\n                          Subtítulo con Peso Medio\n                        \u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                          variant=\"subtitle\" size=\"lg\" weight=\"medium\"\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n                \u003c/ProCard.Content\u003e\n              \u003c/ProCard\u003e\n            \u003c/TabsContent\u003e\n\n            \u003cTabsContent value=\"alineacion\" className=\"mt-6\"\u003e\n              \u003cProCard variant=\"neutral\" shadow=\"md\" noPadding\u003e\n                \u003cProCard.Header\u003e\n                  \u003cProCard.Title\u003eAlineación de Texto\u003c/ProCard.Title\u003e\n                  \u003cText variant=\"subtitle\"\u003eEl componente Text ofrece diferentes opciones de alineación\u003c/Text\u003e\n                \u003c/ProCard.Header\u003e\n                \u003cProCard.Content className=\"space-y-8\"\u003e\n                  \u003cdiv className=\"space-y-6\"\u003e\n                    \u003cdiv className=\"border p-4 rounded-md\"\u003e\n                      \u003cText align=\"left\"\u003e\n                        Alineación izquierda: Este texto está alineado a la izquierda, que es la alineación por defecto\n                        para la mayoría de los textos en interfaces web. Es la opción más legible para textos largos en\n                        idiomas que se leen de izquierda a derecha.\n                      \u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        align=\"left\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n\n                    \u003cdiv className=\"border p-4 rounded-md\"\u003e\n                      \u003cText align=\"center\"\u003e\n                        Alineación centro: Este texto está alineado al centro. Esta alineación es útil para títulos,\n                        encabezados o textos cortos que quieres destacar en el centro de la página o componente.\n                      \u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        align=\"center\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n\n                    \u003cdiv className=\"border p-4 rounded-md\"\u003e\n                      \u003cText align=\"right\"\u003e\n                        Alineación derecha: Este texto está alineado a la derecha. Esta alineación es útil para idiomas\n                        que se leen de derecha a izquierda, o para elementos específicos como fechas o números en\n                        tablas.\n                      \u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        align=\"right\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n\n                    \u003cdiv className=\"border p-4 rounded-md\"\u003e\n                      \u003cText align=\"justify\"\u003e\n                        Alineación justificada: Este texto está justificado, lo que significa que se ajusta para que\n                        cada línea tenga el mismo ancho, creando márgenes rectos tanto a la izquierda como a la derecha.\n                        Esto puede mejorar la apariencia en bloques de texto grandes, pero puede crear espacios\n                        irregulares entre palabras. Es común en periódicos, revistas y libros impresos.\n                      \u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        align=\"justify\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n\n                  \u003cdiv className=\"p-4 border rounded-md bg-background shadow-sm dark:bg-gray-800/50\"\u003e\n                    \u003cText variant=\"title\" className=\"mb-2\"\u003e\n                      Combinación con Otras Propiedades\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"space-y-4\"\u003e\n                      \u003cdiv\u003e\n                        \u003cText variant=\"heading\" size=\"2xl\" align=\"center\"\u003e\n                          Encabezado Centrado\n                        \u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                          variant=\"heading\" size=\"2xl\" align=\"center\"\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv\u003e\n                        \u003cText variant=\"subtitle\" align=\"right\"\u003e\n                          Subtítulo Alineado a la Derecha\n                        \u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                          variant=\"subtitle\" align=\"right\"\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n                \u003c/ProCard.Content\u003e\n              \u003c/ProCard\u003e\n            \u003c/TabsContent\u003e\n\n            \u003cTabsContent value=\"prop-as\" className=\"mt-6\"\u003e\n              \u003cProCard variant=\"neutral\" shadow=\"md\" noPadding\u003e\n                \u003cProCard.Header\u003e\n                  \u003cProCard.Title\u003eUso de la Propiedad `as`\u003c/ProCard.Title\u003e\n                  \u003cText variant=\"subtitle\"\u003e\n                    Renderiza el componente Text como diferentes elementos HTML, incluyendo encabezados con estilos\n                    automáticos.\n                  \u003c/Text\u003e\n                \u003c/ProCard.Header\u003e\n                \u003cProCard.Content className=\"space-y-8\"\u003e\n                  \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText as=\"h1\"\u003eTexto como h1 (estilos de 'heading' por defecto)\u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        as=\"h1\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText as=\"h2\" color=\"secondary\"\u003e\n                        Texto como h2 (color secundario)\n                      \u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        as=\"h2\" color=\"secondary\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText as=\"h3\" variant=\"title\"\u003e\n                        Texto como h3 (variante 'title')\n                      \u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        as=\"h3\" variant=\"title\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText as=\"h4\" size=\"xl\" weight=\"medium\"\u003e\n                        Texto como h4 (tamaño y peso custom)\n                      \u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        as=\"h4\" size=\"xl\" weight=\"medium\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText as=\"span\" color=\"accent\" weight=\"bold\"\u003e\n                        Texto como span con color y peso.\n                      \u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        as=\"span\" color=\"accent\" weight=\"bold\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText as=\"div\" variant=\"caption\" color=\"muted\"\u003e\n                        Texto como div con variante y color.\n                      \u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        as=\"div\" variant=\"caption\" color=\"muted\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n                  \u003cdiv className=\"p-4 border rounded-md bg-background shadow-sm dark:bg-gray-800/50\"\u003e\n                    \u003cText variant=\"title\" className=\"mb-2\"\u003e\n                      Notas sobre `as` y Estilos de Encabezado\n                    \u003c/Text\u003e\n                    \u003cText\u003e\n                      Cuando usas `as=\"h1\"` (o `h2`-`h6`) y no especificas explícitamente las props `variant`, `size`,\n                      `weight`, `fontType` o `useHeadingFont`, el componente `Text` aplicará automáticamente los estilos\n                      de tamaño y peso de la variante \"heading\" y usará la fuente de encabezados. Puedes sobrescribir\n                      estos defaults especificando las props correspondientes. El color del texto se basará en la\n                      `variant` original (si no es una de las variantes de cuerpo que se promueven a `heading` por\n                      defecto para `as=\"h...\"`) o la prop `color` explícita.\n                    \u003c/Text\u003e\n                  \u003c/div\u003e\n                \u003c/ProCard.Content\u003e\n              \u003c/ProCard\u003e\n            \u003c/TabsContent\u003e\n\n            \u003cTabsContent value=\"colores\" className=\"mt-6\"\u003e\n              \u003cProCard variant=\"neutral\" shadow=\"md\" noPadding\u003e\n                \u003cProCard.Header\u003e\n                  \u003cProCard.Title\u003eColores de Texto\u003c/ProCard.Title\u003e\n                  \u003cText variant=\"subtitle\"\u003eEl componente Text ofrece diferentes opciones de color\u003c/Text\u003e\n                \u003c/ProCard.Header\u003e\n                \u003cProCard.Content className=\"space-y-8\"\u003e\n                  \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-4\"\u003e\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText color=\"default\" size=\"xl\"\u003e\n                        Color Default: Color de texto predeterminado.\n                      \u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        color=\"default\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText color=\"primary\" size=\"xl\"\u003e\n                        Color Primary: Color primario del tema actual.\n                      \u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        color=\"primary\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText color=\"secondary\" size=\"xl\"\u003e\n                        Color Secondary: Color secundario del tema actual.\n                      \u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        color=\"secondary\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText color=\"tertiary\" size=\"xl\"\u003e\n                        Color Tertiary: Color terciario del tema actual.\n                      \u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        color=\"tertiary\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText color=\"accent\" size=\"xl\"\u003e\n                        Color Accent: Color de acento universal.\n                      \u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        color=\"accent\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText color=\"success\" size=\"xl\"\u003e\n                        Color Success: Color de éxito universal.\n                      \u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        color=\"success\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText color=\"warning\" size=\"xl\"\u003e\n                        Color Warning: Color de advertencia universal.\n                      \u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        color=\"warning\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText color=\"danger\" size=\"xl\"\u003e\n                        Color Danger: Color de peligro universal.\n                      \u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        color=\"danger\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText color=\"muted\" size=\"xl\"\u003e\n                        Color Muted: Color atenuado para texto secundario.\n                      \u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        color=\"muted\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n\n                    \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                      \u003cText color=\"neutral\" size=\"xl\"\u003e\n                        Color Neutral: Color neutro independiente del tema.\n                      \u003c/Text\u003e\n                      \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                        color=\"neutral\"\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n\n                  \u003cdiv className=\"p-4 border rounded-md bg-background shadow-sm dark:bg-gray-800/50\"\u003e\n                    \u003cText variant=\"title\" className=\"mb-2\"\u003e\n                      Adaptación al Modo Oscuro\n                    \u003c/Text\u003e\n                    \u003cText className=\"mb-4\"\u003e\n                      Los colores se adaptan automáticamente al modo oscuro para mantener el contraste y la legibilidad.\n                      Prueba a cambiar entre modo claro y oscuro para ver cómo cambian los colores.\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-4\"\u003e\n                      \u003cdiv\u003e\n                        \u003cText color=\"primary\" size=\"xl\" weight=\"bold\"\u003e\n                          Texto en Color Primario\n                        \u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                          color=\"primary\" size=\"xl\" weight=\"bold\"\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cdiv\u003e\n                        \u003cText color=\"danger\" size=\"xl\" weight=\"bold\"\u003e\n                          Texto en Color de Peligro\n                        \u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1 text-gray-500\"\u003e\n                          color=\"danger\" size=\"xl\" weight=\"bold\"\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n                \u003c/ProCard.Content\u003e\n              \u003c/ProCard\u003e\n            \u003c/TabsContent\u003e\n\n            \u003cTabsContent value=\"variantes-color\" className=\"mt-6\"\u003e\n              \u003cProCard variant=\"neutral\" shadow=\"md\" noPadding\u003e\n                \u003cProCard.Header\u003e\n                  \u003cProCard.Title\u003eVariantes de Color\u003c/ProCard.Title\u003e\n                  \u003cText variant=\"subtitle\"\u003e\n                    El componente Text ofrece tres variantes de color para cada color: pure, text y textShade (legacy:\n                    dark)\n                  \u003c/Text\u003e\n                \u003c/ProCard.Header\u003e\n                \u003cProCard.Content className=\"space-y-8\"\u003e\n                  \u003cdiv className=\"space-y-6\"\u003e\n                    \u003cText variant=\"title\" className=\"mb-2\"\u003e\n                      Variantes de Color Primary\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"grid grid-cols-1 md:grid-cols-3 gap-4\"\u003e\n                      \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                        \u003cText color=\"primary\" colorVariant=\"pure\" size=\"xl\" weight=\"bold\"\u003e\n                          Primary Pure\n                        \u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1\"\u003e\n                          color=\"primary\" colorVariant=\"pure\"\n                        \u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1 text-gray-500 dark:text-gray-400\"\u003e\n                          {colorScheme}.primary.pure (modo claro) / {colorScheme}.primary.pureDark (modo oscuro)\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n\n                      \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                        \u003cText color=\"primary\" colorVariant=\"text\" size=\"xl\" weight=\"bold\"\u003e\n                          Primary Text\n                        \u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1\"\u003e\n                          color=\"primary\" colorVariant=\"text\"\n                        \u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1 text-gray-500 dark:text-gray-400\"\u003e\n                          {colorScheme}.primary.text (modo claro) / {colorScheme}.primary.textDark (modo oscuro)\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n\n                      \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                        \u003cText color=\"primary\" colorVariant=\"textShade\" size=\"xl\" weight=\"bold\"\u003e\n                          Primary TextShade\n                        \u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1\"\u003e\n                          color=\"primary\" colorVariant=\"textShade\"\n                        \u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1 text-gray-500 dark:text-gray-400\"\u003e\n                          {colorScheme}.primary.textDark (legacy, vía textTokens)\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n\n                  \u003cdiv className=\"space-y-6\"\u003e\n                    \u003cText variant=\"title\" className=\"mb-2\"\u003e\n                      Variantes de Color Secondary\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"grid grid-cols-1 md:grid-cols-3 gap-4\"\u003e\n                      \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                        \u003cText color=\"secondary\" colorVariant=\"pure\" size=\"xl\" weight=\"bold\"\u003e\n                          Secondary Pure\n                        \u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1\"\u003e\n                          color=\"secondary\" colorVariant=\"pure\"\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n\n                      \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                        \u003cText color=\"secondary\" colorVariant=\"text\" size=\"xl\" weight=\"bold\"\u003e\n                          Secondary Text\n                        \u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1\"\u003e\n                          color=\"secondary\" colorVariant=\"text\"\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n\n                      \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                        \u003cText color=\"secondary\" colorVariant=\"textShade\" size=\"xl\" weight=\"bold\"\u003e\n                          Secondary TextShade\n                        \u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1\"\u003e\n                          color=\"secondary\" colorVariant=\"textShade\"\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n\n                  \u003cdiv className=\"space-y-6\"\u003e\n                    \u003cText variant=\"title\" className=\"mb-2\"\u003e\n                      Variantes de Color Tertiary\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"grid grid-cols-1 md:grid-cols-3 gap-4\"\u003e\n                      \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                        \u003cText color=\"tertiary\" colorVariant=\"pure\" size=\"xl\" weight=\"bold\"\u003e\n                          Tertiary Pure\n                        \u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1\"\u003e\n                          color=\"tertiary\" colorVariant=\"pure\"\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n\n                      \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                        \u003cText color=\"tertiary\" colorVariant=\"text\" size=\"xl\" weight=\"bold\"\u003e\n                          Tertiary Text\n                        \u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1\"\u003e\n                          color=\"tertiary\" colorVariant=\"text\"\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n\n                      \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                        \u003cText color=\"tertiary\" colorVariant=\"textShade\" size=\"xl\" weight=\"bold\"\u003e\n                          Tertiary TextShade\n                        \u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1\"\u003e\n                          color=\"tertiary\" colorVariant=\"textShade\"\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n\n                  \u003cdiv className=\"space-y-6\"\u003e\n                    \u003cText variant=\"title\" className=\"mb-2\"\u003e\n                      Variantes de Colores Semánticos\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-4\"\u003e\n                      \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                        \u003cdiv className=\"space-y-2\"\u003e\n                          \u003cText color=\"accent\" colorVariant=\"pure\" size=\"lg\" weight=\"bold\"\u003e\n                            Accent Pure\n                          \u003c/Text\u003e\n                          \u003cText color=\"accent\" colorVariant=\"text\" size=\"lg\" weight=\"medium\"\u003e\n                            Accent Text\n                          \u003c/Text\u003e\n                          \u003cText color=\"accent\" colorVariant=\"textShade\" size=\"lg\"\u003e\n                            Accent TextShade\n                          \u003c/Text\u003e\n                        \u003c/div\u003e\n                      \u003c/div\u003e\n\n                      \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                        \u003cdiv className=\"space-y-2\"\u003e\n                          \u003cText color=\"success\" colorVariant=\"pure\" size=\"lg\" weight=\"bold\"\u003e\n                            Success Pure\n                          \u003c/Text\u003e\n                          \u003cText color=\"success\" colorVariant=\"text\" size=\"lg\" weight=\"medium\"\u003e\n                            Success Text\n                          \u003c/Text\u003e\n                          \u003cText color=\"success\" colorVariant=\"textShade\" size=\"lg\"\u003e\n                            Success TextShade\n                          \u003c/Text\u003e\n                        \u003c/div\u003e\n                      \u003c/div\u003e\n\n                      \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                        \u003cdiv className=\"space-y-2\"\u003e\n                          \u003cText color=\"warning\" colorVariant=\"pure\" size=\"lg\" weight=\"bold\"\u003e\n                            Warning Pure\n                          \u003c/Text\u003e\n                          \u003cText color=\"warning\" colorVariant=\"text\" size=\"lg\" weight=\"medium\"\u003e\n                            Warning Text\n                          \u003c/Text\u003e\n                          \u003cText color=\"warning\" colorVariant=\"textShade\" size=\"lg\"\u003e\n                            Warning TextShade\n                          \u003c/Text\u003e\n                        \u003c/div\u003e\n                      \u003c/div\u003e\n\n                      \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                        \u003cdiv className=\"space-y-2\"\u003e\n                          \u003cText color=\"danger\" colorVariant=\"pure\" size=\"lg\" weight=\"bold\"\u003e\n                            Danger Pure\n                          \u003c/Text\u003e\n                          \u003cText color=\"danger\" colorVariant=\"text\" size=\"lg\" weight=\"medium\"\u003e\n                            Danger Text\n                          \u003c/Text\u003e\n                          \u003cText color=\"danger\" colorVariant=\"textShade\" size=\"lg\"\u003e\n                            Danger TextShade\n                          \u003c/Text\u003e\n                        \u003c/div\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n                \u003c/ProCard.Content\u003e\n              \u003c/ProCard\u003e\n            \u003c/TabsContent\u003e\n\n            \u003cTabsContent value=\"gradientes\" className=\"mt-6\"\u003e\n              \u003cProCard variant=\"neutral\" shadow=\"md\" noPadding\u003e\n                \u003cProCard.Header\u003e\n                  \u003cProCard.Title\u003eGradientes de Texto\u003c/ProCard.Title\u003e\n                  \u003cText variant=\"subtitle\"\u003e\n                    Texto con efecto de gradiente triple (ej. pure → pureShade → textShade) que se adapta al tema activo\n                  \u003c/Text\u003e\n                \u003c/ProCard.Header\u003e\n                \u003cProCard.Content className=\"space-y-8\"\u003e\n                  \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                    \u003cText variant=\"title\" className=\"mb-4\"\u003e\n                      Gradientes del Tema Actual\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n                      \u003cdiv className=\"space-y-4\"\u003e\n                        \u003cdiv\u003e\n                          \u003cText size=\"3xl\" gradient=\"primary\"\u003e\n                            Gradiente Primary\n                          \u003c/Text\u003e\n                          \u003cText variant=\"caption\" className=\"mt-1\"\u003e\n                            gradient=\"primary\"\n                          \u003c/Text\u003e\n                        \u003c/div\u003e\n\n                        \u003cdiv\u003e\n                          \u003cText size=\"3xl\" gradient=\"secondary\"\u003e\n                            Gradiente Secondary\n                          \u003c/Text\u003e\n                          \u003cText variant=\"caption\" className=\"mt-1\"\u003e\n                            gradient=\"secondary\"\n                          \u003c/Text\u003e\n                        \u003c/div\u003e\n\n                        \u003cdiv\u003e\n                          \u003cText size=\"3xl\" gradient=\"tertiary\"\u003e\n                            Gradiente Tertiary\n                          \u003c/Text\u003e\n                          \u003cText variant=\"caption\" className=\"mt-1\"\u003e\n                            gradient=\"tertiary\"\n                          \u003c/Text\u003e\n                        \u003c/div\u003e\n                      \u003c/div\u003e\n\n                      \u003cdiv className=\"space-y-4\"\u003e\n                        \u003cdiv\u003e\n                          \u003cText size=\"3xl\" gradient=\"accent\"\u003e\n                            Gradiente Accent\n                          \u003c/Text\u003e\n                          \u003cText variant=\"caption\" className=\"mt-1\"\u003e\n                            gradient=\"accent\"\n                          \u003c/Text\u003e\n                        \u003c/div\u003e\n\n                        \u003cdiv\u003e\n                          \u003cText size=\"3xl\" gradient=\"success\"\u003e\n                            Gradiente Success\n                          \u003c/Text\u003e\n                          \u003cText variant=\"caption\" className=\"mt-1\"\u003e\n                            gradient=\"success\"\n                          \u003c/Text\u003e\n                        \u003c/div\u003e\n\n                        \u003cdiv\u003e\n                          \u003cText size=\"3xl\" gradient=\"warning\"\u003e\n                            Gradiente Warning\n                          \u003c/Text\u003e\n                          \u003cText variant=\"caption\" className=\"mt-1\"\u003e\n                            gradient=\"warning\"\n                          \u003c/Text\u003e\n                        \u003c/div\u003e\n\n                        \u003cdiv\u003e\n                          \u003cText size=\"3xl\" gradient=\"danger\"\u003e\n                            Gradiente Danger\n                          \u003c/Text\u003e\n                          \u003cText variant=\"caption\" className=\"mt-1\"\u003e\n                            gradient=\"danger\"\n                          \u003c/Text\u003e\n                        \u003c/div\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n\n                  \u003cdiv className=\"p-4 border rounded-md bg-background shadow-sm dark:bg-gray-800/50\"\u003e\n                    \u003cText variant=\"title\" className=\"mb-4\"\u003e\n                      Combinaciones con Otras Propiedades\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"space-y-6\"\u003e\n                      \u003cdiv\u003e\n                        \u003cText variant=\"heading\" size=\"4xl\" gradient=\"primary\"\u003e\n                          Título Principal con Gradiente\n                        \u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1\"\u003e\n                          variant=\"heading\" size=\"4xl\" gradient=\"primary\"\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n\n                      \u003cdiv\u003e\n                        \u003cText variant=\"title\" size=\"2xl\" gradient=\"secondary\" align=\"center\"\u003e\n                          Título Centrado con Gradiente\n                        \u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1 text-center\"\u003e\n                          variant=\"title\" size=\"2xl\" gradient=\"secondary\" align=\"center\"\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n\n                      \u003cdiv\u003e\n                        \u003cText size=\"xl\" gradient=\"tertiary\" weight=\"bold\"\u003e\n                          Texto en Negrita con Gradiente\n                        \u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1\"\u003e\n                          size=\"xl\" gradient=\"tertiary\" weight=\"bold\"\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n\n                  \u003cdiv className=\"p-4 border rounded-md\"\u003e\n                    \u003cText variant=\"title\" className=\"mb-4\"\u003e\n                      Uso del Gradiente Booleano\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"space-y-4\"\u003e\n                      \u003cdiv\u003e\n                        \u003cText size=\"3xl\" gradient={true}\u003e\n                          Gradiente Predeterminado (Primary)\n                        \u003c/Text\u003e\n                        \u003cText variant=\"caption\" className=\"mt-1\"\u003e\n                          gradient={\"{true}\"} (equivalente a gradient=\"primary\")\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n                \u003c/ProCard.Content\u003e\n              \u003c/ProCard\u003e\n            \u003c/TabsContent\u003e\n\n            \u003cTabsContent value=\"ejemplos\" className=\"mt-6\"\u003e\n              \u003cProCard variant=\"neutral\" shadow=\"md\" noPadding\u003e\n                \u003cProCard.Header\u003e\n                  \u003cProCard.Title\u003eEjemplos Prácticos\u003c/ProCard.Title\u003e\n                  \u003cText variant=\"subtitle\"\u003eEjemplos de uso del componente Text en situaciones reales\u003c/Text\u003e\n                \u003c/ProCard.Header\u003e\n                \u003cProCard.Content className=\"space-y-8\"\u003e\n                  \u003cdiv className=\"p-6 border rounded-md bg-background shadow-sm dark:bg-gray-800/50\"\u003e\n                    \u003cText variant=\"title\" className=\"mb-6\"\u003e\n                      Ejemplo de Encabezado de Página\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"flex flex-col items-center text-center\"\u003e\n                      \u003cText color=\"primary\" colorVariant=\"pure\" weight=\"bold\" size=\"xl\" align=\"center\"\u003e\n                        UNIVERSIDAD CATÓLICA DE CHILE\n                      \u003c/Text\u003e\n                      \u003cdiv className=\"h-1 w-24 bg-blue-600 my-3\"\u003e\u003c/div\u003e\n                      \u003cText variant=\"title\" gradient=\"primary\" size=\"4xl\" align=\"center\" className=\"my-4\"\u003e\n                        Ayudas Técnicas\n                      \u003c/Text\u003e\n                      \u003cText variant=\"title\" gradient=\"secondary\" size=\"2xl\" align=\"center\" className=\"mb-6\"\u003e\n                        Escuela de Trabajo Social\n                      \u003c/Text\u003e\n                      \u003cText variant=\"subtitle\" color=\"muted\" align=\"center\" className=\"max-w-2xl\"\u003e\n                        Plataforma de herramientas para investigación y análisis de datos cualitativos\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n\n                  \u003cdiv className=\"p-6 border rounded-md bg-background shadow-sm dark:bg-gray-800/50\"\u003e\n                    \u003cText variant=\"title\" className=\"mb-6\"\u003e\n                      Ejemplo de Artículo\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"max-w-3xl mx-auto\"\u003e\n                      \u003cText variant=\"heading\" size=\"3xl\" className=\"mb-4\"\u003e\n                        La Importancia del Análisis Cualitativo\n                      \u003c/Text\u003e\n                      \u003cText variant=\"subtitle\" color=\"muted\" className=\"mb-6\"\u003e\n                        Publicado el 30 de abril de 2025 · 5 min de lectura\n                      \u003c/Text\u003e\n                      \u003cText className=\"mb-4\"\u003e\n                        El análisis cualitativo es fundamental para comprender en profundidad los fenómenos sociales. A\n                        diferencia del análisis cuantitativo, que se centra en datos numéricos, el análisis cualitativo\n                        busca entender significados, experiencias y contextos.\n                      \u003c/Text\u003e\n                      \u003cText variant=\"subheading\" size=\"xl\" className=\"mt-6 mb-3\"\u003e\n                        Métodos de Análisis Cualitativo\n                      \u003c/Text\u003e\n                      \u003cText className=\"mb-4\"\u003e\n                        Existen diversos métodos para realizar análisis cualitativo, cada uno con sus propias fortalezas\n                        y aplicaciones específicas. Entre los más utilizados encontramos:\n                      \u003c/Text\u003e\n                      \u003cdiv className=\"ml-6 mb-6\"\u003e\n                        \u003cText variant=\"title\" size=\"lg\" className=\"mb-2\"\u003e\n                          1. Análisis de Contenido\n                        \u003c/Text\u003e\n                        \u003cText className=\"mb-4\"\u003e\n                          Técnica que permite examinar sistemáticamente textos y documentos para identificar temas,\n                          patrones y significados.\n                        \u003c/Text\u003e\n                        \u003cText variant=\"title\" size=\"lg\" className=\"mb-2\"\u003e\n                          2. Análisis del Discurso\n                        \u003c/Text\u003e\n                        \u003cText\u003e\n                          Método que estudia cómo el lenguaje construye y refleja realidades sociales, relaciones de\n                          poder e identidades.\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cText color=\"primary\" weight=\"medium\" className=\"mt-6\"\u003e\n                        El análisis cualitativo nos permite dar voz a las experiencias humanas que no pueden ser\n                        reducidas a números.\n                      \u003c/Text\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n\n                  \u003cdiv className=\"p-6 border rounded-md bg-background shadow-sm dark:bg-gray-800/50\"\u003e\n                    \u003cText variant=\"title\" className=\"mb-6\"\u003e\n                      Ejemplo de Tarjeta de Producto\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"max-w-md mx-auto bg-gray-100 dark:bg-gray-900/70 rounded-lg overflow-hidden shadow-md\"\u003e\n                      \u003cdiv className=\"p-6\"\u003e\n                        \u003cText variant=\"title\" size=\"xl\" className=\"mb-2\"\u003e\n                          Software de Análisis Cualitativo\n                        \u003c/Text\u003e\n                        \u003cText variant=\"subtitle\" color=\"muted\" className=\"mb-4\"\u003e\n                          Herramienta profesional para investigadores\n                        \u003c/Text\u003e\n                        \u003cText className=\"mb-6\"\u003e\n                          Plataforma completa para codificación, análisis y visualización de datos cualitativos. Ideal\n                          para investigadores, académicos y estudiantes.\n                        \u003c/Text\u003e\n                        \u003cdiv className=\"flex justify-between items-center\"\u003e\n                          \u003cText variant=\"heading\" size=\"2xl\" color=\"primary\"\u003e\n                            $299\n                          \u003c/Text\u003e\n                          \u003cText variant=\"caption\" color=\"success\"\u003e\n                            En stock · Envío inmediato\n                          \u003c/Text\u003e\n                        \u003c/div\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n\n                  \u003cdiv className=\"p-6 border rounded-md bg-background shadow-sm dark:bg-gray-800/50\"\u003e\n                    \u003cText variant=\"title\" className=\"mb-6\"\u003e\n                      Ejemplo de Mensaje de Estado\n                    \u003c/Text\u003e\n                    \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"\u003e\n                      \u003cdiv className=\"p-4 bg-green-50 dark:bg-green-700/30 border border-green-200 dark:border-green-600/50 rounded-md\"\u003e\n                        \u003cText variant=\"title\" size=\"lg\" color=\"success\" className=\"mb-2\"\u003e\n                          Operación Exitosa\n                        \u003c/Text\u003e\n                        \u003cText color=\"success\" colorVariant=\"textShade\"\u003e\n                          Los datos han sido guardados correctamente en la base de datos. Puedes continuar con el\n                          siguiente paso.\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n\n                      \u003cdiv className=\"p-4 bg-red-50 dark:bg-red-700/30 border border-red-200 dark:border-red-600/50 rounded-md\"\u003e\n                        \u003cText variant=\"title\" size=\"lg\" color=\"danger\" className=\"mb-2\"\u003e\n                          Error en la Operación\n                        \u003c/Text\u003e\n                        \u003cText color=\"danger\" colorVariant=\"textShade\"\u003e\n                          No se pudieron guardar los cambios debido a un problema de conexión. Por favor, intenta\n                          nuevamente.\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n\n                  \u003cdiv className=\"p-4 border rounded-md bg-background shadow-sm dark:bg-gray-800/50\"\u003e\n                    \u003cText variant=\"title\" className=\"mb-4\"\u003e\n                      Código de Ejemplo\n                    \u003c/Text\u003e\n                    \u003cpre className=\"bg-gray-100 dark:bg-gray-900/70 p-4 rounded-md overflow-x-auto\"\u003e\n                      \u003ccode\u003e{`// Ejemplo de uso del componente Text en una página de perfil\nexport default function ProfilePage() {\n  return (\n    \u003cdiv className=\"container mx-auto p-6\"\u003e\n      \u003cText variant=\"heading\" size=\"3xl\" gradient=\"primary\"\u003e\n        Perfil de Usuario\n      \u003c/Text\u003e\n      \n      \u003cdiv className=\"mt-6\"\u003e\n        \u003cText variant=\"title\" size=\"xl\"\u003e\n          Información Personal\n        \u003c/Text\u003e\n        \u003cText variant=\"subtitle\" color=\"muted\" className=\"mt-1 mb-4\"\u003e\n          Datos básicos de tu cuenta\n        \u003c/Text\u003e\n        \n        \u003cdiv className=\"space-y-2\"\u003e\n          \u003cdiv\u003e\n            \u003cText variant=\"label\"\u003eNombre\u003c/Text\u003e\n            \u003cText\u003eMaría González\u003c/Text\u003e\n          \u003c/div\u003e\n          \n          \u003cdiv\u003e\n            \u003cText variant=\"label\"\u003eCorreo Electrónico\u003c/Text\u003e\n            \u003cText\u003emaria.gonzalez@ejemplo.com\u003c/Text\u003e\n          \u003c/div\u003e\n          \n          \u003cdiv\u003e\n            \u003cText variant=\"label\"\u003eRol\u003c/Text\u003e\n            \u003cText color=\"primary\" weight=\"medium\"\u003eInvestigador Principal\u003c/Text\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n      \n      \u003cdiv className=\"mt-8\"\u003e\n        \u003cText variant=\"caption\" align=\"center\" className=\"text-gray-500\"\u003e\n          Última actualización: 30 de abril de 2025\n        \u003c/Text\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}`}\u003c/code\u003e\n                    \u003c/pre\u003e\n                  \u003c/div\u003e\n                \u003c/ProCard.Content\u003e\n              \u003c/ProCard\u003e\n            \u003c/TabsContent\u003e\n          \u003c/Tabs\u003e\n        \u003c/div\u003e\n      \u003c/ProCard\u003e\n\n      \u003cProCard variant=\"neutral\" shadow=\"md\" className=\"mt-8\" noPadding\u003e\n        \u003cProCard.Header\u003e\n          \u003cProCard.Title\u003eTabla de Referencia Rápida\u003c/ProCard.Title\u003e\n          \u003cText variant=\"subtitle\"\u003eResumen de todas las propiedades disponibles para el componente Text\u003c/Text\u003e\n        \u003c/ProCard.Header\u003e\n        \u003cProCard.Content\u003e\n          \u003cdiv className=\"overflow-x-auto p-4 md:p-6\"\u003e\n            \u003ctable className=\"w-full border-collapse\"\u003e{/* ... (contenido de la tabla sin cambios) ... */}\u003c/table\u003e\n          \u003c/div\u003e\n        \u003c/ProCard.Content\u003e\n      \u003c/ProCard\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"d9:T450d,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { Loader2 } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\nimport { useTheme } from \"@/app/theme-provider\"\nimport { useRipple } from \"@/components/ripple/RippleProvider\"\nimport {\n  generateButtonTokens,\n  type ButtonColor,\n  type ButtonRounded,\n  type ButtonSize,\n  type ButtonVariant,\n} from \"@/lib/theme/components/button-tokens\"\n\n// Definimos las propiedades del botón\nexport interface CustomButtonProps\n  extends React.ButtonHTMLAttributes\u003cHTMLButtonElement\u003e,\n    VariantProps\u003ctypeof buttonVariants\u003e {\n  asChild?: boolean\n  leftIcon?: React.ReactNode\n  rightIcon?: React.ReactNode\n  iconOnly?: boolean\n  loading?: boolean\n  loadingText?: string\n  fullWidth?: boolean\n  color?: ButtonColor\n  rounded?: ButtonRounded\n  bordered?: boolean\n  gradient?: boolean\n  elevated?: boolean\n  variant?: ButtonVariant\n  size?: ButtonSize\n  disableRipple?: boolean\n}\n\n// Definimos las variantes del botón usando CVA\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center whitespace-nowrap font-medium transition-all focus-visible:outline-none disabled:pointer-events-none relative overflow-hidden\",\n  {\n    variants: {\n      variant: {\n        solid: \"\",\n        outline: \"\",\n        ghost: \"\",\n        link: \"underline-offset-4 hover:underline\",\n        subtle: \"\",\n      },\n      size: {\n        xs: \"\",\n        sm: \"\",\n        md: \"\",\n        lg: \"\",\n        xl: \"\",\n      },\n      rounded: {\n        none: \"\",\n        sm: \"\",\n        md: \"\",\n        lg: \"\",\n        full: \"\",\n      },\n      fullWidth: {\n        true: \"w-full\",\n      },\n      bordered: {\n        true: \"\",\n      },\n      gradient: {\n        true: \"\",\n      },\n      elevated: {\n        true: \"\",\n      },\n      iconOnly: {\n        true: \"\",\n      },\n    },\n    defaultVariants: {\n      variant: \"solid\",\n      size: \"md\",\n      rounded: \"md\",\n    },\n  },\n)\n\nconst CustomButton = React.forwardRef\u003cHTMLButtonElement, CustomButtonProps\u003e(\n  (\n    {\n      className,\n      variant = \"solid\",\n      size = \"md\",\n      rounded = \"md\",\n      color = \"primary\",\n      asChild = false,\n      leftIcon,\n      rightIcon,\n      iconOnly = false,\n      loading = false,\n      loadingText,\n      fullWidth = false,\n      bordered = false,\n      gradient = false,\n      elevated = false,\n      children,\n      disabled,\n      disableRipple = false,\n      onClick,\n      ...props\n    },\n    ref,\n  ) =\u003e {\n    const { appColorTokens, mode } = useTheme()\n    const buttonTokens = React.useMemo(() =\u003e {\n      if (!appColorTokens) return null\n      return generateButtonTokens(appColorTokens, mode)\n    }, [appColorTokens, mode])\n\n    const triggerRipple = useRipple()\n\n    const [isPressed, setIsPressed] = React.useState(false)\n    const [isHovered, setIsHovered] = React.useState(false)\n\n    const buttonRef = React.useRef\u003cHTMLButtonElement | null\u003e(null)\n    const leftIconRef = React.useRef\u003cHTMLSpanElement | null\u003e(null)\n    const rightIconRef = React.useRef\u003cHTMLSpanElement | null\u003e(null)\n    const textRef = React.useRef\u003cHTMLSpanElement | null\u003e(null)\n\n    // Corregido: Usar una función de callback para manejar la referencia\n    const combinedRef = React.useCallback(\n      (node: HTMLButtonElement | null) =\u003e {\n        // Asignar a buttonRef.current\n        buttonRef.current = node\n\n        // Manejar la ref externa\n        if (typeof ref === \"function\") {\n          ref(node)\n        } else if (ref) {\n          // Usar una asignación segura para TypeScript\n          ;(ref as React.MutableRefObject\u003cHTMLButtonElement | null\u003e).current = node\n        }\n      },\n      [ref],\n    )\n\n    const handleMouseDown = React.useCallback(() =\u003e {\n      if (disabled || loading) return\n      setIsPressed(true)\n    }, [disabled, loading])\n\n    const handleMouseUp = React.useCallback(() =\u003e {\n      setIsPressed(false)\n    }, [])\n\n    const handleMouseEnter = React.useCallback(() =\u003e {\n      setIsHovered(true)\n    }, [])\n\n    const handleMouseLeave = React.useCallback(() =\u003e {\n      setIsPressed(false)\n      setIsHovered(false)\n    }, [])\n\n    const handleClick = React.useCallback(\n      (e: React.MouseEvent\u003cHTMLButtonElement\u003e) =\u003e {\n        if (disabled || loading || disableRipple || !buttonTokens || !appColorTokens) return\n\n        let finalRippleColor = \"\"\n\n        // Lógica mejorada para el color del ripple\n        if (variant === \"solid\") {\n          // Para botones solid, usamos el color bg de la variante correspondiente\n          // Esto asegura que el ripple sea un tono del color del botón, no un blanco fijo\n          switch (color) {\n            case \"primary\":\n              finalRippleColor = appColorTokens.primary.bg\n              break\n            case \"secondary\":\n              finalRippleColor = appColorTokens.secondary.bg\n              break\n            case \"tertiary\":\n              finalRippleColor = appColorTokens.tertiary.bg\n              break\n            case \"accent\":\n              finalRippleColor = appColorTokens.accent.bg\n              break\n            case \"success\":\n              finalRippleColor = appColorTokens.success.bg\n              break\n            case \"warning\":\n              finalRippleColor = appColorTokens.warning.bg\n              break\n            case \"danger\":\n              finalRippleColor = appColorTokens.danger.bg\n              break\n            case \"default\":\n              finalRippleColor = mode === \"dark\" ? \"rgba(255, 255, 255, 0.2)\" : \"rgba(0, 0, 0, 0.1)\"\n              break\n            default:\n              finalRippleColor = appColorTokens.primary.bg\n              break\n          }\n        } else if (variant === \"ghost\" || variant === \"outline\" || variant === \"subtle\") {\n          // Para otras variantes, usamos el color pure como antes\n          switch (color) {\n            case \"primary\":\n              finalRippleColor = appColorTokens.primary.pure\n              break\n            case \"secondary\":\n              finalRippleColor = appColorTokens.secondary.pure\n              break\n            case \"tertiary\":\n              finalRippleColor = appColorTokens.tertiary.pure\n              break\n            case \"accent\":\n              finalRippleColor = appColorTokens.accent.pure\n              break\n            case \"success\":\n              finalRippleColor = appColorTokens.success.pure\n              break\n            case \"warning\":\n              finalRippleColor = appColorTokens.warning.pure\n              break\n            case \"danger\":\n              finalRippleColor = appColorTokens.danger.pure\n              break\n            case \"default\":\n              finalRippleColor = appColorTokens.neutral.pure\n              break\n            default:\n              finalRippleColor = appColorTokens.primary.pure\n              break\n          }\n        } else {\n          // Para link y otras variantes, usamos el rippleColor definido en los tokens\n          finalRippleColor = buttonTokens.colors[color].rippleColor\n        }\n\n        const buttonRect = buttonRef.current?.getBoundingClientRect()\n        const maxDimension = buttonRect ? Math.max(buttonRect.width, buttonRect.height) : 100\n        const scale = (maxDimension / 8) * 0.6\n\n        triggerRipple(e, finalRippleColor, scale)\n\n        if (onClick) {\n          onClick(e)\n        }\n      },\n      [disabled, loading, disableRipple, buttonTokens, appColorTokens, color, variant, mode, triggerRipple, onClick],\n    )\n\n    const hexToRgb = React.useCallback((hex: string): string | null =\u003e {\n      const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex.trim())\n      return result\n        ? `${Number.parseInt(result[1], 16)}, ${Number.parseInt(result[2], 16)}, ${Number.parseInt(result[3], 16)}`\n        : null\n    }, [])\n\n    const lightenColor = React.useCallback(\n      (hex: string, percent: number): string =\u003e {\n        const rgb = hexToRgb(hex)\n        if (!rgb) return hex\n\n        const [r, g, b] = rgb.split(\",\").map(Number)\n        const lightenAmount = 255 * (percent / 100)\n\n        const newR = Math.min(255, r + lightenAmount)\n        const newG = Math.min(255, g + lightenAmount)\n        const newB = Math.min(255, b + lightenAmount)\n\n        return `rgb(${Math.round(newR)}, ${Math.round(newG)}, ${Math.round(newB)})`\n      },\n      [hexToRgb],\n    )\n\n    const darkenColor = React.useCallback(\n      (hex: string, percent: number): string =\u003e {\n        const rgb = hexToRgb(hex)\n        if (!rgb) return hex\n\n        const [r, g, b] = rgb.split(\",\").map(Number)\n        const darkenAmount = percent / 100\n\n        const newR = Math.max(0, r * (1 - darkenAmount))\n        const newG = Math.max(0, g * (1 - darkenAmount))\n        const newB = Math.max(0, b * (1 - darkenAmount))\n\n        return `rgb(${Math.round(newR)}, ${Math.round(newG)}, ${Math.round(newB)})`\n      },\n      [hexToRgb],\n    )\n\n    const createVisibleGradient = React.useCallback(\n      (baseColor: string, isPressed: boolean, isHovered: boolean): string =\u003e {\n        const lightColor = lightenColor(baseColor, isPressed ? 10 : isHovered ? 20 : 30)\n        const darkColor = darkenColor(baseColor, isPressed ? 30 : isHovered ? 20 : 10)\n\n        const direction = isPressed ? \"to bottom\" : \"to top\"\n\n        return `linear-gradient(${direction}, ${darkColor}, ${baseColor} 50%, ${lightColor})`\n      },\n      [lightenColor, darkenColor],\n    )\n\n    const getTextColor = React.useCallback((): string =\u003e {\n      if (!buttonTokens || !appColorTokens) {\n        return \"#000000\" // Valor por defecto si no hay tokens\n      }\n\n      // Efecto hover diferenciado por tipo de botón\n      if (isHovered \u0026\u0026 !disabled) {\n        if (variant === \"solid\") {\n          // Para botones solid, usamos accent.bg (lila suave)\n          return appColorTokens.accent.bg\n        } else {\n          // Para botones outline, ghost, link y subtle, usamos accent.pure para mejor contraste\n          return appColorTokens.accent.pure\n        }\n      }\n\n      // Estado normal (sin hover)\n      if (variant === \"ghost\" || variant === \"outline\" || variant === \"link\" || variant === \"subtle\") {\n        return buttonTokens.colors[color].ghostColor\n      } else if (variant === \"solid\") {\n        return buttonTokens.colors[color].color\n      }\n\n      return buttonTokens.colors[color].color\n    }, [buttonTokens, appColorTokens, isHovered, disabled, variant, color])\n\n    const buttonContent = loading ? (\n      \u003c\u003e\n        \u003cLoader2 className=\"mr-2 h-4 w-4 animate-spin\" /\u003e\n        \u003cspan className=\"inline-block\"\u003e{loadingText || children}\u003c/span\u003e\n      \u003c/\u003e\n    ) : (\n      \u003c\u003e\n        {leftIcon \u0026\u0026 (\n          \u003cspan\n            ref={leftIconRef}\n            className=\"mr-2 inline-flex items-center justify-center transition-transform duration-300 ease-in-out\"\n            style={{ transformOrigin: \"center\" }}\n          \u003e\n            {leftIcon}\n          \u003c/span\u003e\n        )}\n        \u003cspan\n          ref={textRef}\n          className=\"inline-block transition-transform duration-300 ease-in-out\"\n          style={{ transformOrigin: \"center\" }}\n        \u003e\n          {children}\n        \u003c/span\u003e\n        {rightIcon \u0026\u0026 (\n          \u003cspan\n            ref={rightIconRef}\n            className=\"ml-2 inline-flex items-center justify-center transition-transform duration-300 ease-in-out\"\n            style={{ transformOrigin: \"center\" }}\n          \u003e\n            {rightIcon}\n          \u003c/span\u003e\n        )}\n      \u003c/\u003e\n    )\n\n    const customStyles = React.useMemo(() =\u003e {\n      if (!buttonTokens) return {}\n\n      const styles: React.CSSProperties = {\n        padding: iconOnly ? \"0\" : buttonTokens.base.padding[size],\n        height: iconOnly ? buttonTokens.base.height[size] : \"auto\",\n        width: iconOnly ? buttonTokens.base.height[size] : \"auto\",\n        minHeight: buttonTokens.base.height[size],\n        borderRadius: buttonTokens.base.borderRadius[rounded],\n        fontSize: buttonTokens.base.fontSize[size],\n        fontWeight: buttonTokens.base.fontWeight,\n        gap: buttonTokens.base.gap[size],\n        transition: \"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)\",\n        overflow: \"hidden\",\n        position: \"relative\",\n        display: \"inline-flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n      }\n\n      const textColor = getTextColor()\n      const rgbColorResult = hexToRgb(buttonTokens.colors[color].background)\n      const rgbColor = rgbColorResult || \"0,0,0\"\n\n      if (variant === \"solid\") {\n        if (gradient) {\n          styles.backgroundImage = createVisibleGradient(buttonTokens.colors[color].background, isPressed, isHovered)\n        } else {\n          styles.backgroundColor = isPressed\n            ? buttonTokens.colors[color].activeBackground\n            : isHovered\n              ? buttonTokens.colors[color].hoverBackground\n              : buttonTokens.colors[color].background\n        }\n\n        styles.color = textColor\n        styles.border = \"none\"\n\n        if (gradient \u0026\u0026 isPressed) {\n          styles.boxShadow = \"inset 0 3px 5px rgba(0, 0, 0, 0.3)\"\n          styles.transform = \"scale(0.97) translateY(3px)\"\n        }\n      } else if (variant === \"outline\") {\n        const bgOpacity =\n          color === \"default\" ? (isPressed ? 0.25 : isHovered ? 0.15 : 0) : isPressed ? 0.15 : isHovered ? 0.08 : 0\n\n        styles.backgroundColor = `rgba(${rgbColor}, ${bgOpacity})`\n\n        styles.color = textColor\n        styles.border = `1px solid ${\n          isPressed\n            ? buttonTokens.colors[color].activeBorder\n            : isHovered\n              ? buttonTokens.colors[color].hoverBorder\n              : buttonTokens.colors[color].outlineBorder\n        }`\n      } else if (variant === \"ghost\") {\n        const bgOpacity =\n          color === \"default\" ? (isPressed ? 0.35 : isHovered ? 0.2 : 0) : isPressed ? 0.25 : isHovered ? 0.12 : 0\n\n        styles.backgroundColor = `rgba(${rgbColor}, ${bgOpacity})`\n\n        styles.color = textColor\n        styles.border = \"none\"\n      } else if (variant === \"subtle\") {\n        const bgOpacity = isPressed ? 0.4 : isHovered ? 0.3 : 0.2\n        styles.backgroundColor = `rgba(${rgbColor}, ${bgOpacity})`\n\n        styles.color = textColor\n        styles.border = \"none\"\n      } else if (variant === \"link\") {\n        styles.backgroundColor = \"transparent\"\n\n        styles.color = textColor\n        styles.border = \"none\"\n        if (isHovered) {\n          styles.textDecoration = \"underline\"\n        }\n      }\n\n      if (elevated \u0026\u0026 !disabled) {\n        styles.boxShadow = isPressed\n          ? \"0 1px 2px rgba(0, 0, 0, 0.2)\"\n          : isHovered\n            ? \"0 8px 16px rgba(0, 0, 0, 0.2)\"\n            : \"0 4px 8px rgba(0, 0, 0, 0.15)\"\n      }\n\n      if (!disabled) {\n        if (isPressed) {\n          styles.transform = gradient ? \"scale(0.97) translateY(3px)\" : \"translateY(2px)\"\n        } else if (isHovered \u0026\u0026 elevated) {\n          styles.transform = \"translateY(-3px)\"\n        }\n      }\n\n      if (disabled) {\n        styles.backgroundColor = buttonTokens.variants[variant].disabled.background\n        styles.color = buttonTokens.variants[variant].disabled.color\n        styles.border = buttonTokens.variants[variant].disabled.border\n        styles.opacity = buttonTokens.variants[variant].disabled.opacity\n        styles.cursor = buttonTokens.variants[variant].disabled.cursor\n      }\n\n      return styles\n    }, [\n      buttonTokens,\n      size,\n      rounded,\n      iconOnly,\n      elevated,\n      gradient,\n      isPressed,\n      isHovered,\n      disabled,\n      variant,\n      color,\n      getTextColor,\n      hexToRgb,\n      createVisibleGradient,\n    ])\n\n    React.useEffect(() =\u003e {\n      if (disabled || loading) return\n\n      // Usar una forma segura de manipular los estilos de las referencias\n      if (leftIconRef.current) {\n        leftIconRef.current.style.transform = isHovered ? \"scale(1.15)\" : \"scale(1)\"\n      }\n\n      if (rightIconRef.current) {\n        rightIconRef.current.style.transform = isHovered ? \"scale(1.15)\" : \"scale(1)\"\n      }\n\n      if (textRef.current) {\n        textRef.current.style.transform = isHovered ? \"scale(1.03)\" : \"scale(1)\"\n      }\n    }, [isHovered, disabled, loading])\n\n    // Verificar si buttonTokens está disponible\n    if (!buttonTokens) {\n      return (\n        \u003cbutton\n          ref={ref as React.Ref\u003cHTMLButtonElement\u003e}\n          className={cn(\n            \"inline-flex items-center justify-center whitespace-nowrap font-medium\",\n            \"px-3 py-2 text-sm rounded-md\",\n            \"bg-gray-200 text-gray-500 cursor-not-allowed opacity-50\",\n            fullWidth ? \"w-full\" : \"\",\n            className,\n          )}\n          disabled\n          {...props}\n        \u003e\n          {loading ? \u003cLoader2 className=\"mr-2 h-4 w-4 animate-spin\" /\u003e : null}\n          {loading \u0026\u0026 loadingText ? loadingText : children}\n          {!loading \u0026\u0026 !loadingText ? children : null}\n        \u003c/button\u003e\n      )\n    }\n\n    const Comp = asChild ? Slot : \"button\"\n\n    return (\n      \u003cComp\n        className={cn(\n          buttonVariants({\n            variant,\n            size,\n            rounded,\n            fullWidth,\n            bordered,\n            gradient,\n            elevated,\n            iconOnly,\n            className,\n          }),\n        )}\n        ref={combinedRef}\n        disabled={disabled || loading}\n        style={customStyles}\n        onMouseDown={handleMouseDown}\n        onMouseUp={handleMouseUp}\n        onMouseEnter={handleMouseEnter}\n        onMouseLeave={handleMouseLeave}\n        onClick={handleClick}\n        {...props}\n      \u003e\n        {buttonContent}\n      \u003c/Comp\u003e\n    )\n  },\n)\n\nCustomButton.displayName = \"CustomButton\"\n\nexport { CustomButton, buttonVariants }\n"])</script><script>self.__next_f.push([1,"da:T49ec,"])</script><script>self.__next_f.push([1,"import tinycolor from \"tinycolor2\"\n\nimport colors from \"../colors\"\nimport type { AppColorTokens, Mode } from \"../ColorToken\"\n\n// Definimos los tipos para las variantes y tamaños\nexport type ButtonVariant = \"solid\" | \"outline\" | \"ghost\" | \"link\" | \"subtle\"\nexport type ButtonSize = \"xs\" | \"sm\" | \"md\" | \"lg\" | \"xl\"\nexport type ButtonColor = \"default\" | \"primary\" | \"secondary\" | \"tertiary\" | \"accent\" | \"success\" | \"warning\" | \"danger\"\nexport type ButtonRounded = \"none\" | \"sm\" | \"md\" | \"lg\" | \"full\"\n\n// Estructura completa de tokens para el botón\nexport type ButtonTokens = {\n  base: {\n    padding: Record\u003cButtonSize, string\u003e\n    borderRadius: Record\u003cButtonRounded, string\u003e\n    fontSize: Record\u003cButtonSize, string\u003e\n    height: Record\u003cButtonSize, string\u003e\n    iconSize: Record\u003cButtonSize, string\u003e\n    transition: string\n    fontWeight: string\n    gap: Record\u003cButtonSize, string\u003e\n  }\n  variants: {\n    [key in ButtonVariant]: {\n      default: {\n        background: string\n        color: string\n        border: string\n        boxShadow: string\n      }\n      hover: {\n        background: string\n        color: string\n        border: string\n        boxShadow: string\n        transform: string\n      }\n      active: {\n        background: string\n        color: string\n        border: string\n        boxShadow: string\n        transform: string\n      }\n      focus: {\n        outline: string\n        ring: string\n      }\n      disabled: {\n        background: string\n        color: string\n        border: string\n        opacity: string\n        cursor: string\n      }\n    }\n  }\n  colors: {\n    [key in ButtonColor]: {\n      background: string\n      color: string\n      border: string\n      gradient: string\n      hoverBackground: string\n      hoverColor: string\n      hoverBorder: string\n      activeBackground: string\n      activeColor: string\n      activeBorder: string\n      // Nuevos tokens para ghost y outline\n      ghostColor: string\n      ghostBorder: string\n      outlineColor: string\n      outlineBorder: string\n      // Nuevo token para el efecto ripple\n      rippleColor: string\n    }\n  }\n  loading: {\n    spinnerColor: string\n    spinnerSize: Record\u003cButtonSize, string\u003e\n    opacity: string\n  }\n}\n\n// Función para generar los tokens del botón\nexport function generateButtonTokens(appColorTokens: AppColorTokens, mode: Mode): ButtonTokens {\n  const isDark = mode === \"dark\"\n\n  // Función para ajustar colores basados en el modo\n  const adjustColor = (color: string, darken: number, lighten: number) =\u003e {\n    if (isDark) {\n      return tinycolor(color).lighten(lighten).toString()\n    }\n    return tinycolor(color).darken(darken).toString()\n  }\n\n  // Función para crear un gradiente\n  const createGradient = (color: string) =\u003e {\n    const baseColor = tinycolor(color)\n    const lighterColor = baseColor.clone().lighten(10).toString()\n    const darkerColor = baseColor.clone().darken(10).toString()\n\n    return isDark\n      ? `linear-gradient(to bottom right, ${color}, ${lighterColor})`\n      : `linear-gradient(to bottom right, ${lighterColor}, ${color})`\n  }\n\n  // Modificar la función hexToRgb para asegurar que siempre devuelva un valor\n  const hexToRgb = (hex: string): string =\u003e {\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex)\n    return result\n      ? `${Number.parseInt(result[1], 16)}, ${Number.parseInt(result[2], 16)}, ${Number.parseInt(result[3], 16)}`\n      : \"0, 0, 0\" // Valor por defecto en caso de error\n  }\n\n  // Colores base de appColorTokens\n  const primaryColor = appColorTokens.primary.pure\n  const secondaryColor = appColorTokens.secondary.pure\n  const tertiaryColor = appColorTokens.tertiary.pure\n  const accentColor = appColorTokens.accent.pure\n  const successColor = appColorTokens.success.pure\n  const warningColor = appColorTokens.warning.pure\n  const dangerColor = appColorTokens.danger.pure\n\n  // El color 'default' del botón sigue usando la paleta neutral.gray directamente por consistencia visual.\n  const defaultColor = isDark ? colors.neutral.gray[600] : colors.neutral.gray[200]\n\n  // Colores de texto\n  // El texto del botón 'default' sigue usando la paleta neutral.gray directamente.\n  const defaultTextColor = isDark ? colors.neutral.gray[200] : colors.neutral.gray[800]\n\n  // Textos por contraste para cada variante\n  const primaryTextColor = appColorTokens.primary.contrastText\n  const secondaryTextColor = appColorTokens.secondary.contrastText\n  const tertiaryTextColor = appColorTokens.tertiary.contrastText\n  const accentTextColor = appColorTokens.accent.contrastText\n  const successTextColor = appColorTokens.success.contrastText\n  const warningTextColor = appColorTokens.warning.contrastText\n  const dangerTextColor = appColorTokens.danger.contrastText\n\n  // Colores para el efecto ripple\n  const primaryRippleColor = appColorTokens.primary.bg\n  const secondaryRippleColor = appColorTokens.secondary.bg\n  const tertiaryRippleColor = appColorTokens.tertiary.bg\n  const accentRippleColor = appColorTokens.accent.bg\n  const successRippleColor = appColorTokens.success.bg\n  const warningRippleColor = appColorTokens.warning.bg\n  const dangerRippleColor = appColorTokens.danger.bg\n  // El ripple del botón 'default' sigue usando la paleta neutral.gray directamente.\n  const defaultRippleColor = colors.neutral.gray[300]\n\n  // Tokens base\n  const baseTokens = {\n    padding: {\n      xs: \"0.5rem 0.75rem\",\n      sm: \"0.625rem 1rem\",\n      md: \"0.75rem 1.25rem\",\n      lg: \"0.875rem 1.5rem\",\n      xl: \"1rem 1.75rem\",\n    },\n    borderRadius: {\n      none: \"0\",\n      sm: \"0.25rem\",\n      md: \"0.375rem\",\n      lg: \"0.5rem\",\n      full: \"9999px\",\n    },\n    fontSize: {\n      xs: \"0.75rem\",\n      sm: \"0.875rem\",\n      md: \"0.875rem\",\n      lg: \"1rem\",\n      xl: \"1.125rem\",\n    },\n    height: {\n      xs: \"1.75rem\",\n      sm: \"2rem\",\n      md: \"2.5rem\",\n      lg: \"3rem\",\n      xl: \"3.5rem\",\n    },\n    iconSize: {\n      xs: \"0.75rem\",\n      sm: \"0.875rem\",\n      md: \"1rem\",\n      lg: \"1.25rem\",\n      xl: \"1.5rem\",\n    },\n    gap: {\n      xs: \"0.25rem\",\n      sm: \"0.375rem\",\n      md: \"0.5rem\",\n      lg: \"0.625rem\",\n      xl: \"0.75rem\",\n    },\n    transition: \"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)\",\n    fontWeight: \"500\",\n  }\n\n  // Variantes\n  const variantTokens = {\n    solid: {\n      default: {\n        background: \"currentBackground\",\n        color: \"currentColor\",\n        border: \"none\",\n        boxShadow: isDark ? \"0 1px 3px 0 rgba(0, 0, 0, 0.3)\" : \"0 1px 3px 0 rgba(0, 0, 0, 0.1)\",\n      },\n      hover: {\n        background: \"currentHoverBackground\",\n        color: \"currentHoverColor\",\n        border: \"none\",\n        boxShadow: isDark\n          ? \"0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.2)\"\n          : \"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)\",\n        transform: \"translateY(-1px)\",\n      },\n      active: {\n        background: \"currentActiveBackground\",\n        color: \"currentActiveColor\",\n        border: \"none\",\n        boxShadow: isDark ? \"0 1px 2px 0 rgba(0, 0, 0, 0.3)\" : \"0 1px 2px 0 rgba(0, 0, 0, 0.05)\",\n        transform: \"translateY(1px)\",\n      },\n      focus: {\n        outline: \"none\",\n        ring: isDark\n          ? `0 0 0 2px ${tinycolor(appColorTokens.primary.pure).setAlpha(0.5).toString()}`\n          : `0 0 0 2px ${tinycolor(appColorTokens.primary.pure).setAlpha(0.4).toString()}`,\n      },\n      disabled: {\n        background: isDark ? colors.neutral.gray[700] : colors.neutral.gray[200],\n        color: isDark ? colors.neutral.gray[500] : colors.neutral.gray[400],\n        border: \"none\",\n        opacity: \"0.6\",\n        cursor: \"not-allowed\",\n      },\n    },\n    outline: {\n      default: {\n        background: \"transparent\",\n        color: \"currentOutlineColor\",\n        border: \"1px solid currentOutlineBorder\",\n        boxShadow: \"none\",\n      },\n      hover: {\n        background: \"rgba(currentRgb, 0.3)\", // Aumentado significativamente de 0.15 a 0.3\n        color: \"currentHoverColor\",\n        border: \"1px solid currentHoverBorder\",\n        boxShadow: isDark ? \"0 2px 4px -1px rgba(0, 0, 0, 0.3)\" : \"0 2px 4px -1px rgba(0, 0, 0, 0.06)\",\n        transform: \"translateY(-1px)\",\n      },\n      active: {\n        background: \"rgba(currentRgb, 0.4)\", // Aumentado significativamente de 0.25 a 0.4\n        color: \"currentActiveColor\",\n        border: \"1px solid currentActiveBorder\",\n        boxShadow: \"none\",\n        transform: \"translateY(1px)\",\n      },\n      focus: {\n        outline: \"none\",\n        ring: isDark\n          ? `0 0 0 2px ${tinycolor(appColorTokens.primary.pure).setAlpha(0.5).toString()}`\n          : `0 0 0 2px ${tinycolor(appColorTokens.primary.pure).setAlpha(0.4).toString()}`,\n      },\n      disabled: {\n        background: \"transparent\",\n        color: isDark ? colors.neutral.gray[500] : colors.neutral.gray[400],\n        border: `1px solid ${isDark ? colors.neutral.gray[600] : colors.neutral.gray[300]}`,\n        opacity: \"0.6\",\n        cursor: \"not-allowed\",\n      },\n    },\n    ghost: {\n      default: {\n        background: \"transparent\",\n        color: \"currentGhostColor\",\n        border: \"none\",\n        boxShadow: \"none\",\n      },\n      hover: {\n        background: \"rgba(currentRgb, 0.3)\", // Aumentado significativamente de 0.15 a 0.3\n        color: \"currentHoverColor\",\n        border: \"none\",\n        boxShadow: \"none\",\n        transform: \"translateY(-1px)\",\n      },\n      active: {\n        background: \"rgba(currentRgb, 0.4)\", // Aumentado significativamente de 0.25 a 0.4\n        color: \"currentActiveColor\",\n        border: \"none\",\n        boxShadow: \"none\",\n        transform: \"translateY(1px)\",\n      },\n      focus: {\n        outline: \"none\",\n        ring: isDark\n          ? `0 0 0 2px ${tinycolor(appColorTokens.primary.pure).setAlpha(0.4).toString()}`\n          : `0 0 0 2px ${tinycolor(appColorTokens.primary.pure).setAlpha(0.3).toString()}`,\n      },\n      disabled: {\n        background: \"transparent\",\n        color: isDark ? colors.neutral.gray[500] : colors.neutral.gray[400],\n        border: \"none\",\n        opacity: \"0.6\",\n        cursor: \"not-allowed\",\n      },\n    },\n    link: {\n      default: {\n        background: \"transparent\",\n        color: \"currentColor\",\n        border: \"none\",\n        boxShadow: \"none\",\n      },\n      hover: {\n        background: \"transparent\",\n        color: \"currentHoverColor\",\n        border: \"none\",\n        boxShadow: \"none\",\n        transform: \"none\",\n      },\n      active: {\n        background: \"transparent\",\n        color: \"currentActiveColor\",\n        border: \"none\",\n        boxShadow: \"none\",\n        transform: \"none\",\n      },\n      focus: {\n        outline: \"none\",\n        ring: \"none\",\n      },\n      disabled: {\n        background: \"transparent\",\n        color: isDark ? colors.neutral.gray[500] : colors.neutral.gray[400],\n        border: \"none\",\n        opacity: \"0.6\",\n        cursor: \"not-allowed\",\n      },\n    },\n    subtle: {\n      default: {\n        background: \"rgba(currentRgb, 0.25)\", // Aumentado de 0.2 a 0.25\n        color: \"currentColor\",\n        border: \"none\",\n        boxShadow: \"none\",\n      },\n      hover: {\n        background: \"rgba(currentRgb, 0.4)\", // Aumentado significativamente de 0.3 a 0.4\n        color: \"currentHoverColor\",\n        border: \"none\",\n        boxShadow: isDark ? \"0 2px 4px -1px rgba(0, 0, 0, 0.2)\" : \"0 2px 4px -1px rgba(0, 0, 0, 0.05)\",\n        transform: \"translateY(-1px)\",\n      },\n      active: {\n        background: \"rgba(currentRgb, 0.5)\", // Aumentado significativamente de 0.4 a 0.5\n        color: \"currentActiveColor\",\n        border: \"none\",\n        boxShadow: \"none\",\n        transform: \"translateY(1px)\",\n      },\n      focus: {\n        outline: \"none\",\n        ring: isDark\n          ? `0 0 0 2px ${tinycolor(appColorTokens.primary.pure).setAlpha(0.4).toString()}`\n          : `0 0 0 2px ${tinycolor(appColorTokens.primary.pure).setAlpha(0.3).toString()}`,\n      },\n      disabled: {\n        background: isDark ? colors.neutral.gray[800] : colors.neutral.gray[100],\n        color: isDark ? colors.neutral.gray[500] : colors.neutral.gray[400],\n        border: \"none\",\n        opacity: \"0.6\",\n        cursor: \"not-allowed\",\n      },\n    },\n  }\n\n  // En la sección de colorTokens, modificar el objeto default para aumentar la opacidad en hover\n  const colorTokens = {\n    default: {\n      background: defaultColor,\n      color: defaultTextColor,\n      // Usar un borde más oscuro para mayor contraste\n      border: isDark ? colors.neutral.gray[400] : colors.neutral.gray[400],\n      gradient: createGradient(defaultColor),\n      // Usar colores más contrastantes para hover\n      hoverBackground: isDark ? colors.neutral.gray[500] : colors.neutral.gray[300],\n      hoverColor: defaultTextColor,\n      hoverBorder: isDark ? colors.neutral.gray[300] : colors.neutral.gray[500],\n      // Usar colores más contrastantes para active\n      activeBackground: isDark ? colors.neutral.gray[400] : colors.neutral.gray[400],\n      activeColor: defaultTextColor,\n      activeBorder: isDark ? colors.neutral.gray[200] : colors.neutral.gray[600],\n      // Para ghost, outline, link y subtle usamos el color neutral puro para mejor contraste\n      ghostColor: isDark ? colors.neutral.white : colors.neutral.gray[900],\n      ghostBorder: isDark ? colors.neutral.gray[300] : colors.neutral.gray[500],\n      outlineColor: isDark ? colors.neutral.white : colors.neutral.gray[900],\n      outlineBorder: isDark ? colors.neutral.gray[300] : colors.neutral.gray[500],\n      rippleColor: defaultRippleColor,\n    },\n    primary: {\n      background: primaryColor,\n      color: primaryTextColor,\n      border: primaryColor,\n      gradient: createGradient(primaryColor),\n      hoverBackground: adjustColor(primaryColor, 10, 10),\n      hoverColor: primaryTextColor,\n      hoverBorder: adjustColor(primaryColor, 10, 10),\n      activeBackground: adjustColor(primaryColor, 15, 15),\n      activeColor: primaryTextColor,\n      activeBorder: adjustColor(primaryColor, 15, 15),\n      // Para ghost, outline, link y subtle usamos el color puro para mejor contraste\n      ghostColor: primaryColor,\n      ghostBorder: primaryColor,\n      outlineColor: primaryColor,\n      outlineBorder: primaryColor,\n      rippleColor: primaryRippleColor,\n    },\n    secondary: {\n      background: secondaryColor,\n      color: secondaryTextColor,\n      border: secondaryColor,\n      gradient: createGradient(secondaryColor),\n      hoverBackground: adjustColor(secondaryColor, 10, 10),\n      hoverColor: secondaryTextColor,\n      hoverBorder: adjustColor(secondaryColor, 10, 10),\n      activeBackground: adjustColor(secondaryColor, 15, 15),\n      activeColor: secondaryTextColor,\n      activeBorder: adjustColor(secondaryColor, 15, 15),\n      // Para ghost, outline, link y subtle usamos el color puro para mejor contraste\n      ghostColor: secondaryColor,\n      ghostBorder: secondaryColor,\n      outlineColor: secondaryColor,\n      outlineBorder: secondaryColor,\n      rippleColor: secondaryRippleColor,\n    },\n    tertiary: {\n      background: tertiaryColor,\n      color: tertiaryTextColor,\n      border: tertiaryColor,\n      gradient: createGradient(tertiaryColor),\n      hoverBackground: adjustColor(tertiaryColor, 10, 10),\n      hoverColor: tertiaryTextColor,\n      hoverBorder: adjustColor(tertiaryColor, 10, 10),\n      activeBackground: adjustColor(tertiaryColor, 15, 15),\n      activeColor: tertiaryTextColor,\n      activeBorder: adjustColor(tertiaryColor, 15, 15),\n      // Para ghost, outline, link y subtle usamos el color puro para mejor contraste\n      ghostColor: tertiaryColor,\n      ghostBorder: tertiaryColor,\n      outlineColor: tertiaryColor,\n      outlineBorder: tertiaryColor,\n      rippleColor: tertiaryRippleColor,\n    },\n    accent: {\n      background: accentColor,\n      color: accentTextColor,\n      border: accentColor,\n      gradient: createGradient(accentColor),\n      hoverBackground: adjustColor(accentColor, 10, 10),\n      hoverColor: accentTextColor,\n      hoverBorder: adjustColor(accentColor, 10, 10),\n      activeBackground: adjustColor(accentColor, 15, 15),\n      activeColor: accentTextColor,\n      activeBorder: adjustColor(accentColor, 15, 15),\n      // Para ghost, outline, link y subtle usamos el color puro para mejor contraste\n      ghostColor: accentColor,\n      ghostBorder: accentColor,\n      outlineColor: accentColor,\n      outlineBorder: accentColor,\n      rippleColor: accentRippleColor,\n    },\n    success: {\n      background: successColor,\n      color: successTextColor,\n      border: successColor,\n      gradient: createGradient(successColor),\n      hoverBackground: adjustColor(successColor, 10, 10),\n      hoverColor: successTextColor,\n      hoverBorder: adjustColor(successColor, 10, 10),\n      activeBackground: adjustColor(successColor, 15, 15),\n      activeColor: successTextColor,\n      activeBorder: adjustColor(successColor, 15, 15),\n      // Para ghost, outline, link y subtle usamos el color puro para mejor contraste\n      ghostColor: successColor,\n      ghostBorder: successColor,\n      outlineColor: successColor,\n      outlineBorder: successColor,\n      rippleColor: successRippleColor,\n    },\n    warning: {\n      background: warningColor,\n      color: warningTextColor,\n      border: warningColor,\n      gradient: createGradient(warningColor),\n      hoverBackground: adjustColor(warningColor, 10, 10),\n      hoverColor: warningTextColor,\n      hoverBorder: adjustColor(warningColor, 10, 10),\n      activeBackground: adjustColor(warningColor, 15, 15),\n      activeColor: warningTextColor,\n      activeBorder: adjustColor(warningColor, 15, 15),\n      // Para ghost, outline, link y subtle usamos el color puro para mejor contraste\n      ghostColor: warningColor,\n      ghostBorder: warningColor,\n      outlineColor: warningColor,\n      outlineBorder: warningColor,\n      rippleColor: warningRippleColor,\n    },\n    danger: {\n      background: dangerColor,\n      color: dangerTextColor,\n      border: dangerColor,\n      gradient: createGradient(dangerColor),\n      hoverBackground: adjustColor(dangerColor, 10, 10),\n      hoverColor: dangerTextColor,\n      hoverBorder: adjustColor(dangerColor, 10, 10),\n      activeBackground: adjustColor(dangerColor, 15, 15),\n      activeColor: dangerTextColor,\n      activeBorder: adjustColor(dangerColor, 15, 15),\n      // Para ghost, outline, link y subtle usamos el color puro para mejor contraste\n      ghostColor: dangerColor,\n      ghostBorder: dangerColor,\n      outlineColor: dangerColor,\n      outlineBorder: dangerColor,\n      rippleColor: dangerRippleColor,\n    },\n  }\n\n  // Loading\n  const loadingTokens = {\n    spinnerColor: \"currentColor\",\n    spinnerSize: {\n      xs: \"0.75rem\",\n      sm: \"0.875rem\",\n      md: \"1rem\",\n      lg: \"1.25rem\",\n      xl: \"1.5rem\",\n    },\n    opacity: \"0.7\",\n  }\n\n  return {\n    base: baseTokens,\n    variants: variantTokens,\n    colors: colorTokens,\n    loading: loadingTokens,\n  }\n}\n"])</script><script>self.__next_f.push([1,"db:T1a47,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState } from \"react\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { DownloadIcon, EditIcon, SaveIcon, XIcon } from \"lucide-react\"\nimport type { TranscripcionSegmento } from \"./transcripcion-player\"\nimport { Text } from \"@/components/ui/text\"\n\ninterface TranscripcionTableProps {\n  segments: TranscripcionSegmento[]\n  currentTime: number\n  onSegmentClick: (startTime: number) =\u003e void\n  onSegmentsChange: (segments: TranscripcionSegmento[]) =\u003e void\n}\n\nexport function TranscripcionTable({\n  segments,\n  currentTime,\n  onSegmentClick,\n  onSegmentsChange,\n}: TranscripcionTableProps) {\n  const [editingIndex, setEditingIndex] = useState\u003cnumber | null\u003e(null)\n  const [editingText, setEditingText] = useState(\"\")\n\n  // Formatear tiempo en formato mm:ss\n  const formatTime = (time: number) =\u003e {\n    const minutes = Math.floor(time / 60)\n    const seconds = Math.floor(time % 60)\n    const milliseconds = Math.floor((time % 1) * 100)\n    return `${minutes.toString().padStart(2, \"0\")}:${seconds.toString().padStart(2, \"0\")}.${milliseconds.toString().padStart(2, \"0\")}`\n  }\n\n  // Determinar si un segmento está activo (reproduciéndose actualmente)\n  const isSegmentActive = (start: number, end: number) =\u003e {\n    return currentTime \u003e= start \u0026\u0026 currentTime \u003c= end\n  }\n\n  // Iniciar edición de un segmento\n  const startEditing = (index: number) =\u003e {\n    setEditingIndex(index)\n    setEditingText(segments[index].texto)\n  }\n\n  // Guardar cambios de edición\n  const saveEdit = () =\u003e {\n    if (editingIndex !== null) {\n      const updatedSegments = [...segments]\n      updatedSegments[editingIndex] = {\n        ...updatedSegments[editingIndex],\n        texto: editingText,\n      }\n      onSegmentsChange(updatedSegments)\n      setEditingIndex(null)\n    }\n  }\n\n  // Cancelar edición\n  const cancelEdit = () =\u003e {\n    setEditingIndex(null)\n  }\n\n  // Exportar transcripción a diferentes formatos\n  const exportTranscription = (format: \"txt\" | \"csv\" | \"json\") =\u003e {\n    let content = \"\"\n    const filename = `transcripcion.${format}`\n\n    switch (format) {\n      case \"txt\":\n        content = segments.map((s) =\u003e `[${formatTime(s.start)}] ${s.hablante}: ${s.texto}`).join(\"\\n\\n\")\n        break\n      case \"csv\":\n        content = \"Inicio,Fin,Hablante,Texto\\n\"\n        content += segments\n          .map((s) =\u003e `${s.start},${s.end},\"${s.hablante}\",\"${s.texto.replace(/\"/g, '\"\"')}\"`)\n          .join(\"\\n\")\n        break\n      case \"json\":\n        content = JSON.stringify(segments, null, 2)\n        break\n    }\n\n    const blob = new Blob([content], { type: \"text/plain\" })\n    const url = URL.createObjectURL(blob)\n    const a = document.createElement(\"a\")\n    a.href = url\n    a.download = filename\n    document.body.appendChild(a)\n    a.click()\n    document.body.removeChild(a)\n    URL.revokeObjectURL(url)\n  }\n\n  return (\n    \u003cCard\u003e\n      \u003cCardHeader className=\"flex flex-row items-center justify-between\"\u003e\n        \u003cCardTitle\u003eTranscripción\u003c/CardTitle\u003e\n        \u003cdiv className=\"flex space-x-2\"\u003e\n          \u003cButton variant=\"outline\" size=\"sm\" onClick={() =\u003e exportTranscription(\"txt\")}\u003e\n            \u003cDownloadIcon className=\"h-4 w-4 mr-2\" /\u003e\n            TXT\n          \u003c/Button\u003e\n          \u003cButton variant=\"outline\" size=\"sm\" onClick={() =\u003e exportTranscription(\"csv\")}\u003e\n            \u003cDownloadIcon className=\"h-4 w-4 mr-2\" /\u003e\n            CSV\n          \u003c/Button\u003e\n          \u003cButton variant=\"outline\" size=\"sm\" onClick={() =\u003e exportTranscription(\"json\")}\u003e\n            \u003cDownloadIcon className=\"h-4 w-4 mr-2\" /\u003e\n            JSON\n          \u003c/Button\u003e\n        \u003c/div\u003e\n      \u003c/CardHeader\u003e\n      \u003cCardContent\u003e\n        \u003cdiv className=\"rounded-md border\"\u003e\n          \u003cTable\u003e\n            \u003cTableHeader\u003e\n              \u003cTableRow\u003e\n                \u003cTableHead className=\"w-[100px]\"\u003eTiempo\u003c/TableHead\u003e\n                \u003cTableHead className=\"w-[120px]\"\u003eHablante\u003c/TableHead\u003e\n                \u003cTableHead\u003eTexto\u003c/TableHead\u003e\n                \u003cTableHead className=\"w-[100px]\"\u003eConfianza\u003c/TableHead\u003e\n                \u003cTableHead className=\"w-[100px]\"\u003eAcciones\u003c/TableHead\u003e\n              \u003c/TableRow\u003e\n            \u003c/TableHeader\u003e\n            \u003cTableBody\u003e\n              {segments.map((segment, index) =\u003e (\n                \u003cTableRow\n                  key={segment.id}\n                  className={isSegmentActive(segment.start, segment.end) ? \"bg-muted/50\" : \"\"}\n                  onClick={() =\u003e onSegmentClick(segment.start)}\n                \u003e\n                  \u003cTableCell className=\"font-mono text-xs\"\u003e{formatTime(segment.start)}\u003c/TableCell\u003e\n                  \u003cTableCell\u003e\n                    \u003cBadge variant=\"outline\"\u003e{segment.hablante}\u003c/Badge\u003e\n                  \u003c/TableCell\u003e\n                  \u003cTableCell\u003e\n                    {editingIndex === index ? (\n                      \u003cInput value={editingText} onChange={(e) =\u003e setEditingText(e.target.value)} autoFocus /\u003e\n                    ) : (\n                      \u003cText\u003e{segment.texto}\u003c/Text\u003e\n                    )}\n                  \u003c/TableCell\u003e\n                  \u003cTableCell\u003e\n                    \u003cBadge\n                      variant={\n                        segment.confidence \u003e 0.8 ? \"default\" : segment.confidence \u003e 0.6 ? \"secondary\" : \"destructive\"\n                      }\n                    \u003e\n                      {Math.round(segment.confidence * 100)}%\n                    \u003c/Badge\u003e\n                  \u003c/TableCell\u003e\n                  \u003cTableCell\u003e\n                    {editingIndex === index ? (\n                      \u003cdiv className=\"flex space-x-1\"\u003e\n                        \u003cButton variant=\"ghost\" size=\"icon\" onClick={saveEdit}\u003e\n                          \u003cSaveIcon className=\"h-4 w-4\" /\u003e\n                        \u003c/Button\u003e\n                        \u003cButton variant=\"ghost\" size=\"icon\" onClick={cancelEdit}\u003e\n                          \u003cXIcon className=\"h-4 w-4\" /\u003e\n                        \u003c/Button\u003e\n                      \u003c/div\u003e\n                    ) : (\n                      \u003cButton\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={(e) =\u003e {\n                          e.stopPropagation()\n                          startEditing(index)\n                        }}\n                      \u003e\n                        \u003cEditIcon className=\"h-4 w-4\" /\u003e\n                      \u003c/Button\u003e\n                    )}\n                  \u003c/TableCell\u003e\n                \u003c/TableRow\u003e\n              ))}\n            \u003c/TableBody\u003e\n          \u003c/Table\u003e\n        \u003c/div\u003e\n      \u003c/CardContent\u003e\n    \u003c/Card\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"dc:T17c9,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState } from \"react\"\nimport { Card, CardContent } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Text } from \"@/components/ui/text\"\nimport { Progress } from \"@/components/ui/progress\"\nimport { DeepgramApiKeyConfig } from \"./deepgram-api-key-config\"\nimport { AudioUploader } from \"./audio-uploader\"\nimport type { TranscripcionSegmento } from \"./transcripcion-player\"\nimport { v4 as uuidv4 } from \"uuid\"\n\ninterface DeepgramTranscriberProps {\n  onAudioFileChange: (file: File) =\u003e void\n  onTranscriptionStart: () =\u003e void\n  onTranscriptionProgress: (progress: number) =\u003e void\n  onTranscriptionComplete: (segments: TranscripcionSegmento[]) =\u003e void\n}\n\nexport function DeepgramTranscriber({\n  onAudioFileChange,\n  onTranscriptionStart,\n  onTranscriptionProgress,\n  onTranscriptionComplete,\n}: DeepgramTranscriberProps) {\n  const [file, setFile] = useState\u003cFile | null\u003e(null)\n  const [isUploading, setIsUploading] = useState(false)\n  const [uploadProgress, setUploadProgress] = useState(0)\n  const [isTranscribing, setIsTranscribing] = useState(false)\n  const [transcriptionProgress, setTranscriptionProgress] = useState(0)\n  const [hasDeepgramKey, setHasDeepgramKey] = useState(false)\n  const [isCheckingKey, setIsCheckingKey] = useState(true)\n\n  // Verificar si existe una clave API de Deepgram\n  const checkDeepgramKey = async () =\u003e {\n    setIsCheckingKey(true)\n    try {\n      const response = await fetch(\"/api/check-deepgram-key\")\n      const data = await response.json()\n      setHasDeepgramKey(data.hasKey)\n    } catch (error) {\n      console.error(\"Error al verificar la clave API de Deepgram:\", error)\n      setHasDeepgramKey(false)\n    } finally {\n      setIsCheckingKey(false)\n    }\n  }\n\n  // Verificar la clave API al cargar el componente\n  useState(() =\u003e {\n    checkDeepgramKey()\n  })\n\n  // Manejar la carga de un archivo\n  const handleFileChange = (file: File) =\u003e {\n    setFile(file)\n    onAudioFileChange(file)\n  }\n\n  // Iniciar la transcripción\n  const startTranscription = async () =\u003e {\n    if (!file || !hasDeepgramKey) return\n\n    setIsTranscribing(true)\n    onTranscriptionStart()\n\n    try {\n      // Primero subir el archivo a Supabase\n      setIsUploading(true)\n      const formData = new FormData()\n      formData.append(\"file\", file)\n\n      const uploadResponse = await fetch(\"/api/upload-temp\", {\n        method: \"POST\",\n        body: formData,\n      })\n\n      if (!uploadResponse.ok) {\n        throw new Error(\"Error al subir el archivo\")\n      }\n\n      const uploadData = await uploadResponse.json()\n      setIsUploading(false)\n      setUploadProgress(100)\n\n      // Luego transcribir el archivo\n      const transcribeResponse = await fetch(\"/api/transcribe\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          audioUrl: uploadData.url,\n        }),\n      })\n\n      if (!transcribeResponse.ok) {\n        throw new Error(\"Error al transcribir el audio\")\n      }\n\n      const transcriptionData = await transcribeResponse.json()\n\n      // Procesar los resultados de la transcripción\n      const segments: TranscripcionSegmento[] = transcriptionData.results.channels[0].alternatives[0].words.map(\n        (word: any, index: number, words: any[]) =\u003e {\n          // Agrupar palabras en segmentos por hablante\n          const speaker = word.speaker || \"Hablante 1\"\n          const start = word.start\n          const end = word.end\n          const text = word.word\n          const confidence = word.confidence\n\n          return {\n            id: uuidv4(),\n            start,\n            end,\n            hablante: speaker,\n            texto: text,\n            confidence,\n          }\n        },\n      )\n\n      // Agrupar palabras en segmentos por hablante y pausas\n      const groupedSegments: TranscripcionSegmento[] = []\n      let currentSegment: TranscripcionSegmento | null = null\n\n      segments.forEach((segment) =\u003e {\n        if (!currentSegment) {\n          currentSegment = { ...segment }\n        } else if (\n          segment.hablante === currentSegment.hablante \u0026\u0026\n          segment.start - currentSegment.end \u003c 1.5 // Agrupar si la pausa es menor a 1.5 segundos\n        ) {\n          currentSegment.end = segment.end\n          currentSegment.texto += \" \" + segment.texto\n          // Promediar la confianza\n          currentSegment.confidence = (currentSegment.confidence + segment.confidence) / 2\n        } else {\n          groupedSegments.push(currentSegment)\n          currentSegment = { ...segment }\n        }\n      })\n\n      if (currentSegment) {\n        groupedSegments.push(currentSegment)\n      }\n\n      onTranscriptionComplete(groupedSegments)\n    } catch (error) {\n      console.error(\"Error en el proceso de transcripción:\", error)\n      setIsTranscribing(false)\n    }\n  }\n\n  // Si no hay clave API, mostrar configuración\n  if (!hasDeepgramKey \u0026\u0026 !isCheckingKey) {\n    return (\n      \u003cDeepgramApiKeyConfig\n        onKeyConfigured={() =\u003e {\n          setHasDeepgramKey(true)\n        }}\n      /\u003e\n    )\n  }\n\n  return (\n    \u003cCard\u003e\n      \u003cCardContent className=\"p-6 space-y-4\"\u003e\n        \u003cAudioUploader onFileChange={handleFileChange} disabled={isUploading || isTranscribing} /\u003e\n\n        {file \u0026\u0026 (\n          \u003cdiv className=\"space-y-4\"\u003e\n            \u003cText\u003eArchivo seleccionado: {file.name}\u003c/Text\u003e\n\n            {isUploading \u0026\u0026 (\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText\u003eSubiendo archivo...\u003c/Text\u003e\n                \u003cProgress value={uploadProgress} /\u003e\n              \u003c/div\u003e\n            )}\n\n            {isTranscribing \u0026\u0026 (\n              \u003cdiv className=\"space-y-2\"\u003e\n                \u003cText\u003eTranscribiendo audio...\u003c/Text\u003e\n                \u003cProgress value={transcriptionProgress} /\u003e\n              \u003c/div\u003e\n            )}\n\n            {!isUploading \u0026\u0026 !isTranscribing \u0026\u0026 (\n              \u003cButton onClick={startTranscription} disabled={!hasDeepgramKey}\u003e\n                Iniciar Transcripción\n              \u003c/Button\u003e\n            )}\n          \u003c/div\u003e\n        )}\n      \u003c/CardContent\u003e\n    \u003c/Card\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"dd:T1050,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState } from \"react\"\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\"\nimport { Input } from \"@/components/ui/input\"\nimport { Button } from \"@/components/ui/button\"\nimport { Text } from \"@/components/ui/text\"\nimport { AlertCircleIcon, CheckCircleIcon } from \"lucide-react\"\n\ninterface DeepgramApiKeyConfigProps {\n  onKeyConfigured: () =\u003e void\n}\n\nexport function DeepgramApiKeyConfig({ onKeyConfigured }: DeepgramApiKeyConfigProps) {\n  const [apiKey, setApiKey] = useState(\"\")\n  const [isVerifying, setIsVerifying] = useState(false)\n  const [verificationResult, setVerificationResult] = useState\u003c{\n    success: boolean\n    message: string\n  } | null\u003e(null)\n\n  // Verificar y guardar la clave API\n  const verifyAndSaveApiKey = async () =\u003e {\n    if (!apiKey.trim()) return\n\n    setIsVerifying(true)\n    setVerificationResult(null)\n\n    try {\n      // Primero verificar si la clave es válida\n      const verifyResponse = await fetch(\"/api/verify-deepgram-key\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ apiKey }),\n      })\n\n      const verifyData = await verifyResponse.json()\n\n      if (!verifyData.valid) {\n        setVerificationResult({\n          success: false,\n          message: \"La clave API no es válida o no tiene los permisos necesarios.\",\n        })\n        setIsVerifying(false)\n        return\n      }\n\n      // Si es válida, guardarla\n      const saveResponse = await fetch(\"/api/save-deepgram-key\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ apiKey }),\n      })\n\n      const saveData = await saveResponse.json()\n\n      if (saveData.success) {\n        setVerificationResult({\n          success: true,\n          message: \"Clave API guardada correctamente.\",\n        })\n\n        // Notificar que la clave ha sido configurada\n        setTimeout(() =\u003e {\n          onKeyConfigured()\n        }, 1500)\n      } else {\n        setVerificationResult({\n          success: false,\n          message: \"Error al guardar la clave API: \" + saveData.error,\n        })\n      }\n    } catch (error) {\n      console.error(\"Error al verificar/guardar la clave API:\", error)\n      setVerificationResult({\n        success: false,\n        message: \"Error al procesar la solicitud.\",\n      })\n    } finally {\n      setIsVerifying(false)\n    }\n  }\n\n  return (\n    \u003cCard\u003e\n      \u003cCardHeader\u003e\n        \u003cCardTitle\u003eConfigurar Deepgram API\u003c/CardTitle\u003e\n        \u003cCardDescription\u003eSe requiere una clave API de Deepgram para la transcripción automática.\u003c/CardDescription\u003e\n      \u003c/CardHeader\u003e\n      \u003cCardContent className=\"space-y-4\"\u003e\n        \u003cdiv className=\"space-y-2\"\u003e\n          \u003cText\u003e\n            Ingresa tu clave API de Deepgram. Puedes obtener una en{\" \"}\n            \u003ca\n              href=\"https://console.deepgram.com/signup\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"text-primary underline\"\n            \u003e\n              deepgram.com\n            \u003c/a\u003e\n          \u003c/Text\u003e\n\n          \u003cdiv className=\"flex space-x-2\"\u003e\n            \u003cInput\n              type=\"password\"\n              placeholder=\"Ingresa tu clave API de Deepgram\"\n              value={apiKey}\n              onChange={(e) =\u003e setApiKey(e.target.value)}\n            /\u003e\n            \u003cButton onClick={verifyAndSaveApiKey} disabled={isVerifying || !apiKey.trim()}\u003e\n              {isVerifying ? \"Verificando...\" : \"Verificar y Guardar\"}\n            \u003c/Button\u003e\n          \u003c/div\u003e\n\n          {verificationResult \u0026\u0026 (\n            \u003cdiv\n              className={`flex items-center space-x-2 mt-2 ${\n                verificationResult.success ? \"text-green-600\" : \"text-red-600\"\n              }`}\n            \u003e\n              {verificationResult.success ? (\n                \u003cCheckCircleIcon className=\"h-4 w-4\" /\u003e\n              ) : (\n                \u003cAlertCircleIcon className=\"h-4 w-4\" /\u003e\n              )}\n              \u003cText\u003e{verificationResult.message}\u003c/Text\u003e\n            \u003c/div\u003e\n          )}\n        \u003c/div\u003e\n      \u003c/CardContent\u003e\n    \u003c/Card\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"de:T689,import { type NextRequest, NextResponse } from \"next/server\"\n\nexport async function POST(request: NextRequest) {\n  try {\n    const { audioUrl } = await request.json()\n\n    if (!audioUrl) {\n      return NextResponse.json({ error: \"URL de audio no proporcionada\" }, { status: 400 })\n    }\n\n    const DEEPGRAM_API_KEY = process.env.DEEPGRAM_API_KEY\n\n    if (!DEEPGRAM_API_KEY) {\n      return NextResponse.json({ error: \"Clave API de Deepgram no configurada\" }, { status: 500 })\n    }\n\n    // Obtener el audio desde la URL\n    const audioResponse = await fetch(audioUrl)\n    if (!audioResponse.ok) {\n      return NextResponse.json({ error: \"No se pudo obtener el archivo de audio\" }, { status: 500 })\n    }\n\n    const audioBuffer = await audioResponse.arrayBuffer()\n\n    // Enviar a Deepgram para transcripción\n    const deepgramUrl =\n      \"https://api.deepgram.com/v1/listen?model=nova-2\u0026language=es\u0026punctuate=true\u0026diarize=true\u0026smart_format=true\"\n\n    const deepgramResponse = await fetch(deepgramUrl, {\n      method: \"POST\",\n      headers: {\n        Authorization: `Token ${DEEPGRAM_API_KEY}`,\n        \"Content-Type\": \"audio/wav\", // Ajustar según el tipo de archivo\n      },\n      body: audioBuffer,\n    })\n\n    if (!deepgramResponse.ok) {\n      const errorText = await deepgramResponse.text()\n      return NextResponse.json({ error: `Error de Deepgram: ${errorText}` }, { status: 500 })\n    }\n\n    const transcriptionResult = await deepgramResponse.json()\n\n    return NextResponse.json(transcriptionResult)\n  } catch (error) {\n    console.error(\"Error en la transcripción:\", error)\n    return NextResponse.json({ error: \"Error en el servidor\" }, { status: 500 })\n  }\n}\ndf:T55e,import { type NextRequest, NextResponse } from \"next/server\"\nimport { supabaseClient } from \"@/lib/supabase\"\nimport { v4 as uuidv4 } from \"uuid\"\n\nexport async function POST(request: NextRequest) {\n  try {\n    const formData = await request.formData()\n    const file = formData.get(\"file\") as File\n\n    if (!file) {\n      return NextResponse.json({ error: \"No "])</script><script>self.__next_f.push([1,"se proporcionó ningún archivo\" }, { status: 400 })\n    }\n\n    // Generar un nombre único para el archivo\n    const fileExtension = file.name.split(\".\").pop()\n    const fileName = `${uuidv4()}.${fileExtension}`\n\n    // Subir a Supabase Storage\n    const { data, error } = await supabaseClient.storage.from(\"audio-transcriptions\").upload(`temp/${fileName}`, file, {\n      cacheControl: \"3600\",\n      upsert: false,\n    })\n\n    if (error) {\n      console.error(\"Error al subir a Supabase:\", error)\n      return NextResponse.json({ error: \"Error al subir el archivo\" }, { status: 500 })\n    }\n\n    // Obtener URL pública\n    const { data: urlData } = supabaseClient.storage.from(\"audio-transcriptions\").getPublicUrl(`temp/${fileName}`)\n\n    return NextResponse.json({\n      success: true,\n      url: urlData.publicUrl,\n      path: data.path,\n    })\n  } catch (error) {\n    console.error(\"Error en la carga del archivo:\", error)\n    return NextResponse.json({ error: \"Error en el servidor\" }, { status: 500 })\n  }\n}\ne0:T5f0,import { type NextRequest, NextResponse } from \"next/server\"\nimport fs from \"fs\"\nimport path from \"path\"\n\nexport async function POST(request: NextRequest) {\n  try {\n    const { apiKey } = await request.json()\n\n    if (!apiKey) {\n      return NextResponse.json({ success: false, error: \"No se proporcionó una clave API\" }, { status: 400 })\n    }\n\n    // Guardar la clave API en las variables de entorno\n    process.env.DEEPGRAM_API_KEY = apiKey\n\n    // También guardarla en .env.local para persistencia\n    const envFilePath = path.join(process.cwd(), \".env.local\")\n\n    let envContent = \"\"\n\n    // Leer el archivo .env.local si existe\n    if (fs.existsSync(envFilePath)) {\n      envContent = fs.readFileSync(envFilePath, \"utf8\")\n\n      // Verificar si ya existe la variable DEEPGRAM_API_KEY\n      if (envContent.includes(\"DEEPGRAM_API_KEY=\")) {\n        // Reemplazar el valor existente\n        envContent = envContent.replace(/DEEPGRAM_API_KEY=.*/, `DEEPGRAM_API_KEY=${apiKey}`)\n      } else {\n        // Agregar la variabl"])</script><script>self.__next_f.push([1,"e al final\n        envContent += `\\nDEEPGRAM_API_KEY=${apiKey}`\n      }\n    } else {\n      // Crear el archivo con la variable\n      envContent = `DEEPGRAM_API_KEY=${apiKey}`\n    }\n\n    // Escribir el archivo\n    fs.writeFileSync(envFilePath, envContent)\n\n    return NextResponse.json({ success: true })\n  } catch (error) {\n    console.error(\"Error al guardar la clave API:\", error)\n    return NextResponse.json({ success: false, error: \"Error al guardar la clave API\" }, { status: 500 })\n  }\n}\ne1:T71e1,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport type React from \"react\"\n\nimport { useState, useEffect, useRef } from \"react\"\nimport { ProCard } from \"@/components/ui/pro-card\"\nimport { Upload, AlertCircle } from \"lucide-react\"\nimport AudioPlayer from \"./audio-player\"\nimport TranscriptionTable from \"./transcription-table\"\nimport MiniPlayer from \"./mini-player\"\nimport DeepgramTranscriber from \"./deepgram-transcriber\"\nimport { Alert, AlertDescription } from \"@/components/ui/alert\"\nimport { CustomButton } from \"@/components/ui/custom-button\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { Text } from \"@/components/ui/text\"\n\nexport type TranscriptionLine = {\n  id: number\n  speaker: string\n  timestamp: string\n  timestampSeconds: number\n  text: string\n  edited?: boolean\n}\n\n// Definir los diferentes formatos de timestamp\ntype TimestampFormat = \"hh:mm:ss\" | \"mm:ss:ms\" | \"custom\" | \"direct\"\n\nexport default function TranscriptionPlayer() {\n  const [lines, setLines] = useState\u003cTranscriptionLine[]\u003e([])\n  const [audioFile, setAudioFile] = useState\u003cFile | null\u003e(null)\n  const [audioUrl, setAudioUrl] = useState\u003cstring | null\u003e(null)\n  const [currentTime, setCurrentTime] = useState(0)\n  const [selectedLine, setSelectedLine] = useState\u003cnumber | null\u003e(null)\n  const [transcriptionFile, setTranscriptionFile] = useState\u003cFile | null\u003e(null)\n  const [transcriptionLoaded, setTranscriptionLoaded] = useState(false)\n  const [error, setError] = useState\u003cstring | null\u003e(null)\n  const [isPlaying, setIsPlaying] = useState(false)\n  const [userInteracted, setUserInteracted] = useState(false)\n  const [showSettings, setShowSettings] = useState(false)\n  const [playbackRate, setPlaybackRate] = useState(\"1\")\n  const [activeTab, setActiveTab] = useState(\"locales\")\n\n  // Referencia para el audio player\n  const audioPlayerRef = useRef\u003c{\n    togglePlayPause: () =\u003e void\n  } | null\u003e(null)\n\n  // Nuevo estado para el formato de timestamp\n  const [timestampFormat, setTimestampFormat] = useState\u003cTimestampFormat\u003e(\"mm:ss:ms\")\n\n  const handleTranscriptionFileChange = (e: React.ChangeEvent\u003cHTMLInputElement\u003e) =\u003e {\n    const files = e.target.files\n    if (files \u0026\u0026 files.length \u003e 0) {\n      const file = files[0]\n      setTranscriptionFile(file)\n      setError(null)\n\n      const reader = new FileReader()\n      reader.onload = (event) =\u003e {\n        if (event.target?.result) {\n          const content = event.target.result as string\n          console.log(\"Archivo cargado, contenido:\", content.substring(0, 200) + \"...\")\n\n          // Detectar si es un archivo CSV por la extensión o el contenido\n          if (file.name.toLowerCase().endsWith(\".csv\") || content.includes(\",\")) {\n            const processedLines = processCSV(content)\n            if (processedLines.length \u003e 0) {\n              setLines(processedLines)\n              setTranscriptionLoaded(true)\n              setError(null)\n            } else {\n              setError(\"No se pudieron detectar líneas en el formato CSV esperado.\")\n              setTranscriptionLoaded(false)\n            }\n          } else {\n            // Procesar como formato de texto normal\n            const processedLines = processTranscription(content)\n            if (processedLines.length \u003e 0) {\n              setLines(processedLines)\n              setTranscriptionLoaded(true)\n              setError(null)\n            } else {\n              setError(\"No se pudieron detectar líneas en el formato esperado.\")\n              setTranscriptionLoaded(false)\n            }\n          }\n        }\n      }\n      reader.readAsText(file)\n    }\n  }\n\n  // Nueva función para procesar archivos CSV\n  const processCSV = (content: string): TranscriptionLine[] =\u003e {\n    const result: TranscriptionLine[] = []\n\n    // Dividir por líneas y eliminar la cabecera si existe\n    const lines = content.split(\"\\n\")\n\n    // Verificar si la primera línea es una cabecera\n    const firstLine = lines[0].toLowerCase()\n    const startIndex =\n      firstLine.includes(\"id\") \u0026\u0026 firstLine.includes(\"speaker\") \u0026\u0026 firstLine.includes(\"timestamp\") ? 1 : 0\n\n    for (let i = startIndex; i \u003c lines.length; i++) {\n      const line = lines[i].trim()\n      if (!line) continue\n\n      // Dividir la línea por comas, teniendo en cuenta posibles comas dentro de comillas\n      const values: string[] = []\n      let inQuotes = false\n      let currentValue = \"\"\n\n      for (let j = 0; j \u003c line.length; j++) {\n        const char = line[j]\n\n        if (char === '\"') {\n          inQuotes = !inQuotes\n        } else if (char === \",\" \u0026\u0026 !inQuotes) {\n          values.push(currentValue)\n          currentValue = \"\"\n        } else {\n          currentValue += char\n        }\n      }\n\n      // Añadir el último valor\n      values.push(currentValue)\n\n      // Verificar que tenemos al menos 4 columnas (id, speaker, timestamp, text)\n      if (values.length \u003c 4) continue\n\n      // Extraer los valores\n      const id = Number.parseInt(values[0].trim(), 10)\n      if (isNaN(id)) continue\n\n      const speaker = values[1].trim().replace(/^\"|\"$/g, \"\")\n      const timestamp = values[2].trim().replace(/^\"|\"$/g, \"\")\n      const text = values[3].trim().replace(/^\"|\"$/g, \"\")\n\n      // Convertir timestamp a segundos - esto se calcula en tiempo real basado en el formato seleccionado\n      const timestampSeconds = convertTimestampToSeconds(timestamp)\n\n      result.push({\n        id,\n        speaker,\n        timestamp,\n        timestampSeconds,\n        text,\n        edited: false,\n      })\n    }\n\n    console.log(`Procesadas ${result.length} líneas de CSV`)\n    return result\n  }\n\n  // Función para manejar la transcripción automática de Deepgram\n  const handleDeepgramTranscription = (transcriptionText: string) =\u003e {\n    console.log(\"Transcripción recibida de Deepgram:\", transcriptionText.substring(0, 200) + \"...\")\n\n    // Procesar la transcripción recibida\n    const processedLines = processTranscription(transcriptionText)\n\n    if (processedLines.length \u003e 0) {\n      setLines(processedLines)\n      setTranscriptionLoaded(true)\n      setError(null)\n    } else {\n      setError(\"No se pudieron detectar líneas en la transcripción automática.\")\n      setTranscriptionLoaded(false)\n    }\n  }\n\n  // Función para manejar cuando se completa la subida de un archivo a Supabase\n  const handleSupabaseUploadComplete = (fileUrl: string) =\u003e {\n    console.log(\"Archivo subido a Supabase:\", fileUrl)\n    // Establecer la URL del audio\n    setAudioUrl(fileUrl)\n    // Limpiar el archivo local si existe\n    setAudioFile(null)\n  }\n\n  // Función simple para procesar la transcripción sin expresiones regulares complejas\n  const processTranscription = (content: string): TranscriptionLine[] =\u003e {\n    const result: TranscriptionLine[] = []\n\n    // Dividir por líneas y filtrar líneas vacías y separadores\n    const lines = content.split(\"\\n\").filter((line) =\u003e line.trim() !== \"\" \u0026\u0026 line.trim() !== \"---\")\n\n    for (const line of lines) {\n      // Buscar el número al inicio de la línea\n      const idMatch = line.match(/^(\\d+)\\./)\n      if (!idMatch) continue\n\n      const id = Number.parseInt(idMatch[1])\n\n      // Buscar el hablante (texto antes de los dos puntos)\n      const colonIndex = line.indexOf(\":\")\n      if (colonIndex === -1) continue\n\n      // Extraer el hablante (después del número y antes de los dos puntos)\n      const speaker = line.substring(idMatch[0].length, colonIndex).trim()\n\n      // Buscar el timestamp entre paréntesis\n      const openParenIndex = line.indexOf(\"(\", colonIndex)\n      const closeParenIndex = line.indexOf(\")\", openParenIndex)\n      if (openParenIndex === -1 || closeParenIndex === -1) continue\n\n      const timestamp = line.substring(openParenIndex + 1, closeParenIndex)\n\n      // Extraer el texto (todo lo que viene después del paréntesis de cierre)\n      const text = line.substring(closeParenIndex + 1).trim()\n\n      // Convertir timestamp a segundos según el formato seleccionado\n      const timestampSeconds = convertTimestampToSeconds(timestamp)\n\n      // Imprimir para depuración\n      console.log(`Línea ${id}: Timestamp \"${timestamp}\" -\u003e ${timestampSeconds} segundos (formato: ${timestampFormat})`)\n\n      result.push({\n        id,\n        speaker,\n        timestamp,\n        timestampSeconds,\n        text,\n        edited: false,\n      })\n    }\n\n    console.log(`Procesadas ${result.length} líneas de ${lines.length} líneas totales`)\n    return result\n  }\n\n  // Función modificada para convertir timestamp a segundos según el formato seleccionado\n  const convertTimestampToSeconds = (timestamp: string): number =\u003e {\n    // Asegurarse de que el timestamp esté limpio\n    const cleanTimestamp = timestamp.trim()\n    console.log(`Procesando timestamp: \"${cleanTimestamp}\" con formato ${timestampFormat}`)\n\n    const parts = cleanTimestamp.split(\":\")\n    console.log(`Partes del timestamp:`, parts)\n\n    if (parts.length === 3) {\n      // Convertir cada parte a número\n      const part1 = Number.parseInt(parts[0], 10)\n      const part2 = Number.parseInt(parts[1], 10)\n      const part3 = Number.parseInt(parts[2], 10)\n\n      let seconds = 0\n\n      // Interpretar según el formato seleccionado\n      switch (timestampFormat) {\n        case \"hh:mm:ss\":\n          // Formato estándar: horas, minutos, segundos\n          seconds = part1 * 3600 + part2 * 60 + part3\n          console.log(`Formato HH:MM:SS: ${part1} horas, ${part2} minutos, ${part3} segundos = ${seconds} segundos`)\n          break\n\n        case \"mm:ss:ms\":\n          // Formato alternativo: minutos, segundos, milisegundos (ignoramos los milisegundos)\n          seconds = part1 * 60 + part2\n          console.log(\n            `Formato MM:SS:MS: ${part1} minutos, ${part2} segundos (ignorando ${part3} ms) = ${seconds} segundos`,\n          )\n          break\n\n        case \"custom\":\n          // Formato personalizado: ignorar el valor del medio (como sugirió el usuario)\n          seconds = part1 * 60 + part3\n          console.log(\n            `Formato personalizado: ${part1} minutos, (ignorando ${part2}), ${part3} segundos = ${seconds} segundos`,\n          )\n          break\n\n        case \"direct\":\n          // Formato directo: interpretar directamente como minutos y segundos\n          // Para \"00:18:18\" -\u003e 18 minutos y 18 segundos = 1098 segundos\n          seconds = part2 * 60 + part3\n          console.log(\n            `Formato directo: (ignorando ${part1}), ${part2} minutos, ${part3} segundos = ${seconds} segundos`,\n          )\n          break\n      }\n\n      return seconds\n    }\n\n    console.log(`Formato de timestamp no reconocido: ${cleanTimestamp}`)\n    return 0\n  }\n\n  // Recalcular timestamps cuando cambia el formato\n  useEffect(() =\u003e {\n    if (transcriptionFile) {\n      const reader = new FileReader()\n      reader.onload = (event) =\u003e {\n        if (event.target?.result) {\n          const content = event.target.result as string\n          const processedLines = processTranscription(content)\n\n          if (processedLines.length \u003e 0) {\n            setLines(processedLines)\n          }\n        }\n      }\n      reader.readAsText(transcriptionFile)\n    }\n  }, [timestampFormat])\n\n  const handleAudioFileChange = (e: React.ChangeEvent\u003cHTMLInputElement\u003e) =\u003e {\n    const files = e.target.files\n    if (files \u0026\u0026 files.length \u003e 0) {\n      const file = files[0]\n      setAudioFile(file)\n\n      // Revocar URL anterior para liberar memoria\n      if (audioUrl) {\n        URL.revokeObjectURL(audioUrl)\n      }\n\n      const url = URL.createObjectURL(file)\n      setAudioUrl(url)\n    }\n  }\n\n  const handleRowClick = (line: TranscriptionLine) =\u003e {\n    console.log(`Clic en línea ${line.id}, timestamp: ${line.timestamp}, segundos calculados: ${line.timestampSeconds}`)\n    setCurrentTime(line.timestampSeconds)\n    setSelectedLine(line.id)\n    setUserInteracted(true)\n  }\n\n  const handleTimeUpdate = (time: number) =\u003e {\n    // Solo actualizar el tiempo si no fue una interacción del usuario\n    if (!userInteracted) {\n      setCurrentTime(time)\n\n      // Actualizar la línea seleccionada basada en el tiempo actual\n      const currentLine = lines.find((line, index) =\u003e {\n        const nextLine = lines[index + 1]\n        return time \u003e= line.timestampSeconds \u0026\u0026 (!nextLine || time \u003c nextLine.timestampSeconds)\n      })\n\n      if (currentLine \u0026\u0026 currentLine.id !== selectedLine) {\n        setSelectedLine(currentLine.id)\n      }\n    } else {\n      // Resetear la bandera después de procesar la interacción del usuario\n      setUserInteracted(false)\n    }\n  }\n\n  // Función para desplazarse a la línea actual\n  const scrollToCurrentLine = () =\u003e {\n    if (selectedLine !== null) {\n      const element = document.getElementById(`line-${selectedLine}`)\n      if (element) {\n        element.scrollIntoView({ behavior: \"smooth\", block: \"center\" })\n      }\n    }\n  }\n\n  // Función para alternar reproducción/pausa desde el mini reproductor\n  const togglePlayPause = () =\u003e {\n    if (audioPlayerRef.current) {\n      audioPlayerRef.current.togglePlayPause()\n    }\n  }\n\n  // Función para actualizar el texto de una línea\n  const updateLineText = (lineId: number, newText: string) =\u003e {\n    setLines((prevLines) =\u003e\n      prevLines.map((line) =\u003e (line.id === lineId ? { ...line, text: newText, edited: true } : line)),\n    )\n  }\n\n  // Función mejorada para manejar cambios en la velocidad de reproducción\n  const handlePlaybackRateChange = (value: string) =\u003e {\n    console.log(`TranscriptionPlayer: Cambiando velocidad de reproducción a: ${value}x`)\n    console.log(`Estado anterior de playbackRate: ${playbackRate}`)\n\n    // Actualizar el estado global\n    setPlaybackRate(value)\n    console.log(`Nuevo estado de playbackRate establecido a: ${value}`)\n\n    // Aplicar el cambio directamente a todos los elementos de audio\n    const audioElements = document.querySelectorAll(\"audio\")\n    audioElements.forEach((element) =\u003e {\n      element.playbackRate = Number.parseFloat(value)\n    })\n  }\n\n  // Función para copiar la tabla al portapapeles\n  const copyTableToClipboard = () =\u003e {\n    if (lines.length === 0) return\n\n    // Crear una representación HTML de la tabla\n    let htmlContent = `\n    \u003ctable style=\"border-collapse: collapse; width: 100%;\"\u003e\n      \u003cthead\u003e\n        \u003ctr style=\"background-color: #f3f4f6;\"\u003e\n          \u003cth style=\"padding: 8px; text-align: left; border: 1px solid #e5e7eb;\"\u003e#\u003c/th\u003e\n          \u003cth style=\"padding: 8px; text-align: left; border: 1px solid #e5e7eb;\"\u003eHablante\u003c/th\u003e\n          \u003cth style=\"padding: 8px; text-align: left; border: 1px solid #e5e7eb;\"\u003eTiempo\u003c/th\u003e\n          \u003cth style=\"padding: 8px; text-align: left; border: 1px solid #e5e7eb;\"\u003eTexto\u003c/th\u003e\n        \u003c/tr\u003e\n      \u003c/thead\u003e\n      \u003ctbody\u003e\n    `\n\n    // Añadir cada fila de la transcripción\n    lines.forEach((line, index) =\u003e {\n      const rowStyle = line.edited ? \"background-color: #fff7ed;\" : index % 2 === 0 ? \"background-color: #f9fafb;\" : \"\"\n\n      htmlContent += `\n        \u003ctr style=\"${rowStyle}\"\u003e\n          \u003ctd style=\"padding: 8px; text-align: left; border: 1px solid #e5e7eb;\"\u003e${line.id}\u003c/td\u003e\n          \u003ctd style=\"padding: 8px; text-align: left; border: 1px solid #e5e7eb;\"\u003e${line.speaker}\u003c/td\u003e\n          \u003ctd style=\"padding: 8px; text-align: left; border: 1px solid #e5e7eb;\"\u003e${line.timestamp}\u003c/td\u003e\n          \u003ctd style=\"padding: 8px; text-align: left; border: 1px solid #e5e7eb;\"\u003e${line.text}\u003c/td\u003e\n        \u003c/tr\u003e\n      `\n    })\n\n    htmlContent += `\n      \u003c/tbody\u003e\n    \u003c/table\u003e\n    `\n\n    // Usar el API de portapapeles para copiar el HTML\n    navigator.clipboard\n      .writeText(htmlContent)\n      .then(() =\u003e {\n        alert(\"Tabla copiada al portapapeles en formato HTML/CSS\")\n      })\n      .catch((err) =\u003e {\n        console.error(\"Error al copiar: \", err)\n        alert(\"Error al copiar la tabla. Verifica los permisos del navegador.\")\n      })\n  }\n\n  // Función para descargar la tabla como archivo HTML\n  const downloadTable = () =\u003e {\n    if (lines.length === 0) return\n\n    // Crear un documento HTML completo\n    const htmlContent = `\n    \u003c!DOCTYPE html\u003e\n    \u003chtml lang=\"es\"\u003e\n    \u003chead\u003e\n      \u003cmeta charset=\"UTF-8\"\u003e\n      \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e\n      \u003ctitle\u003eTranscripción\u003c/title\u003e\n      \u003cstyle\u003e\n        body { font-family: Arial, sans-serif; margin: 20px; }\n        table { border-collapse: collapse; width: 100%; }\n        th, td { padding: 8px; text-align: left; border: 1px solid #ddd; }\n        th { background-color: #f2f2f2; }\n        tr:nth-child(even) { background-color: #f9f9f9; }\n        .edited { background-color: #fff7ed; }\n      \u003c/style\u003e\n    \u003c/head\u003e\n    \u003cbody\u003e\n      \u003ch1\u003eTranscripción\u003c/h1\u003e\n      \u003ctable\u003e\n        \u003cthead\u003e\n          \u003ctr\u003e\n            \u003cth\u003e#\u003c/th\u003e\n            \u003cth\u003eHablante\u003c/th\u003e\n            \u003cth\u003eTiempo\u003c/th\u003e\n            \u003cth\u003eTexto\u003c/th\u003e\n          \u003c/tr\u003e\n        \u003c/thead\u003e\n        \u003ctbody\u003e\n          ${lines\n            .map(\n              (line) =\u003e `\n            \u003ctr class=\"${line.edited ? \"edited\" : \"\"}\"\u003e\n              \u003ctd\u003e${line.id}\u003c/td\u003e\n              \u003ctd\u003e${line.speaker}\u003c/td\u003e\n              \u003ctd\u003e${line.timestamp}\u003c/td\u003e\n              \u003ctd\u003e${line.text}\u003c/td\u003e\n            \u003c/tr\u003e\n          `,\n            )\n            .join(\"\")}\n        \u003c/tbody\u003e\n      \u003c/table\u003e\n    \u003c/body\u003e\n    \u003c/html\u003e\n    `\n\n    // Crear un objeto Blob con el contenido HTML\n    const blob = new Blob([htmlContent], { type: \"text/html\" })\n\n    // Crear un URL para el blob\n    const url = URL.createObjectURL(blob)\n\n    // Crear un elemento de enlace para descargar\n    const a = document.createElement(\"a\")\n    a.href = url\n    a.download = \"transcripcion.html\"\n\n    // Añadir el enlace al documento, hacer clic y luego eliminarlo\n    document.body.appendChild(a)\n    a.click()\n\n    // Limpiar\n    setTimeout(() =\u003e {\n      document.body.removeChild(a)\n      URL.revokeObjectURL(url)\n    }, 100)\n  }\n\n  // Función para exportar la transcripción como CSV\n  const exportAsCSV = () =\u003e {\n    if (lines.length === 0) return\n\n    // Crear la cabecera del CSV - solo incluir datos originales, no el tiempo calculado\n    let csvContent = \"id,speaker,timestamp,text\\n\"\n\n    // Añadir cada línea de la transcripción\n    lines.forEach((line) =\u003e {\n      // Escapar comillas en el texto y envolver en comillas si contiene comas\n      const escapedText = line.text.includes('\"')\n        ? `\"${line.text.replace(/\"/g, '\"\"')}\"`\n        : line.text.includes(\",\")\n          ? `\"${line.text}\"`\n          : line.text\n\n      csvContent += `${line.id},\"${line.speaker}\",\"${line.timestamp}\",${escapedText}\\n`\n    })\n\n    // Crear un objeto Blob con el contenido CSV\n    const blob = new Blob([csvContent], { type: \"text/csv;charset=utf-8\" })\n\n    // Crear un URL para el blob\n    const url = URL.createObjectURL(blob)\n\n    // Crear un elemento de enlace para descargar\n    const a = document.createElement(\"a\")\n    a.href = url\n    a.download = \"transcripcion.csv\"\n\n    // Añadir el enlace al documento, hacer clic y luego eliminarlo\n    document.body.appendChild(a)\n    a.click()\n\n    // Limpiar\n    setTimeout(() =\u003e {\n      document.body.removeChild(a)\n      URL.revokeObjectURL(url)\n    }, 100)\n  }\n\n  // Renderizar los controles de edición y la tabla si hay transcripción cargada\n  const renderTranscriptionControls = () =\u003e {\n    if (!transcriptionLoaded) return null\n\n    return (\n      \u003c\u003e\n        \u003cdiv className=\"mt-4\"\u003e\n          \u003cdiv className=\"flex flex-wrap gap-2 mb-2\"\u003e\n            \u003cCustomButton variant=\"outline\" size=\"sm\" onClick={() =\u003e setShowSettings(!showSettings)}\u003e\n              {showSettings ? \"Ocultar ajustes\" : \"Mostrar ajustes\"}\n            \u003c/CustomButton\u003e\n          \u003c/div\u003e\n\n          {showSettings \u0026\u0026 (\n            \u003cProCard className=\"mt-2\"\u003e\n              \u003cProCard.Content className=\"p-4\"\u003e\n                \u003cdiv className=\"space-y-4\"\u003e\n                  \u003cdiv\u003e\n                    \u003cText variant=\"subtitle\" className=\"block mb-2\"\u003e\n                      Formato de timestamp:\n                    \u003c/Text\u003e\n                    \u003cSelect\n                      value={timestampFormat}\n                      onValueChange={(value) =\u003e setTimestampFormat(value as TimestampFormat)}\n                    \u003e\n                      \u003cSelectTrigger className=\"w-full max-w-xs\"\u003e\n                        \u003cSelectValue placeholder=\"Seleccionar formato\" /\u003e\n                      \u003c/SelectTrigger\u003e\n                      \u003cSelectContent\u003e\n                        \u003cSelectItem value=\"direct\"\u003eDirecto (ignorar horas, usar minutos y segundos)\u003c/SelectItem\u003e\n                        \u003cSelectItem value=\"hh:mm:ss\"\u003eHH:MM:SS (horas, minutos, segundos)\u003c/SelectItem\u003e\n                        \u003cSelectItem value=\"mm:ss:ms\"\u003eMM:SS:MS (minutos, segundos, ignorar ms)\u003c/SelectItem\u003e\n                        \u003cSelectItem value=\"custom\"\u003ePersonalizado (ignorar valor del medio)\u003c/SelectItem\u003e\n                      \u003c/SelectContent\u003e\n                    \u003c/Select\u003e\n\n                    \u003cdiv className=\"mt-2\"\u003e\n                      \u003cText variant=\"subtitle\" className=\"font-medium\"\u003e\n                        Explicación de formatos:\n                      \u003c/Text\u003e\n                      \u003cul className=\"list-disc pl-5 mt-1 space-y-1\"\u003e\n                        \u003cli\u003e\n                          \u003cText variant=\"body\" size=\"sm\"\u003e\n                            \u003cstrong\u003eDirecto\u003c/strong\u003e: Para timestamps como \"00:18:18\", usa 18 minutos y 18 segundos\n                            (1098 segundos)\n                          \u003c/Text\u003e\n                        \u003c/li\u003e\n                        \u003cli\u003e\n                          \u003cText variant=\"body\" size=\"sm\"\u003e\n                            \u003cstrong\u003eHH:MM:SS\u003c/strong\u003e: Interpreta como horas, minutos y segundos (00:01:30 = 90\n                            segundos)\n                          \u003c/Text\u003e\n                        \u003c/li\u003e\n                        \u003cli\u003e\n                          \u003cText variant=\"body\" size=\"sm\"\u003e\n                            \u003cstrong\u003eMM:SS:MS\u003c/strong\u003e: Interpreta como minutos y segundos, ignorando milisegundos\n                            (01:30:00 = 90 segundos)\n                          \u003c/Text\u003e\n                        \u003c/li\u003e\n                        \u003cli\u003e\n                          \u003cText variant=\"body\" size=\"sm\"\u003e\n                            \u003cstrong\u003ePersonalizado\u003c/strong\u003e: Ignora el valor del medio (01:XX:30 = 90 segundos)\n                          \u003c/Text\u003e\n                        \u003c/li\u003e\n                      \u003c/ul\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n              \u003c/ProCard.Content\u003e\n            \u003c/ProCard\u003e\n          )}\n        \u003c/div\u003e\n\n        {lines.length \u003e 0 \u0026\u0026 (\n          \u003cTranscriptionTable\n            lines={lines}\n            selectedLine={selectedLine}\n            onLineClick={handleRowClick}\n            onUpdateText={updateLineText}\n            onCopyTable={copyTableToClipboard}\n            onDownloadTable={downloadTable}\n            onExportCSV={exportAsCSV}\n          /\u003e\n        )}\n      \u003c/\u003e\n    )\n  }\n\n  return (\n    \u003cdiv className=\"flex flex-col gap-6\"\u003e\n      {/* Reproductor de audio común para ambas pestañas */}\n      {audioUrl \u0026\u0026 (\n        \u003cProCard className=\"mb-4\"\u003e\n          \u003cProCard.Content className=\"p-4\"\u003e\n            \u003cdiv className=\"flex justify-between items-center\"\u003e\n              \u003cText variant=\"title\" size=\"lg\"\u003e\n                Reproductor de Audio\n              \u003c/Text\u003e\n              {audioFile \u0026\u0026 (\n                \u003cText variant=\"body\" size=\"sm\" className=\"text-gray-500\"\u003e\n                  {audioFile.name}\n                \u003c/Text\u003e\n              )}\n            \u003c/div\u003e\n            \u003cdiv className=\"mt-4\"\u003e\n              \u003cAudioPlayer\n                ref={audioPlayerRef}\n                audioUrl={audioUrl}\n                currentTime={currentTime}\n                onTimeUpdate={handleTimeUpdate}\n                onPlay={() =\u003e setIsPlaying(true)}\n                onPause={() =\u003e setIsPlaying(false)}\n                autoPlay={userInteracted}\n                playbackRate={playbackRate}\n                onPlaybackRateChange={handlePlaybackRateChange}\n              /\u003e\n            \u003c/div\u003e\n          \u003c/ProCard.Content\u003e\n        \u003c/ProCard\u003e\n      )}\n\n      \u003cTabs defaultValue=\"locales\" value={activeTab} onValueChange={setActiveTab}\u003e\n        \u003cTabsList className=\"grid w-full grid-cols-2\"\u003e\n          \u003cTabsTrigger value=\"locales\"\u003eTranscripciones Locales\u003c/TabsTrigger\u003e\n          \u003cTabsTrigger value=\"nuevas\"\u003eTranscripciones Nuevas\u003c/TabsTrigger\u003e\n        \u003c/TabsList\u003e\n\n        {/* Contenido para la pestaña de Transcripciones Locales */}\n        \u003cTabsContent value=\"locales\" className=\"space-y-4\"\u003e\n          \u003cProCard\u003e\n            \u003cProCard.Content className=\"p-4\"\u003e\n              \u003cdiv className=\"flex flex-col gap-4\"\u003e\n                \u003cText variant=\"title\" size=\"xl\" className=\"mt-2\"\u003e\n                  Cargar Transcripción Local\n                \u003c/Text\u003e\n                \u003cdiv className=\"flex flex-col md:flex-row gap-4 items-center\"\u003e\n                  \u003cdiv className=\"flex-1\"\u003e\n                    \u003clabel htmlFor=\"transcription-upload\" className=\"cursor-pointer\"\u003e\n                      \u003cdiv className=\"flex items-center gap-2 p-2 border border-dashed rounded-md hover:bg-gray-50\"\u003e\n                        \u003cUpload size={20} /\u003e\n                        \u003cText variant=\"body\"\u003e\n                          {transcriptionFile ? transcriptionFile.name : \"Subir archivo de transcripción (MD, TXT, CSV)\"}\n                        \u003c/Text\u003e\n                      \u003c/div\u003e\n                      \u003cinput\n                        id=\"transcription-upload\"\n                        type=\"file\"\n                        accept=\".md,.txt,.csv\"\n                        onChange={handleTranscriptionFileChange}\n                        className=\"hidden\"\n                      /\u003e\n                    \u003c/label\u003e\n                  \u003c/div\u003e\n\n                  {transcriptionLoaded \u0026\u0026 (\n                    \u003cText variant=\"body\" size=\"sm\" className=\"text-green-600\"\u003e\n                      Transcripción cargada: {lines.length} líneas\n                    \u003c/Text\u003e\n                  )}\n                \u003c/div\u003e\n\n                {error \u0026\u0026 (\n                  \u003cAlert variant=\"destructive\" className=\"mt-2\"\u003e\n                    \u003cAlertCircle className=\"h-4 w-4\" /\u003e\n                    \u003cAlertDescription\u003e{error}\u003c/AlertDescription\u003e\n                  \u003c/Alert\u003e\n                )}\n\n                {!audioUrl \u0026\u0026 transcriptionLoaded \u0026\u0026 (\n                  \u003cdiv className=\"flex flex-col md:flex-row gap-4 items-center mt-4\"\u003e\n                    \u003cdiv className=\"flex-1\"\u003e\n                      \u003clabel htmlFor=\"audio-upload\" className=\"cursor-pointer\"\u003e\n                        \u003cdiv className=\"flex items-center gap-2 p-2 border border-dashed rounded-md hover:bg-gray-50\"\u003e\n                          \u003cUpload size={20} /\u003e\n                          \u003cText variant=\"body\"\u003e{audioFile ? audioFile.name : \"Subir archivo MP3\"}\u003c/Text\u003e\n                        \u003c/div\u003e\n                        \u003cinput\n                          id=\"audio-upload\"\n                          type=\"file\"\n                          accept=\"audio/mp3,audio/*\"\n                          onChange={handleAudioFileChange}\n                          className=\"hidden\"\n                        /\u003e\n                      \u003c/label\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n                )}\n              \u003c/div\u003e\n            \u003c/ProCard.Content\u003e\n          \u003c/ProCard\u003e\n\n          {!transcriptionLoaded \u0026\u0026 !error \u0026\u0026 (\n            \u003cdiv className=\"text-center p-8 bg-gray-50 rounded-lg\"\u003e\n              \u003cText variant=\"body\" size=\"lg\" className=\"text-gray-600\"\u003e\n                Sube un archivo de transcripción (MD, TXT, CSV) para comenzar a trabajar con transcripciones locales\n              \u003c/Text\u003e\n            \u003c/div\u003e\n          )}\n\n          {transcriptionLoaded \u0026\u0026 renderTranscriptionControls()}\n        \u003c/TabsContent\u003e\n\n        {/* Contenido para la pestaña de Transcripciones Nuevas */}\n        \u003cTabsContent value=\"nuevas\" className=\"space-y-4\"\u003e\n          \u003cProCard\u003e\n            \u003cProCard.Content className=\"p-4\"\u003e\n              \u003cText variant=\"title\" size=\"xl\" className=\"mt-2 mb-4\"\u003e\n                Transcripción Automática\n              \u003c/Text\u003e\n              \u003cDeepgramTranscriber\n                onTranscriptionComplete={handleDeepgramTranscription}\n                onAudioUploadComplete={handleSupabaseUploadComplete}\n              /\u003e\n            \u003c/ProCard.Content\u003e\n          \u003c/ProCard\u003e\n\n          {!transcriptionLoaded \u0026\u0026 !error \u0026\u0026 (\n            \u003cdiv className=\"text-center p-8 bg-gray-50 rounded-lg\"\u003e\n              \u003cText variant=\"body\" size=\"lg\" className=\"text-gray-600\"\u003e\n                Utiliza la transcripción automática con Deepgram para generar una nueva transcripción\n              \u003c/Text\u003e\n            \u003c/div\u003e\n          )}\n\n          {transcriptionLoaded \u0026\u0026 renderTranscriptionControls()}\n        \u003c/TabsContent\u003e\n      \u003c/Tabs\u003e\n\n      {/* Mini reproductor flotante */}\n      {audioUrl \u0026\u0026 (\n        \u003cMiniPlayer\n          isPlaying={isPlaying}\n          currentTime={currentTime}\n          currentLineId={selectedLine}\n          togglePlayPause={togglePlayPause}\n          scrollToCurrentLine={scrollToCurrentLine}\n          playbackRate={playbackRate}\n          onPlaybackRateChange={handlePlaybackRateChange}\n        /\u003e\n      )}\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"e2:Tbb1,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { CustomButton } from \"@/components/ui/custom-button\"\nimport { Play, Pause, MapPin } from \"lucide-react\"\nimport { ProCard } from \"@/components/ui/pro-card\"\nimport { SelectCustom } from \"@/components/ui/select-custom\"\nimport { Text } from \"@/components/ui/text\"\nimport { Badge } from \"@/components/ui/badge-custom\"\n\ninterface MiniPlayerProps {\n  isPlaying: boolean\n  currentTime: number\n  duration: number\n  currentLineId: number | null\n  togglePlayPause: () =\u003e void\n  scrollToCurrentLine: () =\u003e void\n  playbackRate: string\n  onPlaybackRateChange: (value: string) =\u003e void\n}\n\nexport default function MiniPlayer({\n  isPlaying,\n  currentTime,\n  duration,\n  currentLineId,\n  togglePlayPause,\n  scrollToCurrentLine,\n  playbackRate,\n  onPlaybackRateChange,\n}: MiniPlayerProps) {\n  const [visible, setVisible] = useState(false)\n\n  // Mostrar el mini reproductor solo cuando se ha desplazado un poco\n  useEffect(() =\u003e {\n    const handleScroll = () =\u003e {\n      setVisible(window.scrollY \u003e 200)\n    }\n\n    window.addEventListener(\"scroll\", handleScroll)\n    handleScroll() // Comprobar el estado inicial\n\n    return () =\u003e {\n      window.removeEventListener(\"scroll\", handleScroll)\n    }\n  }, [])\n\n  const formatTime = (seconds: number) =\u003e {\n    const hours = Math.floor(seconds / 3600)\n    const mins = Math.floor((seconds % 3600) / 60)\n    const secs = Math.floor(seconds % 60)\n\n    if (hours \u003e 0) {\n      return `${hours.toString().padStart(2, \"0\")}:${mins.toString().padStart(2, \"0\")}:${secs.toString().padStart(2, \"0\")}`\n    }\n    return `${mins.toString().padStart(2, \"0\")}:${secs.toString().padStart(2, \"0\")}`\n  }\n\n  if (!visible) return null\n\n  const playbackOptions = [\n    { value: \"1\", label: \"1x\" },\n    { value: \"1.5\", label: \"1.5x\" },\n    { value: \"2\", label: \"2x\" },\n  ]\n\n  return (\n    \u003cProCard className=\"fixed bottom-4 right-4 z-50 shadow-lg p-3 flex items-center gap-3 bg-white/90 backdrop-blur-sm\"\u003e\n      \u003cCustomButton variant=\"outline\" size=\"icon\" onClick={togglePlayPause} className=\"h-8 w-8\"\u003e\n        {isPlaying ? \u003cPause size={16} /\u003e : \u003cPlay size={16} /\u003e}\n      \u003c/CustomButton\u003e\n      \u003cText size=\"sm\" weight=\"medium\" className=\"tabular-nums\"\u003e\n        {formatTime(currentTime)}\n      \u003c/Text\u003e\n\n      {/* Usar SelectCustom en lugar de Select */}\n      \u003cdiv className=\"flex items-center\"\u003e\n        \u003cSelectCustom\n          value={playbackRate}\n          onChange={onPlaybackRateChange}\n          options={playbackOptions}\n          className=\"h-7 w-16 text-xs\"\n        /\u003e\n      \u003c/div\u003e\n\n      \u003cCustomButton\n        variant=\"secondary\"\n        size=\"sm\"\n        onClick={scrollToCurrentLine}\n        className=\"flex items-center gap-1 text-xs h-8\"\n      \u003e\n        \u003cMapPin size={14} /\u003e\n        \u003cspan\u003eIr a la fila\u003c/span\u003e\n      \u003c/CustomButton\u003e\n      {currentLineId !== null \u0026\u0026 (\n        \u003cBadge className=\"text-xs font-medium bg-blue-100 text-blue-800 px-2 py-1 rounded-full\"\u003e#{currentLineId}\u003c/Badge\u003e\n      )}\n    \u003c/ProCard\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"e3:T1598,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState, useRef, useEffect, forwardRef, useImperativeHandle } from \"react\"\nimport { CustomButton } from \"@/components/ui/custom-button\"\nimport { Play, Pause } from \"lucide-react\"\nimport { SelectCustom } from \"@/components/ui/select-custom\"\nimport { Text } from \"@/components/ui/text\"\n\ninterface AudioPlayerProps {\n  audioUrl: string | null\n  currentTime: number\n  onTimeUpdate: (time: number) =\u003e void\n  onPlay: () =\u003e void\n  onPause: () =\u003e void\n  autoPlay: boolean\n  playbackRate: string\n  onPlaybackRateChange: (value: string) =\u003e void\n}\n\nconst AudioPlayer = forwardRef\u003c{ togglePlayPause: () =\u003e void }, AudioPlayerProps\u003e(\n  ({ audioUrl, currentTime, onTimeUpdate, onPlay, onPause, autoPlay, playbackRate, onPlaybackRateChange }, ref) =\u003e {\n    const [isPlaying, setIsPlaying] = useState(false)\n    const audioRef = useRef\u003cHTMLAudioElement | null\u003e(null)\n    const [lastSetTime, setLastSetTime] = useState(0)\n    const timeUpdateAllowed = useRef(true)\n\n    // Opciones para el selector de velocidad\n    const playbackRateOptions = [\n      { value: \"0.5\", label: \"0.5x\" },\n      { value: \"0.75\", label: \"0.75x\" },\n      { value: \"1\", label: \"1x\" },\n      { value: \"1.25\", label: \"1.25x\" },\n      { value: \"1.5\", label: \"1.5x\" },\n      { value: \"1.75\", label: \"1.75x\" },\n      { value: \"2\", label: \"2x\" },\n    ]\n\n    // Exponer la función togglePlayPause a través de la ref\n    useImperativeHandle(ref, () =\u003e ({\n      togglePlayPause: () =\u003e {\n        handleTogglePlayPause()\n      },\n    }))\n\n    // Efecto para manejar cambios en currentTime desde fuera\n    useEffect(() =\u003e {\n      if (audioRef.current \u0026\u0026 Math.abs(currentTime - lastSetTime) \u003e 0.5) {\n        console.log(`AudioPlayer: Actualizando tiempo a: ${currentTime} segundos (${formatTime(currentTime)})`)\n\n        // Desactivar temporalmente las actualizaciones de tiempo para evitar bucles\n        timeUpdateAllowed.current = false\n\n        // Actualizar el tiempo del audio\n        audioRef.current.currentTime = currentTime\n        setLastSetTime(currentTime)\n\n        // Si autoPlay está activado, reproducir automáticamente\n        if (autoPlay \u0026\u0026 audioRef.current) {\n          audioRef.current\n            .play()\n            .then(() =\u003e {\n              setIsPlaying(true)\n              onPlay()\n            })\n            .catch((err) =\u003e console.error(\"Error al reproducir:\", err))\n        }\n\n        // Reactivar las actualizaciones después de un breve retraso\n        setTimeout(() =\u003e {\n          timeUpdateAllowed.current = true\n        }, 100)\n      }\n    }, [currentTime, autoPlay, onPlay])\n\n    // Efecto para actualizar la velocidad de reproducción cuando cambia la prop\n    useEffect(() =\u003e {\n      if (audioRef.current) {\n        console.log(`AudioPlayer: Actualizando velocidad de reproducción a ${playbackRate}x`)\n        audioRef.current.playbackRate = Number.parseFloat(playbackRate)\n      }\n    }, [playbackRate])\n\n    const handleTogglePlayPause = () =\u003e {\n      if (audioRef.current) {\n        if (isPlaying) {\n          audioRef.current.pause()\n          onPause()\n          setIsPlaying(false)\n        } else {\n          audioRef.current\n            .play()\n            .then(() =\u003e {\n              setIsPlaying(true)\n              onPlay()\n            })\n            .catch((err) =\u003e console.error(\"Error al reproducir:\", err))\n        }\n      }\n    }\n\n    const handleTimeUpdate = () =\u003e {\n      if (audioRef.current \u0026\u0026 timeUpdateAllowed.current) {\n        const newTime = audioRef.current.currentTime\n        setLastSetTime(newTime)\n        onTimeUpdate(newTime)\n      }\n    }\n\n    const formatTime = (seconds: number) =\u003e {\n      const hours = Math.floor(seconds / 3600)\n      const mins = Math.floor((seconds % 3600) / 60)\n      const secs = Math.floor(seconds % 60)\n\n      if (hours \u003e 0) {\n        return `${hours.toString().padStart(2, \"0\")}:${mins.toString().padStart(2, \"0\")}:${secs\n          .toString()\n          .padStart(2, \"0\")}`\n      }\n      return `${mins.toString().padStart(2, \"0\")}:${secs.toString().padStart(2, \"0\")}`\n    }\n\n    // Manejador para el cambio de velocidad\n    const handlePlaybackRateChange = (value: string) =\u003e {\n      console.log(`AudioPlayer: Notificando cambio de velocidad a: ${value}x`)\n      onPlaybackRateChange(value)\n    }\n\n    return (\n      \u003cdiv className=\"flex items-center gap-4\"\u003e\n        \u003cCustomButton variant=\"outline\" size=\"icon\" onClick={handleTogglePlayPause} disabled={!audioUrl}\u003e\n          {isPlaying ? \u003cPause size={20} /\u003e : \u003cPlay size={20} /\u003e}\n        \u003c/CustomButton\u003e\n\n        \u003cText variant=\"default\" size=\"sm\"\u003e\n          {formatTime(currentTime)}\n        \u003c/Text\u003e\n\n        \u003cdiv className=\"flex items-center gap-2\"\u003e\n          \u003cText variant=\"muted\" size=\"xs\"\u003e\n            Velocidad:\n          \u003c/Text\u003e\n          \u003cSelectCustom\n            value={playbackRate}\n            onChange={handlePlaybackRateChange}\n            options={playbackRateOptions}\n            className=\"w-20 h-8\"\n          /\u003e\n        \u003c/div\u003e\n\n        {audioUrl \u0026\u0026 (\n          \u003caudio\n            ref={audioRef}\n            src={audioUrl}\n            onTimeUpdate={handleTimeUpdate}\n            onEnded={() =\u003e {\n              setIsPlaying(false)\n              onPause()\n            }}\n            onPause={() =\u003e {\n              setIsPlaying(false)\n              onPause()\n            }}\n            onPlay={() =\u003e {\n              setIsPlaying(true)\n              onPlay()\n            }}\n          /\u003e\n        )}\n      \u003c/div\u003e\n    )\n  },\n)\n\nAudioPlayer.displayName = \"AudioPlayer\"\n\nexport default AudioPlayer\n"])</script><script>self.__next_f.push([1,"e4:Tc90,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport type React from \"react\"\n\nimport { useState, useRef } from \"react\"\nimport { CustomButton } from \"@/components/ui/custom-button\"\nimport { Text } from \"@/components/ui/text\"\nimport { UploadIcon } from \"lucide-react\"\n\ninterface AudioUploaderProps {\n  onFileChange: (file: File) =\u003e void\n  disabled?: boolean\n}\n\nexport function AudioUploader({ onFileChange, disabled = false }: AudioUploaderProps) {\n  const [isDragging, setIsDragging] = useState(false)\n  const fileInputRef = useRef\u003cHTMLInputElement\u003e(null)\n\n  // Manejar clic en el área de carga\n  const handleClick = () =\u003e {\n    if (disabled) return\n    fileInputRef.current?.click()\n  }\n\n  // Manejar cambio en el input de archivo\n  const handleFileChange = (e: React.ChangeEvent\u003cHTMLInputElement\u003e) =\u003e {\n    const files = e.target.files\n    if (files \u0026\u0026 files.length \u003e 0) {\n      const file = files[0]\n      if (isAudioFile(file)) {\n        onFileChange(file)\n      } else {\n        alert(\"Por favor, selecciona un archivo de audio válido (MP3, WAV, M4A, etc.)\")\n      }\n    }\n  }\n\n  // Verificar si es un archivo de audio\n  const isAudioFile = (file: File) =\u003e {\n    return (\n      file.type.startsWith(\"audio/\") ||\n      file.name.endsWith(\".mp3\") ||\n      file.name.endsWith(\".wav\") ||\n      file.name.endsWith(\".m4a\") ||\n      file.name.endsWith(\".ogg\") ||\n      file.name.endsWith(\".flac\")\n    )\n  }\n\n  // Manejar eventos de arrastrar y soltar\n  const handleDragOver = (e: React.DragEvent) =\u003e {\n    e.preventDefault()\n    if (disabled) return\n    setIsDragging(true)\n  }\n\n  const handleDragLeave = (e: React.DragEvent) =\u003e {\n    e.preventDefault()\n    setIsDragging(false)\n  }\n\n  const handleDrop = (e: React.DragEvent) =\u003e {\n    e.preventDefault()\n    if (disabled) return\n    setIsDragging(false)\n\n    const files = e.dataTransfer.files\n    if (files \u0026\u0026 files.length \u003e 0) {\n      const file = files[0]\n      if (isAudioFile(file)) {\n        onFileChange(file)\n      } else {\n        alert(\"Por favor, arrastra un archivo de audio válido (MP3, WAV, M4A, etc.)\")\n      }\n    }\n  }\n\n  return (\n    \u003cdiv\n      className={`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${\n        isDragging ? \"border-primary bg-primary/5\" : \"border-muted-foreground/20\"\n      } ${disabled ? \"opacity-50 cursor-not-allowed\" : \"hover:border-primary/50\"}`}\n      onClick={handleClick}\n      onDragOver={handleDragOver}\n      onDragLeave={handleDragLeave}\n      onDrop={handleDrop}\n    \u003e\n      \u003cinput\n        type=\"file\"\n        ref={fileInputRef}\n        onChange={handleFileChange}\n        accept=\"audio/*,.mp3,.wav,.m4a,.ogg,.flac\"\n        className=\"hidden\"\n        disabled={disabled}\n      /\u003e\n\n      \u003cUploadIcon className=\"h-10 w-10 mx-auto mb-4 text-muted-foreground\" /\u003e\n\n      \u003cText variant=\"default\" className=\"font-medium mb-1\"\u003e\n        Arrastra y suelta un archivo de audio o haz clic para seleccionar\n      \u003c/Text\u003e\n\n      \u003cText variant=\"muted\" size=\"sm\" className=\"text-muted-foreground\"\u003e\n        Formatos soportados: MP3, WAV, M4A, OGG, FLAC\n      \u003c/Text\u003e\n\n      \u003cCustomButton variant=\"outline\" className=\"mt-4\" disabled={disabled} color=\"primary\"\u003e\n        Seleccionar Archivo\n      \u003c/CustomButton\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"e5:T4066,"])</script><script>self.__next_f.push([1,"import tinycolor from \"tinycolor2\"\nimport type { AppColorTokens, Mode } from \"../ColorToken\"\n\n// Definimos los tipos para las variantes y tamaños\nexport type SliderVariant = \"solid\" | \"outline\" | \"subtle\"\nexport type SliderSize = \"xs\" | \"sm\" | \"md\" | \"lg\" | \"xl\"\nexport type SliderColor = \"default\" | \"primary\" | \"secondary\" | \"tertiary\" | \"accent\" | \"success\" | \"warning\" | \"danger\"\nexport type SliderOrientation = \"horizontal\" | \"vertical\"\n\n// Estructura completa de tokens para el slider\nexport type SliderTokens = {\n  base: {\n    height: Record\u003cSliderSize, string\u003e\n    thumbSize: Record\u003cSliderSize, string\u003e\n    trackHeight: Record\u003cSliderSize, string\u003e\n    borderRadius: string\n    transition: string\n    gap: Record\u003cSliderSize, string\u003e\n  }\n  variants: {\n    [key in SliderVariant]: {\n      default: {\n        track: {\n          background: string\n          border: string\n        }\n        range: {\n          background: string\n          border: string\n        }\n        thumb: {\n          background: string\n          border: string\n          boxShadow: string\n        }\n      }\n      hover: {\n        track: {\n          background: string\n        }\n        range: {\n          background: string\n        }\n        thumb: {\n          background: string\n          border: string\n          boxShadow: string\n          transform: string\n        }\n      }\n      active: {\n        track: {\n          background: string\n        }\n        range: {\n          background: string\n        }\n        thumb: {\n          background: string\n          border: string\n          boxShadow: string\n          transform: string\n        }\n      }\n      focus: {\n        thumb: {\n          outline: string\n          ring: string\n        }\n      }\n      disabled: {\n        track: {\n          background: string\n          opacity: string\n        }\n        range: {\n          background: string\n          opacity: string\n        }\n        thumb: {\n          background: string\n          border: string\n          opacity: string\n          cursor: string\n        }\n      }\n    }\n  }\n  colors: {\n    [key in SliderColor]: {\n      track: {\n        background: string\n        border: string\n      }\n      range: {\n        background: string\n        border: string\n        gradient: string\n      }\n      thumb: {\n        background: string\n        border: string\n        hoverBackground: string\n        hoverBorder: string\n        activeBackground: string\n        activeBorder: string\n      }\n    }\n  }\n}\n\n// Función para generar los tokens del slider\nexport function generateSliderTokens(appColorTokens: AppColorTokens, mode: Mode): SliderTokens {\n  const isDark = mode === \"dark\"\n\n  // Función para ajustar colores basados en el modo\n  const adjustColor = (color: string, darken: number, lighten: number) =\u003e {\n    if (isDark) {\n      return tinycolor(color).lighten(lighten).toString()\n    }\n    return tinycolor(color).darken(darken).toString()\n  }\n\n  // Función para crear un gradiente\n  const createGradient = (color: string) =\u003e {\n    const baseColor = tinycolor(color)\n    const lighterColor = baseColor.clone().lighten(10).toString()\n    const darkerColor = baseColor.clone().darken(10).toString()\n\n    return isDark\n      ? `linear-gradient(to right, ${color}, ${lighterColor})`\n      : `linear-gradient(to right, ${lighterColor}, ${color})`\n  }\n\n  // Colores base de appColorTokens\n  const primaryColor = appColorTokens.primary.pure\n  const secondaryColor = appColorTokens.secondary.pure\n  const tertiaryColor = appColorTokens.tertiary.pure\n  const accentColor = appColorTokens.accent.pure\n  const successColor = appColorTokens.success.pure\n  const warningColor = appColorTokens.warning.pure\n  const dangerColor = appColorTokens.danger.pure\n  const neutralColor = appColorTokens.neutral.pure\n  const neutralBgColor = appColorTokens.neutral.bg\n\n  // Tokens base\n  const baseTokens = {\n    height: {\n      xs: \"16px\",\n      sm: \"20px\",\n      md: \"24px\",\n      lg: \"28px\",\n      xl: \"32px\",\n    },\n    thumbSize: {\n      xs: \"12px\",\n      sm: \"16px\",\n      md: \"20px\",\n      lg: \"24px\",\n      xl: \"28px\",\n    },\n    trackHeight: {\n      xs: \"4px\",\n      sm: \"6px\",\n      md: \"8px\",\n      lg: \"10px\",\n      xl: \"12px\",\n    },\n    borderRadius: \"9999px\",\n    transition: \"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)\",\n    gap: {\n      xs: \"8px\",\n      sm: \"12px\",\n      md: \"16px\",\n      lg: \"20px\",\n      xl: \"24px\",\n    },\n  }\n\n  // Variantes\n  const variantTokens = {\n    solid: {\n      default: {\n        track: {\n          background: isDark ? \"rgba(255, 255, 255, 0.1)\" : \"rgba(0, 0, 0, 0.1)\",\n          border: \"none\",\n        },\n        range: {\n          background: \"currentBackground\",\n          border: \"none\",\n        },\n        thumb: {\n          background: \"currentThumbBackground\",\n          border: \"currentThumbBorder\",\n          boxShadow: isDark ? \"0 1px 3px 0 rgba(0, 0, 0, 0.3)\" : \"0 1px 3px 0 rgba(0, 0, 0, 0.1)\",\n        },\n      },\n      hover: {\n        track: {\n          background: isDark ? \"rgba(255, 255, 255, 0.15)\" : \"rgba(0, 0, 0, 0.15)\",\n        },\n        range: {\n          background: \"currentBackground\",\n        },\n        thumb: {\n          background: \"currentThumbHoverBackground\",\n          border: \"currentThumbHoverBorder\",\n          boxShadow: isDark\n            ? \"0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.2)\"\n            : \"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)\",\n          transform: \"scale(1.1)\",\n        },\n      },\n      active: {\n        track: {\n          background: isDark ? \"rgba(255, 255, 255, 0.2)\" : \"rgba(0, 0, 0, 0.2)\",\n        },\n        range: {\n          background: \"currentBackground\",\n        },\n        thumb: {\n          background: \"currentThumbActiveBackground\",\n          border: \"currentThumbActiveBorder\",\n          boxShadow: isDark ? \"0 1px 2px 0 rgba(0, 0, 0, 0.3)\" : \"0 1px 2px 0 rgba(0, 0, 0, 0.05)\",\n          transform: \"scale(1.15)\",\n        },\n      },\n      focus: {\n        thumb: {\n          outline: \"none\",\n          ring: isDark\n            ? `0 0 0 2px ${tinycolor(appColorTokens.primary.pure).setAlpha(0.5).toString()}`\n            : `0 0 0 2px ${tinycolor(appColorTokens.primary.pure).setAlpha(0.4).toString()}`,\n        },\n      },\n      disabled: {\n        track: {\n          background: isDark ? \"rgba(255, 255, 255, 0.05)\" : \"rgba(0, 0, 0, 0.05)\",\n          opacity: \"0.6\",\n        },\n        range: {\n          background: isDark ? \"rgba(255, 255, 255, 0.2)\" : \"rgba(0, 0, 0, 0.2)\",\n          opacity: \"0.6\",\n        },\n        thumb: {\n          background: isDark ? \"#555\" : \"#ccc\",\n          border: \"none\",\n          opacity: \"0.6\",\n          cursor: \"not-allowed\",\n        },\n      },\n    },\n    outline: {\n      default: {\n        track: {\n          background: \"transparent\",\n          border: `1px solid ${isDark ? \"rgba(255, 255, 255, 0.2)\" : \"rgba(0, 0, 0, 0.2)\"}`,\n        },\n        range: {\n          background: \"currentBackground\",\n          border: \"none\",\n        },\n        thumb: {\n          background: \"currentThumbBackground\",\n          border: \"currentThumbBorder\",\n          boxShadow: isDark ? \"0 1px 3px 0 rgba(0, 0, 0, 0.3)\" : \"0 1px 3px 0 rgba(0, 0, 0, 0.1)\",\n        },\n      },\n      hover: {\n        track: {\n          background: isDark ? \"rgba(255, 255, 255, 0.05)\" : \"rgba(0, 0, 0, 0.05)\",\n        },\n        range: {\n          background: \"currentBackground\",\n        },\n        thumb: {\n          background: \"currentThumbHoverBackground\",\n          border: \"currentThumbHoverBorder\",\n          boxShadow: isDark\n            ? \"0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.2)\"\n            : \"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)\",\n          transform: \"scale(1.1)\",\n        },\n      },\n      active: {\n        track: {\n          background: isDark ? \"rgba(255, 255, 255, 0.1)\" : \"rgba(0, 0, 0, 0.1)\",\n        },\n        range: {\n          background: \"currentBackground\",\n        },\n        thumb: {\n          background: \"currentThumbActiveBackground\",\n          border: \"currentThumbActiveBorder\",\n          boxShadow: isDark ? \"0 1px 2px 0 rgba(0, 0, 0, 0.3)\" : \"0 1px 2px 0 rgba(0, 0, 0, 0.05)\",\n          transform: \"scale(1.15)\",\n        },\n      },\n      focus: {\n        thumb: {\n          outline: \"none\",\n          ring: isDark\n            ? `0 0 0 2px ${tinycolor(appColorTokens.primary.pure).setAlpha(0.5).toString()}`\n            : `0 0 0 2px ${tinycolor(appColorTokens.primary.pure).setAlpha(0.4).toString()}`,\n        },\n      },\n      disabled: {\n        track: {\n          background: \"transparent\",\n          opacity: \"0.6\",\n        },\n        range: {\n          background: isDark ? \"rgba(255, 255, 255, 0.2)\" : \"rgba(0, 0, 0, 0.2)\",\n          opacity: \"0.6\",\n        },\n        thumb: {\n          background: isDark ? \"#555\" : \"#ccc\",\n          border: `1px solid ${isDark ? \"rgba(255, 255, 255, 0.2)\" : \"rgba(0, 0, 0, 0.2)\"}`,\n          opacity: \"0.6\",\n          cursor: \"not-allowed\",\n        },\n      },\n    },\n    subtle: {\n      default: {\n        track: {\n          background: isDark ? \"rgba(255, 255, 255, 0.05)\" : \"rgba(0, 0, 0, 0.05)\",\n          border: \"none\",\n        },\n        range: {\n          background: \"currentBackground\",\n          border: \"none\",\n        },\n        thumb: {\n          background: \"currentThumbBackground\",\n          border: \"currentThumbBorder\",\n          boxShadow: \"none\",\n        },\n      },\n      hover: {\n        track: {\n          background: isDark ? \"rgba(255, 255, 255, 0.1)\" : \"rgba(0, 0, 0, 0.1)\",\n        },\n        range: {\n          background: \"currentBackground\",\n        },\n        thumb: {\n          background: \"currentThumbHoverBackground\",\n          border: \"currentThumbHoverBorder\",\n          boxShadow: isDark ? \"0 2px 4px rgba(0, 0, 0, 0.2)\" : \"0 2px 4px rgba(0, 0, 0, 0.1)\",\n          transform: \"scale(1.1)\",\n        },\n      },\n      active: {\n        track: {\n          background: isDark ? \"rgba(255, 255, 255, 0.15)\" : \"rgba(0, 0, 0, 0.15)\",\n        },\n        range: {\n          background: \"currentBackground\",\n        },\n        thumb: {\n          background: \"currentThumbActiveBackground\",\n          border: \"currentThumbActiveBorder\",\n          boxShadow: isDark ? \"0 1px 2px rgba(0, 0, 0, 0.2)\" : \"0 1px 2px rgba(0, 0, 0, 0.1)\",\n          transform: \"scale(1.15)\",\n        },\n      },\n      focus: {\n        thumb: {\n          outline: \"none\",\n          ring: isDark\n            ? `0 0 0 2px ${tinycolor(appColorTokens.primary.pure).setAlpha(0.4).toString()}`\n            : `0 0 0 2px ${tinycolor(appColorTokens.primary.pure).setAlpha(0.3).toString()}`,\n        },\n      },\n      disabled: {\n        track: {\n          background: isDark ? \"rgba(255, 255, 255, 0.03)\" : \"rgba(0, 0, 0, 0.03)\",\n          opacity: \"0.6\",\n        },\n        range: {\n          background: isDark ? \"rgba(255, 255, 255, 0.1)\" : \"rgba(0, 0, 0, 0.1)\",\n          opacity: \"0.6\",\n        },\n        thumb: {\n          background: isDark ? \"#444\" : \"#ddd\",\n          border: \"none\",\n          opacity: \"0.6\",\n          cursor: \"not-allowed\",\n        },\n      },\n    },\n  }\n\n  // Colores\n  const colorTokens = {\n    default: {\n      track: {\n        background: isDark ? \"rgba(255, 255, 255, 0.1)\" : \"rgba(0, 0, 0, 0.1)\",\n        border: \"none\",\n      },\n      range: {\n        background: neutralColor,\n        border: \"none\",\n        gradient: createGradient(neutralColor),\n      },\n      thumb: {\n        background: neutralColor,\n        border: `1px solid ${neutralColor}`,\n        hoverBackground: adjustColor(neutralColor, 10, 10),\n        hoverBorder: `1px solid ${adjustColor(neutralColor, 10, 10)}`,\n        activeBackground: adjustColor(neutralColor, 15, 15),\n        activeBorder: `1px solid ${adjustColor(neutralColor, 15, 15)}`,\n      },\n    },\n    primary: {\n      track: {\n        background: isDark ? \"rgba(255, 255, 255, 0.1)\" : \"rgba(0, 0, 0, 0.1)\",\n        border: \"none\",\n      },\n      range: {\n        background: primaryColor,\n        border: \"none\",\n        gradient: createGradient(primaryColor),\n      },\n      thumb: {\n        background: primaryColor,\n        border: `1px solid ${primaryColor}`,\n        hoverBackground: adjustColor(primaryColor, 10, 10),\n        hoverBorder: `1px solid ${adjustColor(primaryColor, 10, 10)}`,\n        activeBackground: adjustColor(primaryColor, 15, 15),\n        activeBorder: `1px solid ${adjustColor(primaryColor, 15, 15)}`,\n      },\n    },\n    secondary: {\n      track: {\n        background: isDark ? \"rgba(255, 255, 255, 0.1)\" : \"rgba(0, 0, 0, 0.1)\",\n        border: \"none\",\n      },\n      range: {\n        background: secondaryColor,\n        border: \"none\",\n        gradient: createGradient(secondaryColor),\n      },\n      thumb: {\n        background: secondaryColor,\n        border: `1px solid ${secondaryColor}`,\n        hoverBackground: adjustColor(secondaryColor, 10, 10),\n        hoverBorder: `1px solid ${adjustColor(secondaryColor, 10, 10)}`,\n        activeBackground: adjustColor(secondaryColor, 15, 15),\n        activeBorder: `1px solid ${adjustColor(secondaryColor, 15, 15)}`,\n      },\n    },\n    tertiary: {\n      track: {\n        background: isDark ? \"rgba(255, 255, 255, 0.1)\" : \"rgba(0, 0, 0, 0.1)\",\n        border: \"none\",\n      },\n      range: {\n        background: tertiaryColor,\n        border: \"none\",\n        gradient: createGradient(tertiaryColor),\n      },\n      thumb: {\n        background: tertiaryColor,\n        border: `1px solid ${tertiaryColor}`,\n        hoverBackground: adjustColor(tertiaryColor, 10, 10),\n        hoverBorder: `1px solid ${adjustColor(tertiaryColor, 10, 10)}`,\n        activeBackground: adjustColor(tertiaryColor, 15, 15),\n        activeBorder: `1px solid ${adjustColor(tertiaryColor, 15, 15)}`,\n      },\n    },\n    accent: {\n      track: {\n        background: isDark ? \"rgba(255, 255, 255, 0.1)\" : \"rgba(0, 0, 0, 0.1)\",\n        border: \"none\",\n      },\n      range: {\n        background: accentColor,\n        border: \"none\",\n        gradient: createGradient(accentColor),\n      },\n      thumb: {\n        background: accentColor,\n        border: `1px solid ${accentColor}`,\n        hoverBackground: adjustColor(accentColor, 10, 10),\n        hoverBorder: `1px solid ${adjustColor(accentColor, 10, 10)}`,\n        activeBackground: adjustColor(accentColor, 15, 15),\n        activeBorder: `1px solid ${adjustColor(accentColor, 15, 15)}`,\n      },\n    },\n    success: {\n      track: {\n        background: isDark ? \"rgba(255, 255, 255, 0.1)\" : \"rgba(0, 0, 0, 0.1)\",\n        border: \"none\",\n      },\n      range: {\n        background: successColor,\n        border: \"none\",\n        gradient: createGradient(successColor),\n      },\n      thumb: {\n        background: successColor,\n        border: `1px solid ${successColor}`,\n        hoverBackground: adjustColor(successColor, 10, 10),\n        hoverBorder: `1px solid ${adjustColor(successColor, 10, 10)}`,\n        activeBackground: adjustColor(successColor, 15, 15),\n        activeBorder: `1px solid ${adjustColor(successColor, 15, 15)}`,\n      },\n    },\n    warning: {\n      track: {\n        background: isDark ? \"rgba(255, 255, 255, 0.1)\" : \"rgba(0, 0, 0, 0.1)\",\n        border: \"none\",\n      },\n      range: {\n        background: warningColor,\n        border: \"none\",\n        gradient: createGradient(warningColor),\n      },\n      thumb: {\n        background: warningColor,\n        border: `1px solid ${warningColor}`,\n        hoverBackground: adjustColor(warningColor, 10, 10),\n        hoverBorder: `1px solid ${adjustColor(warningColor, 10, 10)}`,\n        activeBackground: adjustColor(warningColor, 15, 15),\n        activeBorder: `1px solid ${adjustColor(warningColor, 15, 15)}`,\n      },\n    },\n    danger: {\n      track: {\n        background: isDark ? \"rgba(255, 255, 255, 0.1)\" : \"rgba(0, 0, 0, 0.1)\",\n        border: \"none\",\n      },\n      range: {\n        background: dangerColor,\n        border: \"none\",\n        gradient: createGradient(dangerColor),\n      },\n      thumb: {\n        background: dangerColor,\n        border: `1px solid ${dangerColor}`,\n        hoverBackground: adjustColor(dangerColor, 10, 10),\n        hoverBorder: `1px solid ${adjustColor(dangerColor, 10, 10)}`,\n        activeBackground: adjustColor(dangerColor, 15, 15),\n        activeBorder: `1px solid ${adjustColor(dangerColor, 15, 15)}`,\n      },\n    },\n  }\n\n  return {\n    base: baseTokens,\n    variants: variantTokens,\n    colors: colorTokens,\n  }\n}\n"])</script><script>self.__next_f.push([1,"e6:T2299,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport { useState } from \"react\"\nimport { CustomSlider } from \"@/components/ui/custom-slider\"\nimport { CustomButton } from \"@/components/ui/custom-button\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { useTheme } from \"@/app/theme-provider\"\n\nexport default function SliderShowroom() {\n  const { setColorScheme } = useTheme()\n  const [value, setValue] = useState(50)\n  const [rangeValue, setRangeValue] = useState([25, 75])\n\n  return (\n    \u003cdiv className=\"container py-10\"\u003e\n      \u003ch1 className=\"text-3xl font-bold mb-6\"\u003eCustom Slider Showroom\u003c/h1\u003e\n\n      \u003cdiv className=\"mb-8\"\u003e\n        \u003ch2 className=\"text-xl font-semibold mb-4\"\u003eTema\u003c/h2\u003e\n        \u003cdiv className=\"flex gap-2 mb-6\"\u003e\n          \u003cCustomButton onClick={() =\u003e setColorScheme(\"blue\")}\u003eAzul\u003c/CustomButton\u003e\n          \u003cCustomButton onClick={() =\u003e setColorScheme(\"green\")}\u003eVerde\u003c/CustomButton\u003e\n          \u003cCustomButton onClick={() =\u003e setColorScheme(\"orange\")}\u003eNaranja\u003c/CustomButton\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n\n      \u003cTabs defaultValue=\"basic\"\u003e\n        \u003cTabsList className=\"mb-4\"\u003e\n          \u003cTabsTrigger value=\"basic\"\u003eBásico\u003c/TabsTrigger\u003e\n          \u003cTabsTrigger value=\"variants\"\u003eVariantes\u003c/TabsTrigger\u003e\n          \u003cTabsTrigger value=\"colors\"\u003eColores\u003c/TabsTrigger\u003e\n          \u003cTabsTrigger value=\"sizes\"\u003eTamaños\u003c/TabsTrigger\u003e\n          \u003cTabsTrigger value=\"features\"\u003eCaracterísticas\u003c/TabsTrigger\u003e\n        \u003c/TabsList\u003e\n\n        \u003cTabsContent value=\"basic\"\u003e\n          \u003cCard\u003e\n            \u003cCardHeader\u003e\n              \u003cCardTitle\u003eSlider Básico\u003c/CardTitle\u003e\n            \u003c/CardHeader\u003e\n            \u003cCardContent className=\"space-y-8\"\u003e\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-lg font-medium mb-4\"\u003eSlider Simple\u003c/h3\u003e\n                \u003cCustomSlider\n                  defaultValue={[50]}\n                  max={100}\n                  step={1}\n                  value={[value]}\n                  onValueChange={(newValue) =\u003e setValue(Array.isArray(newValue) ? newValue[0] : newValue)}\n                /\u003e\n                \u003cp className=\"mt-2\"\u003eValor actual: {value}\u003c/p\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-lg font-medium mb-4\"\u003eSlider de Rango\u003c/h3\u003e\n                \u003cCustomSlider\n                  defaultValue={[25, 75]}\n                  max={100}\n                  step={1}\n                  value={rangeValue}\n                  onValueChange={(newValue) =\u003e setRangeValue(Array.isArray(newValue) ? newValue : [newValue, newValue])}\n                /\u003e\n                \u003cp className=\"mt-2\"\u003e\n                  Rango actual: {rangeValue[0]} - {rangeValue[1]}\n                \u003c/p\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-lg font-medium mb-4\"\u003eSlider Deshabilitado\u003c/h3\u003e\n                \u003cCustomSlider defaultValue={[50]} max={100} step={1} disabled /\u003e\n              \u003c/div\u003e\n            \u003c/CardContent\u003e\n          \u003c/Card\u003e\n        \u003c/TabsContent\u003e\n\n        \u003cTabsContent value=\"variants\"\u003e\n          \u003cCard\u003e\n            \u003cCardHeader\u003e\n              \u003cCardTitle\u003eVariantes de Slider\u003c/CardTitle\u003e\n            \u003c/CardHeader\u003e\n            \u003cCardContent className=\"space-y-8\"\u003e\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-lg font-medium mb-4\"\u003eSolid (Predeterminado)\u003c/h3\u003e\n                \u003cCustomSlider defaultValue={[50]} max={100} variant=\"solid\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-lg font-medium mb-4\"\u003eOutline\u003c/h3\u003e\n                \u003cCustomSlider defaultValue={[50]} max={100} variant=\"outline\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-lg font-medium mb-4\"\u003eSubtle\u003c/h3\u003e\n                \u003cCustomSlider defaultValue={[50]} max={100} variant=\"subtle\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-lg font-medium mb-4\"\u003eCon Gradiente\u003c/h3\u003e\n                \u003cCustomSlider defaultValue={[50]} max={100} gradient /\u003e\n              \u003c/div\u003e\n            \u003c/CardContent\u003e\n          \u003c/Card\u003e\n        \u003c/TabsContent\u003e\n\n        \u003cTabsContent value=\"colors\"\u003e\n          \u003cCard\u003e\n            \u003cCardHeader\u003e\n              \u003cCardTitle\u003eColores de Slider\u003c/CardTitle\u003e\n            \u003c/CardHeader\u003e\n            \u003cCardContent className=\"space-y-8\"\u003e\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-lg font-medium mb-4\"\u003ePrimary (Predeterminado)\u003c/h3\u003e\n                \u003cCustomSlider defaultValue={[50]} max={100} color=\"primary\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-lg font-medium mb-4\"\u003eSecondary\u003c/h3\u003e\n                \u003cCustomSlider defaultValue={[50]} max={100} color=\"secondary\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-lg font-medium mb-4\"\u003eTertiary\u003c/h3\u003e\n                \u003cCustomSlider defaultValue={[50]} max={100} color=\"tertiary\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-lg font-medium mb-4\"\u003eAccent\u003c/h3\u003e\n                \u003cCustomSlider defaultValue={[50]} max={100} color=\"accent\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-lg font-medium mb-4\"\u003eSuccess\u003c/h3\u003e\n                \u003cCustomSlider defaultValue={[50]} max={100} color=\"success\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-lg font-medium mb-4\"\u003eWarning\u003c/h3\u003e\n                \u003cCustomSlider defaultValue={[50]} max={100} color=\"warning\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-lg font-medium mb-4\"\u003eDanger\u003c/h3\u003e\n                \u003cCustomSlider defaultValue={[50]} max={100} color=\"danger\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-lg font-medium mb-4\"\u003eDefault\u003c/h3\u003e\n                \u003cCustomSlider defaultValue={[50]} max={100} color=\"default\" /\u003e\n              \u003c/div\u003e\n            \u003c/CardContent\u003e\n          \u003c/Card\u003e\n        \u003c/TabsContent\u003e\n\n        \u003cTabsContent value=\"sizes\"\u003e\n          \u003cCard\u003e\n            \u003cCardHeader\u003e\n              \u003cCardTitle\u003eTamaños de Slider\u003c/CardTitle\u003e\n            \u003c/CardHeader\u003e\n            \u003cCardContent className=\"space-y-8\"\u003e\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-lg font-medium mb-4\"\u003eXS\u003c/h3\u003e\n                \u003cCustomSlider defaultValue={[50]} max={100} size=\"xs\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-lg font-medium mb-4\"\u003eSM\u003c/h3\u003e\n                \u003cCustomSlider defaultValue={[50]} max={100} size=\"sm\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-lg font-medium mb-4\"\u003eMD (Predeterminado)\u003c/h3\u003e\n                \u003cCustomSlider defaultValue={[50]} max={100} size=\"md\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-lg font-medium mb-4\"\u003eLG\u003c/h3\u003e\n                \u003cCustomSlider defaultValue={[50]} max={100} size=\"lg\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-lg font-medium mb-4\"\u003eXL\u003c/h3\u003e\n                \u003cCustomSlider defaultValue={[50]} max={100} size=\"xl\" /\u003e\n              \u003c/div\u003e\n            \u003c/CardContent\u003e\n          \u003c/Card\u003e\n        \u003c/TabsContent\u003e\n\n        \u003cTabsContent value=\"features\"\u003e\n          \u003cCard\u003e\n            \u003cCardHeader\u003e\n              \u003cCardTitle\u003eCaracterísticas Adicionales\u003c/CardTitle\u003e\n            \u003c/CardHeader\u003e\n            \u003cCardContent className=\"space-y-8\"\u003e\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-lg font-medium mb-4\"\u003eMostrar Valor\u003c/h3\u003e\n                \u003cCustomSlider defaultValue={[50]} max={100} showValue /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-lg font-medium mb-4\"\u003ePrefijo y Sufijo\u003c/h3\u003e\n                \u003cCustomSlider defaultValue={[50]} max={100} showValue valuePrefix=\"$\" valueSuffix=\" USD\" /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-lg font-medium mb-4\"\u003eCon Tooltip\u003c/h3\u003e\n                \u003cCustomSlider defaultValue={[50]} max={100} showTooltip /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-lg font-medium mb-4\"\u003eCon Marcas (Ticks)\u003c/h3\u003e\n                \u003cCustomSlider defaultValue={[50]} max={100} showTicks tickCount={5} /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-lg font-medium mb-4\"\u003eCon Etiquetas en Marcas\u003c/h3\u003e\n                \u003cCustomSlider\n                  defaultValue={[50]}\n                  max={100}\n                  showTicks\n                  tickCount={5}\n                  tickLabels={[\"0%\", \"25%\", \"50%\", \"75%\", \"100%\"]}\n                /\u003e\n              \u003c/div\u003e\n\n              \u003cdiv\u003e\n                \u003ch3 className=\"text-lg font-medium mb-4\"\u003eOrientación Vertical\u003c/h3\u003e\n                \u003cdiv className=\"h-64\"\u003e\n                  \u003cCustomSlider defaultValue={[50]} max={100} orientation=\"vertical\" /\u003e\n                \u003c/div\u003e\n              \u003c/div\u003e\n            \u003c/CardContent\u003e\n          \u003c/Card\u003e\n        \u003c/TabsContent\u003e\n      \u003c/Tabs\u003e\n    \u003c/div\u003e\n  )\n}\n"])</script><script>self.__next_f.push([1,"e7:T361c,"])</script><script>self.__next_f.push([1,"\"use client\"\n\nimport * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { cn } from \"@/lib/utils\"\nimport { useTheme } from \"@/app/theme-provider\"\nimport {\n  generateSliderTokens,\n  type SliderColor,\n  type SliderSize,\n  type SliderVariant,\n} from \"@/lib/theme/components/slider-tokens\"\n\n// Definimos las propiedades del slider\nexport interface CustomSliderProps\n  extends React.ComponentPropsWithoutRef\u003ctypeof SliderPrimitive.Root\u003e,\n    VariantProps\u003ctypeof sliderVariants\u003e {\n  color?: SliderColor\n  size?: SliderSize\n  variant?: SliderVariant\n  showValue?: boolean\n  valuePrefix?: string\n  valueSuffix?: string\n  showTooltip?: boolean\n  showTicks?: boolean\n  tickCount?: number\n  tickLabels?: string[]\n  gradient?: boolean\n  thumbLabel?: string\n  ariaValueText?: (value: number) =\u003e string\n}\n\n// Definimos las variantes del slider usando CVA\nconst sliderVariants = cva(\"relative flex touch-none select-none items-center\", {\n  variants: {\n    variant: {\n      solid: \"\",\n      outline: \"\",\n      subtle: \"\",\n    },\n    size: {\n      xs: \"\",\n      sm: \"\",\n      md: \"\",\n      lg: \"\",\n      xl: \"\",\n    },\n    orientation: {\n      horizontal: \"w-full\",\n      vertical: \"h-full flex-col\",\n    },\n    gradient: {\n      true: \"\",\n    },\n  },\n  defaultVariants: {\n    variant: \"solid\",\n    size: \"md\",\n    orientation: \"horizontal\",\n  },\n})\n\nconst CustomSlider = React.forwardRef\u003cReact.ElementRef\u003ctypeof SliderPrimitive.Root\u003e, CustomSliderProps\u003e(\n  (\n    {\n      className,\n      variant = \"solid\",\n      size = \"md\",\n      color = \"primary\",\n      orientation = \"horizontal\",\n      showValue = false,\n      valuePrefix = \"\",\n      valueSuffix = \"\",\n      showTooltip = false,\n      showTicks = false,\n      tickCount = 5,\n      tickLabels,\n      gradient = false,\n      thumbLabel,\n      ariaValueText,\n      ...props\n    },\n    ref,\n  ) =\u003e {\n    const { appColorTokens, mode } = useTheme()\n    const sliderTokens = React.useMemo(() =\u003e {\n      if (!appColorTokens) return null\n      return generateSliderTokens(appColorTokens, mode)\n    }, [appColorTokens, mode])\n\n    const [hoveredThumb, setHoveredThumb] = React.useState\u003cnumber | null\u003e(null)\n    const [activeThumb, setActiveThumb] = React.useState\u003cnumber | null\u003e(null)\n    const [tooltipVisible, setTooltipVisible] = React.useState\u003cboolean\u003e(false)\n    const [tooltipPosition, setTooltipPosition] = React.useState({ x: 0, y: 0 })\n    const [tooltipValue, setTooltipValue] = React.useState\u003cnumber | null\u003e(null)\n\n    const isVertical = orientation === \"vertical\"\n    const isMultiThumb = Array.isArray(props.defaultValue) \u0026\u0026 props.defaultValue.length \u003e 1\n    const value = props.value || props.defaultValue || 0\n    const currentValue = Array.isArray(value)\n      ? value[0]\n      : typeof value === \"number\"\n        ? value\n        : props.defaultValue\n          ? Array.isArray(props.defaultValue)\n            ? props.defaultValue[0]\n            : props.defaultValue\n          : 0\n\n    // Generar marcas de ticks si están habilitadas\n    const ticks = React.useMemo(() =\u003e {\n      if (!showTicks) return []\n\n      const min = props.min || 0\n      const max = props.max || 100\n      const step = (max - min) / (tickCount - 1)\n\n      return Array.from({ length: tickCount }).map((_, i) =\u003e {\n        const tickValue = min + i * step\n        const percent = ((tickValue - min) / (max - min)) * 100\n        return {\n          value: tickValue,\n          percent,\n          label: tickLabels ? tickLabels[i] : tickValue.toString(),\n        }\n      })\n    }, [showTicks, tickCount, tickLabels, props.min, props.max])\n\n    // Manejar eventos de mouse para el pulgar\n    const handleThumbMouseEnter = (index: number) =\u003e {\n      setHoveredThumb(index)\n      if (showTooltip) {\n        setTooltipVisible(true)\n      }\n    }\n\n    const handleThumbMouseLeave = () =\u003e {\n      setHoveredThumb(null)\n      if (showTooltip \u0026\u0026 activeThumb === null) {\n        setTooltipVisible(false)\n      }\n    }\n\n    const handleThumbMouseDown = (index: number) =\u003e {\n      setActiveThumb(index)\n    }\n\n    const handleThumbMouseUp = () =\u003e {\n      setActiveThumb(null)\n      if (!hoveredThumb) {\n        setTooltipVisible(false)\n      }\n    }\n\n    // Actualizar posición del tooltip\n    const updateTooltipPosition = (e: React.MouseEvent, index: number) =\u003e {\n      if (showTooltip) {\n        const rect = e.currentTarget.getBoundingClientRect()\n        setTooltipPosition({\n          x: rect.left + rect.width / 2,\n          y: rect.top - 30,\n        })\n\n        const values = Array.isArray(value) ? value : [value]\n        setTooltipValue(values[index])\n      }\n    }\n\n    // Efecto para agregar/eliminar listeners globales\n    React.useEffect(() =\u003e {\n      const handleGlobalMouseUp = () =\u003e {\n        setActiveThumb(null)\n        if (!hoveredThumb) {\n          setTooltipVisible(false)\n        }\n      }\n\n      document.addEventListener(\"mouseup\", handleGlobalMouseUp)\n      return () =\u003e {\n        document.removeEventListener(\"mouseup\", handleGlobalMouseUp)\n      }\n    }, [hoveredThumb])\n\n    // Si no hay tokens disponibles, mostrar un slider básico\n    if (!sliderTokens) {\n      return (\n        \u003cSliderPrimitive.Root\n          ref={ref}\n          className={cn(\"relative flex w-full touch-none select-none items-center\", className)}\n          orientation={orientation}\n          {...props}\n        \u003e\n          \u003cSliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-gray-200 dark:bg-gray-800\"\u003e\n            \u003cSliderPrimitive.Range className=\"absolute h-full bg-gray-400 dark:bg-gray-600\" /\u003e\n          \u003c/SliderPrimitive.Track\u003e\n          \u003cSliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-gray-400 bg-white ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:border-gray-600 dark:bg-gray-950 dark:ring-offset-gray-950 dark:focus-visible:ring-gray-600\" /\u003e\n        \u003c/SliderPrimitive.Root\u003e\n      )\n    }\n\n    // Estilos personalizados basados en tokens\n    const trackStyles: React.CSSProperties = {\n      height: isVertical ? \"100%\" : sliderTokens.base.trackHeight[size],\n      width: isVertical ? sliderTokens.base.trackHeight[size] : \"100%\",\n      borderRadius: sliderTokens.base.borderRadius,\n      background: sliderTokens.variants[variant].default.track.background,\n      border: sliderTokens.variants[variant].default.track.border,\n      transition: sliderTokens.base.transition,\n    }\n\n    const rangeStyles: React.CSSProperties = {\n      background: gradient ? sliderTokens.colors[color].range.gradient : sliderTokens.colors[color].range.background,\n      border: sliderTokens.colors[color].range.border,\n      transition: sliderTokens.base.transition,\n    }\n\n    const getThumbStyles = (index: number): React.CSSProperties =\u003e {\n      const isHovered = hoveredThumb === index\n      const isActive = activeThumb === index\n      const isDisabled = props.disabled\n\n      if (isDisabled) {\n        return {\n          width: sliderTokens.base.thumbSize[size],\n          height: sliderTokens.base.thumbSize[size],\n          borderRadius: sliderTokens.base.borderRadius,\n          background: sliderTokens.variants[variant].disabled.thumb.background,\n          border: sliderTokens.variants[variant].disabled.thumb.border,\n          opacity: sliderTokens.variants[variant].disabled.thumb.opacity,\n          cursor: sliderTokens.variants[variant].disabled.thumb.cursor,\n          transition: sliderTokens.base.transition,\n        }\n      }\n\n      if (isActive) {\n        return {\n          width: sliderTokens.base.thumbSize[size],\n          height: sliderTokens.base.thumbSize[size],\n          borderRadius: sliderTokens.base.borderRadius,\n          background: sliderTokens.colors[color].thumb.activeBackground,\n          border: sliderTokens.colors[color].thumb.activeBorder,\n          boxShadow: sliderTokens.variants[variant].active.thumb.boxShadow,\n          transform: sliderTokens.variants[variant].active.thumb.transform,\n          transition: sliderTokens.base.transition,\n        }\n      }\n\n      if (isHovered) {\n        return {\n          width: sliderTokens.base.thumbSize[size],\n          height: sliderTokens.base.thumbSize[size],\n          borderRadius: sliderTokens.base.borderRadius,\n          background: sliderTokens.colors[color].thumb.hoverBackground,\n          border: sliderTokens.colors[color].thumb.hoverBorder,\n          boxShadow: sliderTokens.variants[variant].hover.thumb.boxShadow,\n          transform: sliderTokens.variants[variant].hover.thumb.transform,\n          transition: sliderTokens.base.transition,\n        }\n      }\n\n      return {\n        width: sliderTokens.base.thumbSize[size],\n        height: sliderTokens.base.thumbSize[size],\n        borderRadius: sliderTokens.base.borderRadius,\n        background: sliderTokens.colors[color].thumb.background,\n        border: sliderTokens.colors[color].thumb.border,\n        boxShadow: sliderTokens.variants[variant].default.thumb.boxShadow,\n        transition: sliderTokens.base.transition,\n      }\n    }\n\n    // Renderizar el tooltip\n    const renderTooltip = () =\u003e {\n      if (!showTooltip || tooltipValue === null || !tooltipVisible) return null\n\n      return (\n        \u003cdiv\n          className=\"absolute z-50 px-2 py-1 text-xs font-medium text-white bg-black rounded shadow pointer-events-none\"\n          style={{\n            left: `${tooltipPosition.x}px`,\n            top: `${tooltipPosition.y}px`,\n            transform: \"translate(-50%, -100%)\",\n          }}\n        \u003e\n          {valuePrefix}\n          {tooltipValue}\n          {valueSuffix}\n        \u003c/div\u003e\n      )\n    }\n\n    // Renderizar el valor\n    const renderValue = () =\u003e {\n      if (!showValue) return null\n\n      return (\n        \u003cdiv className=\"ml-2 text-sm font-medium\"\u003e\n          {valuePrefix}\n          {currentValue}\n          {valueSuffix}\n        \u003c/div\u003e\n      )\n    }\n\n    // Renderizar los ticks\n    const renderTicks = () =\u003e {\n      if (!showTicks) return null\n\n      return (\n        \u003cdiv\n          className={cn(\"relative w-full mt-2\", isVertical \u0026\u0026 \"h-full w-auto ml-2 mt-0\")}\n          style={{\n            height: isVertical ? \"100%\" : \"auto\",\n          }}\n        \u003e\n          {ticks.map((tick, i) =\u003e (\n            \u003cdiv\n              key={i}\n              className={cn(\n                \"absolute -translate-x-1/2 flex flex-col items-center\",\n                isVertical \u0026\u0026 \"translate-x-0 -translate-y-1/2\",\n              )}\n              style={{\n                [isVertical ? \"top\" : \"left\"]: `${tick.percent}%`,\n              }}\n            \u003e\n              \u003cdiv className=\"w-1 h-2 bg-gray-400\" /\u003e\n              {tickLabels \u0026\u0026 \u003cspan className=\"mt-1 text-xs\"\u003e{tick.label}\u003c/span\u003e}\n            \u003c/div\u003e\n          ))}\n        \u003c/div\u003e\n      )\n    }\n\n    return (\n      \u003cdiv className=\"flex flex-col w-full\"\u003e\n        \u003cdiv className=\"flex items-center w-full\"\u003e\n          \u003cSliderPrimitive.Root\n            ref={ref}\n            className={cn(\n              sliderVariants({\n                variant,\n                size,\n                orientation,\n                gradient,\n                className,\n              }),\n            )}\n            orientation={orientation}\n            onValueChange={(newValue) =\u003e {\n              if (showTooltip \u0026\u0026 (hoveredThumb !== null || activeThumb !== null)) {\n                const index = activeThumb !== null ? activeThumb : hoveredThumb\n                if (index !== null) {\n                  setTooltipValue(Array.isArray(newValue) ? newValue[index] : newValue)\n                }\n              }\n              // Asegurarnos de que siempre llamamos al onValueChange con el valor actualizado\n              if (props.onValueChange) {\n                props.onValueChange(newValue)\n              }\n            }}\n            aria-valuetext={ariaValueText ? ariaValueText(currentValue) : undefined}\n            {...props}\n          \u003e\n            \u003cSliderPrimitive.Track className=\"relative grow overflow-hidden\" style={trackStyles}\u003e\n              \u003cSliderPrimitive.Range className=\"absolute h-full\" style={rangeStyles} /\u003e\n            \u003c/SliderPrimitive.Track\u003e\n\n            {/* Renderizar un pulgar para cada valor */}\n            {Array.isArray(value) ? (\n              value.map((_, i) =\u003e (\n                \u003cSliderPrimitive.Thumb\n                  key={i}\n                  className=\"block focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none\"\n                  style={getThumbStyles(i)}\n                  onMouseEnter={() =\u003e handleThumbMouseEnter(i)}\n                  onMouseLeave={handleThumbMouseLeave}\n                  onMouseDown={() =\u003e handleThumbMouseDown(i)}\n                  onMouseUp={handleThumbMouseUp}\n                  onMouseMove={(e) =\u003e updateTooltipPosition(e, i)}\n                  aria-label={thumbLabel}\n                /\u003e\n              ))\n            ) : (\n              \u003cSliderPrimitive.Thumb\n                className=\"block focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none\"\n                style={getThumbStyles(0)}\n                onMouseEnter={() =\u003e handleThumbMouseEnter(0)}\n                onMouseLeave={handleThumbMouseLeave}\n                onMouseDown={() =\u003e handleThumbMouseDown(0)}\n                onMouseUp={handleThumbMouseUp}\n                onMouseMove={(e) =\u003e updateTooltipPosition(e, 0)}\n                aria-label={thumbLabel}\n              /\u003e\n            )}\n          \u003c/SliderPrimitive.Root\u003e\n\n          {renderValue()}\n        \u003c/div\u003e\n\n        {renderTicks()}\n        {renderTooltip()}\n      \u003c/div\u003e\n    )\n  },\n)\n\nCustomSlider.displayName = \"CustomSlider\"\n\nexport { CustomSlider }\n"])</script><script>self.__next_f.push([1,"6:[[\"$\",\"style\",null,{\"children\":\"  :root {\\n    --font-sans: __variable_3a0388;\\n    --font-mono: __variable_c1e5c9;\\n  }\\n  \"}],[\"$\",\"script\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"window.__v0_ts=1747927028024\"}}],[\"$\",\"$L14\",null,{\"names\":[\"GEMINI_API_KEY\",\"GOOGLE_API_KEY\",\"SUPABASE_URL\",\"NEXT_PUBLIC_SUPABASE_URL\",\"NEXT_PUBLIC_SUPABASE_ANON_KEY\",\"DEEPGRAM_API_KEY\"],\"show\":true}],[\"$\",\"$L15\",null,{\"isV3\":false,\"files\":[[\"README.md\",{\"type\":\"file\",\"data\":\"$16\"}],[\"app/actions/entrevistados-actions.ts\",{\"type\":\"file\",\"data\":\"$17\"}],[\"app/actions/entrevistas-actions.ts\",{\"type\":\"file\",\"data\":\"$18\"}],[\"app/actions/expresiones-permitidas-actions.ts\",{\"type\":\"file\",\"data\":\"$19\"}],[\"app/actions/fundaciones-actions.ts\",{\"type\":\"file\",\"data\":\"$1a\"}],[\"app/actions/instituciones-actions.ts\",{\"type\":\"file\",\"data\":\"\\\"use server\\\"\\n\\nimport { createClient } from \\\"@/lib/supabase\\\"\\nimport { revalidatePath } from \\\"next/cache\\\"\\n\\nexport async function createInstitucion(data: {\\n  codigo: string\\n  nombre: string\\n  descripcion: string\\n}) {\\n  const supabase = createClient()\\n\\n  const { error } = await supabase.from(\\\"instituciones\\\").insert([\\n    {\\n      codigo: data.codigo.toUpperCase(),\\n      nombre: data.nombre,\\n      descripcion: data.descripcion,\\n    },\\n  ])\\n\\n  if (error) {\\n    console.error(\\\"Error al crear institución:\\\", error)\\n    throw new Error(\\\"No se pudo crear la institución\\\")\\n  }\\n\\n  revalidatePath(\\\"/instituciones\\\")\\n}\\n\\nexport async function getInstituciones() {\\n  const supabase = createClient()\\n\\n  const { data, error } = await supabase.from(\\\"instituciones\\\").select(\\\"*\\\").order(\\\"nombre\\\")\\n\\n  if (error) {\\n    console.error(\\\"Error al obtener instituciones:\\\", error)\\n    return []\\n  }\\n\\n  return data\\n}\\n\"}],[\"app/actions/investigadores-actions.ts\",{\"type\":\"file\",\"data\":\"$1b\"}],[\"app/actions/perfil-investigador-actions.ts\",{\"type\":\"file\",\"data\":\"$1c\"}],[\"app/actions/proyecto-actions.ts\",{\"type\":\"file\",\"data\":\"$1d\"}],[\"app/actions/transcripciones-actions.ts\",{\"type\":\"file\",\"data\":\"$1e\"}],[\"app/api/direct-test/route.ts\",{\"type\":\"file\",\"data\":\"$1f\"}],[\"app/api/investigadores/route.ts\",{\"type\":\"file\",\"data\":\"import { NextResponse } from \\\"next/server\\\"\\nimport { supabaseClient } from \\\"@/lib/supabase\\\"\\n\\nexport async function GET() {\\n  try {\\n    const { data, error } = await supabaseClient.from(\\\"investigadores\\\").select(\\\"*\\\").order(\\\"apellido\\\")\\n\\n    if (error) {\\n      return NextResponse.json({ error: error.message }, { status: 500 })\\n    }\\n\\n    return NextResponse.json(data, {\\n      headers: {\\n        \\\"Access-Control-Allow-Origin\\\": \\\"*\\\",\\n        \\\"Access-Control-Allow-Methods\\\": \\\"GET, POST, PUT, DELETE, OPTIONS\\\",\\n        \\\"Access-Control-Allow-Headers\\\": \\\"Content-Type, Authorization\\\",\\n      },\\n    })\\n  } catch (error) {\\n    return NextResponse.json({ error: \\\"Error al obtener investigadores\\\" }, { status: 500 })\\n  }\\n}\\n\\nexport async function OPTIONS() {\\n  return NextResponse.json(\\n    {},\\n    {\\n      headers: {\\n        \\\"Access-Control-Allow-Origin\\\": \\\"*\\\",\\n        \\\"Access-Control-Allow-Methods\\\": \\\"GET, POST, PUT, DELETE, OPTIONS\\\",\\n        \\\"Access-Control-Allow-Headers\\\": \\\"Content-Type, Authorization\\\",\\n      },\\n    },\\n  )\\n}\\n\"}],[\"app/api/showroomGemini/route.ts\",{\"type\":\"file\",\"data\":\"$20\"}],[\"app/api/traduccion/route.ts\",{\"type\":\"file\",\"data\":\"$21\"}],[\"app/articulos/preclasificacion/[lote]/page.tsx\",{\"type\":\"file\",\"data\":\"$22\"}],[\"app/articulos/preclasificacion/loading.tsx\",{\"type\":\"file\",\"data\":\"export default function Loading() {\\n  return null\\n}\\n\"}],[\"app/articulos/preclasificacion/page.tsx\",{\"type\":\"file\",\"data\":\"$23\"}],[\"app/auth-layout-wrapper.tsx\",{\"type\":\"file\",\"data\":\"$24\"}],[\"app/auth-provider.tsx\",{\"type\":\"file\",\"data\":\"$25\"}],[\"app/auth/auth-context.tsx\",{\"type\":\"file\",\"data\":\"$26\"}],[\"app/auth/client.ts\",{\"type\":\"file\",\"data\":\"$27\"}],[\"app/auth/session.ts\",{\"type\":\"file\",\"data\":\"$28\"}],[\"app/configuracion/dimensiones/page.tsx\",{\"type\":\"file\",\"data\":\"export default function DimensionesPage() {\\n  return (\\n    \u003cdiv className=\\\"space-y-6\\\"\u003e\\n      \u003ch1 className=\\\"text-3xl font-bold\\\"\u003eDimensiones de la Matriz\u003c/h1\u003e\\n      \u003cp\u003eEsta sección está en desarrollo. Próximamente podrás gestionar las dimensiones de la matriz de vaciado.\u003c/p\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\"}],[\"app/configuracion/entrevistados/[id]/editar/page.tsx\",{\"type\":\"file\",\"data\":\"import { redirect } from \\\"next/navigation\\\"\\n\\nexport default function EditarEntrevistadoRedirectConfig({ params }: { params: { id: string } }) {\\n  redirect(`/entrevistados/${params.id}/editar`)\\n}\\n\"}],[\"app/configuracion/entrevistados/[id]/page.tsx\",{\"type\":\"file\",\"data\":\"import { redirect } from \\\"next/navigation\\\"\\n\\nexport default function DetalleEntrevistadoRedirectConfig({ params }: { params: { id: string } }) {\\n  redirect(`/entrevistados/${params.id}`)\\n}\\n\"}],[\"app/configuracion/entrevistados/nuevo/page.tsx\",{\"type\":\"file\",\"data\":\"import { redirect } from \\\"next/navigation\\\"\\n\\nexport default function NuevoEntrevistadoRedirectConfig() {\\n  redirect(\\\"/entrevistados/nuevo\\\")\\n}\\n\"}],[\"app/configuracion/entrevistados/page.tsx\",{\"type\":\"file\",\"data\":\"import { redirect } from \\\"next/navigation\\\"\\n\\nexport default function EntrevistadosRedirectConfig() {\\n  redirect(\\\"/entrevistados\\\")\\n}\\n\"}],[\"app/configuracion/expresiones-permitidas/[id]/editar/page.tsx\",{\"type\":\"file\",\"data\":\"import { ExpresionPermitidaForm } from \\\"@/components/forms/expresion-permitida-form\\\"\\nimport { obtenerExpresionesPermitidas } from \\\"@/app/actions/expresiones-permitidas-actions\\\"\\nimport { notFound } from \\\"next/navigation\\\"\\n\\nexport default async function EditarExpresionPermitidaPage({ params }: { params: { id: string } }) {\\n  const id = Number.parseInt(params.id)\\n\\n  if (isNaN(id)) {\\n    notFound()\\n  }\\n\\n  const { data: expresiones, error } = await obtenerExpresionesPermitidas()\\n  const expresion = expresiones?.find((exp) =\u003e exp.id === id)\\n\\n  if (error || !expresion) {\\n    notFound()\\n  }\\n\\n  return (\\n    \u003cdiv className=\\\"max-w-2xl mx-auto py-8\\\"\u003e\\n      \u003ch1 className=\\\"text-3xl font-bold mb-6\\\"\u003eEditar Expresión Permitida\u003c/h1\u003e\\n      \u003cExpresionPermitidaForm expresion={expresion} /\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\"}],[\"app/configuracion/expresiones-permitidas/[id]/page.tsx\",{\"type\":\"file\",\"data\":\"$29\"}],[\"app/configuracion/expresiones-permitidas/inicializar/page.tsx\",{\"type\":\"file\",\"data\":\"$2a\"}],[\"app/configuracion/expresiones-permitidas/nueva/page.tsx\",{\"type\":\"file\",\"data\":\"import { ExpresionPermitidaForm } from \\\"@/components/forms/expresion-permitida-form\\\"\\n\\nexport default function NuevaExpresionPermitidaPage() {\\n  return (\\n    \u003cdiv className=\\\"max-w-2xl mx-auto py-8\\\"\u003e\\n      \u003ch1 className=\\\"text-3xl font-bold mb-6\\\"\u003eNueva Expresión Permitida\u003c/h1\u003e\\n      \u003cExpresionPermitidaForm /\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\"}],[\"app/configuracion/expresiones-permitidas/page.tsx\",{\"type\":\"file\",\"data\":\"$2b\"}],[\"app/configuracion/fundaciones/[id]/editar/page.tsx\",{\"type\":\"file\",\"data\":\"import { redirect } from \\\"next/navigation\\\"\\n\\nexport default function EditarFundacionRedirectConfig({ params }: { params: { id: string } }) {\\n  redirect(`/fundaciones/${params.id}/editar`)\\n}\\n\"}],[\"app/configuracion/fundaciones/[id]/page.tsx\",{\"type\":\"file\",\"data\":\"import { redirect } from \\\"next/navigation\\\"\\n\\nexport default function DetalleFundacionRedirectConfig({ params }: { params: { id: string } }) {\\n  redirect(`/fundaciones/${params.id}`)\\n}\\n\"}],[\"app/configuracion/fundaciones/nueva/page.tsx\",{\"type\":\"file\",\"data\":\"import { redirect } from \\\"next/navigation\\\"\\n\\nexport default function NuevaFundacionRedirectConfig() {\\n  redirect(\\\"/fundaciones/nueva\\\")\\n}\\n\"}],[\"app/configuracion/fundaciones/page.tsx\",{\"type\":\"file\",\"data\":\"import { redirect } from \\\"next/navigation\\\"\\n\\nexport default function FundacionesRedirectConfig() {\\n  redirect(\\\"/fundaciones\\\")\\n}\\n\"}],[\"app/configuracion/investigadores/[id]/editar/page.tsx\",{\"type\":\"file\",\"data\":\"import { InvestigadorForm } from \\\"@/components/forms/investigador-form\\\"\\nimport { obtenerInvestigadorPorId } from \\\"@/app/actions/investigadores-actions\\\"\\nimport { notFound } from \\\"next/navigation\\\"\\n\\nexport default async function EditarInvestigadorPage({ params }: { params: { id: string } }) {\\n  const id = Number.parseInt(params.id)\\n\\n  if (isNaN(id)) {\\n    notFound()\\n  }\\n\\n  const { data: investigador, error } = await obtenerInvestigadorPorId(id)\\n\\n  if (error || !investigador) {\\n    notFound()\\n  }\\n\\n  return (\\n    \u003cdiv className=\\\"max-w-2xl mx-auto py-8\\\"\u003e\\n      \u003ch1 className=\\\"text-3xl font-bold mb-6\\\"\u003eEditar Investigador\u003c/h1\u003e\\n      \u003cInvestigadorForm investigador={investigador} /\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\"}],[\"app/configuracion/investigadores/[id]/page.tsx\",{\"type\":\"file\",\"data\":\"$2c\"}],[\"app/configuracion/investigadores/nuevo/page.tsx\",{\"type\":\"file\",\"data\":\"import { InvestigadorForm } from \\\"@/components/forms/investigador-form\\\"\\n\\nexport default function NuevoInvestigadorPage() {\\n  return (\\n    \u003cdiv className=\\\"max-w-2xl mx-auto py-8\\\"\u003e\\n      \u003ch1 className=\\\"text-3xl font-bold mb-6\\\"\u003eNuevo Investigador\u003c/h1\u003e\\n      \u003cInvestigadorForm /\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\"}],[\"app/configuracion/investigadores/page.tsx\",{\"type\":\"file\",\"data\":\"$2d\"}],[\"app/configuracion/page.tsx\",{\"type\":\"file\",\"data\":\"$2e\"}],[\"app/contact/loading.tsx\",{\"type\":\"file\",\"data\":\"export default function ContactLoading() {\\n  return (\\n    \u003cdiv className=\\\"flex items-center justify-center min-h-screen bg-gradient-to-b from-background to-muted\\\"\u003e\\n      \u003cdiv className=\\\"flex flex-col items-center space-y-4\\\"\u003e\\n        \u003cdiv className=\\\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary\\\"\u003e\u003c/div\u003e\\n        \u003cp className=\\\"text-lg text-neutral-500\\\"\u003eCargando...\u003c/p\u003e\\n      \u003c/div\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\"}],[\"app/contact/page.tsx\",{\"type\":\"file\",\"data\":\"$2f\"}],[\"app/datos-maestros/README.md\",{\"type\":\"file\",\"data\":\"$30\"}],[\"app/datos-maestros/layout.tsx\",{\"type\":\"file\",\"data\":\"$31\"}],[\"app/datos-maestros/miembros/[id]/crear/page.tsx\",{\"type\":\"file\",\"data\":\"$32\"}],[\"app/datos-maestros/miembros/[id]/eliminar/page.tsx\",{\"type\":\"file\",\"data\":\"$33\"}],[\"app/datos-maestros/miembros/[id]/modificar/page.tsx\",{\"type\":\"file\",\"data\":\"$34\"}],[\"app/datos-maestros/miembros/[id]/ver/page.tsx\",{\"type\":\"file\",\"data\":\"$35\"}],[\"app/datos-maestros/miembros/components/MiembroForm.tsx\",{\"type\":\"file\",\"data\":\"$36\"}],[\"app/datos-maestros/miembros/page.tsx\",{\"type\":\"file\",\"data\":\"$37\"}],[\"app/ejemplo-tabla/columns.ts\",{\"type\":\"file\",\"data\":\"$38\"}],[\"app/ejemplo-tabla/data.ts\",{\"type\":\"file\",\"data\":\"$39\"}],[\"app/ejemplo-tabla/page.tsx\",{\"type\":\"file\",\"data\":\"$3a\"}],[\"app/ejemplo-tabla/utils.ts\",{\"type\":\"file\",\"data\":\"// Función para determinar el estado de una fila basado en algún criterio\\nexport function getRowStatus(row: any): \\\"success\\\" | \\\"warning\\\" | \\\"error\\\" | \\\"info\\\" | \\\"neutral\\\" | null {\\n  // Ejemplo: determinar el estado basado en el campo 'status' del registro\\n  if (!row.status) return \\\"neutral\\\"\\n\\n  switch (row.status.toLowerCase()) {\\n    case \\\"active\\\":\\n    case \\\"activo\\\":\\n      return \\\"success\\\"\\n    case \\\"pending\\\":\\n    case \\\"pendiente\\\":\\n      return \\\"warning\\\"\\n    case \\\"inactive\\\":\\n    case \\\"inactivo\\\":\\n      return \\\"error\\\"\\n    case \\\"info\\\":\\n      return \\\"info\\\"\\n    case \\\"neutral\\\":\\n      return \\\"neutral\\\"\\n    default:\\n      return null\\n  }\\n}\\n\"}],[\"app/entrevistados/[id]/editar/page.tsx\",{\"type\":\"file\",\"data\":\"$3b\"}],[\"app/entrevistados/[id]/page.tsx\",{\"type\":\"file\",\"data\":\"$3c\"}],[\"app/entrevistados/nuevo/page.tsx\",{\"type\":\"file\",\"data\":\"import { EntrevistadoForm } from \\\"@/components/forms/entrevistado-form\\\"\\nimport { obtenerFundaciones } from \\\"@/app/actions/fundaciones-actions\\\"\\nimport { redirect } from \\\"next/navigation\\\"\\n\\nexport default async function NuevoEntrevistadoPage() {\\n  const { data: fundaciones = [], error } = await obtenerFundaciones()\\n\\n  if (error || fundaciones.length === 0) {\\n    return redirect(\\\"/fundaciones?error=Debes crear al menos una institución antes de crear entrevistados\\\")\\n  }\\n\\n  return (\\n    \u003cdiv className=\\\"max-w-2xl mx-auto py-8\\\"\u003e\\n      \u003ch1 className=\\\"text-3xl font-bold mb-6\\\"\u003eNuevo Entrevistado\u003c/h1\u003e\\n      \u003cEntrevistadoForm fundaciones={fundaciones} /\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\"}],[\"app/entrevistados/page.tsx\",{\"type\":\"file\",\"data\":\"$3d\"}],[\"app/entrevistas/[id]/page.tsx\",{\"type\":\"file\",\"data\":\"$3e\"}],[\"app/entrevistas/[id]/transcripciones/page.tsx\",{\"type\":\"file\",\"data\":\"$3f\"}],[\"app/entrevistas/nueva/page.tsx\",{\"type\":\"file\",\"data\":\"$40\"}],[\"app/entrevistas/page.tsx\",{\"type\":\"file\",\"data\":\"$41\"}],[\"app/font-config.tsx\",{\"type\":\"file\",\"data\":\"$42\"}],[\"app/font-provider.tsx\",{\"type\":\"file\",\"data\":\"$43\"}],[\"app/fundaciones/[id]/editar/page.tsx\",{\"type\":\"file\",\"data\":\"import { FundacionForm } from \\\"@/components/forms/fundacion-form\\\"\\nimport { obtenerFundacionPorId } from \\\"@/app/actions/fundaciones-actions\\\"\\nimport { notFound } from \\\"next/navigation\\\"\\n\\nexport default async function EditarFundacionPage({ params }: { params: { id: string } }) {\\n  const id = Number.parseInt(params.id)\\n\\n  if (isNaN(id)) {\\n    notFound()\\n  }\\n\\n  const { data: fundacion, error } = await obtenerFundacionPorId(id)\\n\\n  if (error || !fundacion) {\\n    notFound()\\n  }\\n\\n  return (\\n    \u003cdiv className=\\\"max-w-2xl mx-auto py-8\\\"\u003e\\n      \u003ch1 className=\\\"text-3xl font-bold mb-6\\\"\u003eEditar Institución\u003c/h1\u003e\\n      \u003cFundacionForm fundacion={fundacion} /\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\"}],[\"app/fundaciones/[id]/page.tsx\",{\"type\":\"file\",\"data\":\"$44\"}],[\"app/fundaciones/nueva/page.tsx\",{\"type\":\"file\",\"data\":\"import { FundacionForm } from \\\"@/components/forms/fundacion-form\\\"\\n\\nexport default function NuevaFundacionPage() {\\n  return (\\n    \u003cdiv className=\\\"max-w-2xl mx-auto py-8\\\"\u003e\\n      \u003ch1 className=\\\"text-3xl font-bold mb-6\\\"\u003eNueva Institución\u003c/h1\u003e\\n      \u003cFundacionForm /\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\"}],[\"app/fundaciones/page.tsx\",{\"type\":\"file\",\"data\":\"$45\"}],[\"app/globals.css\",{\"type\":\"file\",\"data\":\"$46\"}],[\"app/instituciones/[id]/editar/page.tsx\",{\"type\":\"file\",\"data\":\"import { redirect } from \\\"next/navigation\\\"\\n\\nexport default function EditarInstitucionPage({ params }: { params: { id: string } }) {\\n  redirect(`/fundaciones/${params.id}/editar`)\\n}\\n\"}],[\"app/instituciones/[id]/page.tsx\",{\"type\":\"file\",\"data\":\"import { redirect } from \\\"next/navigation\\\"\\n\\nexport default function InstitucionPage({ params }: { params: { id: string } }) {\\n  redirect(`/fundaciones/${params.id}`)\\n}\\n\"}],[\"app/instituciones/nueva/page.tsx\",{\"type\":\"file\",\"data\":\"import { redirect } from \\\"next/navigation\\\"\\n\\nexport default function NuevaInstitucionPage() {\\n  redirect(\\\"/fundaciones/nueva\\\")\\n}\\n\"}],[\"app/instituciones/page.tsx\",{\"type\":\"file\",\"data\":\"import { redirect } from \\\"next/navigation\\\"\\n\\nexport default function InstitucionesPage() {\\n  redirect(\\\"/fundaciones\\\")\\n}\\n\"}],[\"app/layout.tsx\",{\"type\":\"file\",\"data\":\"$47\"}],[\"app/login/page.tsx\",{\"type\":\"file\",\"data\":\"$48\"}],[\"app/matriz/page.tsx\",{\"type\":\"file\",\"data\":\"export default function MatrizPage() {\\n  return (\\n    \u003cdiv className=\\\"space-y-6\\\"\u003e\\n      \u003ch1 className=\\\"text-3xl font-bold\\\"\u003eMatriz de Vaciado\u003c/h1\u003e\\n\\n      \u003cp\u003eAquí se mostrará la matriz de vaciado con los datos de las transcripciones.\u003c/p\u003e\\n\\n      {/* Aquí irá la matriz de vaciado */}\\n      \u003cdiv className=\\\"border rounded-md p-8 text-center text-gray-500\\\"\u003ePróximamente: Matriz de vaciado\u003c/div\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\"}],[\"app/providers.tsx\",{\"type\":\"file\",\"data\":\"\\\"use client\\\"\\n\\nimport type React from \\\"react\\\"\\n\\nimport { ThemeProvider } from \\\"@/app/theme-provider\\\"\\nimport { FontThemeProvider } from \\\"@/app/font-provider\\\"\\nimport { RippleProvider } from \\\"@/components/ripple/RippleProvider\\\"\\nimport { AuthProvider } from \\\"@/app/auth-provider\\\"\\nimport { Toaster } from \\\"sonner\\\"\\n\\nexport function Providers({ children }: { children: React.ReactNode }) {\\n  return (\\n    \u003cThemeProvider\u003e\\n      \u003cFontThemeProvider\u003e\\n        \u003cRippleProvider\u003e\\n          \u003cAuthProvider\u003e\\n            \u003cToaster position=\\\"top-right\\\" richColors /\u003e\\n            {children}\\n          \u003c/AuthProvider\u003e\\n        \u003c/RippleProvider\u003e\\n      \u003c/FontThemeProvider\u003e\\n    \u003c/ThemeProvider\u003e\\n  )\\n}\\n\"}],[\"app/reset-password/page.tsx\",{\"type\":\"file\",\"data\":\"$49\"}],[\"app/showroom/badge/page.tsx\",{\"type\":\"file\",\"data\":\"$4a\"}],[\"app/showroom/button/page.tsx\",{\"type\":\"file\",\"data\":\"$4b\"}],[\"app/showroom/buttons/page.tsx\",{\"type\":\"file\",\"data\":\"$4c\"}],[\"app/showroom/card/page.tsx\",{\"type\":\"file\",\"data\":\"$4d\"}],[\"app/showroom/cardpro/page.tsx\",{\"type\":\"file\",\"data\":\"$4e\"}],[\"app/showroom/check/page.tsx\",{\"type\":\"file\",\"data\":\"$4f\"}],[\"app/showroom/divider/page.tsx\",{\"type\":\"file\",\"data\":\"$50\"}],[\"app/showroom/form/page.tsx\",{\"type\":\"file\",\"data\":\"$51\"}],[\"app/showroom/gemini/page.tsx\",{\"type\":\"file\",\"data\":\"$52\"}],[\"app/showroom/gradient-stroke/page.tsx\",{\"type\":\"file\",\"data\":\"$53\"}],[\"app/showroom/icons/page.tsx\",{\"type\":\"file\",\"data\":\"$54\"}],[\"app/showroom/input/loading.tsx\",{\"type\":\"file\",\"data\":\"export default function Loading() {\\n  return null\\n}\\n\"}],[\"app/showroom/input/page.tsx\",{\"type\":\"file\",\"data\":\"$55\"}],[\"app/showroom/lineclamp/page.tsx\",{\"type\":\"file\",\"data\":\"$56\"}],[\"app/showroom/loading-logo/page.tsx\",{\"type\":\"file\",\"data\":\"$57\"}],[\"app/showroom/loading.tsx\",{\"type\":\"file\",\"data\":\"export default function Loading() {\\n  return null\\n}\\n\"}],[\"app/showroom/page.tsx\",{\"type\":\"file\",\"data\":\"\"}],[\"app/showroom/pro-table/Copia de page.txt\",{\"type\":\"file\",\"data\":\"$58\"}],[\"app/showroom/pro-table/page.tsx\",{\"type\":\"file\",\"data\":\"$59\"}],[\"app/showroom/progress/loading.tsx\",{\"type\":\"file\",\"data\":\"import { PageBackground } from \\\"@/components/ui/page-background\\\"\\nimport { Text } from \\\"@/components/ui/text\\\"\\nimport { Progress } from \\\"@/components/ui/progress\\\"\\n\\nexport default function Loading() {\\n  return (\\n    \u003cPageBackground variant=\\\"gradient\\\"\u003e\\n      \u003cdiv className=\\\"container mx-auto py-8 px-4 flex flex-col items-center justify-center min-h-[50vh]\\\"\u003e\\n        \u003cText as=\\\"h1\\\" size=\\\"2xl\\\" weight=\\\"bold\\\" className=\\\"mb-6\\\"\u003e\\n          Cargando Showroom de Progreso...\\n        \u003c/Text\u003e\\n\\n        \u003cdiv className=\\\"w-full max-w-md\\\"\u003e\\n          \u003cProgress indeterminate variant=\\\"primary\\\" size=\\\"lg\\\" label=\\\"Cargando componentes\\\" /\u003e\\n        \u003c/div\u003e\\n      \u003c/div\u003e\\n    \u003c/PageBackground\u003e\\n  )\\n}\\n\"}],[\"app/showroom/progress/page.tsx\",{\"type\":\"file\",\"data\":\"$5a\"}],[\"app/showroom/select/page.tsx\",{\"type\":\"file\",\"data\":\"$5b\"}],[\"app/showroom/simple/page.tsx\",{\"type\":\"file\",\"data\":\"$5c\"}],[\"app/showroom/table/page copy.txt\",{\"type\":\"file\",\"data\":\"$5d\"}],[\"app/showroom/table/page.tsx\",{\"type\":\"file\",\"data\":\"$5e\"}],[\"app/showroom/table/table2/page.tsx\",{\"type\":\"file\",\"data\":\"$5f\"}],[\"app/showroom/textarea/page.tsx\",{\"type\":\"file\",\"data\":\"$60\"}],[\"app/signup/page.tsx\",{\"type\":\"file\",\"data\":\"$61\"}],[\"app/sustrato-demo/page.tsx\",{\"type\":\"file\",\"data\":\"$62\"}],[\"app/sustrato.ai.md\",{\"type\":\"file\",\"data\":\"$63\"}],[\"app/text-color-test/page.tsx\",{\"type\":\"file\",\"data\":\"$64\"}],[\"app/text-theme-test/page.tsx\",{\"type\":\"file\",\"data\":\"$65\"}],[\"app/theme-provider.tsx\",{\"type\":\"file\",\"data\":\"$66\"}],[\"app/transcripciones/cargar/page.tsx\",{\"type\":\"file\",\"data\":\"$67\"}],[\"app/transcripciones/page.tsx\",{\"type\":\"file\",\"data\":\"$68\"}],[\"app/transcripciones/txt-a-csv/page.tsx\",{\"type\":\"file\",\"data\":\"$69\"}],[\"components/HomeCards.tsx\",{\"type\":\"file\",\"data\":\"$6a\"}],[\"components/Simple/simple.tsx\",{\"type\":\"file\",\"data\":\"$6b\"}],[\"components/articulos/article-table.tsx\",{\"type\":\"file\",\"data\":\"$6c\"}],[\"components/buttons/eliminar-entrevista-button.tsx\",{\"type\":\"file\",\"data\":\"$6d\"}],[\"components/buttons/eliminar-entrevistado-button.tsx\",{\"type\":\"file\",\"data\":\"$6e\"}],[\"components/buttons/eliminar-expresion-permitida-button.tsx\",{\"type\":\"file\",\"data\":\"$6f\"}],[\"components/buttons/eliminar-fundacion-button.tsx\",{\"type\":\"file\",\"data\":\"$70\"}],[\"components/buttons/eliminar-investigador-button.tsx\",{\"type\":\"file\",\"data\":\"$71\"}],[\"components/common/empty-state.tsx\",{\"type\":\"file\",\"data\":\"$72\"}],[\"components/common/page-header.tsx\",{\"type\":\"file\",\"data\":\"import type React from \\\"react\\\"\\nimport { Text } from \\\"@/components/ui/text\\\"\\n\\ninterface PageHeaderProps {\\n  title: string\\n  description?: string\\n  actions?: React.ReactNode\\n  className?: string\\n}\\n\\nexport function PageHeader({ title, description, actions, className = \\\"\\\" }: PageHeaderProps) {\\n  return (\\n    \u003cdiv className={`flex justify-between items-start mb-6 ${className}`}\u003e\\n      \u003cdiv\u003e\\n        \u003ch1 className=\\\"text-2xl font-semibold tracking-tight\\\"\u003e{title}\u003c/h1\u003e\\n        {description \u0026\u0026 \u003cText className=\\\"text-muted-foreground mt-1\\\"\u003e{description}\u003c/Text\u003e}\\n      \u003c/div\u003e\\n      {actions \u0026\u0026 \u003cdiv className=\\\"flex-shrink-0\\\"\u003e{actions}\u003c/div\u003e}\\n    \u003c/div\u003e\\n  )\\n}\\n\"}],[\"components/forms/cargar-transcripcion-form.tsx\",{\"type\":\"file\",\"data\":\"$73\"}],[\"components/forms/custom-textarea.tsx\",{\"type\":\"file\",\"data\":\"$74\"}],[\"components/forms/entrevista-form.tsx\",{\"type\":\"file\",\"data\":\"$75\"}],[\"components/forms/entrevistado-form.tsx\",{\"type\":\"file\",\"data\":\"$76\"}],[\"components/forms/example-usage.tsx\",{\"type\":\"file\",\"data\":\"$77\"}],[\"components/forms/expresion-permitida-form.tsx\",{\"type\":\"file\",\"data\":\"$78\"}],[\"components/forms/fundacion-form.tsx\",{\"type\":\"file\",\"data\":\"$79\"}],[\"components/forms/institucion-form.tsx\",{\"type\":\"file\",\"data\":\"$7a\"}],[\"components/forms/investigador-form.tsx\",{\"type\":\"file\",\"data\":\"$7b\"}],[\"components/miembros/delete-miembro-dialog.tsx\",{\"type\":\"file\",\"data\":\"$7c\"}],[\"components/miembros/miembro-form-dialog.tsx\",{\"type\":\"file\",\"data\":\"$7d\"}],[\"components/miembros/miembro-view-dialog.tsx\",{\"type\":\"file\",\"data\":\"$7e\"}],[\"components/ripple/RippleProvider.tsx\",{\"type\":\"file\",\"data\":\"$7f\"}],[\"components/showrooms/ProTableShowroom.tsx\",{\"type\":\"file\",\"data\":\"$80\"}],[\"components/tables/entrevistados-columns.tsx\",{\"type\":\"file\",\"data\":\"$81\"}],[\"components/tables/entrevistados-table.tsx\",{\"type\":\"file\",\"data\":\"$82\"}],[\"components/tables/entrevistas-table.tsx\",{\"type\":\"file\",\"data\":\"$83\"}],[\"components/tables/expresiones-permitidas-table.tsx\",{\"type\":\"file\",\"data\":\"$84\"}],[\"components/tables/fundaciones-table.tsx\",{\"type\":\"file\",\"data\":\"$85\"}],[\"components/tables/investigadores-table.tsx\",{\"type\":\"file\",\"data\":\"$86\"}],[\"components/tables/transcripciones-columns.ts\",{\"type\":\"file\",\"data\":\"$87\"}],[\"components/tables/transcripciones-entrevista-columns.tsx\",{\"type\":\"file\",\"data\":\"$88\"}],[\"components/tables/transcripciones-table.tsx\",{\"type\":\"file\",\"data\":\"$89\"}],[\"components/ui/Copia de pro-table.txt\",{\"type\":\"file\",\"data\":\"$8a\"}],[\"components/ui/badge-custom.tsx\",{\"type\":\"file\",\"data\":\"$8b\"}],[\"components/ui/button-example.tsx\",{\"type\":\"file\",\"data\":\"$8c\"}],[\"components/ui/color-scheme-switcher.tsx\",{\"type\":\"file\",\"data\":\"$8d\"}],[\"components/ui/custom-check.tsx\",{\"type\":\"file\",\"data\":\"$8e\"}],[\"components/ui/dark-mode-switcher.tsx\",{\"type\":\"file\",\"data\":\"$8f\"}],[\"components/ui/divider.tsx\",{\"type\":\"file\",\"data\":\"$90\"}],[\"components/ui/font-theme-switcher.tsx\",{\"type\":\"file\",\"data\":\"$91\"}],[\"components/ui/form-field.tsx\",{\"type\":\"file\",\"data\":\"$92\"}],[\"components/ui/icon-examples.tsx\",{\"type\":\"file\",\"data\":\"$93\"}],[\"components/ui/icon.tsx\",{\"type\":\"file\",\"data\":\"$94\"}],[\"components/ui/icons/custom-palette-icon.tsx\",{\"type\":\"file\",\"data\":\"$95\"}],[\"components/ui/lucide-icons.tsx\",{\"type\":\"file\",\"data\":\"$96\"}],[\"components/ui/navbar.tsx\",{\"type\":\"file\",\"data\":\"$97\"}],[\"components/ui/navigation-progress.tsx\",{\"type\":\"file\",\"data\":\"$98\"}],[\"components/ui/page-background.tsx\",{\"type\":\"file\",\"data\":\"$99\"}],[\"components/ui/page-wrapper.tsx\",{\"type\":\"file\",\"data\":\"// --- page-wrapper.tsx (VERSIÓN CORRECTA) ---\\n\\\"use client\\\"\\n\\nimport type { ReactNode } from \\\"react\\\"\\nimport { PageBackground } from \\\"./page-background\\\" // PageBackground ahora es más simple\\nimport type { PageBackgroundVariant } from \\\"@/lib/theme/components/page-background-tokens\\\"\\n\\ninterface PageWrapperProps {\\n  children: ReactNode\\n  title?: string\\n  variant?: PageBackgroundVariant\\n  className?: string // ej. \\\"container mx-auto px-4 py-8\\\"\\n}\\n\\nexport function PageWrapper({ children, variant = \\\"default\\\", className = \\\"\\\" }: PageWrapperProps) {\\n  return (\\n    \u003cPageBackground variant={variant}\u003e\\n      {/* Este div aplica el layout al contenido (ej. centrado, padding) */}\\n      {/* Su altura será determinada por el children (ProTable, etc.) */}\\n      \u003cdiv className={`w-full ${className}`}\u003e{children}\u003c/div\u003e\\n    \u003c/PageBackground\u003e\\n  )\\n}\\n// --- END OF FILE page-wrapper.tsx (MODIFIED) ---\\n\"}],[\"components/ui/pro-card.tsx\",{\"type\":\"file\",\"data\":\"$9a\"}],[\"components/ui/pro-table copy.tsx\",{\"type\":\"file\",\"data\":\"$9b\"}],[\"components/ui/pro-table.tsx\",{\"type\":\"file\",\"data\":\"$9c\"}],[\"components/ui/select-custom.tsx\",{\"type\":\"file\",\"data\":\"$9d\"}],[\"components/ui/ship.tsx\",{\"type\":\"file\",\"data\":\"$9e\"}],[\"components/ui/sidebar-nav.tsx\",{\"type\":\"file\",\"data\":\"$9f\"}],[\"components/ui/solid-navbar-wrapper.tsx\",{\"type\":\"file\",\"data\":\"\\\"use client\\\"\\n\\nimport type React from \\\"react\\\"\\nimport { useColorTokens } from \\\"@/hooks/use-color-tokens\\\"\\nimport { useTheme } from \\\"@/app/theme-provider\\\"\\n\\ninterface SolidNavbarWrapperProps {\\n  children: React.ReactNode\\n}\\n\\nexport function SolidNavbarWrapper({ children }: SolidNavbarWrapperProps) {\\n  const { component } = useColorTokens()\\n  const { mode } = useTheme()\\n\\n  // Usar los mismos tokens del navbar\\n  const navTokens = component.navbar\\n\\n  // Estilo para el fondo del navbar wrapper\\n  const wrapperStyle = {\\n    backgroundColor: navTokens.background.scrolled,\\n    backdropFilter: \\\"blur(8px)\\\",\\n    borderBottom: `1px solid ${mode === \\\"dark\\\" ? \\\"rgba(75, 85, 99, 0.3)\\\" : \\\"rgba(229, 231, 235, 0.8)\\\"}`,\\n    boxShadow: navTokens.shadow,\\n  }\\n\\n  return (\\n    \u003cdiv className=\\\"sticky top-0 z-50\\\" style={wrapperStyle}\u003e\\n      {children}\\n    \u003c/div\u003e\\n  )\\n}\\n\"}],[\"components/ui/sustrato-loading-logo.tsx\",{\"type\":\"file\",\"data\":\"$a0\"}],[\"components/ui/sustrato-logo-reactive.tsx\",{\"type\":\"file\",\"data\":\"$a1\"}],[\"components/ui/sustrato-logo-rotating.tsx\",{\"type\":\"file\",\"data\":\"$a2\"}],[\"components/ui/sustrato-logo-with-fixed-text.tsx\",{\"type\":\"file\",\"data\":\"$a3\"}],[\"components/ui/sustrato-logo.tsx\",{\"type\":\"file\",\"data\":\"$a4\"}],[\"components/ui/sustrato-page-background.tsx\",{\"type\":\"file\",\"data\":\"$a5\"}],[\"components/ui/text.stories.tsx\",{\"type\":\"file\",\"data\":\"$a6\"}],[\"components/ui/theme-background.tsx\",{\"type\":\"file\",\"data\":\"$a7\"}],[\"components/ui/theme-debugger.tsx\",{\"type\":\"file\",\"data\":\"$a8\"}],[\"components/ui/theme-selector.tsx\",{\"type\":\"file\",\"data\":\"$a9\"}],[\"components/ui/theme-switcher.tsx\",{\"type\":\"file\",\"data\":\"\\\"use client\\\"\\n\\nimport { DarkModeSwitcher } from \\\"./dark-mode-switcher\\\"\\nimport { ColorSchemeSwitcher } from \\\"./color-scheme-switcher\\\"\\n\\nexport function ThemeSwitcher() {\\n  return (\\n    \u003cdiv className=\\\"flex items-center gap-4\\\"\u003e\\n      \u003cColorSchemeSwitcher /\u003e\\n      \u003cDarkModeSwitcher /\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\"}],[\"components/ui/theme-text.tsx\",{\"type\":\"file\",\"data\":\"$aa\"}],[\"components/ui/user-avatar.tsx\",{\"type\":\"file\",\"data\":\"$ab\"}],[\"components/validation/csv-validation-result.tsx\",{\"type\":\"file\",\"data\":\"$ac\"}],[\"contexts/LoadingContext.tsx\",{\"type\":\"file\",\"data\":\"$ad\"}],[\"create_rpc_function.sql\",{\"type\":\"file\",\"data\":\"-- Función RPC que evita completamente el problema de RLS\\nCREATE OR REPLACE FUNCTION public.get_all_projects()\\nRETURNS SETOF proyecto\\nLANGUAGE sql SECURITY DEFINER\\nAS $$\\n  SELECT * FROM proyecto LIMIT 50;\\n$$;\\n\"}],[\"docs/REFACTORIZACION_SISTEMA_VISUAL.md\",{\"type\":\"file\",\"data\":\"$ae\"}],[\"docs/guia-sistema-visual.md\",{\"type\":\"file\",\"data\":\"$af\"}],[\"hooks/use-color-tokens.ts\",{\"type\":\"file\",\"data\":\"\\\"use client\\\"\\n\\nimport { useTheme } from \\\"@/app/theme-provider\\\"\\n\\n/**\\n * Hook para acceder a los tokens de color en componentes LEGACY\\n * Este hook garantiza que los componentes se actualicen cuando cambia el tema\\n */\\nexport function useColorTokens() {\\n  // Usar el hook useTheme para forzar la actualización cuando cambia el tema\\n  // Acceder a legacyColorTokens en lugar del antiguo colorTokens\\n  const { legacyColorTokens: contextTokens } = useTheme()\\n\\n  // Devolver los tokens del contexto, que siempre están actualizados\\n  return contextTokens\\n}\\n\"}],[\"hooks/use-dark-mode-text.ts\",{\"type\":\"file\",\"data\":\"$b0\"}],[\"lib/actions/member-actions.ts\",{\"type\":\"file\",\"data\":\"$b1\"}],[\"lib/database.types.ts\",{\"type\":\"file\",\"data\":\"$b2\"}],[\"lib/fonts.ts\",{\"type\":\"file\",\"data\":\"$b3\"}],[\"lib/fonts/font-theme-styles.ts\",{\"type\":\"file\",\"data\":\"$b4\"}],[\"lib/server.ts\",{\"type\":\"file\",\"data\":\"// lib/supabase/server.ts\\nimport { createServerClient, type CookieOptions } from \\\"@supabase/ssr\\\"\\nimport { cookies } from \\\"next/headers\\\"\\nimport type { Database } from \\\"@/lib/database.types\\\"\\n\\n// La función que crea el cliente DEBE SER ASYNC si usa 'await cookies()'\\nexport async function createSupabaseServerClient() {\\n  // \u003c--- ASYNC\\n  const cookieStore = await cookies() // \u003c--- AWAIT\\n\\n  return createServerClient\u003cDatabase\u003e(\\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\\n    {\\n      cookies: {\\n        getAll() {\\n          return cookieStore.getAll()\\n        },\\n        setAll(cookiesToSet: { name: string; value: string; options: CookieOptions }[]) {\\n          try {\\n            cookiesToSet.forEach(({ name, value, options }) =\u003e cookieStore.set(name, value, options))\\n          } catch {}\\n        },\\n      },\\n    },\\n  )\\n}\\n\"}],[\"lib/supabase-middleware-client.ts\",{\"type\":\"file\",\"data\":\"import { createServerClient, type CookieOptions } from \\\"@supabase/ssr\\\"\\nimport type { NextRequest, NextResponse } from \\\"next/server\\\"\\n\\nexport function createMiddlewareClient(req: NextRequest, res: NextResponse) {\\n  return createServerClient(process.env.NEXT_PUBLIC_SUPABASE_URL!, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!, {\\n    cookies: {\\n      get(name: string) {\\n        try {\\n          return req.cookies?.get(name)?.value ?? undefined\\n        } catch {\\n          return undefined\\n        }\\n      },\\n      set(name: string, value: string, options: CookieOptions) {\\n        res.cookies.set({ name, value, ...options })\\n      },\\n      remove(name: string, options: CookieOptions) {\\n        res.cookies.set({ name, value: \\\"\\\", ...options })\\n      },\\n    },\\n  })\\n}\\n\"}],[\"lib/supabase.ts\",{\"type\":\"file\",\"data\":\"$b5\"}],[\"lib/theme/ColorToken.ts\",{\"type\":\"file\",\"data\":\"$b6\"}],[\"lib/theme/Copia de color-tokens.ts\",{\"type\":\"file\",\"data\":\"$b7\"}],[\"lib/theme/Copia de colors.txt\",{\"type\":\"file\",\"data\":\"$b8\"}],[\"lib/theme/advertencia.txt\",{\"type\":\"file\",\"data\":\"nunca modifiques color-tokens.ts\\n\"}],[\"lib/theme/color-tokens.ts\",{\"type\":\"file\",\"data\":\"$b9\"}],[\"lib/theme/colors.ts\",{\"type\":\"file\",\"data\":\"$ba\"}],[\"lib/theme/components/Copia de table-tokens.ts\",{\"type\":\"file\",\"data\":\"$bb\"}],[\"lib/theme/components/badge-tokens.ts\",{\"type\":\"file\",\"data\":\"$bc\"}],[\"lib/theme/components/check-tokens.ts\",{\"type\":\"file\",\"data\":\"$bd\"}],[\"lib/theme/components/divider-tokens.ts\",{\"type\":\"file\",\"data\":\"$be\"}],[\"lib/theme/components/font-selector-tokens.ts\",{\"type\":\"file\",\"data\":\"$bf\"}],[\"lib/theme/components/icon-tokens.ts\",{\"type\":\"file\",\"data\":\"$c0\"}],[\"lib/theme/components/index.ts\",{\"type\":\"file\",\"data\":\"\"}],[\"lib/theme/components/input-tokens.ts\",{\"type\":\"file\",\"data\":\"$c1\"}],[\"lib/theme/components/nav-tokens.ts\",{\"type\":\"file\",\"data\":\"$c2\"}],[\"lib/theme/components/page-background-tokens.ts\",{\"type\":\"file\",\"data\":\"$c3\"}],[\"lib/theme/components/pro-card-tokens.ts\",{\"type\":\"file\",\"data\":\"$c4\"}],[\"lib/theme/components/progress-tokens.ts\",{\"type\":\"file\",\"data\":\"$c5\"}],[\"lib/theme/components/select-tokens.ts\",{\"type\":\"file\",\"data\":\"$c6\"}],[\"lib/theme/components/sustrato-loading-logo-tokens.ts\",{\"type\":\"file\",\"data\":\"$c7\"}],[\"lib/theme/components/table-tokens.ts\",{\"type\":\"file\",\"data\":\"$c8\"}],[\"lib/theme/components/text-tokens.ts\",{\"type\":\"file\",\"data\":\"$c9\"}],[\"lib/theme/components/textarea-tokens.ts\",{\"type\":\"file\",\"data\":\"$ca\"}],[\"lib/theme/components/user-avatar-tokens.ts\",{\"type\":\"file\",\"data\":\"$cb\"}],[\"lib/theme/design-system.ts\",{\"type\":\"file\",\"data\":\"$cc\"}],[\"lib/theme/index.ts\",{\"type\":\"file\",\"data\":\"import { buttonTokens } from \\\"./components/button-tokens\\\"\\nimport { cardTokens } from \\\"./components/card-tokens\\\"\\nimport { checkTokens } from \\\"./components/check-tokens\\\"\\nimport { inputTokens } from \\\"./components/input-tokens\\\"\\nimport { selectTokens } from \\\"./components/select-tokens\\\"\\nimport { textareaTokens } from \\\"./components/textarea-tokens\\\"\\nimport { textTokens } from \\\"./components/text-tokens\\\"\\nimport { navTokens } from \\\"./components/nav-tokens\\\"\\nimport { colorTokens } from \\\"./color-tokens\\\"\\nimport { sizeTokens } from \\\"./size-tokens\\\"\\n\\nexport const theme = {\\n  components: {\\n    button: buttonTokens,\\n    card: cardTokens,\\n    checkbox: checkTokens,\\n    input: inputTokens,\\n    select: selectTokens,\\n    textarea: textareaTokens,\\n    text: textTokens,\\n    navbar: navTokens,\\n  },\\n  color: colorTokens,\\n  size: sizeTokens,\\n}\\n\\nexport type Theme = typeof theme\\n\"}],[\"lib/theme/size-tokens.ts\",{\"type\":\"file\",\"data\":\"$cd\"}],[\"lib/theme/types.ts\",{\"type\":\"file\",\"data\":\"export type ColorScheme = \\\"blue\\\" | \\\"green\\\" | \\\"orange\\\"\\nexport type Mode = \\\"light\\\" | \\\"dark\\\"\\nexport type ColorToken = string\\n\"}],[\"lib/utils/color-transformer.ts\",{\"type\":\"file\",\"data\":\"$ce\"}],[\"lib/utils/csv-validator.ts\",{\"type\":\"file\",\"data\":\"$cf\"}],[\"middleware.ts\",{\"type\":\"file\",\"data\":\"$d0\"}],[\"next-env.d.ts\",{\"type\":\"file\",\"data\":\"/// \u003creference types=\\\"next\\\" /\u003e\\n/// \u003creference types=\\\"next/image-types/global\\\" /\u003e\\n/// \u003creference types=\\\"next/navigation-types/compat/navigation\\\" /\u003e\\n\\n// NOTE: This file should not be edited\\n// see https://nextjs.org/docs/app/building-your-application/configuring/typescript for more information.\\n\"}],[\"next.config.js\",{\"type\":\"file\",\"data\":\"/** @type {import('next').NextConfig} */\\nconst nextConfig = {}\\n\\nmodule.exports = nextConfig\\n\"}],[\"providers/proyecto-provider.tsx\",{\"type\":\"file\",\"data\":\"$d1\"}],[\"sai.txt\",{\"type\":\"file\",\"data\":\"$d2\"}],[\"styles/globals.css\",{\"type\":\"file\",\"data\":\"$d3\"}],[\"tailwind.config.ts\",{\"type\":\"file\",\"data\":\"$d4\"}],[\"types/supabase.ts\",{\"type\":\"file\",\"data\":\"$d5\"}],[\"public/images/sustrato-logo.svg\",{\"type\":\"url\",\"data\":\"https://hebbkx1anhila5yf.public.blob.vercel-storage.com/git-blob/YDDnFQWKdwc/public/images/sustrato-logo-h9N1XdG5PcbaGSSEZ9cGi6bt1lYhmf.svg\"}],[\".env.local\",{\"type\":\"file\",\"data\":\"# Supabase Configuration\\nNEXT_PUBLIC_SUPABASE_URL=https://nnzjmsfllrdqxlrzrhur.supabase.co\\nNEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5uemptc2ZsbHJkcXhscnpyaHVyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQwMjM2OTgsImV4cCI6MjA1OTU5OTY5OH0.m8oIegSsgyL3-fqWnkMgLosFWFnk3BYl0BhHa9T7sa4\\n\\n\\n# API Keys (if needed)\\n# OPENAI_API_KEY=your-openai-api-key\\n# GOOGLE_API_KEY=your-google-api-key\\n\\n# Other Configuration\\nNODE_ENV=development\\n\"}],[\"app/page.tsx\",{\"type\":\"file\",\"data\":\"$d6\"}],[\"components/ui/text.tsx\",{\"type\":\"file\",\"data\":\"$d7\"}],[\"app/showroom/text/page.tsx\",{\"type\":\"file\",\"data\":\"$d8\"}],[\"components/ui/custom-button.tsx\",{\"type\":\"file\",\"data\":\"$d9\"}],[\"lib/theme/components/button-tokens.ts\",{\"type\":\"file\",\"data\":\"$da\"}],[\"app/entrevistas/crear-entrevistas/page.tsx\",{\"type\":\"file\",\"data\":\"import { PageHeader } from \\\"@/components/common/page-header\\\"\\nimport { TranscripcionPlayer } from \\\"@/components/transcripcion/transcripcion-player\\\"\\n\\nexport default async function CrearTranscripcionPage() {\\n  return (\\n    \u003cdiv className=\\\"container mx-auto py-6\\\"\u003e\\n      \u003cPageHeader\\n        title=\\\"Crear Transcripción\\\"\\n        description=\\\"Sube un archivo de audio para transcribir una entrevista\\\"\\n        className=\\\"mb-6\\\"\\n      /\u003e\\n\\n      \u003cTranscripcionPlayer /\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\"}],[\"components/transcripcion/transcripcion-table.tsx\",{\"type\":\"file\",\"data\":\"$db\"}],[\"components/transcripcion/deepgram-transcriber.tsx\",{\"type\":\"file\",\"data\":\"$dc\"}],[\"components/transcripcion/deepgram-api-key-config.tsx\",{\"type\":\"file\",\"data\":\"$dd\"}],[\"app/api/transcribe/route.ts\",{\"type\":\"file\",\"data\":\"$de\"}],[\"app/api/upload-temp/route.ts\",{\"type\":\"file\",\"data\":\"$df\"}],[\"app/api/check-deepgram-key/route.ts\",{\"type\":\"file\",\"data\":\"import { NextResponse } from \\\"next/server\\\"\\n\\nexport async function GET() {\\n  try {\\n    const hasKey = !!process.env.DEEPGRAM_API_KEY\\n\\n    return NextResponse.json({ hasKey })\\n  } catch (error) {\\n    console.error(\\\"Error al verificar la clave API:\\\", error)\\n    return NextResponse.json({ hasKey: false, error: \\\"Error al verificar la clave API\\\" }, { status: 500 })\\n  }\\n}\\n\"}],[\"app/api/verify-deepgram-key/route.ts\",{\"type\":\"file\",\"data\":\"import { type NextRequest, NextResponse } from \\\"next/server\\\"\\n\\nexport async function POST(request: NextRequest) {\\n  try {\\n    const { apiKey } = await request.json()\\n\\n    if (!apiKey) {\\n      return NextResponse.json({ valid: false, error: \\\"No se proporcionó una clave API\\\" }, { status: 400 })\\n    }\\n\\n    // Verificar la clave API con Deepgram\\n    const response = await fetch(\\\"https://api.deepgram.com/v1/projects\\\", {\\n      method: \\\"GET\\\",\\n      headers: {\\n        Authorization: `Token ${apiKey}`,\\n      },\\n    })\\n\\n    const valid = response.ok\\n\\n    return NextResponse.json({ valid })\\n  } catch (error) {\\n    console.error(\\\"Error al verificar la clave API:\\\", error)\\n    return NextResponse.json({ valid: false, error: \\\"Error al verificar la clave API\\\" }, { status: 500 })\\n  }\\n}\\n\"}],[\"app/api/save-deepgram-key/route.ts\",{\"type\":\"file\",\"data\":\"$e0\"}],[\"app/api/setup-supabase/route.ts\",{\"type\":\"file\",\"data\":\"import { NextResponse } from \\\"next/server\\\"\\nimport { supabaseClient } from \\\"@/lib/supabase\\\"\\n\\nexport async function GET() {\\n  try {\\n    // Verificar si existe el bucket\\n    const { data: buckets, error: bucketsError } = await supabaseClient.storage.listBuckets()\\n\\n    if (bucketsError) {\\n      return NextResponse.json({ error: \\\"Error al listar buckets\\\" }, { status: 500 })\\n    }\\n\\n    const bucketExists = buckets.some((bucket) =\u003e bucket.name === \\\"audio-transcriptions\\\")\\n\\n    if (!bucketExists) {\\n      // Crear el bucket\\n      const { error: createError } = await supabaseClient.storage.createBucket(\\\"audio-transcriptions\\\", {\\n        public: true,\\n      })\\n\\n      if (createError) {\\n        return NextResponse.json({ error: \\\"Error al crear bucket\\\" }, { status: 500 })\\n      }\\n    }\\n\\n    return NextResponse.json({ success: true, bucketExists })\\n  } catch (error) {\\n    console.error(\\\"Error al configurar Supabase:\\\", error)\\n    return NextResponse.json({ error: \\\"Error en el servidor\\\" }, { status: 500 })\\n  }\\n}\\n\"}],[\"components/transcripcion/transcripcion-player.tsx\",{\"type\":\"file\",\"data\":\"$e1\"}],[\"components/transcripcion/mini-player.tsx\",{\"type\":\"file\",\"data\":\"$e2\"}],[\"components/transcripcion/audio-player.tsx\",{\"type\":\"file\",\"data\":\"$e3\"}],[\"components/transcripcion/audio-uploader.tsx\",{\"type\":\"file\",\"data\":\"$e4\"}],[\"lib/theme/components/slider-tokens.ts\",{\"type\":\"file\",\"data\":\"$e5\"}],[\"app/showroom/slider/page.tsx\",{\"type\":\"file\",\"data\":\"$e6\"}],[\"components/ui/custom-slider.tsx\",{\"type\":\"file\",\"data\":\"$e7\"}]],\"createdAt\":1747927028024,\"defaultPath\":\"/?__v0_token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..Vg5ZUNz5Zx2l4vAI.bqnaAyTc-Fun_fn5WvshP4cKD5iPaDeCU0YBydd7soGV5bs61fczw-1CzKTmzDRlBnUudjSc0r45Kj7DxtQc_cgz1t-HVf1ZPtmXBSAWBS40wf8WL7I7ETi_lfvYQHOuWUaZaLMEy5VXcXNgxVKWev1fTZ46T1EhlAx5d7M52MJMnyD7t8OCC67XGKoAAoIvhC3Yi5Z57t_d7YtQbQSvLGy9OG9y7DztXYOXXU3JLQFQCyRZYnMTwkmdKXnxHURJd0J58m2vdQY933zvsRmoGHD_pOpOcpdIpgVoQY0SjCqeX9kQGrr83VEOsdh10QfSoS34WZ-pzE9y7P_p1w0so3mD-2135hEhTZNEF4aHIN45MsLcvbw5ULg2bex3WwF6gDBiS96GDYHa-rgx6vap26zGF59lZc0iuG8Tkt9e5XTHcRcajas-UTvmx15oAKwNAUKzCGStZ_n1aELcO_LN5U3d6rZyc1MIVCa7x1Xm6qTbCcAq6DO0jND0mcoiYSguVwf_hBEnjK2xxLWhEfe30W0qgpSw3xUzlr_PAmNg-BDnH1-bCEDOaHBHE05TJRWpohpuOhREkKn_tTiEQl6AEMHL2k4DvufPDtjU45VxtQIerH1gtYklzT-Toy58ggqqEB8uVoQHkDk6MFyfwZfcf33ckBCSRih1B20jw1mB41niqYbBZ02i_cFJjbyIV7RcKlAShOmLEjS_Btz5kg.9G1NO51Z8tDswgKVh28suw\",\"env\":[]}]]\n"])</script><script src="./b7a1a8c0-7429f5056aa8f949.js" async=""></script><script src="./346ce029-b1d895f555115a78.js" async=""></script><script src="./fc7f1ed8-9acc4ab4825ef382.js" async=""></script><script src="./e2fb21f3-65b2151ddff4264d.js" async=""></script><script src="./21345dfc-4ce4801028ca1737.js" async=""></script><script src="./a3a464b3-0fab66bb900437dd.js" async=""></script><script src="./1995-304211e5add49d99.js" async=""></script><script src="./1269-6d2e99d4adfdbbd5.js" async=""></script><script src="./7420-58f868b31007ad0e.js" async=""></script><script src="./9493-18a9c9aaa124a435.js" async=""></script><script src="./5889-3a00951a0b4bd2f9.js" async=""></script><script src="./5777-29e189e8854f4863.js" async=""></script><script src="./2077-df77394fa3f9327d.js" async=""></script><script src="./5641-760b05913a256b82.js" async=""></script><script src="./3280-678e9d41e32b254a.js" async=""></script><script src="./page-e4fa82537179d232.js" async=""></script><script>$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("S:1","P:1")</script><script>$RC=function(b,d,e){d=document.getElementById(d);d.parentNode.removeChild(d);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var c=a.data;if("/$"===c||"/&"===c)if(0===f)break;else f--;else"$"!==c&&"$?"!==c&&"$!"!==c&&"&"!==c||f++}c=a.nextSibling;e.removeChild(a);a=c}while(a);for(;d.firstChild;)e.insertBefore(d.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RC("B:0","S:0")</script> <div class="v_f_UGxheWZhaXIgRGlzcGxheQ v_f_TW9udHNlcnJhdA v_f_SW50ZXI v_f_T3BlbiBTYW5z v_f_Um9ib3RvIE1vbm8 v_f_UXVpY2tzYW5k v_f_SmV0QnJhaW5zIE1vbm8 v_f_VWJ1bnR1 v_f_U3BhY2UgR3JvdGVzaw v_f_V29yayBTYW5z v_f_TWFyaGV5"><section aria-label="Notifications alt+T" tabindex="-1" aria-live="polite" aria-relevant="additions text" aria-atomic="false"></section>  <div class="fixed inset-0 -z-10 w-full h-full " aria-hidden="true" style="background-color: rgb(249, 250, 251); background-image: radial-gradient(circle at right top, rgba(61, 125, 246, 0.15), transparent 25%), radial-gradient(circle at left bottom, rgb(232, 217, 249), transparent 15%);"></div><div class="fixed inset-0 overflow-hidden pointer-events-none"><div class="absolute rounded-full" style="width: 181px; height: 181px; left: 67%; top: 58%; background-color: rgb(138, 78, 246); opacity: 0; filter: blur(70px); will-change: transform, opacity; transform: scale(0.8);"></div><div class="absolute rounded-full" style="width: 166px; height: 166px; left: 10%; top: 62%; background-color: rgb(61, 125, 246); opacity: 0; filter: blur(70px); will-change: transform, opacity; transform: scale(0.8);"></div><div class="absolute rounded-full" style="width: 396px; height: 396px; left: 56%; top: 40%; background-color: rgb(81, 110, 153); opacity: 0; filter: blur(70px); will-change: transform, opacity; transform: scale(0.8);"></div><div class="absolute rounded-full" style="width: 140px; height: 140px; left: 86%; top: 68%; background-color: rgb(61, 125, 246); opacity: 0; filter: blur(70px); will-change: transform, opacity; transform: scale(0.8);"></div><div class="absolute rounded-full" style="width: 243px; height: 243px; left: 55%; top: 44%; background-color: rgb(81, 110, 153); opacity: 0; filter: blur(70px); will-change: transform, opacity; transform: scale(0.8);"></div><div class="absolute rounded-full" style="width: 258px; height: 258px; left: 49%; top: 40%; background-color: rgb(61, 125, 246); opacity: 0; filter: blur(70px); will-change: transform, opacity; transform: scale(0.8);"></div><div class="absolute rounded-full" style="width: 191px; height: 191px; left: 0%; top: 90%; background-color: rgb(61, 125, 246); opacity: 0; filter: blur(70px); will-change: transform, opacity; transform: scale(0.8);"></div><div class="absolute rounded-full" style="width: 349px; height: 349px; left: 35%; top: 27%; background-color: rgb(81, 110, 153); opacity: 0; filter: blur(70px); will-change: transform, opacity; transform: scale(0.8);"></div><div class="absolute top-0 left-0 right-0 h-[300px] bg-gradient-to-b opacity-30 pointer-events-none" style="background-image: linear-gradient(rgba(61, 125, 246, 0.133), transparent); opacity: 0; will-change: opacity;"></div><div class="absolute top-[15%] -left-[200px] w-[400px] h-[600px] rounded-full opacity-20 pointer-events-none" style="background: radial-gradient(circle, rgba(138, 78, 246, 0.5) 0%, transparent 70%); filter: blur(60px); will-change: transform, opacity; transform: none;"></div></div><div class="relative z-10"><div class="flex items-center justify-center min-h-screen p-4"><div class="relative rounded-lg shadow-md hover:shadow-lg max-w-4xl w-full" style="background: linear-gradient(135deg, rgb(221, 229, 250) 0%, rgb(255, 255, 255) 90%); border-color: transparent; border-width: 0px; border-style: none; opacity: 0; will-change: opacity, transform; transform: translateY(15px);"><div class="absolute top-0 left-0 right-0 h-1.5 rounded-t-lg z-10" style="background-image: linear-gradient(90deg, rgb(61, 125, 246) 0%, rgb(138, 78, 246) 100%);"></div><div class="p-4"><div class="mb-4 p-0"><div class="grid grid-cols-1 md:grid-cols-2"><div class="bg-gradient-to-br from-primary/5 to-secondary/5 p-8 hidden md:flex md:flex-col md:justify-center rounded-l-lg"><div class="flex justify-center mb-6"><div class="flex flex-col items-center "><div class="" style="width: 80px; height: 80px;"><svg width="80" height="80" viewBox="0 0 65 65" fill="none" xmlns="http://www.w3.org/2000/svg" style="background: rgba(0, 0, 0, 0); mix-blend-mode: normal; opacity: 0; transform: scale(0.9);"><defs><lineargradient id="logoGradient_sptf5lpuz" gradientTransform="rotate(0)"><stop offset="0%" stop-color="#3D7DF6"></stop><stop offset="100%" stop-color="#1EA4E9"></stop></lineargradient></defs><circle cx="32.5" cy="32.5" r="7.76035" fill="#8A4EF6" opacity="0.5"></circle><mask id="path-2-outside-1-6mavp120o" maskUnits="userSpaceOnUse" x="0" y="0" width="65" height="65" fill="black"><rect fill="white" width="65" height="65"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M63 32.5C63 49.3447 49.3447 63 32.5 63C15.6553 63 2 49.3447 2 32.5C2 15.6553 15.6553 2 32.5 2C38.4707 2 44.0407 3.71563 48.7438 6.68081C49.5114 7.1647 49.5531 8.24774 48.858 8.83095V8.83095C48.3822 9.23024 47.7009 9.26189 47.1742 8.9325C42.8927 6.25479 37.832 4.7071 32.4098 4.7071C17.0103 4.7071 4.52663 17.1908 4.52663 32.5902C4.52663 47.9897 17.0103 60.4734 32.4098 60.4734C47.8092 60.4734 60.2929 47.9897 60.2929 32.5902C60.2929 28.8412 59.553 25.2651 58.2113 21.9997C57.9746 21.4238 58.1226 20.7558 58.5996 20.3555V20.3555C59.2908 19.7755 60.3441 20.0007 60.6895 20.8343C62.1783 24.428 63 28.368 63 32.5Z"></path></mask><path fill-rule="evenodd" clip-rule="evenodd" d="M63 32.5C63 49.3447 49.3447 63 32.5 63C15.6553 63 2 49.3447 2 32.5C2 15.6553 15.6553 2 32.5 2C38.4707 2 44.0407 3.71563 48.7438 6.68081C49.5114 7.1647 49.5531 8.24774 48.858 8.83095V8.83095C48.3822 9.23024 47.7009 9.26189 47.1742 8.9325C42.8927 6.25479 37.832 4.7071 32.4098 4.7071C17.0103 4.7071 4.52663 17.1908 4.52663 32.5902C4.52663 47.9897 17.0103 60.4734 32.4098 60.4734C47.8092 60.4734 60.2929 47.9897 60.2929 32.5902C60.2929 28.8412 59.553 25.2651 58.2113 21.9997C57.9746 21.4238 58.1226 20.7558 58.5996 20.3555V20.3555C59.2908 19.7755 60.3441 20.0007 60.6895 20.8343C62.1783 24.428 63 28.368 63 32.5Z" fill="url(#logoGradient_sptf5lpuz)"></path><path d="M60.6895 20.8343L58.8418 21.5998L60.6895 20.8343ZM58.2113 21.9997L60.0612 21.2396L58.2113 21.9997ZM47.1742 8.9325L46.1137 10.6282L47.1742 8.9325ZM32.5 65C50.4493 65 65 50.4493 65 32.5H61C61 48.2401 48.2401 61 32.5 61V65ZM0 32.5C0 50.4493 14.5507 65 32.5 65V61C16.7599 61 4 48.2401 4 32.5H0ZM32.5 0C14.5507 0 0 14.5507 0 32.5H4C4 16.7599 16.7599 4 32.5 4V0ZM49.8105 4.98898C44.7974 1.8284 38.8591 0 32.5 0V4C38.0822 4 43.284 5.60287 47.6772 8.37264L49.8105 4.98898ZM48.2347 7.23681C43.6445 4.36604 38.2178 2.7071 32.4098 2.7071V6.7071C37.4461 6.7071 42.1409 8.14354 46.1137 10.6282L48.2347 7.23681ZM32.4098 2.7071C15.9058 2.7071 2.52663 16.0862 2.52663 32.5902H6.52663C6.52663 18.2954 18.1149 6.7071 32.4098 6.7071V2.7071ZM2.52663 32.5902C2.52663 49.0942 15.9058 62.4734 32.4098 62.4734V58.4734C18.1149 58.4734 6.52663 46.8851 6.52663 32.5902H2.52663ZM32.4098 62.4734C48.9138 62.4734 62.2929 49.0942 62.2929 32.5902H58.2929C58.2929 46.8851 46.7046 58.4734 32.4098 58.4734V62.4734ZM62.2929 32.5902C62.2929 28.576 61.5003 24.7419 60.0612 21.2396L56.3614 22.7599C57.6057 25.7882 58.2929 29.1065 58.2929 32.5902H62.2929ZM65 32.5C65 28.1008 64.1248 23.9009 62.5372 20.0688L58.8418 21.5998C60.2319 24.955 61 28.6353 61 32.5H65ZM59.8852 21.8876C59.6096 22.1189 59.0473 22.0959 58.8418 21.5998L62.5372 20.0688C61.6409 17.9054 58.9721 17.4322 57.314 18.8235L59.8852 21.8876ZM60.0612 21.2396C60.1384 21.4275 60.1091 21.6998 59.8852 21.8876L57.314 18.8235C56.1361 19.8118 55.8109 21.4201 56.3614 22.7599L60.0612 21.2396ZM47.5725 7.29886C47.794 7.11297 48.0642 7.13019 48.2347 7.23681L46.1137 10.6282C47.3376 11.3936 48.9704 11.3475 50.1436 10.363L47.5725 7.29886ZM47.6772 8.37264C47.2236 8.08668 47.2977 7.52938 47.5725 7.29886L50.1436 10.363C51.8084 8.96609 51.7991 6.24272 49.8105 4.98898L47.6772 8.37264Z" fill="url(#logoGradient_sptf5lpuz)" mask="url(#path-2-outside-1-6mavp120o)"></path><mask id="path-4-outside-2-d2wrholy1" maskUnits="userSpaceOnUse" x="12.4527" y="12.4527" width="41" height="41" fill="black"><rect fill="white" x="12.4527" y="12.4527" width="41" height="41"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M50.5473 32.5C50.5473 42.4673 42.4673 50.5473 32.5 50.5473C30.0838 50.5473 27.7785 50.0725 25.6724 49.2111C25.1655 49.0038 25.0821 48.3384 25.5016 47.9864V47.9864C25.7214 47.8019 26.0261 47.7592 26.2924 47.8663C28.1941 48.6313 30.2712 49.0523 32.4466 49.0523C41.5587 49.0523 48.9455 41.6655 48.9455 32.5534C48.9455 23.4413 41.5587 16.0545 32.4466 16.0545C23.3345 16.0545 15.9477 23.4413 15.9477 32.5534C15.9477 33.5777 16.041 34.5801 16.2197 35.5528C16.2705 35.8296 16.1738 36.1146 15.9581 36.2955V36.2955C15.5299 36.6548 14.8761 36.4444 14.7715 35.8952C14.5622 34.7956 14.4527 33.6606 14.4527 32.5C14.4527 22.5327 22.5327 14.4527 32.5 14.4527C42.4673 14.4527 50.5473 22.5327 50.5473 32.5Z"></path></mask><path fill-rule="evenodd" clip-rule="evenodd" d="M50.5473 32.5C50.5473 42.4673 42.4673 50.5473 32.5 50.5473C30.0838 50.5473 27.7785 50.0725 25.6724 49.2111C25.1655 49.0038 25.0821 48.3384 25.5016 47.9864V47.9864C25.7214 47.8019 26.0261 47.7592 26.2924 47.8663C28.1941 48.6313 30.2712 49.0523 32.4466 49.0523C41.5587 49.0523 48.9455 41.6655 48.9455 32.5534C48.9455 23.4413 41.5587 16.0545 32.4466 16.0545C23.3345 16.0545 15.9477 23.4413 15.9477 32.5534C15.9477 33.5777 16.041 34.5801 16.2197 35.5528C16.2705 35.8296 16.1738 36.1146 15.9581 36.2955V36.2955C15.5299 36.6548 14.8761 36.4444 14.7715 35.8952C14.5622 34.7956 14.4527 33.6606 14.4527 32.5C14.4527 22.5327 22.5327 14.4527 32.5 14.4527C42.4673 14.4527 50.5473 22.5327 50.5473 32.5Z" fill="url(#logoGradient_sptf5lpuz)"></path><path d="M14.7715 35.8952L12.8068 36.2692L14.7715 35.8952ZM16.2197 35.5528L14.2526 35.9141L16.2197 35.5528ZM26.2924 47.8663L27.0388 46.0108L26.2924 47.8663ZM25.6724 49.2111L24.9153 51.0623L25.6724 49.2111ZM32.5 52.5473C43.5718 52.5473 52.5473 43.5718 52.5473 32.5H48.5473C48.5473 41.3627 41.3627 48.5473 32.5 48.5473V52.5473ZM24.9153 51.0623C27.2576 52.0203 29.8197 52.5473 32.5 52.5473V48.5473C30.3479 48.5473 28.2995 48.1248 26.4295 47.36L24.9153 51.0623ZM25.546 49.7218C27.681 50.5806 30.0111 51.0523 32.4466 51.0523V47.0523C30.5312 47.0523 28.7072 46.6819 27.0388 46.0108L25.546 49.7218ZM32.4466 51.0523C42.6633 51.0523 50.9455 42.7701 50.9455 32.5534H46.9455C46.9455 40.5609 40.4541 47.0523 32.4466 47.0523V51.0523ZM50.9455 32.5534C50.9455 22.3367 42.6633 14.0545 32.4466 14.0545V18.0545C40.4541 18.0545 46.9455 24.5459 46.9455 32.5534H50.9455ZM32.4466 14.0545C22.2299 14.0545 13.9477 22.3367 13.9477 32.5534H17.9477C17.9477 24.5459 24.4391 18.0545 32.4466 18.0545V14.0545ZM13.9477 32.5534C13.9477 33.6994 14.0522 34.8228 14.2526 35.9141L18.1868 35.1915C18.0299 34.3375 17.9477 33.4559 17.9477 32.5534H13.9477ZM12.4527 32.5C12.4527 33.7867 12.5741 35.0469 12.8068 36.2692L16.7363 35.5212C16.5503 34.5443 16.4527 33.5345 16.4527 32.5H12.4527ZM32.5 12.4527C21.4282 12.4527 12.4527 21.4282 12.4527 32.5H16.4527C16.4527 23.6373 23.6373 16.4527 32.5 16.4527V12.4527ZM52.5473 32.5C52.5473 21.4282 43.5718 12.4527 32.5 12.4527V16.4527C41.3627 16.4527 48.5473 23.6373 48.5473 32.5H52.5473ZM14.6726 34.7634C15.3256 34.2155 16.5337 34.4572 16.7363 35.5212L12.8068 36.2692C13.2184 38.4316 15.7342 39.0942 17.2437 37.8276L14.6726 34.7634ZM14.2526 35.9141C14.1791 35.5139 14.3134 35.0648 14.6726 34.7634L17.2437 37.8276C18.0342 37.1643 18.362 36.1454 18.1868 35.1915L14.2526 35.9141ZM26.7872 49.5184C26.417 49.829 25.9349 49.8782 25.546 49.7218L27.0388 46.0108C26.1174 45.6401 25.0258 45.7748 24.216 46.4543L26.7872 49.5184ZM26.4295 47.36C27.4164 47.7636 27.436 48.974 26.7872 49.5184L24.216 46.4543C22.7282 47.7027 22.9146 50.244 24.9153 51.0623L26.4295 47.36Z" fill="url(#logoGradient_sptf5lpuz)" mask="url(#path-4-outside-2-d2wrholy1)"></path><circle cx="32.5" cy="32.5" r="32" fill="url(#logoGradient_sptf5lpuz)" opacity="undefined"></circle></svg></div><div class="mt-2 text-center "><div class="font-bold text-3xl"><span class="bg-clip-text text-transparent" style="background-image: linear-gradient(to right, rgb(61, 125, 246), rgb(138, 78, 246)); font-family: &quot;Chau Philomene One&quot;, sans-serif;">Sustrato.ai</span></div><div class="text-lg text-neutral-500 dark:text-neutral-400 italic">cultivando sinergias humano·AI</div></div></div></div><div class="space-y-4 mt-8"><div class="bg-white/30 dark:bg-gray-800/30 p-4 rounded-lg"><p class="tracking-tight text-3xl font-bold mb-2" style="color: rgb(17, 95, 135); font-family: var(--font-family-headings); font-weight: var(--font-weight-headings); letter-spacing: var(--letter-spacing-headings); line-height: var(--line-height);">Investigación Cualitativa Aumentada</p><p class="text-sm font-normal" style="color: rgb(31, 41, 55); font-family: var(--font-family-base); font-weight: var(--font-weight-base); letter-spacing: var(--letter-spacing-body); line-height: var(--line-height);">Potencia tu análisis cualitativo con nuestra plataforma que combina el rigor académico con la innovación tecnológica. Diseñada por humanistas, para humanistas.</p></div><div class="bg-white/30 dark:bg-gray-800/30 p-4 rounded-lg"><p class="text-sm font-normal italic" style="color: rgb(31, 41, 55); font-family: var(--font-family-base); font-weight: var(--font-weight-base); letter-spacing: var(--letter-spacing-body); line-height: var(--line-height);">"No buscamos reemplazar el pensamiento crítico, sino expandir su alcance a través de la co-creación entre la perspectiva humana y las capacidades de la IA."</p></div></div></div><div class="p-8"><div class="mb-6 md:hidden flex flex-col items-center"><div class="flex flex-col items-center "><div class="" style="width: 50px; height: 50px;"><svg width="50" height="50" viewBox="0 0 65 65" fill="none" xmlns="http://www.w3.org/2000/svg" style="background: rgba(0, 0, 0, 0); mix-blend-mode: normal; opacity: 0; transform: scale(0.9);"><defs><lineargradient id="logoGradient_ffo3nux46" gradientTransform="rotate(0)"><stop offset="0%" stop-color="#F77019"></stop><stop offset="100%" stop-color="#913E0F"></stop></lineargradient></defs><circle cx="32.5" cy="32.5" r="7.76035" fill="#8A4EF6" opacity="0.5"></circle><mask id="path-2-outside-1-rqskr96mh" maskUnits="userSpaceOnUse" x="0" y="0" width="65" height="65" fill="black"><rect fill="white" width="65" height="65"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M63 32.5C63 49.3447 49.3447 63 32.5 63C15.6553 63 2 49.3447 2 32.5C2 15.6553 15.6553 2 32.5 2C38.4707 2 44.0407 3.71563 48.7438 6.68081C49.5114 7.1647 49.5531 8.24774 48.858 8.83095V8.83095C48.3822 9.23024 47.7009 9.26189 47.1742 8.9325C42.8927 6.25479 37.832 4.7071 32.4098 4.7071C17.0103 4.7071 4.52663 17.1908 4.52663 32.5902C4.52663 47.9897 17.0103 60.4734 32.4098 60.4734C47.8092 60.4734 60.2929 47.9897 60.2929 32.5902C60.2929 28.8412 59.553 25.2651 58.2113 21.9997C57.9746 21.4238 58.1226 20.7558 58.5996 20.3555V20.3555C59.2908 19.7755 60.3441 20.0007 60.6895 20.8343C62.1783 24.428 63 28.368 63 32.5Z"></path></mask><path fill-rule="evenodd" clip-rule="evenodd" d="M63 32.5C63 49.3447 49.3447 63 32.5 63C15.6553 63 2 49.3447 2 32.5C2 15.6553 15.6553 2 32.5 2C38.4707 2 44.0407 3.71563 48.7438 6.68081C49.5114 7.1647 49.5531 8.24774 48.858 8.83095V8.83095C48.3822 9.23024 47.7009 9.26189 47.1742 8.9325C42.8927 6.25479 37.832 4.7071 32.4098 4.7071C17.0103 4.7071 4.52663 17.1908 4.52663 32.5902C4.52663 47.9897 17.0103 60.4734 32.4098 60.4734C47.8092 60.4734 60.2929 47.9897 60.2929 32.5902C60.2929 28.8412 59.553 25.2651 58.2113 21.9997C57.9746 21.4238 58.1226 20.7558 58.5996 20.3555V20.3555C59.2908 19.7755 60.3441 20.0007 60.6895 20.8343C62.1783 24.428 63 28.368 63 32.5Z" fill="url(#logoGradient_ffo3nux46)"></path><path d="M60.6895 20.8343L58.8418 21.5998L60.6895 20.8343ZM58.2113 21.9997L60.0612 21.2396L58.2113 21.9997ZM47.1742 8.9325L46.1137 10.6282L47.1742 8.9325ZM32.5 65C50.4493 65 65 50.4493 65 32.5H61C61 48.2401 48.2401 61 32.5 61V65ZM0 32.5C0 50.4493 14.5507 65 32.5 65V61C16.7599 61 4 48.2401 4 32.5H0ZM32.5 0C14.5507 0 0 14.5507 0 32.5H4C4 16.7599 16.7599 4 32.5 4V0ZM49.8105 4.98898C44.7974 1.8284 38.8591 0 32.5 0V4C38.0822 4 43.284 5.60287 47.6772 8.37264L49.8105 4.98898ZM48.2347 7.23681C43.6445 4.36604 38.2178 2.7071 32.4098 2.7071V6.7071C37.4461 6.7071 42.1409 8.14354 46.1137 10.6282L48.2347 7.23681ZM32.4098 2.7071C15.9058 2.7071 2.52663 16.0862 2.52663 32.5902H6.52663C6.52663 18.2954 18.1149 6.7071 32.4098 6.7071V2.7071ZM2.52663 32.5902C2.52663 49.0942 15.9058 62.4734 32.4098 62.4734V58.4734C18.1149 58.4734 6.52663 46.8851 6.52663 32.5902H2.52663ZM32.4098 62.4734C48.9138 62.4734 62.2929 49.0942 62.2929 32.5902H58.2929C58.2929 46.8851 46.7046 58.4734 32.4098 58.4734V62.4734ZM62.2929 32.5902C62.2929 28.576 61.5003 24.7419 60.0612 21.2396L56.3614 22.7599C57.6057 25.7882 58.2929 29.1065 58.2929 32.5902H62.2929ZM65 32.5C65 28.1008 64.1248 23.9009 62.5372 20.0688L58.8418 21.5998C60.2319 24.955 61 28.6353 61 32.5H65ZM59.8852 21.8876C59.6096 22.1189 59.0473 22.0959 58.8418 21.5998L62.5372 20.0688C61.6409 17.9054 58.9721 17.4322 57.314 18.8235L59.8852 21.8876ZM60.0612 21.2396C60.1384 21.4275 60.1091 21.6998 59.8852 21.8876L57.314 18.8235C56.1361 19.8118 55.8109 21.4201 56.3614 22.7599L60.0612 21.2396ZM47.5725 7.29886C47.794 7.11297 48.0642 7.13019 48.2347 7.23681L46.1137 10.6282C47.3376 11.3936 48.9704 11.3475 50.1436 10.363L47.5725 7.29886ZM47.6772 8.37264C47.2236 8.08668 47.2977 7.52938 47.5725 7.29886L50.1436 10.363C51.8084 8.96609 51.7991 6.24272 49.8105 4.98898L47.6772 8.37264Z" fill="url(#logoGradient_ffo3nux46)" mask="url(#path-2-outside-1-rqskr96mh)"></path><mask id="path-4-outside-2-0rz9miy3m" maskUnits="userSpaceOnUse" x="12.4527" y="12.4527" width="41" height="41" fill="black"><rect fill="white" x="12.4527" y="12.4527" width="41" height="41"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M50.5473 32.5C50.5473 42.4673 42.4673 50.5473 32.5 50.5473C30.0838 50.5473 27.7785 50.0725 25.6724 49.2111C25.1655 49.0038 25.0821 48.3384 25.5016 47.9864V47.9864C25.7214 47.8019 26.0261 47.7592 26.2924 47.8663C28.1941 48.6313 30.2712 49.0523 32.4466 49.0523C41.5587 49.0523 48.9455 41.6655 48.9455 32.5534C48.9455 23.4413 41.5587 16.0545 32.4466 16.0545C23.3345 16.0545 15.9477 23.4413 15.9477 32.5534C15.9477 33.5777 16.041 34.5801 16.2197 35.5528C16.2705 35.8296 16.1738 36.1146 15.9581 36.2955V36.2955C15.5299 36.6548 14.8761 36.4444 14.7715 35.8952C14.5622 34.7956 14.4527 33.6606 14.4527 32.5C14.4527 22.5327 22.5327 14.4527 32.5 14.4527C42.4673 14.4527 50.5473 22.5327 50.5473 32.5Z"></path></mask><path fill-rule="evenodd" clip-rule="evenodd" d="M50.5473 32.5C50.5473 42.4673 42.4673 50.5473 32.5 50.5473C30.0838 50.5473 27.7785 50.0725 25.6724 49.2111C25.1655 49.0038 25.0821 48.3384 25.5016 47.9864V47.9864C25.7214 47.8019 26.0261 47.7592 26.2924 47.8663C28.1941 48.6313 30.2712 49.0523 32.4466 49.0523C41.5587 49.0523 48.9455 41.6655 48.9455 32.5534C48.9455 23.4413 41.5587 16.0545 32.4466 16.0545C23.3345 16.0545 15.9477 23.4413 15.9477 32.5534C15.9477 33.5777 16.041 34.5801 16.2197 35.5528C16.2705 35.8296 16.1738 36.1146 15.9581 36.2955V36.2955C15.5299 36.6548 14.8761 36.4444 14.7715 35.8952C14.5622 34.7956 14.4527 33.6606 14.4527 32.5C14.4527 22.5327 22.5327 14.4527 32.5 14.4527C42.4673 14.4527 50.5473 22.5327 50.5473 32.5Z" fill="url(#logoGradient_ffo3nux46)"></path><path d="M14.7715 35.8952L12.8068 36.2692L14.7715 35.8952ZM16.2197 35.5528L14.2526 35.9141L16.2197 35.5528ZM26.2924 47.8663L27.0388 46.0108L26.2924 47.8663ZM25.6724 49.2111L24.9153 51.0623L25.6724 49.2111ZM32.5 52.5473C43.5718 52.5473 52.5473 43.5718 52.5473 32.5H48.5473C48.5473 41.3627 41.3627 48.5473 32.5 48.5473V52.5473ZM24.9153 51.0623C27.2576 52.0203 29.8197 52.5473 32.5 52.5473V48.5473C30.3479 48.5473 28.2995 48.1248 26.4295 47.36L24.9153 51.0623ZM25.546 49.7218C27.681 50.5806 30.0111 51.0523 32.4466 51.0523V47.0523C30.5312 47.0523 28.7072 46.6819 27.0388 46.0108L25.546 49.7218ZM32.4466 51.0523C42.6633 51.0523 50.9455 42.7701 50.9455 32.5534H46.9455C46.9455 40.5609 40.4541 47.0523 32.4466 47.0523V51.0523ZM50.9455 32.5534C50.9455 22.3367 42.6633 14.0545 32.4466 14.0545V18.0545C40.4541 18.0545 46.9455 24.5459 46.9455 32.5534H50.9455ZM32.4466 14.0545C22.2299 14.0545 13.9477 22.3367 13.9477 32.5534H17.9477C17.9477 24.5459 24.4391 18.0545 32.4466 18.0545V14.0545ZM13.9477 32.5534C13.9477 33.6994 14.0522 34.8228 14.2526 35.9141L18.1868 35.1915C18.0299 34.3375 17.9477 33.4559 17.9477 32.5534H13.9477ZM12.4527 32.5C12.4527 33.7867 12.5741 35.0469 12.8068 36.2692L16.7363 35.5212C16.5503 34.5443 16.4527 33.5345 16.4527 32.5H12.4527ZM32.5 12.4527C21.4282 12.4527 12.4527 21.4282 12.4527 32.5H16.4527C16.4527 23.6373 23.6373 16.4527 32.5 16.4527V12.4527ZM52.5473 32.5C52.5473 21.4282 43.5718 12.4527 32.5 12.4527V16.4527C41.3627 16.4527 48.5473 23.6373 48.5473 32.5H52.5473ZM14.6726 34.7634C15.3256 34.2155 16.5337 34.4572 16.7363 35.5212L12.8068 36.2692C13.2184 38.4316 15.7342 39.0942 17.2437 37.8276L14.6726 34.7634ZM14.2526 35.9141C14.1791 35.5139 14.3134 35.0648 14.6726 34.7634L17.2437 37.8276C18.0342 37.1643 18.362 36.1454 18.1868 35.1915L14.2526 35.9141ZM26.7872 49.5184C26.417 49.829 25.9349 49.8782 25.546 49.7218L27.0388 46.0108C26.1174 45.6401 25.0258 45.7748 24.216 46.4543L26.7872 49.5184ZM26.4295 47.36C27.4164 47.7636 27.436 48.974 26.7872 49.5184L24.216 46.4543C22.7282 47.7027 22.9146 50.244 24.9153 51.0623L26.4295 47.36Z" fill="url(#logoGradient_ffo3nux46)" mask="url(#path-4-outside-2-0rz9miy3m)"></path><circle cx="32.5" cy="32.5" r="32" fill="url(#logoGradient_ffo3nux46)" opacity="undefined"></circle></svg></div><div class="mt-2 text-center "><div class="font-bold text-2xl"><span class="bg-clip-text text-transparent" style="background-image: linear-gradient(to right, rgb(61, 125, 246), rgb(138, 78, 246)); font-family: &quot;Chau Philomene One&quot;, sans-serif;">Sustrato.ai</span></div><div class="text-base text-neutral-500 dark:text-neutral-400 italic">cultivando sinergias humano·AI</div></div></div></div><p class="tracking-tight text-xl font-bold mb-2" style="color: rgb(31, 68, 135); font-family: var(--font-family-headings); font-weight: var(--font-weight-headings); letter-spacing: var(--letter-spacing-headings); line-height: var(--line-height);">Inicio de sesión</p><p class="text-base font-normal mb-6" style="color: rgb(31, 41, 55); font-family: var(--font-family-base); font-weight: var(--font-weight-base); letter-spacing: var(--letter-spacing-body); line-height: var(--line-height);">Ingresa tus credenciales para acceder a la plataforma</p><form class="space-y-4" action="javascript:throw new Error(&#39;React has blocked a javascript: URL as a security precaution.&#39;)"><div id="form-field-email" class="space-y-2"><div><p class="text-sm font-medium" style="color: rgb(31, 41, 55); font-family: var(--font-family-base); font-weight: var(--font-weight-base); letter-spacing: var(--letter-spacing-body); line-height: var(--line-height);"><label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70" for="email">Correo electrónico</label></p></div><input class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50" id="email" leadingicon="[object Object]" placeholder="tucorreo@ejemplo.com" required="" type="email" value=""></div><div id="form-field-password" class="space-y-2"><div><p class="text-sm font-medium" style="color: rgb(31, 41, 55); font-family: var(--font-family-base); font-weight: var(--font-weight-base); letter-spacing: var(--letter-spacing-body); line-height: var(--line-height);"><label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70" for="password">Contraseña</label></p></div><input class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50" id="password" leadingicon="[object Object]" placeholder="Tu contraseña" required="" type="password" value=""></div><div class="flex justify-end"><a href="https://kzmni7eqwjfyj5ji3x49.lite.vusercontent.net/reset-password" class="text-primary text-sm hover:underline">¿Olvidaste tu contraseña?</a></div><div class="pt-2"><button class="inline-flex items-center justify-center whitespace-nowrap font-medium transition-all focus-visible:outline-none disabled:pointer-events-none relative overflow-hidden w-full" type="submit" style="padding: 0.75rem 1.25rem; height: auto; width: auto; min-height: 2.5rem; border-radius: 0.375rem; font-size: 0.875rem; font-weight: 500; gap: 0.5rem; transition: 0.2s cubic-bezier(0.4, 0, 0.2, 1); overflow: hidden; position: relative; display: inline-flex; align-items: center; justify-content: center; background-color: rgb(61, 125, 246); color: rgb(236, 242, 254); border: none;"><span class="mr-2 inline-flex items-center justify-center transition-transform duration-300 ease-in-out" style="transform-origin: center center; transform: scale(1);"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-log-in"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" x2="3" y1="12" y2="12"></line></svg></span><span class="inline-block transition-transform duration-300 ease-in-out" style="transform-origin: center center; transform: scale(1);">Iniciar sesión</span></button></div><div class="flex items-center justify-center mt-6"><p class="text-sm font-normal" style="color: rgb(31, 41, 55); font-family: var(--font-family-base); font-weight: var(--font-weight-base); letter-spacing: var(--letter-spacing-body); line-height: var(--line-height);">¿No tienes una cuenta? <a href="https://kzmni7eqwjfyj5ji3x49.lite.vusercontent.net/signup" class="text-primary hover:underline font-medium">Solicita acceso</a></p></div></form></div></div></div> </div></div></div></div><div role="region" aria-label="Notifications (F8)" tabindex="-1" style="pointer-events: none;"><ol tabindex="-1" class="fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]"></ol></div>  </div></body></html>